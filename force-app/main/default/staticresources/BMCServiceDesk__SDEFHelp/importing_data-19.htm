

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <meta name="GENERATOR" content="Quadralay WebWorks Publisher 2003 for FrameMaker 8.6.6587.0" />
    <meta name="TEMPLATEBASE" content="BMC_WebWorksHelp_52407" />
    <meta name="LASTUPDATED" content="12/10/14 12:27:59" />
    <title>Introduction to KJB and KTR files for BMC Atrium Discovery</title>
    <link rel="StyleSheet" href="Remedy.css" type="text/css" />
    <link rel="StyleSheet" href="catalog.css" type="text/css" />
<script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/context.js"></script>
  <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/towwhdir.js"></script>
  <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/wwhpagef.js"></script>

  <script type="text/javascript" language="JavaScript1.2">
   <!--
    // Set reference to top level help frame
    //
    var  WWHFrame = WWHGetWWHFrame("");
   // -->
  </script>

    <script type="text/javascript" language="JavaScript1.2" src="scripts/expand.js"></script>
    <style type="text/css">
<!--
.style7 {
	color: #FF0000;
	font-weight: bold;
}
-->
    </style>
</head>

  <body onLoad="WWHUpdate();" onUnload="WWHUnload();" onKeyDown="WWHHandleKeyDown((document.all||document.getElementById||document.layers)?event:null);" onKeyPress="WWHHandleKeyPress((document.all||document.getElementById||document.layers)?event:null);" onKeyUp="WWHHandleKeyUp((document.all||document.getElementById||document.layers)?event:null);">

    
    

    <blockquote>
<script type="text/javascript" language="JavaScript1.2">
   WWHFrame.WWHHelp.mRemedyTitle = "Introduction to KJB and KTR files for BMC Atrium Discovery";
   WWHFrame.WWHHelp.fRemedyShowTitle();
</script><a name="wp916116"> </a><p class="pBody">In Pentaho, metadata is stored in XML format in the file system as KTR (transformations) or KJB files (jobs).</p>
<a name="wp916128"> </a><p class="pBody">Depending upon the CMDB version that you are using, you must use different Pentaho package folders. For more information about which Pentaho folder is applicable to you, see <a href="javascript:WWHClickedPopup('BMC_Remedyforce_help', 'importing_data-06.htm');" onMouseOver="WWHShowPopup('BMC_Remedyforce_help', 'importing_data-06.htm', (document.all||document.getElementById||document.layers)?event:null);" onMouseOut="WWHHidePopup();">Pentaho packages for CMDB 1.0 and 2.0.</a>.</p>
<a name="wp810443"> </a><p class="pBody">A KTR file contains a single transformation. The KTR files that are provided to you include the following transformations for all the CI types:</p>
<a name="wp916184"> </a><p class="pBodyRelative"></p>
<div align="left">
<table border="1" cellpadding="3" id="wp916191table916189">
  <caption></caption>
  <tr align="left" valign="top">    <th><a name="wp916191"> </a><div class="pCellHeading">
Step
</div>
</th>
    <th><a name="wp916193"> </a><div class="pCellHeading">
Description
</div>
</th>
</tr>
  <tr align="left" valign="top">    <td><a name="wp916195"> </a><div class="pCellBody">
Delta timestamp
</div>
</td>
    <td><a name="wp916197"> </a><div class="pCellBody">
Reads the saved time stamp.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td><a name="wp916199"> </a><div class="pCellBody">
Create CSV URL
</div>
</td>
    <td><a name="wp916201"> </a><div class="pCellBody">
Creates a URL to query BMC Atrium Discovery to fetch data for the corresponding CI type and accepts the credentials for the BMC Atrium Discovery server.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td><a name="wp916203"> </a><div class="pCellBody">
ADDM input
</div>
</td>
    <td><a name="wp916205"> </a><div class="pCellBody">
Uses the URL that is created to query BMC Atrium Discovery and lists the fields that are queried.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td><a name="wp916207"> </a><div class="pCellBody">
Transform ADDM variables
</div>
</td>
    <td><a name="wp916209"> </a><div class="pCellBody">
Facilitates JavaScript transformations, such as appending or trimming fields.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td><a name="wp916211"> </a><div class="pCellBody">
Upsert into class &lt;<em class="cEmphasis">CI type name</em>&gt;
</div>
</td>
    <td><a name="wp916213"> </a><div class="pCellBody">
Accepts the destination of the data and the credentials for the Salesforce organization where you want to save the imported data.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td><a name="wp916215"> </a><div class="pCellBody">
<em class="cEmphasis">(For CMDB 2.0 only)</em> Salesforce Input[CMDB_Class]
</div>
</td>
    <td><a name="wp916217"> </a><div class="pCellBody">
Accepts the access details of the Salesforce organization to fetch the BMC Remedyforce CMDB classes details.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td><a name="wp916219"> </a><div class="pCellBody">
Success rows
</div>
</td>
    <td><a name="wp916221"> </a><div class="pCellBody">
Stores the rows that are imported successfully.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td><a name="wp916223"> </a><div class="pCellBody">
Failure rows
</div>
</td>
    <td><a name="wp916225"> </a><div class="pCellBody">
Stores the rows that are not imported, error code, error description, and error fields.
</div>
</td>
</tr>
</table>
</div>
<p class="pBodyRelative">
</p>

<a name="wp810481"> </a><p class="pBody">A job file contains a series of transformations. A KJB file that is provided to you includes the following steps:</p>
<a name="wp925984"> </a><p class="pBodyRelative"></p>
<div align="left">
<table border="1" cellpadding="3" id="wp925959table925957">
  <caption></caption>
  <tr align="left" valign="top">    <th><a name="wp925959"> </a><div class="pCellHeading">
Step
</div>
</th>
    <th><a name="wp925961"> </a><div class="pCellHeading">
Description
</div>
</th>
</tr>
  <tr align="left" valign="top">    <td><a name="wp925963"> </a><div class="pCellBody">
Check If Delta timestamp File exists
</div>
</td>
    <td><a name="wp925965"> </a><div class="pCellBody">
Checks if any time stamp file exists.
</div>
<a name="wp925966"> </a><div class="pCellBody">
The Pentaho package utilizes a time stamp file to determine which records were added or modified since the last time the job was run. This step is used for incremental import.
</div>
<a name="wp925967"> </a><div class="pCellBody">
If a time stamp file does not exist, the <b class="cBold">Create the initial timestamp file</b> step is executed; otherwise, the <b class="cBold">Update staging table with ADDM &lt;</b><em style="font-style: italic" class="cEmphasis">CI type name</em><span style="font-style: normal">&gt; information</span> or <b class="cBold">Update BE Table With ADDM &lt;</b><em style="font-style: italic" class="cEmphasis">CI type name</em><span style="font-style: normal">&gt; Information</span> step.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td><a name="wp925969"> </a><div class="pCellBody">
Create the initial time stamp file
</div>
</td>
    <td><a name="wp925971"> </a><div class="pCellBody">
Creates the time stamp file to record the time of import. This step is executed only if you are importing for the first time or deleted the existing time stamp file.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td><a name="wp925973"> </a><div class="pCellBody">
<em class="cEmphasis">(For CMDB 1.0 only)</em> Update staging table with ADDM &lt;<em class="cEmphasis">CI type name&gt;</em> information
</div>
</td>
    <td><a name="wp925975"> </a><div class="pCellBody">
Transfers data from BMC Atrium Discovery to BMC Remedyforce CMDB by using staging table.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td><a name="wp925977"> </a><div class="pCellBody">
<em class="cEmphasis">(For CMDB 2.0 only)</em> Update BE Table With ADDM &lt;<em class="cEmphasis">CI type name</em>&gt; Information
</div>
</td>
    <td><a name="wp925979"> </a><div class="pCellBody">
Transfers data from BMC Atrium Discovery to the Base Element object of the BMC Remedyforce CMDB.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td><a name="wp925981"> </a><div class="pCellBody">
Store the current timestamp
</div>
</td>
    <td><a name="wp926460"> </a><div class="pCellBody">
If the data import is successful, the time of import is saved.
</div>
<a name="wp926461"> </a><div class="pCellBody">
For example, the ComputerSystem job file<span style="font-weight: bold"> (</span><b class="cBold">TransferADDM(CS)InfotoCMDB.kjb</b>) contains the following transformation KTR files:
</div>
<div class="pSmartList1"><ul class="pSmartList1">
<a name="wp926462"> </a><div class="pSmartList1"><li>CreateInitialTimeStampedFileForADDM(CS).ktr</li></div>
<a name="wp926463"> </a><div class="pSmartList1"><li>TransferADDM(CS)InfoToCMDB.ktr</li></div>
<a name="wp926464"> </a><div class="pSmartList1"><li>StoreADDM(CS)Timestamp.ktr</li></div>
</ul></div>
</td>
</tr>
</table>
</div>
<p class="pBodyRelative">
</p>

<a name="wp810536"> </a><p class="pBody">The KTR files contain mapping of the fields in BMC Atrium Discovery to the fields in the Remedyforce CMDB. In CMDB 1.0, the BMC Atrium Discovery fields are mapped to a CMDB staging object that contains all the fields of the CMDB database as columns. The imported data is first saved into the CMDB staging object before being saved in the CMDB database. In CMDB 2.0, data is imported into CMDB (the Base Element object) directly.</p>



  <script type="text/javascript" language="JavaScript1.2">
   <!--
    // Clear related topics
    //
    WWHClearRelatedTopics();

   // -->
  </script>
    </blockquote>

    
<hr class="REM"/>

<table align="center" border="0" cellspacing="0" cellpadding="0">
  <tr>
    <td width="577" align="center"><p class="copyright"><span class="copyright style7">This help was last updated for version 20.14.02.021.038 of BMC Remedyforce. You must use this help for information about working on the BMC Remedyforce Home tab only. To access an updated version of  the online help, go to the <a href="http://docs.bmc.com" target="_blank">http://docs.bmc.com</a> and search for your version of BMC Remedyforce.</span>

 </p>
      <p class="copyright">&#169; Copyright  2010-2014
 BMC Software, Inc. All rights reserved.<br/>
        
        Please contact your BMC Remedyforce system administrator if you require support.<br/>
        
        For questions or comments about the documentation, email us at <a href="mailto:doc_feedback@bmc.com">doc_feedback@bmc.com</a>.
        
      </p></td>
  </tr>
</table>



<script type="text/javascript" language="JavaScript1.2">
   <!--
    document.write(WWHRelatedTopicsDivTag() + WWHPopupDivTag() + WWHALinksDivTag());
   // -->
  </script>

  </body>
</html>
