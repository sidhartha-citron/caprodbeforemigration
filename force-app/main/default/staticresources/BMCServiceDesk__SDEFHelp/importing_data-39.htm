

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <meta name="GENERATOR" content="Quadralay WebWorks Publisher 2003 for FrameMaker 8.6.6587.0" />
    <meta name="TEMPLATEBASE" content="BMC_WebWorksHelp_52407" />
    <meta name="LASTUPDATED" content="12/10/14 12:27:59" />
    <title>Introduction to KJB and KTR files for BMC Client Management</title>
    <link rel="StyleSheet" href="Remedy.css" type="text/css" />
    <link rel="StyleSheet" href="catalog.css" type="text/css" />
<script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/context.js"></script>
  <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/towwhdir.js"></script>
  <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/wwhpagef.js"></script>

  <script type="text/javascript" language="JavaScript1.2">
   <!--
    // Set reference to top level help frame
    //
    var  WWHFrame = WWHGetWWHFrame("");
   // -->
  </script>

    <script type="text/javascript" language="JavaScript1.2" src="scripts/expand.js"></script>
    <style type="text/css">
<!--
.style7 {
	color: #FF0000;
	font-weight: bold;
}
-->
    </style>
</head>

  <body onLoad="WWHUpdate();" onUnload="WWHUnload();" onKeyDown="WWHHandleKeyDown((document.all||document.getElementById||document.layers)?event:null);" onKeyPress="WWHHandleKeyPress((document.all||document.getElementById||document.layers)?event:null);" onKeyUp="WWHHandleKeyUp((document.all||document.getElementById||document.layers)?event:null);">

    
    

    <blockquote>
<script type="text/javascript" language="JavaScript1.2">
   WWHFrame.WWHHelp.mRemedyTitle = "Introduction to KJB and KTR files for BMC Client Management";
   WWHFrame.WWHHelp.fRemedyShowTitle();
</script><a name="wp816040"> </a><p class="pBody">In Pentaho, metadata is stored in XML format in the file system as KTR (transformations) or KJB files (jobs).</p>
<a name="wp920820"> </a><p class="pBody">Depending upon the CMDB version that you are using, you must use different Pentaho package folders. For more information about which Pentaho folder is applicable to you, see <a href="javascript:WWHClickedPopup('BMC_Remedyforce_help', 'importing_data-06.htm');" onMouseOver="WWHShowPopup('BMC_Remedyforce_help', 'importing_data-06.htm', (document.all||document.getElementById||document.layers)?event:null);" onMouseOut="WWHHidePopup();">Pentaho packages for CMDB 1.0 and 2.0</a>.</p>
<a name="wp816041"> </a><p class="pBody">A KTR file contains a single transformation. The KTR files that are provided to you include the following transformations for all the CI types:</p>
<a name="wp921544"> </a><p class="pBodyRelative"></p>
<div align="left">
<table border="1" cellpadding="3" id="wp921509table921507">
  <caption></caption>
  <tr align="left" valign="top">    <th><a name="wp921509"> </a><div class="pCellHeading">
Step
</div>
</th>
    <th><a name="wp921511"> </a><div class="pCellHeading">
Description
</div>
</th>
</tr>
  <tr align="left" valign="top">    <td><a name="wp921513"> </a><div class="pCellBody">
Delta timestamp
</div>
</td>
    <td><a name="wp921515"> </a><div class="pCellBody">
Reads the saved time stamp.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td><a name="wp921517"> </a><div class="pCellBody">
Asset Core input
</div>
</td>
    <td><a name="wp921519"> </a><div class="pCellBody">
An SQL query that fetches information from BMC Client Management based on the stored time stamp.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td><a name="wp921521"> </a><div class="pCellBody">
Transform Asset Core variables
</div>
</td>
    <td><a name="wp921523"> </a><div class="pCellBody">
Facilitates JavaScript transformations, such as appending or trimming fields.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td><a name="wp921525"> </a><div class="pCellBody">
Upsert into class &lt;<em class="cEmphasis">CI type name</em>&gt; or Update BE table with Asset Core <em class="cEmphasis">&lt;CI type name&gt;</em> information
</div>
</td>
    <td><a name="wp921527"> </a><div class="pCellBody">
Accepts the destination of the data, the credentials for the Salesforce organization where you want to save the imported data.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td><a name="wp928594"> </a><div class="pCellBody">
<em class="cEmphasis">(For CMDB 2.0 only)</em> Salesforce Input[CMDB_Class]
</div>
</td>
    <td><a name="wp928623"> </a><div class="pCellBody">
Accepts the access details of the Salesforce organization to fetch the BMC Remedyforce CMDB classes details.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td><a name="wp921533"> </a><div class="pCellBody">
Success rows
</div>
</td>
    <td><a name="wp921535"> </a><div class="pCellBody">
Stores the rows that are imported successfully.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td><a name="wp921537"> </a><div class="pCellBody">
Failure rows
</div>
</td>
    <td><a name="wp921539"> </a><div class="pCellBody">
Stores the rows that are not imported, error code, error description, and error fields.
</div>
</td>
</tr>
</table>
</div>
<p class="pBodyRelative">
</p>

<a name="wp816420"> </a><p class="pBody">A job file contains a series of transformations. A KJB file that is provided to you includes the following steps:</p>
<a name="wp928647"> </a><p class="pBodyRelative"></p>
<div align="left">
<table border="1" cellpadding="3" id="wp928689table928687">
  <caption></caption>
  <tr align="left" valign="top">    <th><a name="wp928689"> </a><div class="pCellHeading">
Step
</div>
</th>
    <th><a name="wp928691"> </a><div class="pCellHeading">
Description
</div>
</th>
</tr>
  <tr align="left" valign="top">    <td><a name="wp928693"> </a><div class="pCellBody">
Check If Delta Timestamp File Exists
</div>
</td>
    <td><a name="wp928695"> </a><div class="pCellBody">
Checks if any time stamp file exists.
</div>
<a name="wp928964"> </a><div class="pCellBody">
The Pentaho package utilizes a time stamp file to determine which records were added or modified since the last time the job was run. This step is used for incremental import.
</div>
<a name="wp929045"> </a><div class="pCellBody">
If a time stamp file does not exist, the Create the initial time stamp file step is executed; otherwise, the <b class="cBold">Update staging table with Asset Core </b><em style="font-style: italic" class="cEmphasis">&lt;CI type name&gt;</em><span style="font-style: normal"> information</span> or <b class="cBold">Update BE table with Asset Core </b><em style="font-style: italic" class="cEmphasis">&lt;CI type name&gt;</em><span style="font-style: normal"> information</span> step.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td><a name="wp928697"> </a><div class="pCellBody">
Create the initial time stamp file
</div>
</td>
    <td><a name="wp928699"> </a><div class="pCellBody">
Creates the time stamp file to record the time of import. This step is executed only if you are importing for the first time or deleted the existing time stamp file.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td><a name="wp928701"> </a><div class="pCellBody">
<em class="cEmphasis">(For CMDB 1.0 only)</em> Update staging table with Asset Core <em class="cEmphasis">&lt;CI type name&gt;</em> information
</div>
</td>
    <td><a name="wp928703"> </a><div class="pCellBody">
Transfers data from BMC Client Management to the BMC Remedyforce CMDB by using staging table.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td><a name="wp928705"> </a><div class="pCellBody">
<em class="cEmphasis">(For CMDB 2.0 only)</em> Update BE table with Asset Core <em class="cEmphasis">&lt;CI type name&gt;</em> Information
</div>
</td>
    <td><a name="wp928707"> </a><div class="pCellBody">
Transfers data from BMC Client Management to the Base Element object of the BMC Remedyforce CMDB.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td><a name="wp928709"> </a><div class="pCellBody">
Store the current timestamp
</div>
</td>
    <td><a name="wp928711"> </a><div class="pCellBody">
If the importing of data is successful, the time of import is saved.
</div>
</td>
</tr>
</table>
</div>
<p class="pBodyRelative">
</p>

<a name="wp816418"> </a><p class="pBody">The KTR files contain mapping of the fields in the BMC Client Management database tables or views to the fields in the CMDB staging object. The CMDB staging object contains a flat structure of all the fields of the CMDB database as columns. The imported data is first saved into the CMDB staging object before being saved in the CMDB database. </p>



  <script type="text/javascript" language="JavaScript1.2">
   <!--
    // Clear related topics
    //
    WWHClearRelatedTopics();

   // -->
  </script>
    </blockquote>

    
<hr class="REM"/>

<table align="center" border="0" cellspacing="0" cellpadding="0">
  <tr>
    <td width="577" align="center"><p class="copyright"><span class="copyright style7">This help was last updated for version 20.14.02.021.038 of BMC Remedyforce. You must use this help for information about working on the BMC Remedyforce Home tab only. To access an updated version of  the online help, go to the <a href="http://docs.bmc.com" target="_blank">http://docs.bmc.com</a> and search for your version of BMC Remedyforce.</span>

 </p>
      <p class="copyright">&#169; Copyright  2010-2014
 BMC Software, Inc. All rights reserved.<br/>
        
        Please contact your BMC Remedyforce system administrator if you require support.<br/>
        
        For questions or comments about the documentation, email us at <a href="mailto:doc_feedback@bmc.com">doc_feedback@bmc.com</a>.
        
      </p></td>
  </tr>
</table>



<script type="text/javascript" language="JavaScript1.2">
   <!--
    document.write(WWHRelatedTopicsDivTag() + WWHPopupDivTag() + WWHALinksDivTag());
   // -->
  </script>

  </body>
</html>
