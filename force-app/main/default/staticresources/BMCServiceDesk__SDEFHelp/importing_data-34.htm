

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <meta name="GENERATOR" content="Quadralay WebWorks Publisher 2003 for FrameMaker 8.6.6587.0" />
    <meta name="TEMPLATEBASE" content="BMC_WebWorksHelp_52407" />
    <meta name="LASTUPDATED" content="12/10/14 12:27:59" />
    <title>Importing users with Customer Portal License from an LDAP server by using Pentaho</title>
    <link rel="StyleSheet" href="Remedy.css" type="text/css" />
    <link rel="StyleSheet" href="catalog.css" type="text/css" />
<script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/context.js"></script>
  <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/towwhdir.js"></script>
  <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/wwhpagef.js"></script>

  <script type="text/javascript" language="JavaScript1.2">
   <!--
    // Set reference to top level help frame
    //
    var  WWHFrame = WWHGetWWHFrame("");
   // -->
  </script>

    <script type="text/javascript" language="JavaScript1.2" src="scripts/expand.js"></script>
    <style type="text/css">
<!--
.style7 {
	color: #FF0000;
	font-weight: bold;
}
-->
    </style>
</head>

  <body onLoad="WWHUpdate();" onUnload="WWHUnload();" onKeyDown="WWHHandleKeyDown((document.all||document.getElementById||document.layers)?event:null);" onKeyPress="WWHHandleKeyPress((document.all||document.getElementById||document.layers)?event:null);" onKeyUp="WWHHandleKeyUp((document.all||document.getElementById||document.layers)?event:null);">

    
    

    <blockquote>
<script type="text/javascript" language="JavaScript1.2">
   WWHFrame.WWHHelp.mRemedyTitle = "Importing users with Customer Portal License from an LDAP server by using Pentaho";
   WWHFrame.WWHHelp.fRemedyShowTitle();
</script><a name="wp920741"> </a><p class="pBody">Before importing data from LDAP server, perform all the actions that are listed in the <a href="javascript:WWHClickedPopup('BMC_Remedyforce_help', 'importing_data-33.htm');" onMouseOver="WWHShowPopup('BMC_Remedyforce_help', 'importing_data-33.htm', (document.all||document.getElementById||document.layers)?event:null);" onMouseOut="WWHHidePopup();">Before you import data from LDAP server</a> section.</p>
<a name="wp780552"> </a><p style="text-decoration: none" class="pStepIntro">
To import users with Customer Portal License from an LDAP server by using Pentaho
</p>

<div class="pSmartList1"><ol type="1" class="pSmartList1">
<a name="wp815737"> </a><div class="pSmartList1"><li>To download the job files from the BMC Communities website, click <a href="https://communities.bmc.com/docs/DOC-17004" target="_window">https://communities.bmc.com/docs/DOC-17004</a>.</li></div>
<a name="wp851152"> </a><p class="pIndented1">
BMC recommends that you download the job files in the folder where you have unzipped the Pentaho Data Integration tool. 
</p>
<a name="wp815742"> </a><div class="pSmartList1"><li>To launch the Pentaho Data Integration tool, in the <b style="font-style: normal" class="cBold">\pdi-ce-4.</b><span style="font-style: italic">x</span><span style="font-style: normal">.0-stable\data-integration</span> or \<b class="cBold">pdi-ce-5.0.1.A-stable\data-integration</b> folder, double-click the <b class="cBold">Spoon.bat</b> file, and open the required KJB file.</li></div>
<a name="wp780558"> </a><div class="pSmartList1"><li>To open the corresponding KTR file, right-click the <b class="cBold">Delete client user import records </b>step, and select <b class="cBold">Open transformation</b>.</li></div>
<a name="wp780560"> </a><div class="pSmartList1"><li>To provide details to access your Salesforce organization, perform the following actions:</li></div>
<div class="pSmartList2"><ol type="a" class="pSmartList2">
<a name="wp927852"> </a><div class="pSmartList2"><li>In the KTR file, double-click the <b class="cBold">Select all client user import records </b>step.</li></div>
<a name="wp927854"> </a><div class="pSmartList2"><li>In the Salesforce Input window, in the <b class="cBold">Username</b> and <b class="cBold">Password</b> fields, enter your Salesforce organization username and password.</li></div>
<a name="wp780563"> </a><div class="pSmartList2"><li><em class="cEmphasis">(Optional)</em> To verify the connection, click <b class="cBold">Test connection</b>.</li></div>
<a name="wp780564"> </a><div class="pSmartList2"><li>Double-click the <b class="cBold">Delete records from Client User Import table </b>step.</li></div>
<a name="wp927946"> </a><div class="pSmartList2"><li>In the Salesforce Delete window, in the <b class="cBold">Username</b> and <b class="cBold">Password</b> fields, enter your Salesforce organization username and password.</li></div>
<a name="wp927947"> </a><div class="pSmartList2"><li><em class="cEmphasis">(Optional)</em> To verify the connection, click <b class="cBold">Test connection</b>.</li></div>
</ol></div>
<a name="wp927948"> </a><div class="pSmartList1"><li>To provide details to access the LDAP server, perform the following actions:</li></div>
<div class="pSmartList2"><ol type="a" class="pSmartList2">
<a name="wp927951"> </a><div class="pSmartList2"><li>Go back to the KJB file, right-click the <b class="cBold">Update Client User Import table with LDAP user information</b> step, and select <b class="cBold">Open transformation</b>.</li></div>
<a name="wp780574"> </a><div class="pSmartList2"><li>In the KTR file, double-click the <b class="cBold">LDAP input</b> step.</li></div>
<a name="wp780576"> </a><div class="pSmartList2"><li>In the LDAP Input window, enter the host, username, and password details in the respective fields.</li></div>
<a name="wp780577"> </a><div class="pSmartList2"><li><em class="cEmphasis">(Optional)</em> To verify the connection, click <b class="cBold">Test connection</b>.</li></div>
<a name="wp780578"> </a><div class="pSmartList2"><li><em class="cEmphasis">(Optional)</em> To fetch more fields from the LDAP server, in the <b class="cBold">Fields</b> tab, click <b class="cBold">Get Fields</b>.</li></div>
<a name="wp780579"> </a><p class="pIndented1">
In the KTR file, the Dynamic account and profile assignment step enables you to assign customized LDAP attribute values to the objects of your Salesforce organization based on conditions applied on the LDAP attributes. For example, you can assign account and profiles based on the LDAP attribute, such as userPrinicpalName. When you double-click the Dynamic account and profile assignment step, the Script Values / Mod window is displayed. You can refer to the commented examples provided to you in the Script Values / Mod window.
</p>
<a name="wp780580"> </a><div class="pSmartList2"><li>You also need to provide your Salesforce organization access details in this KTR file. Double-click the <b class="cBold">Salesforce Upsert</b> step and enter your Salesforce organization username and password.</li></div>
<hr size="2" class="NoteRule"/><a name="wp873568"> </a><p class="pNote"><span style="color: #003366"> Note: </span> If you are using a previous versions of Pentaho data integration tool, for example, Pentaho 4.1 or 4.2, you must modify the Salesforce Webservice URL to https://www.salesforce.com/services/Soap/u/20.0.</p><hr size="2" class="NoteRule"/><a name="wp780585"> </a><div class="pSmartList2"><li><em class="cEmphasis">(Optional) </em>Mapping between the LDAP fields and the Salesforce client user import object is predefined. To update mapping, click <b class="cBold">Edit Mapping</b>. For more information about mapping, see <a href="javascript:WWHClickedPopup('BMC_Remedyforce_help', 'importing_data-05.htm');" onMouseOver="WWHShowPopup('BMC_Remedyforce_help', 'importing_data-05.htm', (document.all||document.getElementById||document.layers)?event:null);" onMouseOut="WWHHidePopup();">Overview of how users are imported from LDAP servers</a>.</li></div>
<a name="wp928041"> </a><div class="pSmartList2"><li><em class="cEmphasis">(Optional)</em> To verify the connection between the Pentaho Data Integration tool and the Salesforce organization, click <b class="cBold">Test connection</b>.</li></div>
</ol></div>
<a name="wp928071"> </a><div class="pSmartList1"><li><em class="cEmphasis">(Optional)</em> If you have enabled the setting to access your Salesforce organization from limited IP addresses, to enable communication between Salesforce and the Pentaho Data Integration tool, perform the following actions:</li></div>
<div class="pSmartList2"><ol type="a" class="pSmartList2">
<a name="wp928072"> </a><div class="pSmartList2"><li>In Salesforce, navigate to <b class="cBold">Setup &gt; Reset My Security Token</b>.</li></div>
<hr size="2" class="NoteRule"/><a name="wp960183"> </a><p class="pNote"><span style="color: #003366"> Note: </span> If you have enabled the improved Setup user interface in your Salesforce organization, navigate to <b class="cBold">My Settings &gt; Personal &gt; Reset My Security Token</b>. For more information about the improved Setup user interface, see <a href="http://help.salesforce.com/apex/HTViewHelpDoc?id=admin_setup_improved.htm&amp;language=en_US" target="_window">http://help.salesforce.com/apex/HTViewHelpDoc?id=admin_setup_improved.htm&amp;language=en_US</a>.</p><hr size="2" class="NoteRule"/><a name="wp928073"> </a><div class="pSmartList2"><li>Click <b class="cBold">Reset Security Token</b> and an email message is sent to your email address stored in Salesforce.</li></div>
<a name="wp928074"> </a><div class="pSmartList2"><li>In the <b class="cBold">Password</b> field of the <b style="font-style: normal" class="cBold">Upsert into class &lt;</b><span style="font-style: italic">CI type name</span><span style="font-style: normal">&gt;</span> step, append the security token to the password.</li></div>
<a name="wp928075"> </a><p class="pIndented1">
For example, if your password is <b class="cBold">mypassword</b> and your security token is <b class="cBold">XXXXXXXXX</b>, then you must enter <b class="cBold">mypasswordXXXXXXXXX</b> in the <b class="cBold">Password</b> field.
</p>
</ol></div>
<a name="wp928165"> </a><div class="pSmartList1"><li>To save the KTR and KJB files, click <img src="images/pentaho_save.gif" id="wp928163" border="0" hspace="0" vspace="0"/>.</li></div>
<a name="wp928169"> </a><div class="pSmartList1"><li>In the KJB file, click <img src="images/run_green.gif" id="wp928167" border="0" hspace="0" vspace="0"/>.</li></div>
<a name="wp780592"> </a><div class="pSmartList1"><li>In the Execute a job window, click <b class="cBold">Launch</b>.</li></div>
<a name="wp780593"> </a><p class="pIndented1">
Data is imported to the Client User Import table in Salesforce. If clients that are imported do not exist in your Salesforce organization, new clients are created. If the imported records do not have account and profile information, default account and profile specified in the <b class="cBold">Remedyforce Administration &gt; Manage Users &gt; User Settings</b> page in BMC Remedyforce are added to the records. If the account or profile information, which exists in the imported records, does not exist in the Salesforce organization, such records are imported in the Failure Rows step.
</p>
<a name="wp780603"> </a><p class="pIndented1">
Complete transformations are depicted using <img src="images/pentaho_green_right.gif" id="wp780598" border="0" hspace="0" vspace="0"/>. <img src="images/in_progress_tasks_pentaho.gif" id="wp780601" border="0" hspace="0" vspace="0"/> depicts currently running transformations and <img src="images/insuccessful_transformations_pentaho.gif" id="wp780605" border="0" hspace="0" vspace="0"/> depicts unsuccessful transformations.
</p>
<a name="wp780607"> </a><div class="pSmartList1"><li><em class="cEmphasis">(Optional) </em>To view logs, in the Execution results section click the <b class="cBold">Logging</b> tab. </li></div>
<a name="wp784344"> </a><p class="pIndented1">
All the errors are displayed in red.
</p>
<a name="wp832818"> </a><div class="pSmartList1"><li><em class="cEmphasis">(Optional) </em>To schedule import jobs, see <a href="javascript:WWHClickedPopup('BMC_Remedyforce_help', 'importing_data-69.htm');" onMouseOver="WWHShowPopup('BMC_Remedyforce_help', 'importing_data-69.htm', (document.all||document.getElementById||document.layers)?event:null);" onMouseOut="WWHHidePopup();">Scheduling import jobs</a>.</li></div>
</ol></div>



  <script type="text/javascript" language="JavaScript1.2">
   <!--
    // Clear related topics
    //
    WWHClearRelatedTopics();

   // -->
  </script>
    </blockquote>

    
<hr class="REM"/>

<table align="center" border="0" cellspacing="0" cellpadding="0">
  <tr>
    <td width="577" align="center"><p class="copyright"><span class="copyright style7">This help was last updated for version 20.14.02.021.038 of BMC Remedyforce. You must use this help for information about working on the BMC Remedyforce Home tab only. To access an updated version of  the online help, go to the <a href="http://docs.bmc.com" target="_blank">http://docs.bmc.com</a> and search for your version of BMC Remedyforce.</span>

 </p>
      <p class="copyright">&#169; Copyright  2010-2014
 BMC Software, Inc. All rights reserved.<br/>
        
        Please contact your BMC Remedyforce system administrator if you require support.<br/>
        
        For questions or comments about the documentation, email us at <a href="mailto:doc_feedback@bmc.com">doc_feedback@bmc.com</a>.
        
      </p></td>
  </tr>
</table>



<script type="text/javascript" language="JavaScript1.2">
   <!--
    document.write(WWHRelatedTopicsDivTag() + WWHPopupDivTag() + WWHALinksDivTag());
   // -->
  </script>

  </body>
</html>
