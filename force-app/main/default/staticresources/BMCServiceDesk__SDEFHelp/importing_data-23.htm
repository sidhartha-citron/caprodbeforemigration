

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <meta name="GENERATOR" content="Quadralay WebWorks Publisher 2003 for FrameMaker 8.6.6587.0" />
    <meta name="TEMPLATEBASE" content="BMC_WebWorksHelp_52407" />
    <meta name="LASTUPDATED" content="12/10/14 12:27:59" />
    <title>Importing data from BMC Atrium Discovery by using Pentaho</title>
    <link rel="StyleSheet" href="Remedy.css" type="text/css" />
    <link rel="StyleSheet" href="catalog.css" type="text/css" />
<script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/context.js"></script>
  <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/towwhdir.js"></script>
  <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/wwhpagef.js"></script>

  <script type="text/javascript" language="JavaScript1.2">
   <!--
    // Set reference to top level help frame
    //
    var  WWHFrame = WWHGetWWHFrame("");
   // -->
  </script>

    <script type="text/javascript" language="JavaScript1.2" src="scripts/expand.js"></script>
    <style type="text/css">
<!--
.style7 {
	color: #FF0000;
	font-weight: bold;
}
-->
    </style>
</head>

  <body onLoad="WWHUpdate();" onUnload="WWHUnload();" onKeyDown="WWHHandleKeyDown((document.all||document.getElementById||document.layers)?event:null);" onKeyPress="WWHHandleKeyPress((document.all||document.getElementById||document.layers)?event:null);" onKeyUp="WWHHandleKeyUp((document.all||document.getElementById||document.layers)?event:null);">

    
    

    <blockquote>
<script type="text/javascript" language="JavaScript1.2">
   WWHFrame.WWHHelp.mRemedyTitle = "Importing data from BMC Atrium Discovery by using Pentaho";
   WWHFrame.WWHHelp.fRemedyShowTitle();
</script><a name="wp916568"> </a><p class="pBody">Before importing configuration items from BMC Atrium Discovery, perform all the actions that are listed in the <a href="javascript:WWHClickedPopup('BMC_Remedyforce_help', 'importing_data-21.htm');" onMouseOver="WWHShowPopup('BMC_Remedyforce_help', 'importing_data-21.htm', (document.all||document.getElementById||document.layers)?event:null);" onMouseOut="WWHHidePopup();">Before you import data from BMC Atrium Discovery</a> section.</p>
<a name="wp780317"> </a><p style="text-decoration: none" class="pStepIntro">
To import data from BMC Atrium Discovery by using Pentaho
</p>

<div class="pSmartList1"><ol type="1" class="pSmartList1">
<a name="wp886690"> </a><div class="pSmartList1"><li>From the <b style="font-style: normal" class="cBold">\pdi-ce-4.</b><span style="font-style: italic">x</span><span style="font-style: normal">.0-stable\data-integration</span> or <b class="cBold">\pdi-ce-5.0.1.A-stable\data-integration</b> folder, make a backup copy of the <b class="cBold">Kitchen.bat</b> file.</li></div>
<a name="wp886692"> </a><div class="pSmartList1"><li>Based on the version of CMDB and BMC Atrium Discovery that you are using, download the job files from the BMC Communities page:</li></div>
<a name="wp916682"> </a><p class="pBodyRelative"><div align="left">
<table border="1" cellpadding="3" id="wp916651table916649">
  <caption></caption>
  <tr align="left" valign="top">    <th><a name="wp916651"> </a><div class="pCellHeading">
CMDB version
</div>
</th>
    <th><a name="wp916653"> </a><div class="pCellHeading">
BMC Atrium Discovery version
</div>
</th>
    <th><a name="wp916655"> </a><div class="pCellHeading">
Link for the Pentaho package
</div>
</th>
</tr>
  <tr align="left" valign="top">    <td><a name="wp916657"> </a><div class="pCellBody">
1.0
</div>
</td>
    <td><a name="wp916659"> </a><div class="pCellBody">
 8.2
</div>
</td>
    <td><a name="wp916662"> </a><div class="pCellBody">
<a href="https://communities.bmc.com/docs/DOC-14523" target="_window">https://communities.bmc.com/docs/DOC-14523</a>
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td><a name="wp916664"> </a><div class="pCellBody">
1.0
</div>
</td>
    <td><a name="wp916666"> </a><div class="pCellBody">
9.0
</div>
</td>
    <td><a name="wp916669"> </a><div class="pCellBody">
<a href="https://communities.bmc.com/docs/DOC-21741" target="_window">https://communities.bmc.com/docs/DOC-21741</a>
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td><a name="wp916671"> </a><div class="pCellBody">
2.0
</div>
</td>
    <td><a name="wp916673"> </a><div class="pCellBody">
9.0
</div>
</td>
    <td><a name="wp916675"> </a><div class="pCellBody">
<a href="https://communities.bmc.com/docs/DOC-28434" target="_window">https://communities.bmc.com/docs/DOC-28434</a>
</div>
</td>
</tr>
</table>
</div>
</p>

<hr size="2" class="NoteRule"/><a name="wp916683"> </a><p class="pNote"><span style="color: #003366"> Note: </span> If you have upgraded to CMDB 2.0 and you were using CMDB 1.0 packages, you can continue using the CMDB 1.0 packages. However, BMC recommends that you use packages for CMDB 2.0 for faster imports.</p><hr size="2" class="NoteRule"/><a name="wp941454"> </a><p class="pIndented1">
BMC recommends that you download the job files in the folder where you have unzipped the Pentaho Data Integration tool.
</p>
<hr size="2" class="NoteRule"/><a name="wp881226"> </a><p class="pNote"><span style="color: #003366"> Note: </span> If you have already downloaded the Pentaho packages from the BMC Communities page and you want to import IPv6 records of BMC_IPEndPoint CI types also, BMC recommends that you download the latest transformation files from the IPEndpoints folder.</p><hr size="2" class="NoteRule"/><a name="wp961107"> </a><div class="pSmartList1"><li>In the folder that you downloaded from the BMC Communities page, double-click the <b class="cBold">Common</b> folder, copy the <b class="cBold">Kitchen.bat</b> file, and paste it in the <b style="font-style: normal" class="cBold">\pdi-ce-4.</b><span style="font-style: italic">x</span><span style="font-style: normal">.0-stable\data-integration</span> or \<b class="cBold">pdi-ce-5.0.1.A-stable\data-integration</b> folder.</li></div>
<a name="wp961108"> </a><div class="pSmartList1"><li>To launch the Pentaho Data Integration tool, in the <b style="font-style: normal" class="cBold">\pdi-ce-4.</b><span style="font-style: italic">x</span><span style="font-style: normal">.0-stable\data-integration</span> or \<b class="cBold">pdi-ce-5.0.1.A-stable\data-integration</b> folder, double-click the <b class="cBold">Spoon.bat</b> file, and open the required KJB file.</li></div>
<a name="wp780328"> </a><div class="pSmartList1"><li>To open the KTR file, based on the CMDB and Pentaho version that you are using, perform one of the following actions:</li></div>
<a name="wp912515"> </a><p class="pBodyRelative"><div align="left">
<table border="1" cellpadding="3" id="wp912527table912525">
  <caption></caption>
  <tr align="left" valign="top">    <th><a name="wp912527"> </a><div class="pCellHeading">
CMDB version
</div>
</th>
    <th><a name="wp912529"> </a><div class="pCellHeading">
Pentaho version
</div>
</th>
    <th><a name="wp912531"> </a><div class="pCellHeading">
Action
</div>
</th>
</tr>
  <tr align="left" valign="top">    <td><a name="wp912533"> </a><div class="pCellBody">
1.0
</div>
</td>
    <td><a name="wp912535"> </a><div class="pCellBody">
4.4
</div>
</td>
    <td><a name="wp912537"> </a><div class="pCellBody">
Right-click the <b class="cBold">Update</b> <b style="font-style: normal" class="cBold">staging table with ADDM &lt;</b><span style="font-style: italic">CI type name</span><span style="font-style: normal">&gt; information</span> step, and select <b class="cBold">Open transformation</b>.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td><a name="wp912539"> </a><div class="pCellBody">
1.0
</div>
</td>
    <td><a name="wp912541"> </a><div class="pCellBody">
5.0.1
</div>
</td>
    <td><a name="wp912543"> </a><div class="pCellBody">
Right-click the <b class="cBold">Update staging table with ADDM &lt;CI type name&gt; information</b> step, select <b class="cBold">Open referenced object</b>, and then select <b class="cBold">Transformation</b>.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td><a name="wp912545"> </a><div class="pCellBody">
2.0
</div>
</td>
    <td><a name="wp912547"> </a><div class="pCellBody">
4.4
</div>
</td>
    <td><a name="wp912549"> </a><div class="pCellBody">
Right-click the <b class="cBold">Update BE Table With ADDM &lt;CI type&gt; Information</b> step, and select <b class="cBold">Open transformation</b>.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td><a name="wp912551"> </a><div class="pCellBody">
2.0
</div>
</td>
    <td><a name="wp912553"> </a><div class="pCellBody">
5.0.1
</div>
</td>
    <td><a name="wp912710"> </a><div class="pCellBody">
Right-click the <b class="cBold">Update BE Table With ADDM &lt;CI type name&gt; information</b> step, select <b class="cBold">Open referenced object</b>, and then select <b class="cBold">Transformation</b>.
</div>
</td>
</tr>
</table>
</div>
</p>

<a name="wp876837"> </a><div class="pSmartList1"><li>In the KTR file, double-click the <b class="cBold">Create CSV URL</b> step.</li></div>
<a name="wp876491"> </a><p class="pBodyRelative"><img src="images/ADDM.gif" id="wp876489" border="0" hspace="0" vspace="0"/></p>

<a name="wp780339"> </a><div class="pSmartList1"><li>In the script, perform the following actions:</li></div>
<div class="pSmartList2"><ol type="a" class="pSmartList2">
<a name="wp780340"> </a><div class="pSmartList2"><li>Replace <em class="cEmphasis">“&lt;Enter HostName&gt;”</em> with the BMC Atrium Discovery server name or primary IP address of BMC Atrium Discovery.</li></div>
<a name="wp780341"> </a><div class="pSmartList2"><li>Replace <em class="cEmphasis">“&lt;Enter user name&gt;”</em> with BMC Atrium Discovery user name.</li></div>
<a name="wp780342"> </a><div class="pSmartList2"><li>Replace <em class="cEmphasis">“&lt;Enter Password&gt;”</em> with BMC Atrium Discovery password.</li></div>
</ol></div>
<a name="wp780343"> </a><div class="pSmartList1"><li><em class="cEmphasis">(Optional)</em> To import fixed number of rows of data, perform the following actions:</li></div>
<div class="pSmartList2"><ol type="a" class="pSmartList2">
<a name="wp909312"> </a><div class="pSmartList2"><li>Right-click the <b class="cBold">ADDM input</b> step and select <b class="cBold">Edit Step</b>.</li></div>
<a name="wp780344"> </a><div class="pSmartList2"><li>In the Text file input window, click the <b class="cBold">Content</b> tab.</li></div>
<a name="wp780345"> </a><div class="pSmartList2"><li>In the <b class="cBold">Limit</b> field, enter the number of rows that you want to import.</li></div>
<a name="wp780346"> </a><p class="pIndented1">
By default, 0 is entered in the <b class="cBold">Limit</b> field. In this case, all the rows that satisfy the query are imported.
</p>
<a name="wp780347"> </a><p class="pIndented1">
In the <b class="cBold">Limit</b> field, enter one additional row value, because one less row is fetched. For example, to fetch 100 rows, enter 101.
</p>
<a name="wp780348"> </a><div class="pSmartList2"><li>Click <b class="cBold">OK</b>.</li></div>
</ol></div>
<a name="wp909335"> </a><div class="pSmartList1"><li>To provide your Salesforce organization access details, perform the following actions:</li></div>
<div class="pSmartList2"><ol type="a" class="pSmartList2">
<a name="wp909366"> </a><div class="pSmartList2"><li>Double-click the <b style="font-style: normal" class="cBold">Upsert into class &lt;</b><span style="font-style: italic">CI type name</span><span style="font-style: normal">&gt;</span> step.</li></div>
<a name="wp780353"> </a><div class="pSmartList2"><li>In the Salesforce Upsert window, enter your Salesforce organization user name and password.</li></div>
<a name="wp909394"> </a><div class="pSmartList2"><li><em class="cEmphasis">(Optional)</em> Mapping between the BMC Atrium Discovery fields and Remedyforce CMDB is predefined. To update mapping, click <b class="cBold">Edit Mapping</b>. For more information about mapping, see <a href="javascript:WWHClickedPopup('BMC_Remedyforce_help', 'importing_data-03.htm');" onMouseOver="WWHShowPopup('BMC_Remedyforce_help', 'importing_data-03.htm', (document.all||document.getElementById||document.layers)?event:null);" onMouseOut="WWHHidePopup();">Overview of how configuration items are imported in CMDB 1.0</a>.</li></div>
<hr size="2" class="NoteRule"/><a name="wp873706"> </a><p class="pNote"><span style="color: #003366"> Note: </span> If you are using an earlier version of Pentaho data integration tool, for example, Pentaho 4.1 or 4.2, you must modify the Salesforce Webservice URL to https://www.salesforce.com/services/Soap/u/20.0.</p><hr size="2" class="NoteRule"/><a name="wp787940"> </a><div class="pSmartList2"><li><em class="cEmphasis">(Optional)</em> To verify the connection, click <b class="cBold">Test connection</b>.</li></div>
<a name="wp780364"> </a><div class="pSmartList2"><li>Click <b class="cBold">OK</b>.</li></div>
</ol></div>
<a name="wp916797"> </a><div class="pSmartList1"><li><em class="cEmphasis">(For CMDB 2.0 only)</em> You also need to provide Salesforce access details in the <b class="cBold">Salesforce Input[CMDB_Class]</b> step. To enter the information required to access your Salesforce organization, perform the following actions:</li></div>
<div class="pSmartList2"><ol type="a" class="pSmartList2">
<a name="wp916798"> </a><div class="pSmartList2"><li>Double-click <b class="cBold">Salesforce Input[CMDB_Class]</b>.</li></div>
<a name="wp916799"> </a><div class="pSmartList2"><li>In the <b class="cBold">Connection</b> section, enter the Salesforce organization access details.</li></div>
<a name="wp916800"> </a><div class="pSmartList2"><li><em class="cEmphasis">(Optional)</em> To test the connection, click <b class="cBold">Test connection</b>.</li></div>
<a name="wp916801"> </a><div class="pSmartList2"><li>Click <b class="cBold">OK</b>.</li></div>
</ol></div>
<a name="wp910992"> </a><div class="pSmartList1"><li><em class="cEmphasis">(Optional)</em> If you have enabled the setting to access your Salesforce organization from limited IP addresses, to enable communication between Salesforce and the Pentaho Data Integration tool, perform the following actions:</li></div>
<div class="pSmartList2"><ol type="a" class="pSmartList2">
<a name="wp910993"> </a><div class="pSmartList2"><li>In Salesforce, navigate to <b class="cBold">Setup &gt; Reset My Security Token</b>.</li></div>
<hr size="2" class="NoteRule"/><a name="wp960133"> </a><p class="pNote"><span style="color: #003366"> Note: </span> If you have enabled the improved Setup user interface in your Salesforce organization, navigate to <b class="cBold">My Settings &gt; Personal &gt; Reset My Security Token</b>. For more information about the improved Setup user interface, see <a href="http://help.salesforce.com/apex/HTViewHelpDoc?id=admin_setup_improved.htm&amp;language=en_US" target="_window">http://help.salesforce.com/apex/HTViewHelpDoc?id=admin_setup_improved.htm&amp;language=en_US</a>.</p><hr size="2" class="NoteRule"/><a name="wp910994"> </a><div class="pSmartList2"><li>Click <b class="cBold">Reset Security Token</b> and an email message is sent to your email address stored in Salesforce.</li></div>
<a name="wp910995"> </a><div class="pSmartList2"><li>In the <b class="cBold">Password</b> field of the <b style="font-style: normal" class="cBold">Upsert into class &lt;</b><span style="font-style: italic">CI type name</span><span style="font-style: normal">&gt;</span> step, append the security token to the password.</li></div>
<a name="wp910996"> </a><p class="pIndented1">
For example, if your password is <b class="cBold">mypassword</b> and your security token is <b class="cBold">XXXXXXXXX</b>, then you must enter <b class="cBold">mypasswordXXXXXXXXX</b> in the <b class="cBold">Password</b> field.
</p>
</ol></div>
<a name="wp780365"> </a><div class="pSmartList1"><li>To save the KTR and KJB files, click <img src="images/pentaho_save.gif" id="wp910763" border="0" hspace="0" vspace="0"/>.</li></div>
<a name="wp910778"> </a><div class="pSmartList1"><li>Close the Pentaho Data Integration tool.</li></div>
<a name="wp780366"> </a><div class="pSmartList1"><li>From the folder of the CI type for which you are importing data, double-click the <b class="cBold">.bat</b> file provided in the folder.</li></div>
<a name="wp780367"> </a><p class="pIndented1">
For example, you are importing data for Computer System, open the <b class="cBold">SchedulingComputerSystem.bat</b> file.
</p>
<hr size="2" class="NoteRule"/><a name="wp780368"> </a><p class="pNote"><span style="color: #003366"> Note: </span> You must use the <b class="cBold">.bat</b> file to avoid any errors while importing.</p><hr size="2" class="NoteRule"/><a name="wp780370"> </a><p class="pIndented1">
The relationship between the Computer System as a source and Software Server as a destination is not displayed in the Configuration Items Explorer because the Configuration Items Explorer can display only limited number of relationships (due to platform limitations). Displaying Computer System and Software Sever relationships might hide other important relationships between Computer System and other CIs.
</p>
<a name="wp780374"> </a><div class="pSmartList1"><li><em class="cEmphasis">(Optional) </em>To schedule import jobs, see <a href="javascript:WWHClickedPopup('BMC_Remedyforce_help', 'importing_data-69.htm');" onMouseOver="WWHShowPopup('BMC_Remedyforce_help', 'importing_data-69.htm', (document.all||document.getElementById||document.layers)?event:null);" onMouseOut="WWHHidePopup();">Scheduling import jobs</a>.</li></div>
</ol></div>
<a name="wp873908"> </a><p class="pBody">The <b class="cBold">BMCServiceDesk__AssemblyId__c</b> field is required to create a relationship between the computer system and various CIs. The source is the computer system and the destination can be operating system, processor, IP End Points, LAN End Points, or software server.</p>
<a name="wp873901"> </a><p class="pBody">For example, the value of the <b class="cBold">BMCServiceDesk__AssemblyId__c</b> field is 1 for a computer system record and a processor record has a Assembly ID value as 1, a relationship is automatically created between the computer system (source) and processor (destination). </p>



  <script type="text/javascript" language="JavaScript1.2">
   <!--
    // Clear related topics
    //
    WWHClearRelatedTopics();

   // -->
  </script>
    </blockquote>

    
<hr class="REM"/>

<table align="center" border="0" cellspacing="0" cellpadding="0">
  <tr>
    <td width="577" align="center"><p class="copyright"><span class="copyright style7">This help was last updated for version 20.14.02.021.038 of BMC Remedyforce. You must use this help for information about working on the BMC Remedyforce Home tab only. To access an updated version of  the online help, go to the <a href="http://docs.bmc.com" target="_blank">http://docs.bmc.com</a> and search for your version of BMC Remedyforce.</span>

 </p>
      <p class="copyright">&#169; Copyright  2010-2014
 BMC Software, Inc. All rights reserved.<br/>
        
        Please contact your BMC Remedyforce system administrator if you require support.<br/>
        
        For questions or comments about the documentation, email us at <a href="mailto:doc_feedback@bmc.com">doc_feedback@bmc.com</a>.
        
      </p></td>
  </tr>
</table>



<script type="text/javascript" language="JavaScript1.2">
   <!--
    document.write(WWHRelatedTopicsDivTag() + WWHPopupDivTag() + WWHALinksDivTag());
   // -->
  </script>

  </body>
</html>
