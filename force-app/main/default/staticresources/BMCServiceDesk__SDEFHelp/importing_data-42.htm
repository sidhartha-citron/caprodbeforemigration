

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <meta name="GENERATOR" content="Quadralay WebWorks Publisher 2003 for FrameMaker 8.6.6587.0" />
    <meta name="TEMPLATEBASE" content="BMC_WebWorksHelp_52407" />
    <meta name="LASTUPDATED" content="12/10/14 12:27:59" />
    <title>Importing data from BMC Client Management by using Pentaho</title>
    <link rel="StyleSheet" href="Remedy.css" type="text/css" />
    <link rel="StyleSheet" href="catalog.css" type="text/css" />
<script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/context.js"></script>
  <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/towwhdir.js"></script>
  <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/wwhpagef.js"></script>

  <script type="text/javascript" language="JavaScript1.2">
   <!--
    // Set reference to top level help frame
    //
    var  WWHFrame = WWHGetWWHFrame("");
   // -->
  </script>

    <script type="text/javascript" language="JavaScript1.2" src="scripts/expand.js"></script>
    <style type="text/css">
<!--
.style7 {
	color: #FF0000;
	font-weight: bold;
}
-->
    </style>
</head>

  <body onLoad="WWHUpdate();" onUnload="WWHUnload();" onKeyDown="WWHHandleKeyDown((document.all||document.getElementById||document.layers)?event:null);" onKeyPress="WWHHandleKeyPress((document.all||document.getElementById||document.layers)?event:null);" onKeyUp="WWHHandleKeyUp((document.all||document.getElementById||document.layers)?event:null);">

    
    

    <blockquote>
<script type="text/javascript" language="JavaScript1.2">
   WWHFrame.WWHHelp.mRemedyTitle = "Importing data from BMC Client Management by using Pentaho";
   WWHFrame.WWHHelp.fRemedyShowTitle();
</script><a name="wp921818"> </a><p class="pBody">Before importing data from BMC Client Management (known before version 12.0 as BMC FootPrints Asset Core), perform all the actions that are listed in the <a href="javascript:WWHClickedPopup('BMC_Remedyforce_help', 'importing_data-41.htm');" onMouseOver="WWHShowPopup('BMC_Remedyforce_help', 'importing_data-41.htm', (document.all||document.getElementById||document.layers)?event:null);" onMouseOut="WWHHidePopup();">Before you import data from BMC Client Management</a> section.</p>
<a name="wp782035"> </a><p style="text-decoration: none" class="pStepIntro">
To import data from BMC Client Management by using Pentaho
</p>

<div class="pSmartList1"><ol type="1" class="pSmartList1">
<a name="wp921842"> </a><div class="pSmartList1"><li>To download the job files from the BMC Communities website, perform one of the following actions:</li></div>
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp921844"> </a><div class="pSmartList2"><li>If you are using CMDB 1.0, click <a href="https://communities.bmc.com/docs/DOC-21630" target="_window">https://communities.bmc.com/docs/DOC-21630</a>.</li></div>
<a name="wp921845"> </a><div class="pSmartList2"><li>If you are using CMDB 2.0, click <a href="https://communities.bmc.com/docs/DOC-28436" target="_window">https://communities.bmc.com/docs/DOC-28436</a>.</li></div>
<hr size="2" class="NoteRule"/><a name="wp851329"> </a><p class="pNote"><span style="color: #003366"> Note: </span> If you have upgraded to CMDB 2.0 and you were using CMDB 1.0 packages, you can continue using the CMDB 1.0 packages. However, BMC recommends that you use packages for CMDB 2.0 for faster imports.</p><hr size="2" class="NoteRule"/><a name="wp941836"> </a><p class="pIndented1">
BMC recommends that you download the job files in the folder where you have unzipped the Pentaho Data Integration tool.
</p>
<hr size="2" class="NoteRule"/><a name="wp782036"> </a><p class="pNote"><span style="color: #003366"> Note: </span> Do not change the folder structure because doing so can interfere with the running of the batch files provided in the <b class="cBold">CombinedJobs</b> folder.</p><hr size="2" class="NoteRule"/></ul></div>
<a name="wp817443"> </a><div class="pSmartList1"><li>To launch the Pentaho Data Integration tool, in the <b style="font-style: normal" class="cBold">\pdi-ce-4.</b><span style="font-style: italic">x</span><span style="font-style: normal">.0-stable\data-integration</span> or \<b class="cBold">pdi-ce-5.0.1.A-stable\data-integration</b> folder, double-click the <b class="cBold">Spoon.bat</b> file, and open the required KJB file.</li></div>
<hr size="2" class="NoteRule"/><a name="wp784438"> </a><p class="pNote"><span style="color: #003366"> Note: </span> If you are running a combined job, update the KTR files of each job with the required BMC Client Management database and Salesforce organization credentials.</p><hr size="2" class="NoteRule"/><a name="wp921976"> </a><div class="pSmartList1"><li>To open the KTR file, based on the CMDB and Pentaho version that you are using, perform one of the following actions:</li></div>
<a name="wp922008"> </a><p class="pBodyRelative"><div align="left">
<table border="1" cellpadding="3" id="wp921979table921977">
  <caption></caption>
  <tr align="left" valign="top">    <th><a name="wp921979"> </a><div class="pCellHeading">
CMDB version
</div>
</th>
    <th><a name="wp921981"> </a><div class="pCellHeading">
Pentaho version
</div>
</th>
    <th><a name="wp921983"> </a><div class="pCellHeading">
Action
</div>
</th>
</tr>
  <tr align="left" valign="top">    <td><a name="wp921985"> </a><div class="pCellBody">
1.0
</div>
</td>
    <td><a name="wp921987"> </a><div class="pCellBody">
4.4
</div>
</td>
    <td><a name="wp921989"> </a><div class="pCellBody">
Right-click the <b class="cBold">Update</b> <b style="font-style: normal" class="cBold">staging table with Asset Core &lt;</b><span style="font-style: italic">CI type name</span><span style="font-style: normal">&gt; information</span> step, and select <b class="cBold">Open transformation</b>.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td><a name="wp921991"> </a><div class="pCellBody">
1.0
</div>
</td>
    <td><a name="wp921993"> </a><div class="pCellBody">
5.0.1
</div>
</td>
    <td><a name="wp921995"> </a><div class="pCellBody">
Right-click the <b class="cBold">Update staging table with Asset Core &lt;</b><em style="font-style: italic" class="cEmphasis">CI type name</em><span style="font-style: normal">&gt; information</span> step, select <b class="cBold">Open referenced object</b>, and then select <b class="cBold">Transformation</b>.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td><a name="wp921997"> </a><div class="pCellBody">
2.0
</div>
</td>
    <td><a name="wp921999"> </a><div class="pCellBody">
4.4
</div>
</td>
    <td><a name="wp922001"> </a><div class="pCellBody">
Right-click the <b class="cBold">Update BE table with Asset Core &lt;</b><em style="font-style: italic" class="cEmphasis">CI type name</em><span style="font-style: normal">&gt; Information</span> step, and select <b class="cBold">Open transformation</b>.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td><a name="wp922003"> </a><div class="pCellBody">
2.0
</div>
</td>
    <td><a name="wp922005"> </a><div class="pCellBody">
5.0.1
</div>
</td>
    <td><a name="wp922007"> </a><div class="pCellBody">
Right-click the <b class="cBold">Update BE table with Asset Core &lt;</b><em style="font-style: italic" class="cEmphasis">CI type name</em><span style="font-style: normal">&gt; information</span> step, select <b class="cBold">Open referenced object</b>, and then select <b class="cBold">Transformation</b>.
</div>
</td>
</tr>
</table>
</div>
</p>

<a name="wp782047"> </a><div class="pSmartList1"><li>To provide details to access BMC Client Management database, perform the following actions:</li></div>
<div class="pSmartList2"><ol type="a" class="pSmartList2">
<a name="wp922066"> </a><div class="pSmartList2"><li>In the Explorer pane, expand <b class="cBold">Database connections</b> and double-click <b class="cBold">BMC Remedyforce FootPrints Asset Core Source</b>.</li></div>
<a name="wp782416"> </a><div class="pSmartList2"><li>In the Database Connection window, enter the host name and the BMC Client Management database name, user name, and password.</li></div>
<a name="wp782417"> </a><p class="pIndented1">
The host name is the name of the computer where the BMC Client Management database is installed.
</p>
<a name="wp786064"> </a><p class="pIndented1">
If you have configured Windows authentication on the BMC Client Management database, the user name and password are not required when the following conditions are met:
</p>
<div class="pSmartList3"><ul class="pSmartList3">
<a name="wp786065"> </a><div class="pSmartList3"><li>The logged-on user must run the job from a Pentaho Data Integration tool that is installed on the BMC Client Management database server.</li></div>
<a name="wp786066"> </a><div class="pSmartList3"><li>The logged-on user must have access to the BMC Client Management database.</li></div>
</ul></div>
<a name="wp782056"> </a><div class="pSmartList2"><li><em class="cEmphasis">(Optional)</em> To verify the connection, click <b class="cBold">Test</b>.</li></div>
<a name="wp782555"> </a><div class="pSmartList2"><li>Click <b class="cBold">OK</b>.</li></div>
</ol></div>
<a name="wp782058"> </a><div class="pSmartList1"><li>To provide your Salesforce organization access details, perform the following actions:</li></div>
<div class="pSmartList2"><ol type="a" class="pSmartList2">
<a name="wp922087"> </a><div class="pSmartList2"><li>Double-click the <b class="cBold">Upsert into class</b> &lt;<em class="cEmphasis">CI type name</em>&gt; step.</li></div>
<a name="wp782059"> </a><div class="pSmartList2"><li>In the Salesforce Upsert window, enter your Salesforce organization user name and password.</li></div>
<a name="wp782068"> </a><div class="pSmartList2"><li><em class="cEmphasis">(Optional)</em> To update the mapping, click <b class="cBold">Edit Mapping</b>.</li></div>
<a name="wp922112"> </a><div class="pSmartList2"><li><em class="cEmphasis">(Optional)</em> Mapping between the BMC Client Management fields and the BMC Remedyforce CMDB is predefined. For more information about mapping, see <a href="javascript:WWHClickedPopup('BMC_Remedyforce_help', 'importing_data-03.htm');" onMouseOver="WWHShowPopup('BMC_Remedyforce_help', 'importing_data-03.htm', (document.all||document.getElementById||document.layers)?event:null);" onMouseOut="WWHHidePopup();">Overview of how configuration items are imported in CMDB 1.0</a>.</li></div>
<hr size="2" class="NoteRule"/><a name="wp873585"> </a><p class="pNote"><span style="color: #003366"> Note: </span> If you are using a previous versions of Pentaho data integration tool, for example, Pentaho 4.1 or 4.2, you must modify the Salesforce Webservice URL to https://www.salesforce.com/services/Soap/u/20.0.</p><hr size="2" class="NoteRule"/><a name="wp922147"> </a><div class="pSmartList2"><li><em class="cEmphasis">(Optional)</em> To verify the connection, click <b class="cBold">Test connection</b>.</li></div>
<a name="wp922148"> </a><div class="pSmartList2"><li>Click <b class="cBold">OK</b>.</li></div>
</ol></div>
<a name="wp922195"> </a><div class="pSmartList1"><li><em class="cEmphasis">(For CMDB 2.0 only)</em> You also need to provide Salesforce access details in the <b class="cBold">Salesforce Input[CMDB_Class]</b> step. To enter the information required to access your Salesforce organization, perform the following actions:</li></div>
<div class="pSmartList2"><ol type="a" class="pSmartList2">
<a name="wp922196"> </a><div class="pSmartList2"><li>Double-click <b class="cBold">Salesforce Input[CMDB_Class]</b>.</li></div>
<a name="wp922197"> </a><div class="pSmartList2"><li>In the <b class="cBold">Connection</b> section, enter the Salesforce organization access details.</li></div>
<a name="wp922198"> </a><div class="pSmartList2"><li><em class="cEmphasis">(Optional)</em> To test the connection, click <b class="cBold">Test connection</b>.</li></div>
<a name="wp922199"> </a><div class="pSmartList2"><li>Click <b class="cBold">OK</b>.</li></div>
</ol></div>
<a name="wp922200"> </a><div class="pSmartList1"><li><em class="cEmphasis">(Optional)</em> If you have enabled the setting to access your Salesforce organization from limited IP addresses, to enable communication between Salesforce and the Pentaho Data Integration tool, perform the following actions:</li></div>
<div class="pSmartList2"><ol type="a" class="pSmartList2">
<a name="wp960381"> </a><div class="pSmartList2"><li>In Salesforce, navigate to <b class="cBold">Setup &gt; Reset My Security Token</b>.</li></div>
<hr size="2" class="NoteRule"/><a name="wp960397"> </a><p class="pNote"><span style="color: #003366"> Note: </span> If you have enabled the improved Setup user interface in your Salesforce organization, navigate to <b class="cBold">My Settings &gt; Personal &gt; Reset My Security Token</b>. For more information about the improved Setup user interface, see <a href="http://help.salesforce.com/apex/HTViewHelpDoc?id=admin_setup_improved.htm&amp;language=en_US" target="_window">http://help.salesforce.com/apex/HTViewHelpDoc?id=admin_setup_improved.htm&amp;language=en_US</a>.</p><hr size="2" class="NoteRule"/><a name="wp960383"> </a><div class="pSmartList2"><li>Click <b class="cBold">Reset Security Token</b> and an email message is sent to your email address stored in Salesforce.</li></div>
<a name="wp922203"> </a><div class="pSmartList2"><li>In the <b class="cBold">Password</b> field of the <b style="font-style: normal" class="cBold">Upsert into class &lt;</b><span style="font-style: italic">CI type name</span><span style="font-style: normal">&gt;</span> step, append the security token to the password.</li></div>
<a name="wp922204"> </a><p class="pIndented1">
For example, if your password is <b class="cBold">mypassword</b> and your security token is <b class="cBold">XXXXXXXXX</b>, then you must enter <b class="cBold">mypasswordXXXXXXXXX</b> in the <b class="cBold">Password</b> field.
</p>
</ol></div>
<a name="wp922208"> </a><div class="pSmartList1"><li>To save the KTR and KJB files, click <img src="images/pentaho_save.gif" id="wp922206" border="0" hspace="0" vspace="0"/>.</li></div>
<a name="wp782075"> </a><div class="pSmartList1"><li>In the <b class="cBold">KJB file </b>tab, click <img src="images/run_green.gif" id="wp929497" border="0" hspace="0" vspace="0"/>.</li></div>
<a name="wp782076"> </a><div class="pSmartList1"><li>In the Execute a job window, click <b class="cBold">Launch</b>.</li></div>
<a name="wp782077"> </a><p class="pIndented1">
Data is imported into the appropriate CMDB class.
</p>
<a name="wp782088"> </a><p class="pIndented1">
Complete transformations are depicted using <img src="images/pentaho_green_right.gif" id="wp782083" border="0" hspace="0" vspace="0"/>. <img src="images/in_progress_tasks_pentaho.gif" id="wp782086" border="0" hspace="0" vspace="0"/> depicts currently running transformations and <img src="images/insuccessful_transformations_pentaho.gif" id="wp782090" border="0" hspace="0" vspace="0"/> depicts unsuccessful transformations.
</p>
<a name="wp782092"> </a><div class="pSmartList1"><li><em class="cEmphasis">(Optional) </em>To view logs, in the Execution results section, click the <b class="cBold">Logging</b> tab. </li></div>
<a name="wp784363"> </a><p class="pIndented1">
All the errors are displayed in red.
</p>
<a name="wp782093"> </a><p class="pIndented1">
The relationship between the Computer System as a source and the Product as a destination is not displayed in the Configuration Items Explorer because the Configuration Items Explorer can display only a limited number of relationships (due to platform limitations). Displaying Computer System and Product relationships might hide other important relationships between the Computer System and other CIs.
</p>
<a name="wp782634"> </a><div class="pSmartList1"><li><em class="cEmphasis">(Optional) </em>To schedule import jobs, see <a href="javascript:WWHClickedPopup('BMC_Remedyforce_help', 'importing_data-69.htm');" onMouseOver="WWHShowPopup('BMC_Remedyforce_help', 'importing_data-69.htm', (document.all||document.getElementById||document.layers)?event:null);" onMouseOut="WWHHidePopup();">Scheduling import jobs</a>.</li></div>
</ol></div>
<a name="wp875250"> </a><p class="pBody">The <b class="cBold">BMCServiceDesk__AssemblyId__c</b> field is required to create a relationship between the computer system and various CIs. The source is the computer system and the destination can be operating system, processor, LAN End Points, or products.</p>
<a name="wp875243"> </a><p class="pBody">For example, the value of the <b class="cBold">BMCServiceDesk__AssemblyId__c</b> field is 1 for a computer system record and a processor record has a Assembly ID value as 1, a relationship is automatically created between the computer system (source) and processor (destination). </p>



  <script type="text/javascript" language="JavaScript1.2">
   <!--
    // Clear related topics
    //
    WWHClearRelatedTopics();

   // -->
  </script>
    </blockquote>

    
<hr class="REM"/>

<table align="center" border="0" cellspacing="0" cellpadding="0">
  <tr>
    <td width="577" align="center"><p class="copyright"><span class="copyright style7">This help was last updated for version 20.14.02.021.038 of BMC Remedyforce. You must use this help for information about working on the BMC Remedyforce Home tab only. To access an updated version of  the online help, go to the <a href="http://docs.bmc.com" target="_blank">http://docs.bmc.com</a> and search for your version of BMC Remedyforce.</span>

 </p>
      <p class="copyright">&#169; Copyright  2010-2014
 BMC Software, Inc. All rights reserved.<br/>
        
        Please contact your BMC Remedyforce system administrator if you require support.<br/>
        
        For questions or comments about the documentation, email us at <a href="mailto:doc_feedback@bmc.com">doc_feedback@bmc.com</a>.
        
      </p></td>
  </tr>
</table>



<script type="text/javascript" language="JavaScript1.2">
   <!--
    document.write(WWHRelatedTopicsDivTag() + WWHPopupDivTag() + WWHALinksDivTag());
   // -->
  </script>

  </body>
</html>
