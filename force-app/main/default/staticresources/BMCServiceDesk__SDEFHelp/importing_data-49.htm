

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <meta name="GENERATOR" content="Quadralay WebWorks Publisher 2003 for FrameMaker 8.6.6587.0" />
    <meta name="TEMPLATEBASE" content="BMC_WebWorksHelp_52407" />
    <meta name="LASTUPDATED" content="12/10/14 12:27:59" />
    <title>Importing data from BMC Client Management by using the Pentaho package</title>
    <link rel="StyleSheet" href="Remedy.css" type="text/css" />
    <link rel="StyleSheet" href="catalog.css" type="text/css" />
<script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/context.js"></script>
  <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/towwhdir.js"></script>
  <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/wwhpagef.js"></script>

  <script type="text/javascript" language="JavaScript1.2">
   <!--
    // Set reference to top level help frame
    //
    var  WWHFrame = WWHGetWWHFrame("");
   // -->
  </script>

    <script type="text/javascript" language="JavaScript1.2" src="scripts/expand.js"></script>
    <style type="text/css">
<!--
.style7 {
	color: #FF0000;
	font-weight: bold;
}
-->
    </style>
</head>

  <body onLoad="WWHUpdate();" onUnload="WWHUnload();" onKeyDown="WWHHandleKeyDown((document.all||document.getElementById||document.layers)?event:null);" onKeyPress="WWHHandleKeyPress((document.all||document.getElementById||document.layers)?event:null);" onKeyUp="WWHHandleKeyUp((document.all||document.getElementById||document.layers)?event:null);">

    
    

    <blockquote>
<script type="text/javascript" language="JavaScript1.2">
   WWHFrame.WWHHelp.mRemedyTitle = "Importing data from BMC Client Management by using the Pentaho package";
   WWHFrame.WWHHelp.fRemedyShowTitle();
</script><a name="wp975410"> </a><p class="pBody">BMC Remedyforce provides a Pentaho package to import data from BMC Client Management by using the REST web API. The Pentaho package includes multiple job (KJB) files for importing different types of CIs, such as computer systems and LAN endpoints. For more information, see <a href="javascript:WWHClickedPopup('BMC_Remedyforce_help', 'importing_data-39.htm');" onMouseOver="WWHShowPopup('BMC_Remedyforce_help', 'importing_data-39.htm', (document.all||document.getElementById||document.layers)?event:null);" onMouseOut="WWHHidePopup();">Introduction to KJB and KTR files for BMC Client Management</a>. For information about the REST web API, see the BMC Client Management Help.</p>
<hr size="2" class="WarnRule"/><a name="wp975418"> </a><p class="pImportant"><span style="color: #CC0033"> Important: </span> The job (KJB) files in the Pentaho package send a REST web API request to the BMC Client Management server to initiate the export of data to a <b class="cBold">.csv</b> file. Each job file contains the list of BMC Client Management fields that are available by default in the <b class="cBold">.csv</b> file. If you add, delete, or change the order of fields in the <b class="cBold">.csv</b> file, you must update the Pentaho jobs and map the fields and the order in which they are listed to the <b class="cBold">.csv</b> file. Otherwise, the data that you import might be corrupted or the import might not complete successfully. For more information, see <a href="javascript:WWHClickedPopup('BMC_Remedyforce_help', 'importing_data-51.htm#wp980448');" onMouseOver="WWHShowPopup('BMC_Remedyforce_help', 'importing_data-51.htm#wp980448', (document.all||document.getElementById||document.layers)?event:null);" onMouseOut="WWHHidePopup();">Data that is imported from BMC Client Management is corrupted</a>.</p><hr size="2" class="WarnRule"/>
<a name="wp975431"> </a><p style="text-decoration: none" class="pStepIntro">
To import data from BMC Client Management by using the Pentaho package
</p>

<div class="pSmartList1"><ol type="1" class="pSmartList1">
<a name="wp975434"> </a><div class="pSmartList1"><li>Ensure that you have completed all prerequisite steps for importing data into BMC Remedyforce.</li></div>
<a name="wp975438"> </a><p class="pIndented1">
For more information, see <a href="javascript:WWHClickedPopup('BMC_Remedyforce_help', 'importing_data-48.htm');" onMouseOver="WWHShowPopup('BMC_Remedyforce_help', 'importing_data-48.htm', (document.all||document.getElementById||document.layers)?event:null);" onMouseOut="WWHHidePopup();">Before you import data from BMC Client Management</a>.
</p>
<a name="wp975440"> </a><div class="pSmartList1"><li>Navigate to the location where you downloaded and unzipped the Pentaho Data Integration tool.</li></div>
<a name="wp975441"> </a><div class="pSmartList1"><li>To launch the Pentaho Data Integration tool, navigate to the <b class="cBold">data-integration</b> folder.</li></div>
<a name="wp975442"> </a><div class="pSmartList1"><li>Double-click the <b class="cBold">Spoon.bat</b> file and open the job (KJB) file for the CI type that you want to import. For example, to import computer system CIs, open the <b class="cBold">TransferAssetCoreCSinfotoCMDB.kjb</b> file.</li></div>
<a name="wp975443"> </a><div class="pSmartList1"><li>From the <b class="cBold">Edit</b> menu, select <b class="cBold">Settings</b>.</li></div>
<a name="wp975444"> </a><div class="pSmartList1"><li>In the Job properties window, click the <b class="cBold">Parameters</b> tab.</li></div>
<a name="wp975445"> </a><div class="pSmartList1"><li>Modify the <b class="cBold">Default value</b> column for the parameters listed in the following table. </li></div>
<a name="wp975550"> </a><p class="pBodyRelative"><div align="left">
<table border="1" cellpadding="3" id="wp975448table975446">
  <caption></caption>
  <tr align="left" valign="top">    <th><a name="wp975448"> </a><div class="pCellHeading">
Parameter
</div>
</th>
    <th><a name="wp975450"> </a><div class="pCellHeading">
Action to be performed
</div>
</th>
</tr>
  <tr align="left" valign="top">    <td><a name="wp975452"> </a><div class="pCellBody">
AC_DOWNLOADURL
</div>
</td>
    <td><div class="pSmartList1"><ul class="pSmartList1">
<a name="wp975457"> </a><div class="pSmartList1"><li>Specify the BMC Client Management server name on which the <b class="cBold">.zip</b> file that contains the data to be imported is stored.</li></div>
<a name="wp975461"> </a><div class="pSmartList1"><li>Specify the BMC Client Management server port that is configured for downloading the <b class="cBold">.zip</b> file that contains the data to be imported.</li></div>
</ul></div>
<a name="wp975462"> </a><div class="pCellBody">
You must enter the URL in the following format:
</div>
<a name="wp975463"> </a><div class="pCellBody">
<b class="cBold">https://</b><em style="font-style: italic" class="cEmphasis">BCMServerName</em><span style="font-style: normal">:</span><em class="cEmphasis">Port</em>
</div>
<a name="wp975464"> </a><div class="pCellBody">
In this URL, you must replace <em class="cEmphasis">BCMServerName</em> with the actual BMC Client Management server name and <em class="cEmphasis">Port</em> with the actual port from which the <b class="cBold">.zip</b> file must be downloaded.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td><a name="wp975469"> </a><div class="pCellBody">
AC_ENDPOINT
</div>
</td>
    <td><div class="pSmartList1"><ul class="pSmartList1">
<a name="wp975474"> </a><div class="pSmartList1"><li>Specify the BMC Client Management server name from which you are importing data.</li></div>
<a name="wp975478"> </a><div class="pSmartList1"><li>Specify the BMC Client Management server port that is configured for the BMC Remedyforce external integration.</li></div>
<a name="wp975482"> </a><div class="pSmartList1"><li>to be imported.</li></div>
</ul></div>
<a name="wp975483"> </a><div class="pCellBody">
You must enter the URL in the following format:
</div>
<a name="wp975484"> </a><div class="pCellBody">
<b style="font-weight: bold" class="cBold">https://</b><em style="font-style: italic; font-weight: normal" class="cEmphasis">BCMServerName</em><span style="font-style: normal; font-weight: bold">:</span><em style="font-style: italic; font-weight: normal" class="cEmphasis">Port</em><span style="font-style: normal">/api/1</span>
</div>
<a name="wp975485"> </a><div class="pCellBody">
In this URL, you must replace <em class="cEmphasis">BCMServerName</em> with the actual BMC Client Management server name to which the Pentaho job sends the REST request and <em class="cEmphasis">port</em> with the actual port that is configured for sending the REST request.
</div>
<hr size="2" class="NoteRule"/><a name="wp975489"> </a><p class="pCellNote"><span style="color: #003366">Note:&#160; </span> If you provide a secure URL, ensure that the SSL certificate that is installed on the port is certified by a Certificate Authority (CA).</p><hr size="2" class="NoteRule"/></td>
</tr>
  <tr align="left" valign="top">    <td><a name="wp975491"> </a><div class="pCellBody">
AC_USERNAME
</div>
</td>
    <td><a name="wp975496"> </a><div class="pCellBody">
Specify the user name of the BMC Client Management administrator that you have configured for the BMC Remedyforce external integration. For more information, see <a href="javascript:WWHClickedPopup('BMC_Remedyforce_help', 'importing_data-48.htm#wp976230');" onMouseOver="WWHShowPopup('BMC_Remedyforce_help', 'importing_data-48.htm#wp976230', (document.all||document.getElementById||document.layers)?event:null);" onMouseOut="WWHHidePopup();">Configuring the BMC Remedyforce external integration on the BMC Client Management server</a>.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td><a name="wp975504"> </a><div class="pCellBody">
AC_PASSWORD
</div>
</td>
    <td><a name="wp975509"> </a><div class="pCellBody">
Specify the password of the BMC Client Management administrator that you have configured for the BMC Remedyforce external integration. For more information, see <a href="javascript:WWHClickedPopup('BMC_Remedyforce_help', 'importing_data-48.htm#wp976230');" onMouseOver="WWHShowPopup('BMC_Remedyforce_help', 'importing_data-48.htm#wp976230', (document.all||document.getElementById||document.layers)?event:null);" onMouseOut="WWHHidePopup();">Configuring the BMC Remedyforce external integration on the BMC Client Management server</a>.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td><a name="wp975517"> </a><div class="pCellBody">
AC_LANGUAGE
</div>
</td>
    <td><a name="wp975521"> </a><div class="pCellBody">
<em class="cEmphasis">(Optional) </em>Specify the language into which the internal BMC Client Management keywords must be translated for the import. 
</div>
<a name="wp975523"> </a><div class="pCellBody">
The default value for this parameter is English. You can change the value to American, Francais, Deutsch, Japanese, Espanol or Brasileiro. 
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td><a name="wp975525"> </a><div class="pCellBody">
AC_NUMBEROFTRY
</div>
</td>
    <td><a name="wp975527"> </a><div class="pCellBody">
<em class="cEmphasis">(Optional)</em> Specify the number of times the job must check for the availability of the file that contains data to be imported from BMC Client Management.
</div>
<a name="wp975531"> </a><div class="pCellBody">
The default value for this parameter is 3.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td><a name="wp975533"> </a><div class="pCellBody">
AC_WAIT
</div>
</td>
    <td><a name="wp975535"> </a><div class="pCellBody">
<em class="cEmphasis">(Optional)</em> Specify the time interval (in seconds) after which the job must check for the availability of the file that contains data to be imported.
</div>
<a name="wp975536"> </a><div class="pCellBody">
The default value for this parameter is 10.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td><a name="wp975538"> </a><div class="pCellBody">
SFDC_URL
</div>
</td>
    <td><a name="wp975540"> </a><div class="pCellBody">
Confirm that the URL to access Salesforce is specified in this parameter.
</div>
<a name="wp975541"> </a><div class="pCellBody">
The <b class="cBold">https://www.salesforce.com/services/Soap/u/27.0</b> URL is specified by default in this parameter.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td><a name="wp975543"> </a><div class="pCellBody">
SFDC_USER
</div>
</td>
    <td><a name="wp975545"> </a><div class="pCellBody">
Specify the login ID of the Salesforce account that you will use to upload the imported data.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td><a name="wp975547"> </a><div class="pCellBody">
SFDC_PASSWORD
</div>
</td>
    <td><a name="wp975549"> </a><div class="pCellBody">
Specify the password of the Salesforce account that you will use to upload the imported data.
</div>
</td>
</tr>
</table>
</div>
</p>

<a name="wp975551"> </a><p class="pIndented1">
The various transformations and steps in the job use the values that you specify on the <b class="cBold">Parameters</b> tab. If you do not specify values for the <b class="cBold">SFDC_USER</b> and <b class="cBold">SFDC_PASSWORD</b> parameters, you must provide the user name and password of your Salesforce organization in the following steps:
</p>
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp975552"> </a><div class="pSmartList2"><li>Salesforce Input[CMDB_Class] </li></div>
<a name="wp975553"> </a><div class="pSmartList2"><li><span style="font-weight: bold">Upsert Into Class </span><em style="font-style: italic; font-weight: normal" class="cEmphasis">&lt;CI type name&gt;</em><span style="font-style: normal"> </span></li></div>
<a name="wp975554"> </a><p class="pIndented1">
To access these steps, in the job (KJB) file, right-click the <b class="cBold">Import Records in Remedyforce CMDB</b> step, and select <b class="cBold">Open Referenced Object&gt; Transformation</b>.
</p>
<hr size="2" class="NoteRule"/><a name="wp975555"> </a><p class="pNote"><span style="color: #003366"> Note: </span> <span style="font-style: normal">If you are running a combined job, you can specify the parameter values </span><span style="font-style: italic">only</span> in the combined job (for example, <b class="cBold">TransferAssetCoreComputerSystemAndProductinfotoCMDB.kjb</b>). Each job that is included in the combined job uses the parameter values that you specify in the combined job. However, if you specify parameter values in the combined and individual jobs, values specified in the individual jobs take precedence.</p><hr size="2" class="NoteRule"/></ul></div>
<a name="wp975560"> </a><div class="pSmartList1"><li>(Optional) To update the mapping between the data from BMC Client Management and BMC&#160;Remedyforce&#160;CMDB (fields in the <em class="cEmphasis">Base Element</em> object), perform the following steps:</li></div>
<div class="pSmartList2"><ol type="a" class="pSmartList2">
<a name="wp975561"> </a><div class="pSmartList2"><li>Double-click the <b class="cBold">Upsert Into Class </b><em class="cEmphasis">&lt;CI type name&gt;</em> step.</li></div>
<a name="wp975562"> </a><div class="pSmartList2"><li>In the Salesforce Upsert window, enter the user name and password of your Salesforce organization.</li></div>
<a name="wp975563"> </a><div class="pSmartList2"><li>In the <b class="cBold">Fields</b> area, click <b class="cBold">Edit Mapping</b>.</li></div>
<a name="wp975564"> </a><p class="pIndented1">
The <em class="cEmphasis">Certain referenced fields were not found!</em> error message is displayed because of a known issue with the Pentaho Data Integration tool. 
</p>
<a name="wp975565"> </a><div class="pSmartList2"><li>To open the Enter Mapping window, click <b class="cBold">OK</b>.</li></div>
<a name="wp975566"> </a><p class="pIndented1">
The tool removes all referenced fields from the existing mappings. The Pentaho package provided by BMC Remedyforce includes only one referenced field, <b class="cBold">BMCServiceDesk__CMDB_Class__c</b>. The <b class="cBold">CMDB_Class</b> field is no longer available in the <b class="cBold">Mappings</b> column.
</p>
<a name="wp975570"> </a><div class="pSmartList2"><li>In the <b class="cBold">Source fields</b> column, select <b class="cBold">CMDB_Class</b> and click <b class="cBold">Add</b>.</li></div>
<a name="wp975571"> </a><p class="pIndented1">
When you move <b class="cBold">CMDB_Class</b> from the <b class="cBold">Source field</b> column to the <b class="cBold">Mappings</b> column, the <b class="cBold">c</b> in the field name is replaced with <b class="cBold">r</b>. For example, <b class="cBold">BMCServiceDesk__CMDB_Class__c </b>is replaced with <b class="cBold">BMCServiceDesk__CMDB_Class__r</b>.
</p>
<a name="wp975572"> </a><div class="pSmartList2"><li>Update mappings for other fields based on your requirements.</li></div>
<a name="wp975575"> </a><p class="pIndented1">
For information about updating the out-of-the-box mapping, see <a href="javascript:WWHClickedPopup('BMC_Remedyforce_help', 'importing_data-04.htm#wp940645');" onMouseOver="WWHShowPopup('BMC_Remedyforce_help', 'importing_data-04.htm#wp940645', (document.all||document.getElementById||document.layers)?event:null);" onMouseOut="WWHHidePopup();">Field mapping in CMDB 2.0</a>.
</p>
<a name="wp975577"> </a><div class="pSmartList2"><li>To save your settings and close the Enter Mapping window, click <b class="cBold">OK</b>.</li></div>
<a name="wp975578"> </a><div class="pSmartList2"><li>In the Salesforce Input window, in the <b class="cBold">Module field</b> column in the <b class="cBold">Fields</b> area, click <b class="cBold">BMCServiceDesk__CMDB_Class__r</b>, and replace <b class="cBold">r</b> with <b class="cBold">c</b>.</li></div>
<a name="wp975579"> </a><div class="pSmartList2"><li>(Optional) Based on your requirements, replace the Salesforce user name and password with the <b class="cBold">SFDC_USER</b> and <b class="cBold">SFDC_PASSWORD</b> parameters.</li></div>
<a name="wp975580"> </a><div class="pSmartList2"><li>To save your changes and close the Salesforce Upsert window, click <b class="cBold">OK</b>.</li></div>
</ol></div>
<a name="wp975581"> </a><div class="pSmartList1"><li>(Optional) If you have enabled the setting to access your Salesforce organization from limited IP addresses, to enable communication between Salesforce and the Pentaho Data Integration tool, perform the following actions:</li></div>
<div class="pSmartList2"><ol type="a" class="pSmartList2">
<a name="wp975582"> </a><div class="pSmartList2"><li>In your Salesforce organization, navigate to <b class="cBold">Setup &gt; Reset My Security Token</b>.</li></div>
<hr size="2" class="NoteRule"/><a name="wp975583"> </a><p class="pNote"><span style="color: #003366"> Note: </span> If you have enabled the improved Setup user interface in your Salesforce organization, navigate to <b class="cBold">My Settings &gt; Personal &gt; Reset My Security Token</b>. For more information about the improved Setup user interface, see <a href="http://help.salesforce.com/apex/HTViewHelpDoc?id=admin_setup_improved.htm&amp;language=en_US" target="_window">http://help.salesforce.com/apex/HTViewHelpDoc?id=admin_setup_improved.htm&amp;language=en_US</a>.</p><hr size="2" class="NoteRule"/><a name="wp975585"> </a><div class="pSmartList2"><li>Click <b class="cBold">Reset Security Token</b>.</li></div>
<a name="wp975586"> </a><p class="pIndented1">
An email message is sent to your email address stored in Salesforce.
</p>
<a name="wp975587"> </a><div class="pSmartList2"><li>In the <b class="cBold">Password</b> field of the <b style="font-style: normal" class="cBold">Upsert Into Class &lt;</b><span style="font-style: italic">CI type name</span><span style="font-style: normal">&gt;</span> step, append the security token to the password.</li></div>
<a name="wp975588"> </a><p class="pIndented1">
For example, if your password is <b class="cBold">mypassword</b> and your security token is <b class="cBold">XXXXXXXXX</b>, then you must enter <b class="cBold">mypasswordXXXXXXXXX</b> in the <b class="cBold">Password</b> field.
</p>
</ol></div>
<a name="wp975592"> </a><div class="pSmartList1"><li>To save the KTR and KJB files, click <img src="images/pentaho_save.gif" id="wp975590" border="0" hspace="0" vspace="0"/>.</li></div>
<a name="wp975596"> </a><div class="pSmartList1"><li>In the <b class="cBold">KJB file </b>tab, click <img src="images/run_green.gif" id="wp975594" border="0" hspace="0" vspace="0"/>.</li></div>
<a name="wp975597"> </a><div class="pSmartList1"><li>In the Execute a job window, click <b class="cBold">Launch</b>.</li></div>
<a name="wp975598"> </a><p class="pIndented1">
Data is imported into the appropriate CMDB class. 
</p>
<a name="wp975599"> </a><p class="pIndented1">
The first time you run the job, all CIs are imported into the appropriate CMDB class. When you rerun the job, only the new and modified CIs are imported into the CMDB class.
</p>
<a name="wp975606"> </a><p class="pIndented1">
Complete transformations are depicted using <img src="images/pentaho_green_right.gif" id="wp975601" border="0" hspace="0" vspace="0"/>. <img src="images/in_progress_tasks_pentaho.gif" id="wp975604" border="0" hspace="0" vspace="0"/> indicates currently running transformations, and <img src="images/insuccessful_transformations_pentaho.gif" id="wp975608" border="0" hspace="0" vspace="0"/> indicates unsuccessful transformations.
</p>
<a name="wp975610"> </a><div class="pSmartList1"><li>(Optional) To view logs, in the <b class="cBold">Execution results</b> section, click the <b class="cBold">Logging</b> tab. </li></div>
<a name="wp975611"> </a><p class="pIndented1">
All the errors are displayed in red.
</p>
</ol></div>



  <script type="text/javascript" language="JavaScript1.2">
   <!--
    // Clear related topics
    //
    WWHClearRelatedTopics();

   // -->
  </script>
    </blockquote>

    
<hr class="REM"/>

<table align="center" border="0" cellspacing="0" cellpadding="0">
  <tr>
    <td width="577" align="center"><p class="copyright"><span class="copyright style7">This help was last updated for version 20.14.02.021.038 of BMC Remedyforce. You must use this help for information about working on the BMC Remedyforce Home tab only. To access an updated version of  the online help, go to the <a href="http://docs.bmc.com" target="_blank">http://docs.bmc.com</a> and search for your version of BMC Remedyforce.</span>

 </p>
      <p class="copyright">&#169; Copyright  2010-2014
 BMC Software, Inc. All rights reserved.<br/>
        
        Please contact your BMC Remedyforce system administrator if you require support.<br/>
        
        For questions or comments about the documentation, email us at <a href="mailto:doc_feedback@bmc.com">doc_feedback@bmc.com</a>.
        
      </p></td>
  </tr>
</table>



<script type="text/javascript" language="JavaScript1.2">
   <!--
    document.write(WWHRelatedTopicsDivTag() + WWHPopupDivTag() + WWHALinksDivTag());
   // -->
  </script>

  </body>
</html>
