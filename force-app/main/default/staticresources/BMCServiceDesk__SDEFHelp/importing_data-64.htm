

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <meta name="GENERATOR" content="Quadralay WebWorks Publisher 2003 for FrameMaker 8.6.6587.0" />
    <meta name="TEMPLATEBASE" content="BMC_WebWorksHelp_52407" />
    <meta name="LASTUPDATED" content="12/10/14 12:27:59" />
    <title>Importing relationships from BMC Atrium CMDB by using Pentaho packages</title>
    <link rel="StyleSheet" href="Remedy.css" type="text/css" />
    <link rel="StyleSheet" href="catalog.css" type="text/css" />
<script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/context.js"></script>
  <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/towwhdir.js"></script>
  <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/wwhpagef.js"></script>

  <script type="text/javascript" language="JavaScript1.2">
   <!--
    // Set reference to top level help frame
    //
    var  WWHFrame = WWHGetWWHFrame("");
   // -->
  </script>

    <script type="text/javascript" language="JavaScript1.2" src="scripts/expand.js"></script>
    <style type="text/css">
<!--
.style7 {
	color: #FF0000;
	font-weight: bold;
}
-->
    </style>
</head>

  <body onLoad="WWHUpdate();" onUnload="WWHUnload();" onKeyDown="WWHHandleKeyDown((document.all||document.getElementById||document.layers)?event:null);" onKeyPress="WWHHandleKeyPress((document.all||document.getElementById||document.layers)?event:null);" onKeyUp="WWHHandleKeyUp((document.all||document.getElementById||document.layers)?event:null);">

    
    

    <blockquote>
<script type="text/javascript" language="JavaScript1.2">
   WWHFrame.WWHHelp.mRemedyTitle = "Importing relationships from BMC Atrium CMDB by using Pentaho packages";
   WWHFrame.WWHHelp.fRemedyShowTitle();
</script><a name="wp903098"> </a><p class="pBody">Before importing relationships from BMC Atrium CMDB, perform all the actions that are listed in <a href="javascript:WWHClickedPopup('BMC_Remedyforce_help', 'importing_data-60.htm');" onMouseOver="WWHShowPopup('BMC_Remedyforce_help', 'importing_data-60.htm', (document.all||document.getElementById||document.layers)?event:null);" onMouseOut="WWHHidePopup();">Before you import data from BMC Atrium CMDB</a> and import all the CIs from BMC Atrium CMDB.</p>
<a name="wp903140"> </a><p style="text-decoration: none" class="pStepIntro">
To import relationships from BMC Atrium CMDB
</p>

<div class="pSmartList1"><ol type="1" class="pSmartList1">
<a name="wp903409"> </a><div class="pSmartList1"><li>Log on to BMC Atrium Action Request System and access Atrium Integrator Console.</li></div>
<a name="wp903413"> </a><div class="pSmartList1"><li>To launch the Atrium Integrator Spoon, click <img src="images/launch_spoon.gif" id="wp903411" border="0" hspace="0" vspace="0"/>.</li></div>
<a name="wp903421"> </a><div class="pSmartList1"><li>To save the KTR and KJB files in the folder on Atrium Integrator, perform the following steps for each file:</li></div>
<div class="pSmartList2"><ol type="a" class="pSmartList2">
<a name="wp908257"> </a><div class="pSmartList2"><li>Click <b class="cBold">File &gt; Open URL</b> and browse to the folder in which you have saved the job files that you downloaded from BMC Communities.</li></div>
<a name="wp908258"> </a><div class="pSmartList2"><li>Open the <b class="cBold">AtriumtoCMDB_BaseRelationship.kjb</b> and <b class="cBold">AtriumtoCMDB_BaseRelationship.ktr</b> files.</li></div>
<a name="wp903423"> </a><div class="pSmartList2"><li>Click <b class="cBold">File &gt; Save As</b>.</li></div>
<a name="wp903427"> </a><div class="pSmartList2"><li>In the <b class="cBold">Directory</b> field, click <img src="images/repository.gif" id="wp903425" border="0" hspace="0" vspace="0"/> and select the folder in which you have saved the KTR and KJB files for CIs.</li></div>
<a name="wp903428"> </a><div class="pSmartList2"><li>Click <b class="cBold">OK</b>.</li></div>
</ol></div>
<a name="wp903429"> </a><div class="pSmartList1"><li>In the KJB file, double-click the <b class="cBold">AtriumtoCMDB_BaseRelationship</b> step.</li></div>
<a name="wp903431"> </a><div class="pSmartList1"><li>In the Job entry details for this transformation window, in the <b class="cBold">Specify by name and directory</b> option, click <img src="images/save_ktr.gif" id="wp903433" border="0" hspace="0" vspace="0"/>, and select the <b class="cBold">AtriumtoCMDB_BaseRelationship.ktr</b> from the folder where you have saved the KTR file.</li></div>
<a name="wp903436"> </a><div class="pSmartList1"><li>Click <b class="cBold">File &gt; Open</b>, and open the <b class="cBold">AtriumtoCMDB_BaseRelationship.ktr</b> file.</li></div>
<a name="wp903437"> </a><div class="pSmartList1"><li>To enter the information required to access the BMC Remedy AR System from the KTR file, perform the following actions:</li></div>
<div class="pSmartList2"><ol type="a" class="pSmartList2">
<a name="wp903438"> </a><div class="pSmartList2"><li>In the KTR file, double-click <b class="cBold">ARInput</b>.</li></div>
<a name="wp903439"> </a><div class="pSmartList2"><li>In the <b class="cBold">Connection</b> field, click <b class="cBold">Edit</b>.</li></div>
<a name="wp903440"> </a><div class="pSmartList2"><li>In the <b class="cBold">Settings</b> section, enter the BMC Remedy AR System access details.</li></div>
<a name="wp903441"> </a><div class="pSmartList2"><li><em class="cEmphasis">(Optional)</em> To test the connection with the server, click <b class="cBold">Test</b>.</li></div>
<a name="wp903442"> </a><div class="pSmartList2"><li>Click <b class="cBold">OK</b>.</li></div>
</ol></div>
<a name="wp903443"> </a><div class="pSmartList1"><li>To enter the information required to access the SQL server used by BMC Remedy AR System, perform the following steps:</li></div>
<div class="pSmartList2"><ol type="a" class="pSmartList2">
<a name="wp903444"> </a><div class="pSmartList2"><li>Double-click <b class="cBold">Table Source</b>.</li></div>
<a name="wp903445"> </a><div class="pSmartList2"><li>In the <b class="cBold">Connection</b> field, click <b class="cBold">Edit</b>.</li></div>
<a name="wp903446"> </a><div class="pSmartList2"><li>In the <b class="cBold">Database Connection</b> window, in the <b class="cBold">Connection Type</b> list, select <b class="cBold">MS SQL Server</b>.</li></div>
<a name="wp903447"> </a><p class="pIndented1">
If you are using another database type, select the required connection type and enter details in the <b class="cBold">Settings</b> section.
</p>
<a name="wp903448"> </a><div class="pSmartList2"><li>In the <b class="cBold">Settings</b> section, enter the SQL server access details.</li></div>
<a name="wp903449"> </a><div class="pSmartList2"><li><em class="cEmphasis">(Optional)</em> To test the connection with the database, click <b class="cBold">Test</b>.</li></div>
<a name="wp903450"> </a><div class="pSmartList2"><li>Click <b class="cBold">OK</b>.</li></div>
</ol></div>
<a name="wp903451"> </a><div class="pSmartList1"><li>To enter the information required to access your Salesforce organization, perform the following actions:</li></div>
<div class="pSmartList2"><ol type="a" class="pSmartList2">
<a name="wp903456"> </a><div class="pSmartList2"><li>Double-click <b class="cBold">Salesforce Upsert</b>.</li></div>
<a name="wp903457"> </a><div class="pSmartList2"><li>In the <b class="cBold">Connection</b> section, enter the Salesforce organization access details.</li></div>
<a name="wp903458"> </a><div class="pSmartList2"><li><em class="cEmphasis">(Optional)</em> To test the connection, click <b class="cBold">Test connection</b>.</li></div>
<a name="wp903459"> </a><div class="pSmartList2"><li>Click <b class="cBold">OK</b>.</li></div>
<hr size="2" class="NoteRule"/><a name="wp945433"> </a><p class="pNote"><span style="color: #003366"> Note: </span> To enable creating relationships in BMC Remedyforce, do not change the mapping of the <b class="cBold">UniqueCIRelationshipID__c</b>, <b class="cBold">UniqueDestinationCIID__c</b>, and <b class="cBold">UniqueSourceCIID__c</b> fields.</p><hr size="2" class="NoteRule"/></ol></div>
<a name="wp903884"> </a><div class="pSmartList1"><li>If you have created custom relationships in the database used by BMC Atrium CMDB, perform the following actions:</li></div>
<div class="pSmartList2"><ol type="a" class="pSmartList2">
<a name="wp903987"> </a><div class="pSmartList2"><li>In Salesforce, navigate to <b class="cBold">Setup &gt; Create &gt; Objects</b>.</li></div>
<a name="wp904014"> </a><div class="pSmartList2"><li>In the <b class="cBold">Label</b> column, click <b class="cBold">Base Relationship</b>.</li></div>
<a name="wp904026"> </a><div class="pSmartList2"><li>In the <b class="cBold">Custom Fields &amp; Relationship</b>s section, click <b class="cBold">Type</b>.</li></div>
<a name="wp904037"> </a><div class="pSmartList2"><li>On the Base Relationship Custom Field Type page, in the <b class="cBold">Picklist Values</b> section, click <b class="cBold">New</b>.</li></div>
<a name="wp904038"> </a><div class="pSmartList2"><li>Enter the name of the BMC Atrium CMDB custom relationship, and click <b class="cBold">Save</b>.</li></div>
<a name="wp904039"> </a><div class="pSmartList2"><li>Repeat <a href="javascript:WWHClickedPopup('BMC_Remedyforce_help', 'importing_data-64.htm#wp904037');" onMouseOver="WWHShowPopup('BMC_Remedyforce_help', 'importing_data-64.htm#wp904037', (document.all||document.getElementById||document.layers)?event:null);" onMouseOut="WWHHidePopup();">step&#160;d</a> and <a href="javascript:WWHClickedPopup('BMC_Remedyforce_help', 'importing_data-64.htm#wp904038');" onMouseOver="WWHShowPopup('BMC_Remedyforce_help', 'importing_data-64.htm#wp904038', (document.all||document.getElementById||document.layers)?event:null);" onMouseOut="WWHHidePopup();">step&#160;e</a> for all custom relationships that you are importing.</li></div>
<a name="wp904058"> </a><div class="pSmartList2"><li>Navigate to the Atrium Integrator Spoon.</li></div>
<a name="wp904022"> </a><div class="pSmartList2"><li>In the <b class="cBold">AtriumtoCMDB_BaseRelationship.ktr</b> file, double-click the <b class="cBold">Read Response Variable</b> step.</li></div>
<a name="wp904090"> </a><div class="pSmartList2"><li>Copy and paste the last “else if” statement.</li></div>
<a name="wp904171"> </a><p class="pIndented1">
For example, <span style="font-weight: bold">else if</span>(endsWith(ClassIdUpper,&quot;BMC_SETTINGOF&quot;)){TypeScript=&quot;Setting Of&quot;;}
</p>
<a name="wp904166"> </a><div class="pSmartList2"><li>Replace the first class string with the class ID of the custom relationship and the second text string with the value that you have added in the <b class="cBold">Type</b> field, and save the step.</li></div>
<a name="wp904186"> </a><p class="pIndented1">
For example, you are importing the mobile custom relationship type from BMC Atrium CMDB and in the <b class="cBold">Type</b> field, you have added the Atrium Mobile value. In the <b class="cBold">Read Response Variable</b> step, replace the text strings with the following text:
</p>
<a name="wp903887"> </a><p class="pIndented1">
<span style="font-weight: bold">else if</span>(endsWith(ClassIdUpper,&quot;MOBILE&quot;)){TypeScript=&quot;Atrium Mobile&quot;;}
</p>
<a name="wp903888"> </a><p class="pIndented1">
Ensure that the first text string is in uppercase.
</p>
<a name="wp903889"> </a><p class="pIndented1">
In this statement, ClassIdUpper is the name of the custom relationship in BMC Atrium CMDB, and TypeScript is the value that you have entered in the <b class="cBold">Type</b> field.
</p>
<a name="wp931023"> </a><div class="pSmartList2"><li>Repeat <a href="javascript:WWHClickedPopup('BMC_Remedyforce_help', 'importing_data-64.htm#wp904090');" onMouseOver="WWHShowPopup('BMC_Remedyforce_help', 'importing_data-64.htm#wp904090', (document.all||document.getElementById||document.layers)?event:null);" onMouseOut="WWHHidePopup();">step&#160;i</a> and <a href="javascript:WWHClickedPopup('BMC_Remedyforce_help', 'importing_data-64.htm#wp904166');" onMouseOver="WWHShowPopup('BMC_Remedyforce_help', 'importing_data-64.htm#wp904166', (document.all||document.getElementById||document.layers)?event:null);" onMouseOut="WWHHidePopup();">step&#160;j</a> for all custom relationships that you are importing.</li></div>
</ol></div>
<a name="wp903868"> </a><div class="pSmartList1"><li>To save the KTR and KJB files, click <img src="images/pentaho_save.gif" id="wp903461" border="0" hspace="0" vspace="0"/>.</li></div>
<a name="wp903464"> </a><div class="pSmartList1"><li>Navigate back to the Atrium Integrator Console.</li></div>
<a name="wp903468"> </a><div class="pSmartList1"><li>Select the job that you have set up, and click <img src="images/run_job.gif" id="wp903466" border="0" hspace="0" vspace="0"/>.</li></div>
</ol></div>
<a name="wp903469"> </a><p class="pBody">While the data is being imported, the following log files are populated:</p>
<div class="pSmartList1"><ul class="pSmartList1">
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp903470"> </a><div class="pSmartList2"><li>Job-level logs: Created in the Atrium Integrator Console.</li></div>
<a name="wp908274"> </a><div class="pSmartList2"><li>Success, process, and error logs: Created as CSV files in the <b class="cBold">Log Files</b> folder that you created in <a href="javascript:WWHClickedPopup('BMC_Remedyforce_help', 'importing_data-60.htm');" onMouseOver="WWHShowPopup('BMC_Remedyforce_help', 'importing_data-60.htm', (document.all||document.getElementById||document.layers)?event:null);" onMouseOut="WWHHidePopup();">Before you import data from BMC Atrium CMDB</a>. The error log is created only if an error occurs in inserting a record in BMC Remedyforce. The delta_value log stores the time stamp of the last time you imported data. Rejected logs are also created if records with blank unique identifier values exist.</li></div>
</ul></div>
</ul></div>



  <script type="text/javascript" language="JavaScript1.2">
   <!--
    // Clear related topics
    //
    WWHClearRelatedTopics();

   // -->
  </script>
    </blockquote>

    
<hr class="REM"/>

<table align="center" border="0" cellspacing="0" cellpadding="0">
  <tr>
    <td width="577" align="center"><p class="copyright"><span class="copyright style7">This help was last updated for version 20.14.02.021.038 of BMC Remedyforce. You must use this help for information about working on the BMC Remedyforce Home tab only. To access an updated version of  the online help, go to the <a href="http://docs.bmc.com" target="_blank">http://docs.bmc.com</a> and search for your version of BMC Remedyforce.</span>

 </p>
      <p class="copyright">&#169; Copyright  2010-2014
 BMC Software, Inc. All rights reserved.<br/>
        
        Please contact your BMC Remedyforce system administrator if you require support.<br/>
        
        For questions or comments about the documentation, email us at <a href="mailto:doc_feedback@bmc.com">doc_feedback@bmc.com</a>.
        
      </p></td>
  </tr>
</table>



<script type="text/javascript" language="JavaScript1.2">
   <!--
    document.write(WWHRelatedTopicsDivTag() + WWHPopupDivTag() + WWHALinksDivTag());
   // -->
  </script>

  </body>
</html>
