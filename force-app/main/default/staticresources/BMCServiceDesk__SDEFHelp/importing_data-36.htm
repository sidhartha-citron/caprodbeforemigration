

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <meta name="GENERATOR" content="Quadralay WebWorks Publisher 2003 for FrameMaker 8.6.6587.0" />
    <meta name="TEMPLATEBASE" content="BMC_WebWorksHelp_52407" />
    <meta name="LASTUPDATED" content="12/10/14 12:27:59" />
    <title>Importing Salesforce Platform license users with assigned permission sets from an LDAP server</title>
    <link rel="StyleSheet" href="Remedy.css" type="text/css" />
    <link rel="StyleSheet" href="catalog.css" type="text/css" />
<script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/context.js"></script>
  <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/towwhdir.js"></script>
  <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/wwhpagef.js"></script>

  <script type="text/javascript" language="JavaScript1.2">
   <!--
    // Set reference to top level help frame
    //
    var  WWHFrame = WWHGetWWHFrame("");
   // -->
  </script>

    <script type="text/javascript" language="JavaScript1.2" src="scripts/expand.js"></script>
    <style type="text/css">
<!--
.style7 {
	color: #FF0000;
	font-weight: bold;
}
-->
    </style>
</head>

  <body onLoad="WWHUpdate();" onUnload="WWHUnload();" onKeyDown="WWHHandleKeyDown((document.all||document.getElementById||document.layers)?event:null);" onKeyPress="WWHHandleKeyPress((document.all||document.getElementById||document.layers)?event:null);" onKeyUp="WWHHandleKeyUp((document.all||document.getElementById||document.layers)?event:null);">

    
    

    <blockquote>
<script type="text/javascript" language="JavaScript1.2">
   WWHFrame.WWHHelp.mRemedyTitle = "Importing Salesforce Platform license users with assigned permission sets from an LDAP server";
   WWHFrame.WWHHelp.fRemedyShowTitle();
</script><a name="wp962404"> </a><p class="pBody">Before importing data from an LDAP server, perform all of the actions in <a href="javascript:WWHClickedPopup('BMC_Remedyforce_help', 'importing_data-33.htm');" onMouseOver="WWHShowPopup('BMC_Remedyforce_help', 'importing_data-33.htm', (document.all||document.getElementById||document.layers)?event:null);" onMouseOut="WWHHidePopup();">Before you import data from LDAP server</a>.</p>
<a name="wp966859"> </a><p class="pBody">By using the LDAP Pentaho package, you can import users who are assigned the Salesforce Platform license and ServiceDesk Client permission set by default. The BMC Remedyforce package license is also assigned to the new imported users.</p>
<hr size="2" class="NoteRule"/><a name="wp962692"> </a><p class="pNote"><span style="color: #003366"> Note: </span> You cannot assign a permission set to an existing user by using this Pentaho package. However, you can use the KTR file provided in the <b class="cBold">InsertPermissions</b> folder. For more information, see <a href="javascript:WWHClickedPopup('BMC_Remedyforce_help', 'importing_data-36.htm#wp966090');" onMouseOver="WWHShowPopup('BMC_Remedyforce_help', 'importing_data-36.htm#wp966090', (document.all||document.getElementById||document.layers)?event:null);" onMouseOut="WWHHidePopup();">Assigning permission sets to existing users by using a KTR file</a>. You can change the permission set that you want to assign to the imported users.</p><hr size="2" class="NoteRule"/><a name="wp962408"> </a><p style="text-decoration: none" class="pStepIntro">
To import Salesforce Platform license users with assigned permission sets from an LDAP server by using Pentaho
</p>

<div class="pSmartList1"><ol type="1" class="pSmartList1">
<a name="wp962409"> </a><div class="pSmartList1"><li>In the Pentaho Data Integration tool, create a job file to import the data.</li></div>
<a name="wp962413"> </a><p class="pIndented1">
A sample job file is provided to you on the BMC Communities BMC Remedyforce page. To download the sample job file from the BMC Communities page, click <a href="https://communities.bmc.com/docs/DOC-32288" target="_window">https://communities.bmc.com/docs/DOC-32288</a>.
</p>
<a name="wp962415"> </a><p class="pIndented1">
BMC recommends that you download the job files in the folder in which you have unzipped the Pentaho Data Integration tool. 
</p>
<a name="wp962416"> </a><div class="pSmartList1"><li>To launch the Pentaho Data Integration tool, in the <b style="font-style: normal" class="cBold">\pdi-ce-4.</b><span style="font-style: italic">x</span><span style="font-style: normal">.0-stable\data-integration</span> or \<b class="cBold">pdi-ce-5.0.1.A-stable\data-integration</b> folder, double-click the <b class="cBold">Spoon.bat</b> file, and open the required KJB file.</li></div>
<a name="wp962417"> </a><div class="pSmartList1"><li>To open the KTR file, right-click the <b class="cBold">Transfer LookUp Excel Export </b>step, and select <b class="cBold">Open transformation</b>.</li></div>
<a name="wp962418"> </a><div class="pSmartList1"><li>To provide details to access your Salesforce organization, perform the following actions:</li></div>
<div class="pSmartList2"><ol type="a" class="pSmartList2">
<a name="wp962420"> </a><div class="pSmartList2"><li>In the <b class="cBold">Transfer LookUp Excel Export</b> tab, double-click the <b class="cBold">Salesforce Input [For Profile]</b> step.</li></div>
<a name="wp962421"> </a><div class="pSmartList2"><li>Enter the username and password details in the respective fields.</li></div>
<a name="wp962423"> </a><div class="pSmartList2"><li><em class="cEmphasis">(Optional)</em> To verify the connection, click <b class="cBold">Test connection</b>.</li></div>
<a name="wp967110"> </a><div class="pSmartList2"><li>To save the KTR file, click <img src="images/pentaho_save.gif" id="wp967108" border="0" hspace="0" vspace="0"/>.</li></div>
<a name="wp962431"> </a><div class="pSmartList2"><li>Repeat <a href="javascript:WWHClickedPopup('BMC_Remedyforce_help', 'importing_data-36.htm#wp962420');" onMouseOver="WWHShowPopup('BMC_Remedyforce_help', 'importing_data-36.htm#wp962420', (document.all||document.getElementById||document.layers)?event:null);" onMouseOut="WWHHidePopup();">step&#160;a</a> to <a href="javascript:WWHClickedPopup('BMC_Remedyforce_help', 'importing_data-36.htm#wp967110');" onMouseOver="WWHShowPopup('BMC_Remedyforce_help', 'importing_data-36.htm#wp967110', (document.all||document.getElementById||document.layers)?event:null);" onMouseOut="WWHHidePopup();">step&#160;d</a> for the following:</li></div>
<div class="pSmartList3"><ul class="pSmartList3">
<a name="wp968647"> </a><div class="pSmartList3"><li><b class="cBold">Salesforce Input[For Profile]</b></li></div>
<a name="wp969252"> </a><div class="pSmartList3"><li><b class="cBold">Salesforce Input[From Account]</b></li></div>
<a name="wp968655"> </a><div class="pSmartList3"><li><b class="cBold">Salesforce Input [From UserRole]</b></li></div>
<a name="wp969192"> </a><div class="pSmartList3"><li><b class="cBold">Salesforce Input[For User Account Link]</b></li></div>
<a name="wp968667"> </a><div class="pSmartList3"><li><b class="cBold">Salesforce Input[From Permission Set]</b></li></div>
<a name="wp969277"> </a><div class="pSmartList3"><li><b class="cBold">Salesforce Input [From User]</b></li></div>
</ul></div>
<a name="wp963757"> </a><div class="pSmartList2"><li>In the KJB file, right-click the <b class="cBold">Assign Account to users</b> step, and select <b class="cBold">Open Transformation</b>.</li></div>
<a name="wp963760"> </a><div class="pSmartList2"><li>On the <b class="cBold">TransferAccountsToUsers</b> tab, double-click the <b class="cBold">Salesforce Insert [For User Account Link]</b> step.</li></div>
<a name="wp963768"> </a><div class="pSmartList2"><li>Enter the username and password details in the respective fields.</li></div>
<a name="wp967166"> </a><div class="pSmartList2"><li><em class="cEmphasis">(Optional)</em> To verify the connection, click <b class="cBold">Test connection</b>.</li></div>
<a name="wp967171"> </a><div class="pSmartList2"><li>To save the file, click <img src="images/pentaho_save.gif" id="wp967169" border="0" hspace="0" vspace="0"/>.</li></div>
<a name="wp967178"> </a><div class="pSmartList2"><li>Repeat <a href="javascript:WWHClickedPopup('BMC_Remedyforce_help', 'importing_data-36.htm#wp963757');" onMouseOver="WWHShowPopup('BMC_Remedyforce_help', 'importing_data-36.htm#wp963757', (document.all||document.getElementById||document.layers)?event:null);" onMouseOut="WWHHidePopup();">step&#160;f</a> to <a href="javascript:WWHClickedPopup('BMC_Remedyforce_help', 'importing_data-36.htm#wp967171');" onMouseOver="WWHShowPopup('BMC_Remedyforce_help', 'importing_data-36.htm#wp967171', (document.all||document.getElementById||document.layers)?event:null);" onMouseOut="WWHHidePopup();">step&#160;j</a> for the <b class="cBold">Salesforce Update</b> step.</li></div>
<a name="wp963993"> </a><div class="pSmartList2"><li>In the KJB file, right-click the <b class="cBold">Assign Permission sets to the new users</b> step, and select <b class="cBold">Open Transformation</b>.</li></div>
<a name="wp963994"> </a><div class="pSmartList2"><li>On the <b class="cBold">AssignPermissionSets</b> tab, double-click the <b class="cBold">Salesforce Insert</b> step.</li></div>
<a name="wp963995"> </a><div class="pSmartList2"><li>Enter the username and password details in the respective fields.</li></div>
<a name="wp963996"> </a><div class="pSmartList2"><li><em class="cEmphasis">(Optional)</em> To verify the connection, click <b class="cBold">Test connection</b>.</li></div>
<a name="wp963998"> </a><div class="pSmartList2"><li>To save the KTR file, click <img src="images/pentaho_save.gif" id="wp969283" border="0" hspace="0" vspace="0"/>.</li></div>
<a name="wp969293"> </a><div class="pSmartList2"><li>In the KJB file, right-click the <b class="cBold">Assign Remedyforce License to the new user</b> step, and select <b class="cBold">Open Transformation</b>.</li></div>
<a name="wp969294"> </a><div class="pSmartList2"><li>On the <b class="cBold">AssignRemedyforceLicense</b> tab, double-click the <b class="cBold">Salesforce Update</b> step.</li></div>
<a name="wp969299"> </a><div class="pSmartList2"><li>Enter the username and password details in the respective fields.</li></div>
<a name="wp969300"> </a><div class="pSmartList2"><li><em class="cEmphasis">(Optional)</em> To verify the connection, click <b class="cBold">Test connection</b>.</li></div>
<a name="wp969313"> </a><div class="pSmartList2"><li>To save the KTR file, click <img src="images/pentaho_save.gif" id="wp969316" border="0" hspace="0" vspace="0"/>.</li></div>
</ol></div>
<a name="wp967498"> </a><div class="pSmartList1"><li>To provide details to access the LDAP server, perform the following actions:</li></div>
<div class="pSmartList2"><ol type="a" class="pSmartList2">
<a name="wp967499"> </a><div class="pSmartList2"><li>In the KJB file, right-click the <b class="cBold">Update Salesforce with LDAP user information </b>step, and select <b class="cBold">Open transformation</b>.</li></div>
<a name="wp962434"> </a><div class="pSmartList2"><li>On the <b class="cBold">TransferLDAPInfo </b>tab, double-click the <b class="cBold">LDAP input</b> step.</li></div>
<a name="wp962435"> </a><div class="pSmartList2"><li>In the LDAP Input window, enter the host, username, and password details in the respective fields.</li></div>
<a name="wp962436"> </a><div class="pSmartList2"><li><em class="cEmphasis">(Optional)</em> To verify the connection, click <b class="cBold">Test connection</b>.</li></div>
<a name="wp962437"> </a><div class="pSmartList2"><li><em class="cEmphasis">(Optional)</em> To fetch more fields from the LDAP server, in the <b class="cBold">Fields</b> tab, click <b class="cBold">Get Fields</b>.</li></div>
<a name="wp962438"> </a><div class="pSmartList2"><li><em class="cEmphasis">(Optional) </em>In the <b class="cBold">Dynamic account, profile and permission set assignment</b> step, you can modify or assign default value for account, profile, permission set, BMC Remedyforce package license, role, and custom values for specific condition in the script. You can also modify the default value for <b class="cBold">Locale</b>, <b class="cBold">Language</b>, <b class="cBold">TimeZone</b>, and <b class="cBold">EmailEncoding</b> fields. When you double-click the Dynamic account and profile assignment step, the Script Values / Mod window is displayed. You can refer to the commented examples provided to you in the Script Values / Mod window.</li></div>
<a name="wp965464"> </a><p class="pIndented1">
To update the default permission set assigned to the imported users, update the value in the <em class="cEmphasis">permissionSet</em> variable. To disable BMC Remedyforce package license assignment to imported users, update the value of the <em class="cEmphasis">bAssignRemedyforceLic</em> variable to <em class="cEmphasis">false</em>.
</p>
<a name="wp962439"> </a><div class="pSmartList2"><li>Double-click the <b class="cBold">Salesforce Upsert [For User]</b> step, and enter your Salesforce organization username and password.</li></div>
<hr size="2" class="NoteRule"/><a name="wp967736"> </a><p class="pNote"><span style="color: #003366"> Note: </span> If you are using a previous versions of the Pentaho data integration tool (for example, Pentaho 4.1 or 4.2), you must modify the Salesforce Webservice URL to https://www.salesforce.com/services/Soap/u/20.0.</p><hr size="2" class="NoteRule"/><a name="wp967737"> </a><div class="pSmartList2"><li><em class="cEmphasis">(Optional) </em>To update the predefined mapping between the LDAP fields and the Salesforce client user import object, click <b class="cBold">Edit Mapping</b>. </li></div>
<a name="wp967740"> </a><p class="pIndented1">
For more information about mapping, see <a href="javascript:WWHClickedPopup('BMC_Remedyforce_help', 'importing_data-05.htm');" onMouseOver="WWHShowPopup('BMC_Remedyforce_help', 'importing_data-05.htm', (document.all||document.getElementById||document.layers)?event:null);" onMouseOut="WWHHidePopup();">Overview of how users are imported from LDAP servers</a>.
</p>
<a name="wp962445"> </a><div class="pSmartList2"><li><em class="cEmphasis">(Optional)</em> To verify the connection, click <b class="cBold">Test connection</b>.</li></div>
<a name="wp964037"> </a><div class="pSmartList2"><li>Click <b class="cBold">OK</b>.</li></div>
</ol></div>
<a name="wp962455"> </a><div class="pSmartList1"><li><em class="cEmphasis">(Optional)</em> If you have enabled the setting to access your Salesforce organization from limited IP addresses, to enable communication between Salesforce and the Pentaho Data Integration tool, perform the following actions:</li></div>
<div class="pSmartList2"><ol type="a" class="pSmartList2">
<a name="wp962456"> </a><div class="pSmartList2"><li>In Salesforce, navigate to <b class="cBold">Setup &gt; Reset My Security Token</b>.</li></div>
<hr size="2" class="NoteRule"/><a name="wp967076"> </a><p class="pNote"><span style="color: #003366"> Note: </span> If you have enabled the improved Setup user interface in your Salesforce organization, navigate to <b class="cBold">My Settings &gt; Personal &gt; Reset My Security Token</b>. For more information, see <a href="http://help.salesforce.com/apex/HTViewHelpDoc?id=admin_setup_improved.htm&amp;language=en_US" target="_window">http://help.salesforce.com/apex/HTViewHelpDoc?id=admin_setup_improved.htm&amp;language=en_US</a>.</p><hr size="2" class="NoteRule"/><a name="wp967078"> </a><div class="pSmartList2"><li>Click <b class="cBold">Reset Security Token.</b> An email message is sent to your email address stored in Salesforce.</li></div>
<a name="wp962460"> </a><div class="pSmartList2"><li>In the <b class="cBold">Password</b> field of the <b style="font-style: normal" class="cBold">Upsert into class &lt;</b><span style="font-style: italic">CI type name</span><span style="font-style: normal">&gt;</span> step, append the security token to the password.</li></div>
<a name="wp962461"> </a><p class="pIndented1">
For example, if your password is <b class="cBold">mypassword</b> and your security token is <b class="cBold">XXXXXXXXX</b>, then you must enter <b class="cBold">mypasswordXXXXXXXXX</b> in the <b class="cBold">Password</b> field.
</p>
</ol></div>
<a name="wp962465"> </a><div class="pSmartList1"><li>To save the KTR and KJB files, click <img src="images/pentaho_save.gif" id="wp962463" border="0" hspace="0" vspace="0"/>.</li></div>
<a name="wp962469"> </a><div class="pSmartList1"><li>In the KJB file, click <img src="images/run_green.gif" id="wp962467" border="0" hspace="0" vspace="0"/>.</li></div>
<a name="wp962470"> </a><div class="pSmartList1"><li>In the Execute a job window, click <b class="cBold">Launch</b>.</li></div>
<a name="wp962477"> </a><p class="pIndented1">
Transformation status is indicated by using the following icons: 
</p>
<div class="pSmartList2"><ul class="pSmartList2">
<div class="pSmartList3"><ul class="pSmartList3">
<a name="wp968053"> </a><div class="pSmartList3"><li><img src="images/pentaho_green_right.gif" id="wp962472" border="0" hspace="0" vspace="0"/> — Complete</li></div>
<a name="wp968406"> </a><div class="pSmartList3"><li><img src="images/in_progress_tasks_pentaho.gif" id="wp968404" border="0" hspace="0" vspace="0"/> — Running </li></div>
<a name="wp968410"> </a><div class="pSmartList3"><li><img src="images/insuccessful_transformations_pentaho.gif" id="wp968408" border="0" hspace="0" vspace="0"/> — Unsuccessful</li></div>
</ul></div>
</ul></div>
<a name="wp968411"> </a><div class="pSmartList1"><li><em class="cEmphasis">(Optional) </em>To view logs, in the <b class="cBold">Execution results</b> section, click the <b class="cBold">Logging</b> tab. </li></div>
<a name="wp968369"> </a><p class="pIndented1">
All errors are displayed in red.
</p>
<a name="wp962486"> </a><div class="pSmartList1"><li><em class="cEmphasis">(Optional) </em>To schedule import jobs, see <a href="javascript:WWHClickedPopup('BMC_Remedyforce_help', 'importing_data-69.htm');" onMouseOver="WWHShowPopup('BMC_Remedyforce_help', 'importing_data-69.htm', (document.all||document.getElementById||document.layers)?event:null);" onMouseOut="WWHHidePopup();">Scheduling import jobs</a>.</li></div>
</ol></div>
<a name="wp966090"> </a><h4 class="pHeading3">
Assigning permission sets to existing users by using a KTR file
</h4>
<a name="wp966103"> </a><p class="pBody">To assign permission sets to existing users by using the KTR file provided in the <b class="cBold">InsertPermissions</b> folder, you need the AssigneeId of users and the IDs of the permission sets that you want to assign to the users.</p>
<a name="wp966108"> </a><p style="text-decoration: none" class="pStepIntro">
To assign permission sets to existing users by using a KTR file
</p>

<div class="pSmartList1"><ol type="1" class="pSmartList1">
<a name="wp966098"> </a><div class="pSmartList1"><li>From the <b class="cBold">InsertPermissions</b> folder, double-click the <b class="cBold">PermissionSetAssignment.csv</b> file, and enter the user IDs (AssigneeIds) and the permission set IDs.</li></div>
<a name="wp966168"> </a><div class="pSmartList1"><li>To launch the Pentaho Data Integration tool, in the <b style="font-style: normal" class="cBold">\pdi-ce-4.</b><span style="font-style: italic">x</span><span style="font-style: normal">.0-stable\data-integration</span> or \<b class="cBold">pdi-ce-5.0.1.A-stable\data-integration</b> folder, double-click the <b class="cBold">Spoon.bat</b> file.</li></div>
<a name="wp966054"> </a><div class="pSmartList1"><li>To open the KTR file to assign permission sets to existing users, open the <b class="cBold">InsertPermissionSets.ktr</b> file.</li></div>
<a name="wp966186"> </a><div class="pSmartList1"><li>In the <b class="cBold">InsertPermissionSets.ktr</b> file, double-click the <b class="cBold">Salesforce Insert</b> step, and enter the user name and password of your Salesforce organization.</li></div>
<a name="wp966228"> </a><div class="pSmartList1"><li>To save the file, click <img src="images/pentaho_save.gif" id="wp966226" border="0" hspace="0" vspace="0"/>.</li></div>
<a name="wp966232"> </a><div class="pSmartList1"><li>To run the KTR file, click <img src="images/run_green.gif" id="wp966230" border="0" hspace="0" vspace="0"/>.</li></div>
</ol></div>



  <script type="text/javascript" language="JavaScript1.2">
   <!--
    // Clear related topics
    //
    WWHClearRelatedTopics();

   // -->
  </script>
    </blockquote>

    
<hr class="REM"/>

<table align="center" border="0" cellspacing="0" cellpadding="0">
  <tr>
    <td width="577" align="center"><p class="copyright"><span class="copyright style7">This help was last updated for version 20.14.02.021.038 of BMC Remedyforce. You must use this help for information about working on the BMC Remedyforce Home tab only. To access an updated version of  the online help, go to the <a href="http://docs.bmc.com" target="_blank">http://docs.bmc.com</a> and search for your version of BMC Remedyforce.</span>

 </p>
      <p class="copyright">&#169; Copyright  2010-2014
 BMC Software, Inc. All rights reserved.<br/>
        
        Please contact your BMC Remedyforce system administrator if you require support.<br/>
        
        For questions or comments about the documentation, email us at <a href="mailto:doc_feedback@bmc.com">doc_feedback@bmc.com</a>.
        
      </p></td>
  </tr>
</table>



<script type="text/javascript" language="JavaScript1.2">
   <!--
    document.write(WWHRelatedTopicsDivTag() + WWHPopupDivTag() + WWHALinksDivTag());
   // -->
  </script>

  </body>
</html>
