

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <meta name="GENERATOR" content="Quadralay WebWorks Publisher 2003 for FrameMaker 8.6.6587.0" />
    <meta name="TEMPLATEBASE" content="BMC_WebWorksHelp_52407" />
    <meta name="LASTUPDATED" content="12/10/14 12:27:59" />
    <title>Introduction to KJB and KTR files for BMC BladeLogic Client Automation</title>
    <link rel="StyleSheet" href="Remedy.css" type="text/css" />
    <link rel="StyleSheet" href="catalog.css" type="text/css" />
<script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/context.js"></script>
  <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/towwhdir.js"></script>
  <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/wwhpagef.js"></script>

  <script type="text/javascript" language="JavaScript1.2">
   <!--
    // Set reference to top level help frame
    //
    var  WWHFrame = WWHGetWWHFrame("");
   // -->
  </script>

    <script type="text/javascript" language="JavaScript1.2" src="scripts/expand.js"></script>
    <style type="text/css">
<!--
.style7 {
	color: #FF0000;
	font-weight: bold;
}
-->
    </style>
</head>

  <body onLoad="WWHUpdate();" onUnload="WWHUnload();" onKeyDown="WWHHandleKeyDown((document.all||document.getElementById||document.layers)?event:null);" onKeyPress="WWHHandleKeyPress((document.all||document.getElementById||document.layers)?event:null);" onKeyUp="WWHHandleKeyUp((document.all||document.getElementById||document.layers)?event:null);">

    
    

    <blockquote>
<script type="text/javascript" language="JavaScript1.2">
   WWHFrame.WWHHelp.mRemedyTitle = "Introduction to KJB and KTR files for BMC BladeLogic Client Automation";
   WWHFrame.WWHHelp.fRemedyShowTitle();
</script><a name="wp813054"> </a><p class="pBody">In Pentaho, metadata is stored in XML format in the file system as KTR (transformations) or KJB files (jobs).</p>
<a name="wp916840"> </a><p class="pBody">Depending upon the CMDB version that you are using, you must use different Pentaho package folders. For more information about which Pentaho folder is applicable to you, see <a href="javascript:WWHClickedPopup('BMC_Remedyforce_help', 'importing_data-06.htm');" onMouseOver="WWHShowPopup('BMC_Remedyforce_help', 'importing_data-06.htm', (document.all||document.getElementById||document.layers)?event:null);" onMouseOut="WWHHidePopup();">Pentaho packages for CMDB 1.0 and 2.0</a>.</p>
<a name="wp813092"> </a><p class="pBody">A KTR file contains a single transformation. The KTR files that are provided to you include the following transformations for all the CI types:</p>
<a name="wp916921"> </a><p class="pBodyRelative"></p>
<div align="left">
<table border="1" cellpadding="3" id="wp916927table916925">
  <caption></caption>
  <tr align="left" valign="top">    <th><a name="wp916927"> </a><div class="pCellHeading">
Step
</div>
</th>
    <th><a name="wp916929"> </a><div class="pCellHeading">
Description
</div>
</th>
</tr>
  <tr align="left" valign="top">    <td><a name="wp916931"> </a><div class="pCellBody">
Delta timestamp
</div>
</td>
    <td><a name="wp916933"> </a><div class="pCellBody">
Reads the saved time stamp.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td><a name="wp916935"> </a><div class="pCellBody">
BBCA input
</div>
</td>
    <td><a name="wp916937"> </a><div class="pCellBody">
An SQL query that fetches information from BMC BladeLogic Client Automation based on the stored time stamp.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td><a name="wp916939"> </a><div class="pCellBody">
Transform BBCA variables
</div>
</td>
    <td><a name="wp916941"> </a><div class="pCellBody">
Facilitates JavaScript transformations, such as appending or trimming fields.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td><a name="wp916943"> </a><div class="pCellBody">
Upsert into class &lt;<em class="cEmphasis">CI type name</em>&gt;
</div>
</td>
    <td><a name="wp916945"> </a><div class="pCellBody">
Accepts the destination of the data, the credentials for the Salesforce organization where you want to save the imported data.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td><a name="wp917532"> </a><div class="pCellBody">
<em class="cEmphasis">(For CMDB 2.0 only)</em> Salesforce Input[CMDB_Class]
</div>
</td>
    <td><a name="wp917534"> </a><div class="pCellBody">
Accepts the access details of the Salesforce organization to fetch the BMC Remedyforce CMDB classes details.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td><a name="wp916951"> </a><div class="pCellBody">
Success rows
</div>
</td>
    <td><a name="wp916953"> </a><div class="pCellBody">
Stores the rows that are imported successfully.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td><a name="wp916955"> </a><div class="pCellBody">
Failure rows
</div>
</td>
    <td><a name="wp916957"> </a><div class="pCellBody">
Stores the rows that are not imported, error code, error description, and error fields.
</div>
</td>
</tr>
</table>
</div>
<p class="pBodyRelative">
</p>

<a name="wp813094"> </a><p class="pBody">A job file contains a series of transformations. A KJB file that is provided to you includes the following steps:</p>
<a name="wp926543"> </a><p class="pBodyRelative"></p>
<div align="left">
<table border="1" cellpadding="3" id="wp926549table926547">
  <caption></caption>
  <tr align="left" valign="top">    <th><a name="wp926549"> </a><div class="pCellHeading">
Step
</div>
</th>
    <th><a name="wp926551"> </a><div class="pCellHeading">
Description
</div>
</th>
</tr>
  <tr align="left" valign="top">    <td><a name="wp926553"> </a><div class="pCellBody">
Check If Delta Timestamp File Exists
</div>
</td>
    <td><a name="wp926555"> </a><div class="pCellBody">
Checks if any time stamp file exists.
</div>
<a name="wp926604"> </a><div class="pCellBody">
The Pentaho package utilizes a time stamp file to determine which records were added or modified since the last time the job was run. This step is used for incremental import.
</div>
<a name="wp926626"> </a><div class="pCellBody">
If a time stamp file does not exist, the Create the initial time stamp file step is executed; otherwise, the <b style="font-style: normal" class="cBold">Update staging table with BBCA &lt;</b><span style="font-style: italic">CI type name&gt;</span><span style="font-style: normal"> information</span> or <b style="font-style: normal" class="cBold">Update BE table with BBCA &lt;</b><span style="font-style: italic">CI type name</span><span style="font-style: normal">&gt; Information</span> step.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td><a name="wp926557"> </a><div class="pCellBody">
Create the initial time stamp file
</div>
</td>
    <td><a name="wp926559"> </a><div class="pCellBody">
Creates the time stamp file to record the time of import. This step is executed only if you are importing for the first time or deleted the existing time stamp file.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td><a name="wp926561"> </a><div class="pCellBody">
<em class="cEmphasis">(For CMDB 1.0 only)</em> Update staging table with BBCA &lt;<em class="cEmphasis">CI type name&gt;</em> information
</div>
</td>
    <td><a name="wp926563"> </a><div class="pCellBody">
Transfers data from BMC BladeLogic Client Automation to the BMC Remedyforce CMDB by using staging table.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td><a name="wp926565"> </a><div class="pCellBody">
<em class="cEmphasis">(For CMDB 2.0 only)</em> Update BE table with BBCA &lt;<em class="cEmphasis">CI type name</em>&gt; Information
</div>
</td>
    <td><a name="wp926567"> </a><div class="pCellBody">
Transfers data from BMC BladeLogic Client Automation to the Base Element in the BMC Remedyforce CMDB.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td><a name="wp926569"> </a><div class="pCellBody">
Store the current timestamp
</div>
</td>
    <td><a name="wp926571"> </a><div class="pCellBody">
If the importing of data is successful, the time of import is saved.
</div>
<a name="wp926783"> </a><div class="pCellBody">
For example, the ComputerSystem job file (<b class="cBold">TransferBBCAComputerSystemInfotoCMDB.kjb</b>) contains the following transformation KTR files:
</div>
<div class="pSmartList1"><ul class="pSmartList1">
<a name="wp926784"> </a><div class="pSmartList1"><li>CreateInitialTimeStampedFile.ktr</li></div>
<a name="wp926785"> </a><div class="pSmartList1"><li>TransferBBCAComputerSystemInfotoCMDB.ktr</li></div>
<a name="wp926786"> </a><div class="pSmartList1"><li>StoreComputerSystemInfoTimestamp.ktr</li></div>
</ul></div>
</td>
</tr>
</table>
</div>
<p class="pBodyRelative">
</p>

<a name="wp812886"> </a><p class="pBody">The KTR files contain mapping of the fields in BMC BladeLogic Client Automation to the fields in the Remedyforce CMDB. In CMDB 1.0, fields are mapped to the CMDB staging object that contains a flat structure of all the fields of the CMDB database as columns. The imported data is first saved into the CMDB staging object before being saved in the CMDB database. In CMDB 2.0, the imported data is saved in CMDB directly.</p>



  <script type="text/javascript" language="JavaScript1.2">
   <!--
    // Clear related topics
    //
    WWHClearRelatedTopics();

   // -->
  </script>
    </blockquote>

    
<hr class="REM"/>

<table align="center" border="0" cellspacing="0" cellpadding="0">
  <tr>
    <td width="577" align="center"><p class="copyright"><span class="copyright style7">This help was last updated for version 20.14.02.021.038 of BMC Remedyforce. You must use this help for information about working on the BMC Remedyforce Home tab only. To access an updated version of  the online help, go to the <a href="http://docs.bmc.com" target="_blank">http://docs.bmc.com</a> and search for your version of BMC Remedyforce.</span>

 </p>
      <p class="copyright">&#169; Copyright  2010-2014
 BMC Software, Inc. All rights reserved.<br/>
        
        Please contact your BMC Remedyforce system administrator if you require support.<br/>
        
        For questions or comments about the documentation, email us at <a href="mailto:doc_feedback@bmc.com">doc_feedback@bmc.com</a>.
        
      </p></td>
  </tr>
</table>



<script type="text/javascript" language="JavaScript1.2">
   <!--
    document.write(WWHRelatedTopicsDivTag() + WWHPopupDivTag() + WWHALinksDivTag());
   // -->
  </script>

  </body>
</html>
