(globalThis.webpackChunkmaps_desktop=globalThis.webpackChunkmaps_desktop||[]).push([[7557],{5264:(t,e,s)=>{"use strict";s.d(e,{Z:()=>o});const i=new Map;function a(t,e,s){const a=function(i){s.context._isDestroyed?document.removeEventListener("click",a):t.contains(i.target)||t===i.target||e(i)};i.set(t,a),setTimeout((()=>document.addEventListener("click",a)),0)}function n(t){const e=i.get(t);document.removeEventListener("click",e),i.delete(t)}const o={bind(t,{arg:{active:e,handler:s}},i){if("function"!=typeof s)throw new Error("v-click-outside: missing required handler argument.");!0===e&&a(t,s,i)},update(t,{arg:{active:e,handler:s}},o){e&&!i.has(t)?a(t,s,o):!e&&i.has(t)&&n(t)},unbind(t){n(t)}}},7724:(t,e,s)=>{t.exports=s.p+"images/88b34edf9dd502c35eadcc9249af64a1.svg"},7748:(t,e,s)=>{"use strict";s.r(e),s.d(e,{default:()=>w});var i=s(5908),a=s(5493),n=s(5261),o=s(7335),l=s(4141);const{moment:r}=window,c={components:{MAModal:l.Z},props:{event:{type:Object,required:!0}},data:()=>({timeOptions:[],momentStart:new r,momentEnd:new r,localStart:"",localEnd:""}),computed:{defaultDuration(){const{duration:t}=a.Z.routeDefaults||"0 hr, 30 min",e=t.split(","),s=60*parseFloat(e[0]||0),i=parseFloat(e[1]||0);return s+i<i?i:s+i}},created(){this.buildTimeOptions(5),this.momentStart=r.utc(this.event.start,"x").tz(this.$User.timezoneId),this.localStart=this.momentStart.format("h:mm a"),this.momentEnd=r.utc(this.event.end,"x").tz(this.$User.timezoneId),this.localEnd=this.momentEnd.format("h:mm a"),this.checkCustomTimeValues()},methods:{...(0,i.mapMutations)("schedule",{schedule__updateEvent:"updateEvent"}),...(0,i.mapActions)("schedule",{schedule__processEventUpdate:"processEventUpdate"}),close(){this.$emit("close")},buildTimeOptions(t){t=t||30;const e=window.moment().startOf("day"),s=e.day();for(;e.day()===s;)this.timeOptions.push({value:e.format("h:mm a"),label:e.format(this.$User.timeFormat)}),e.add(t,"m")},checkCustomTimeValues(){0===this.timeOptions.filter((t=>t.value===this.formattedStartTime)).length&&this.timeOptions.push({value:this.momentStart.format("h:mm a"),label:this.momentStart.format(this.$User.timeFormat)}),0===this.timeOptions.filter((t=>t.value===this.formattedEndTime)).length&&this.timeOptions.push({value:this.momentEnd.format("h:mm a"),label:this.momentEnd.format(this.$User.timeFormat)})},updateEventTime(){const t=r.utc(this.localStart,this.$User.timeFormat);this.momentStart.set({minute:t.get("minute"),hour:t.get("hour")});const e=r.utc(this.localEnd,this.$User.timeFormat);this.momentEnd.set({minute:e.get("minute"),hour:e.get("hour")}),this.schedule__processEventUpdate({id:this.event.id,start:+this.momentStart.format("x"),end:+this.momentEnd.format("x")}),this.close()},validateStart(){const t=r(this.localStart,"h:mm a");let e=r(this.localEnd,"h:mm a");t.isAfter(e)&&(e=t.clone(),e.add(this.defaultDuration,"minute"),this.localEnd=e.format("h:mm a"))},validateEnd(){let t=r(this.localStart,"h:mm a");const e=r(this.localEnd,"h:mm a");e.isBefore(t)&&(t=e.clone(),t.subtract(this.defaultDuration,"minute"),this.localStart=t.format("h:mm a"))}}};var d=s(1900);const u=(0,d.Z)(c,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("MAModal",{staticClass:"slds-modal-fullscreen-phone",attrs:{id:"addStopModal",doDetach:!0,title:t.$Labels.MA_Event_Info},on:{close:t.close}},[s("div",{attrs:{slot:"content"},slot:"content"},[s("div",{staticClass:"pad-8-16",attrs:{id:"changeowner-user-select"}},[s("div",{staticClass:"slds-form-element"},[s("label",{staticClass:"slds-form-element__label",attrs:{for:"startTime"}},[t._v(t._s(t._f("decode")(t.$Labels.MA_Start_Time)))]),t._v(" "),s("div",{staticClass:"slds-form-element__control"},[s("div",{staticClass:"slds-select_container"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.localStart,expression:"localStart"}],staticClass:"slds-select",attrs:{id:"startTime"},on:{change:[function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.localStart=e.target.multiple?s:s[0]},t.validateStart]}},t._l(t.timeOptions,(function(e,i){return s("option",{key:i,domProps:{value:e.value}},[t._v("\n                                "+t._s(t._f("decode")(e.label))+"\n                            ")])})),0)])])]),t._v(" "),s("div",{staticClass:"slds-form-element"},[s("label",{staticClass:"slds-form-element__label",attrs:{for:"endTime"}},[t._v(t._s(t._f("decode")(t.$Labels.MA_End_Time)))]),t._v(" "),s("div",{staticClass:"slds-form-element__control"},[s("div",{staticClass:"slds-select_container"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.localEnd,expression:"localEnd"}],staticClass:"slds-select",attrs:{id:"endTime"},on:{change:[function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.localEnd=e.target.multiple?s:s[0]},t.validateEnd]}},t._l(t.timeOptions,(function(e,i){return s("option",{key:i,domProps:{value:e.value}},[t._v("\n                                "+t._s(t._f("decode")(e.label))+"\n                            ")])})),0)])])])])]),t._v(" "),s("div",{attrs:{slot:"footer"},slot:"footer"},[s("div",{staticClass:"float-right"},[s("button",{staticClass:"slds-button slds-button_neutral",on:{click:t.close}},[t._v("\n                "+t._s(t._f("decode")(t.$Labels.MA_Cancel))+"\n            ")]),t._v(" "),s("button",{staticClass:"slds-button slds-button_brand",on:{click:t.updateEventTime}},[t._v("\n                "+t._s(t._f("decode")(t.$Labels.MA_Done))+"\n            ")])])])])}),[],!1,null,null,null).exports,{MAActionFramework:h}=window,m={components:{MAModal:l.Z},props:{event:{type:Object,required:!0},inclideInOptimization:{type:Boolean,default:!1}},data:()=>({excludeFromOptimization:!0}),computed:{location(){const{location:t={}}=this.event;return t},isTimeValid(){return this.event.isTimeValid},isSpatial(){return this.event.spatial},hasChange(){return!this.event.inclideInOptimization===this.excludeFromOptimization}},created(){this.excludeFromOptimization=!this.event.includeInOptimization},methods:{...(0,i.mapMutations)("schedule",{schedule__updateEvent:"updateEvent"}),...(0,i.mapActions)("schedule",{schedule__removeEvent:"removeEvent",schedule__removeRoute:"removeRoute"}),close(){this.$emit("close")},updateEventOptions(){this.hasChange&&this.schedule__removeRoute(),this.schedule__updateEvent({id:this.event.id,includeInOptimization:!this.excludeFromOptimization}),this.close()},takeMeThere(){const t={location:{coordinates:this.location}},e=h.standardActions["Take Me There"];e.ActionValue.call(e,{records:[t]}),this.close()},removeEvent(){const{id:t=""}=this.event;this.schedule__removeEvent(t),this.schedule__removeRoute(),this.close()}}},v=(0,d.Z)(m,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("MAModal",{staticClass:"slds-modal-fullscreen-phone",attrs:{id:"addStopModal",doDetach:!0,title:t.$Labels.MA_Event_Options},on:{close:t.close}},[s("div",{attrs:{slot:"content"},slot:"content"},[s("div",{staticClass:"pad-8-16",attrs:{id:"changeowner-user-select"}},[s("div",{staticClass:"ma-form-control-wrap"},[s("div",{staticClass:"nav-drawer-item",attrs:{id:"nonSpatialToggle"}},[t._v("\n                    "+t._s(t.$Labels.MA_EXCLUDE_FROM_OPTIMIZATION)+"\n                    "),s("div",{staticClass:"float-right"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.excludeFromOptimization,expression:"excludeFromOptimization"}],staticClass:"ma-toggle",attrs:{id:"eventSpatial",disabled:!t.isSpatial||!t.isTimeValid,type:"checkbox"},domProps:{checked:Array.isArray(t.excludeFromOptimization)?t._i(t.excludeFromOptimization,null)>-1:t.excludeFromOptimization},on:{change:function(e){var s=t.excludeFromOptimization,i=e.target,a=!!i.checked;if(Array.isArray(s)){var n=t._i(s,null);i.checked?n<0&&(t.excludeFromOptimization=s.concat([null])):n>-1&&(t.excludeFromOptimization=s.slice(0,n).concat(s.slice(n+1)))}else t.excludeFromOptimization=a}}}),t._v(" "),s("label",{staticClass:"ma-toggle-label",attrs:{for:"eventSpatial"}})])])])])]),t._v(" "),s("div",{attrs:{slot:"footer"},slot:"footer"},[s("button",{directives:[{name:"show",rawName:"v-show",value:t.isSpatial,expression:"isSpatial"}],staticClass:"slds-button float-left slds-button_neutral",on:{click:t.takeMeThere}},[t._v("\n            "+t._s(t._f("decode")(t.$Labels.ActionFramework_Take_Me_There))+"\n        ")]),t._v(" "),s("div",{staticClass:"float-right"},[s("button",{staticClass:"slds-button slds-button_destructive",on:{click:t.removeEvent}},[t._v("\n                "+t._s(t._f("decode")(t.$Labels.MA_Remove))+"\n            ")]),t._v(" "),s("button",{staticClass:"slds-button slds-button_brand",on:{click:t.updateEventOptions}},[t._v("\n                "+t._s(t._f("decode")(t.$Labels.MA_Done))+"\n            ")])])])])}),[],!1,null,null,null).exports;var _=s(7395);const p={props:{startTime:{type:Object,required:!0},timeFormat:{type:String,default:"h:mm a"}},computed:{timeString(){return this.startTime.format(this.timeFormat)}}},f=(0,d.Z)(p,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"current-location_event slds-m-bottom_medium slds-card slds-grid slds-grid_vertical-align-center slds-p-left_medium slds-p-right_x-small slds-p-vertical_small"},[t._m(0),t._v(" "),s("div",{staticClass:"slds-col"},[s("div",{staticClass:"current-location_title slds-text-heading_medium slds-truncate"},[t._v(t._s(t.$Labels.MA_Current_Location))]),t._v(" "),s("div",{staticClass:"current-location_time"},[t._v(t._s(t._f("decode")(t.timeString)))])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"slds-p-right_medium"},[e("div",{staticClass:"current-location_icon slds-m-horizontal_x-small"})])}],!1,null,"676a07f4",null).exports,g={props:{startTime:{type:Object,required:!0},endTime:{type:Object,required:!0},timeFormat:{type:String,default:"h:mm a"},isNextDay:{type:Boolean,default:!1},isPreviousDay:{type:Boolean,default:!1}},data:()=>({}),computed:{formattedStart(){return this.startTime.format(this.timeFormat)},formattedEnd(){return this.endTime.format(this.timeFormat)}},methods:{removeBreak(){this.$emit("remove-break")}}},C=(0,d.Z)(g,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"slds-card slds-grid slds-p-left_medium slds-p-right_x-small event-item_nonspacial"},[i("div",{staticClass:"slds-p-vertical_medium slds-p-right_medium"},[i("div",{staticClass:"location-icon"},[i("MAIcon",{staticClass:"slds-icon_container slds-icon-standard-currency-input",attrs:{iconClass:["slds-icon","slds-icon_small"],src:s(7724)}})],1)]),t._v(" "),i("div",{staticClass:"slds-col",staticStyle:{"min-width":"0"}},[i("div",{staticClass:"slds-grid"},[t._m(0),t._v(" "),t._e()]),t._v(" "),i("div",{staticClass:"slds-grid slds-grid_vertical-align-center slds-p-bottom_small"},[i("div",[t._v("\n                "+t._s(t.formattedStart)+"\n            ")]),t._v(" "),t._m(1),t._v(" "),i("div",[t._v("\n                "+t._s(t.formattedEnd)+"\n            ")]),t._v(" "),t.isNextDay?i("div",{staticClass:"slds-p-left_xx-small slds-text-color_weak",staticStyle:{color:"#989693 !important","font-size":"12px"}},[t._v("\n                *next day\n            ")]):t._e(),t._v(" "),t.isPreviousDay?i("div",{staticClass:"slds-p-left_xx-small slds-text-color_weak",staticStyle:{color:"#989693 !important","font-size":"12px"}},[t._v("\n                *previous day\n            ")]):t._e()])])])}),[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"slds-col event_text-wrap slds-col slds-p-vertical_small slds-p-right_medium"},[s("h2",{staticClass:"slds-text-heading_medium event_title-link slds-truncate",staticStyle:{color:"#0070d2","font-weight":"700"}},[t._v("\n                    Break\n                ")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"slds-p-right_x-small"},[s("p",{staticClass:"slds-text-color_weak"},[t._v("–")])])}],!1,null,"d65f4a18",null).exports,{moment:k,getProperty:y}=window,b={components:{EventTimeModal:u,EventOptionsModal:v,ActionSheet:o.Z,MATimePicker:_.Z,CurrentLocationEvent:f,BreakEvent:C},props:{event:{type:Object,required:!0}},data:()=>({showEditTimeModal:!1,showActionModal:!1,timeFormat:y(window.MASystem||{},"User.timeFormat",!1)||"h:mm a"}),computed:{...(0,i.mapGetters)("schedule",{schedule__onMap:"onMap",schedule__startLocation:"startLocation",schedule__endLocation:"endLocation",schedule__date:"date",schedule__startTime:"startTime",schedule__endTime:"endTime",schedule__isOverNight:"isOverNight",schedule__workingHours:"workingHours",schedule__storedScheduleData:"storedScheduleData",schedule__calculatedWorkingHours:"calculatedWorkingHours",schedule__driveProfile:"driveProfile"}),outsideWorkingHoursText(){return(0,n.N4)(this.$Labels.Schedule_Outside_Working_Hours_Text,[this.schedule__calculatedWorkingHours.startTime,this.schedule__calculatedWorkingHours.endTime])},optimizationText(){let t=this.$Labels.MA_INCLUDE_IN_OPTIMIZATION;return this.event.includeInOptimization&&(t=this.$Labels.MA_EXCLUDE_FROM_OPTIMIZATION),t},actionSheetOptions(){const t=[];return this.event.sfdcId&&""!==this.event.sfdcId&&t.push({label:this.$Labels.MA_VIEW_RECORD,value:"viewRecord"}),this.event.LinkId__c&&""!==this.event.LinkId__c&&t.push({label:this.$Labels.Schedule_View_Related_Record_Text,value:"viewRelatedRecord"}),t.push({label:this.$Labels.ActionFramework_Take_Me_There,value:"takeMeThere"}),this.event.isStart||this.event.isEnd||(t.push({label:this.$Labels.MA_SCHEDULE_RETURN_TO_BE_SCHEDULED,value:"returnToQueue"}),this.event.isTimeValid&&t.push({label:this.optimizationText,value:"toggleSpatial"})),t},isGuideEnabled:()=>y(window.MASystem,"Organization.isMAGuideEnabled",!1)||!1,isCurrentLocation(){return this.event.isCurrentLocation||!1},isStart(){return this.event.isStart||!1},isEnd(){return this.event.isEnd||!1},isWaypoint(){return!this.event.isEnd&&!this.event.isStart&&!this.event.isCurrentLocation},index(){return this.event.index||""},travelTime(){const{totaltraveltime:t=0}=this.event;return Math.round(t/60)},guideWaypoint(){const{guideWaypoint:t={isLocked:!0,hasWaypoint:!1}}=this.event;return t},showLockIcon(){let t=!1;return!window.MASystem.Organization.isMAGuideEnabled||this.isStart||this.isEnd||(t=!0),t},distanceUnit(){const{unit:t="mi"}=a.Z.routeDefaults;return t},travelDistance(){const{distance:t=0}=this.event,e=this.distanceUnit,s=t*window.unitFactors.METERS["mi"===e?"MILES":"KM"];return Math.round(10*s)/10},travelIcon(){return"driving"===this.schedule__driveProfile?"ma-icon-custom31":"walking"===this.schedule__driveProfile?"ma-icon-walk":"bicycling"===this.schedule__driveProfile?"ma-icon-bicycle":"ma-icon-new-custom98"},travelString(){let t="";return this.isEnd||(t=(0,n.N4)("mi"===this.distanceUnit?this.$Labels.Schedule_Mobile_Show_Travel_Time_Miles:this.$Labels.Schedule_Mobile_Show_Travel_Time_Km,[this.travelTime,this.travelDistance])),t},start(){return this.event.start},end(){return this.event.end},momentStart(){return k.tz(this.start,this.$User.timezoneId)},momentEnd(){return k.tz(this.end,this.$User.timezoneId)},startTime:{get(){return k.tz(this.start,this.$User.timezoneId).format("HH:mm")},set(t){const e=k.utc(this.start,"x").tz(this.$User.timezoneId),s=k.utc(t,"HH:mm");e.set({minute:s.get("minute"),hour:s.get("hour")}),this.event.start=Number(e.format("x")),this.validateStart()}},endTime:{get(){return k.tz(this.end,this.$User.timezoneId).format("HH:mm")},set(t){const e=k.utc(this.end,"x").tz(this.$User.timezoneId),s=k.utc(t,"HH:mm");e.set({minute:s.get("minute"),hour:s.get("hour")}),this.event.end=Number(e.format("x")),this.validateEnd()}},name(){return this.event.Name},address(){return this.event.Address__c},timeString(){let t="";return t=this.isStart||this.isEnd?this.startTime:`${this.startTime} - ${this.endTime}`,t},isSpatial(){return this.event.spatial},inclideInOptimization(){let t=!0;return t=this.isSpatial&&this.event.includeInOptimization||!1,t},showTravelInfo(){let t=!1;return this.schedule__onMap&&this.includeInOptimization&&this.travelTime>=0&&this.travelDistance>=0&&(t=!0),t},hasTravelInfo(){const{distance:t=0}=this.event,{totaltraveltime:e=0}=this.event;return t>0&&e>0},errorTimeString(){let t="";const{errorTimeString:e}=this.event;return e&&""!==e&&(t=e),t},defaultDuration(){const{duration:t}=a.Z.routeDefaults||"0 hr, 30 min",e=t.split(","),s=60*parseFloat(e[0]||0),i=parseFloat(e[1]||0);return s+i<i?i:s+i},isNextDay(){return this.event.isNextDay||!1},isPreviousDay(){return this.event.isPreviousDay||!1},showTimePickerNextDayToggle(){let t=!1;return!this.schedule__isOverNight||this.isStart||this.isEnd?this.event.isNextDay&&!this.schedule__isOverNight&&(t=!0):t=!0,t}},methods:{...(0,i.mapMutations)("schedule",{schedule__removeStartEnd:"removeStartEnd",schedule__updateHasModifiedEvents:"updateHasModifiedEvents",schedule__addUpdatedEventsToSet:"addUpdatedEventsToSet",schedule__setStateMobile:"updateMobileStateSchedule"}),...(0,i.mapActions)("schedule",{schedule__removeRoute:"removeRoute",schedule__removeEvent:"removeEvent",schedule__processEventUpdate:"processEventUpdate",schedule__returnEventToQueue:"returnEventToQueue"}),doShowEditTimeModal(){this.isStart||this.isEnd||!this.isSpatial||(this.showEditTimeModal=!0)},updateTime(){this.schedule__processEventUpdate({id:this.event.id,start:this.event.start,end:this.event.end})},toggleLockedEvent(){this.event.guideWaypoint.isLocked=!this.event.guideWaypoint.isLocked,this.event.guideWaypoint.hasWaypoint&&(this.schedule__addUpdatedEventsToSet(this.event),this.schedule__updateHasModifiedEvents(!0))},closesEditTimeModal(){this.showEditTimeModal=!1},handleTooltipAction(t){if("takeMeThere"===t.value){const t={location:{coordinates:{lat:this.event.lat,lng:this.event.lng}}},e=window.MAActionFramework.standardActions["Take Me There"];e.ActionValue.call(e,{records:[t]})}else"returnToQueue"===t.value?this.schedule__returnEventToQueue(this.event):"toggleSpatial"===t.value?this.schedule__processEventUpdate({id:this.event.id,spatial:!this.event.spatial}):"viewRecord"===t.value?window.ma_navigateToSObject(this.event.sfdcId):"viewRelatedRecord"===t.value&&window.ma_navigateToSObject(this.event.LinkId__c)},removeStartEnd(){this.schedule__removeStartEnd(this.event),this.schedule__removeEvent(this.event.id),this.schedule__removeRoute(),this.schedule__storedScheduleData&&this.schedule__storedScheduleData.isPlotted&&(this.schedule__setStateMobile({dateString:this.schedule__date.format("YYYY-MM-DD"),schedulePlotted:!1}),window.setMobileState())},formatEventAddress(){let t="";const{location:e={}}=this.event,s=e||{};return t=((s.street?`${s.street}, `:"")||"")+((s.city?`${s.city}, `:"")||"")+((s.state?`${s.state} `:"")||"")+((s.zip?`${s.zip} `:"")||"")+((s.country?`${s.country}`:"")||""),t},updateStartTime(t){if(this.isEnd&&this.schedule__startLocation){const e=k(this.schedule__startLocation.start,"x").tz(window.MASystem.User.timezoneId);t.diff(e,"minutes")>=1440&&(t.subtract(1,"day"),this.event.isNextDay=!1),t.diff(e,"minutes")<=0&&(t.add(1,"day"),this.event.isNextDay=!0)}else if(this.isStart&&this.schedule__endLocation&&k(this.schedule__endLocation.start,"x").tz(window.MASystem.User.timezoneId).diff(t,"minutes")>=1440)return void window.MAToastMessages.showWarning({message:"Please keep your day limited to a 24 hour time span. The starting time of your last location will need to be reduced.",timeOut:0,extendedTimeOut:0,closeButton:!0});this.schedule__date.isBefore(t)?this.event.isNextDay=!0:this.event.isNextDay=!1,this.event.start=Number(t.format("x")),this.validateStart(),this.updateTime()},updateEndTime(t){this.event.end=Number(t.format("x")),this.validateEnd(),this.updateTime()},validateStart(){const t=k(this.event.start,"x");let e=k(this.event.end,"x");e=t.clone(),e.add(this.defaultDuration,"minute"),this.event.end=Number(e.format("x"))},validateEnd(){let t=k(this.event.start,"x");const e=k(this.event.end,"x");e.isBefore(t)&&(t=e.clone(),t.subtract(this.defaultDuration,"minute"),this.event.start=Number(t.format("x")))}}},x={components:{EventRow:(0,d.Z)(b,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"schedule-location-container slds-m-bottom_medium"},[t.isCurrentLocation?s("CurrentLocationEvent",{attrs:{startTime:t.momentStart,timeFormat:t.timeFormat}}):t.event.isBreak?s("BreakEvent",{attrs:{startTime:t.momentStart,endTime:t.momentEnd,timeFormat:t.timeFormat,isNextDay:t.isNextDay,isPreviousDay:t.isPreviousDay},on:{"remove-break":t.removeStartEnd}}):s("div",{staticClass:"slds-card slds-grid slds-p-left_medium slds-p-right_x-small",class:{"start-location":t.isStart,"end-location":t.isEnd,"stop-event":[!t.isEnd&&!t.isStart&&t.inclideInOptimization],"event-item_nonspacial":!t.inclideInOptimization,"event-has-error":t.event.hasError}},[s("div",{staticClass:"slds-p-vertical_medium slds-p-right_medium"},[s("div",{staticClass:"location-icon"},[s("div",{staticClass:"slds-icon_container"},[s("div",{staticClass:"slds-icon ma-icon slds-grid slds-grid_align-center slds-grid_vertical-align-center",class:{"ma-icon-priority":t.isStart,"ma-icon-goal":t.isEnd,"ma-icon-nonspacial":!t.inclideInOptimization}},[t._v("\n                            "+t._s(t._f("decode")(t.inclideInOptimization?t.index:""))+"\n                        ")])])])]),t._v(" "),s("div",{staticClass:"slds-col",staticStyle:{"min-width":"0"}},[s("div",{staticClass:"slds-grid"},[s("div",{staticClass:"slds-col event_text-wrap slds-col slds-p-vertical_small slds-p-right_medium"},[s("h2",{staticClass:"slds-text-heading_medium event_title-link slds-truncate"},[t._v(t._s(t._f("decode")(t.name)))]),t._v(" "),t.isWaypoint?s("p",{staticClass:"event_address slds-truncate"},[t._v("\n                            "+t._s(t._f("decode")(t.address))+"\n                        ")]):t._e()]),t._v(" "),s("div",{staticClass:"slds-grid slds-p-top_x-small"},[s("div",[s("ActionSheet",{attrs:{doDetach:!0,options:t.actionSheetOptions},on:{select:t.handleTooltipAction}})],1),t._v(" "),s("div",[t.$store.state.defaultSettings.defaultStartLocation.overridable&&t.isStart||t.$store.state.defaultSettings.defaultEndLocation.overridable&&t.isEnd?s("button",{staticClass:"slds-button slds-button_icon slds-button_icon-container",on:{click:t.removeStartEnd}},[s("span",{staticClass:"slds-icon ma-icon ma-icon-close"})]):t._e()])])]),t._v(" "),s("div",{staticClass:"slds-grid slds-grid_vertical-align-center slds-p-bottom_small"},[t.showLockIcon?s("button",{staticClass:"slds-button slds-button_icon slds-button_icon-container event_lock-icon-button slds-m-right_small"},[s("span",{staticClass:"slds-icon ma-icon",class:[t.guideWaypoint.isLocked?"ma-icon-lock-closed":"ma-icon-lock-open"],on:{click:t.toggleLockedEvent}})]):t._e(),t._v(" "),s("div",[s("MATimePicker",{attrs:{date:t.momentStart,timeFormat:t.timeFormat,title:"Start Time",showNextDayToggle:t.showTimePickerNextDayToggle,isNextDay:t.isNextDay},on:{change:t.updateStartTime}})],1),t._v(" "),t.isStart||t.isEnd?t._e():s("div",{staticClass:"slds-p-right_x-small"},[s("p",{staticClass:"slds-text-color_weak"},[t._v("–")])]),t._v(" "),t.isStart||t.isEnd?t._e():s("div",[s("MATimePicker",{attrs:{date:t.momentEnd,timeFormat:t.timeFormat,title:"End Time"},on:{change:t.updateEndTime}})],1),t._v(" "),t.isNextDay?s("div",{staticClass:"slds-p-left_xx-small slds-text-color_weak",staticStyle:{color:"#989693 !important","font-size":"12px"}},[t._v("\n                        *next day\n                    ")]):t._e(),t._v(" "),t.isPreviousDay?s("div",{staticClass:"slds-p-left_xx-small slds-text-color_weak",staticStyle:{color:"#989693 !important","font-size":"12px"}},[t._v("\n                        *previous day\n                    ")]):t._e()])])]),t._v(" "),!t.event.isTimeValid&&t.isWaypoint?s("div",{staticStyle:{margin:"0 15px"}},[s("div",{staticClass:"slds-notify slds-notify--alert slds-theme--alert-texture slds-banner"},[s("h2",{staticClass:"slds-grid slds-grid_align-center slds-grid_vertical-align-center"},[t._m(0),t._v(" "),s("span",{staticStyle:{"font-size":"14px",height:"21px","line-height":"16px"}},[t._v(t._s(t.outsideWorkingHoursText))])])])]):t._e(),t._v(" "),t.event.hasError?s("div",{staticStyle:{margin:"0 15px"}},[s("div",{staticClass:"slds-notify slds-notify--alert slds-theme--warning slds-theme--alert-texture slds-banner"},[s("span",{staticClass:"slds-assistive-text"},[t._v("Warning")]),t._v(" "),s("h2",{staticClass:"slds-grid slds-grid_align-center slds-grid_vertical-align-center"},[t._m(1),t._v("\n                    "+t._s(t._f("decode")(t.event.errormessage))+" "),s("br"),t._v(" "+t._s(t._f("decode")(t.errorTimeString))+"\n                ")])])]):t._e(),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.schedule__onMap&&t.hasTravelInfo,expression:"schedule__onMap && hasTravelInfo"}],staticClass:"slds-p-horizontal_small drive-time-container"},[s("div",{staticClass:"slds-box slds-theme_shade"},[s("div",{staticClass:"slds-p-horizontal_x-small slds-grid slds-grid_vertical-align-top"},[s("span",{staticClass:"slds-icon_container"},[s("span",{staticClass:"slds-icon ma-icon",class:t.travelIcon})]),t._v(" "),s("span",{staticClass:"drive-time slds-p-left_small slds-text-body_small"},[t._v(t._s(t._f("decode")(t.travelString)))])])])])],1),t._v(" "),t.showEditTimeModal?s("EventTimeModal",{attrs:{event:t.event},on:{close:t.closesEditTimeModal}}):t._e(),t._v(" "),t.showActionModal?s("EventOptionsModal",{attrs:{event:t.event,inclideInOptimization:t.inclideInOptimization},on:{"update:inclideInOptimization":function(e){t.inclideInOptimization=e},"update:inclide-in-optimization":function(e){t.inclideInOptimization=e}}}):t._e()],1)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"slds-icon_container slds-m-horizontal_small"},[e("span",{staticClass:"slds-icon ma-icon ma-icon-info"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"slds-icon_container slds-m-horizontal_small"},[e("span",{staticClass:"slds-icon ma-icon ma-icon-warning"})])}],!1,null,"53fae4b4",null).exports,ScheduleEmpty:(0,d.Z)({},(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"slds-illustration slds-illustration_small"},[s("svg",{staticClass:"slds-illustration__svg",attrs:{viewBox:"0 0 396 237","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}},[s("g",{attrs:{stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"}},[s("g",{attrs:{transform:"translate(-102.000000, -79.000000)"}},[s("g",[s("g",{staticClass:"slds-illustration__fill-secondary",attrs:{transform:"translate(226.000000, 271.000000)"}},[s("g",{attrs:{transform:"translate(0.293436, 0.054545)"}},[s("path",{attrs:{"vector-effect":"non-scaling-stroke",d:"M247.428708,41.9454545 L82.0995433,41.9454545 C82.0336615,41.2089487 82,40.4630069 82,39.7090909 C82,26.2132599 92.7866531,15.2727273 106.092664,15.2727273 C109.749202,15.2727273 113.215485,16.0989227 116.31995,17.5772977 C121.571203,7.14424616 132.271428,0 144.617597,0 C158.063626,0 169.557389,8.47383452 174.186248,20.441159 C175.900275,19.5768947 177.832406,19.0909091 179.876448,19.0909091 C182.211783,19.0909091 184.401037,19.7252784 186.285841,20.8333889 C190.997403,14.2263569 198.663488,9.92727273 207.320028,9.92727273 C220.043441,9.92727273 230.627152,19.2146805 232.834755,31.4671412 C233.487388,31.3631046 234.156394,31.3090909 234.837838,31.3090909 C241.117096,31.3090909 246.340238,35.8953699 247.428708,41.9454545 Z"}}),t._v(" "),s("path",{attrs:{"vector-effect":"non-scaling-stroke",d:"M130.668705,41.9099036 C127.932299,35.4597639 121.65134,30.9483651 114.340456,30.9483651 C112.326227,30.9483651 110.390176,31.2908087 108.584891,31.9218937 C105.158045,26.6158811 99.2739697,23.115309 92.5903529,23.115309 C86.1978312,23.115309 80.5367222,26.3175969 77.0574148,31.2390213 C75.6655593,30.4136156 74.0488794,29.9410886 72.3243243,29.9410886 C70.814878,29.9410886 69.388074,30.303088 68.1223309,30.9468584 C64.7040965,22.0326767 56.2163941,15.7207144 46.2870194,15.7207144 C37.1698473,15.7207144 29.2681419,21.0422982 25.3902942,28.8136368 C23.0977671,27.7124276 20.5380502,27.0970138 17.8378378,27.0970138 C9.14391415,27.0970138 1.90644813,33.4767543 0.354185118,41.9099036 L130.668705,41.9099036 Z"}})])]),t._v(" "),s("g",{attrs:{transform:"translate(104.000000, 228.000000)"}},[s("g",{attrs:{transform:"translate(35.000000, 0.000000)"}},[s("circle",{staticClass:"slds-illustration__fill-secondary",attrs:{"vector-effect":"non-scaling-stroke",cx:"36",cy:"77",r:"7"}}),t._v(" "),s("circle",{staticClass:"slds-illustration__fill-secondary",attrs:{"vector-effect":"non-scaling-stroke",cx:"53",cy:"77",r:"7"}}),t._v(" "),s("circle",{staticClass:"slds-illustration__fill-secondary",attrs:{"vector-effect":"non-scaling-stroke",cx:"70",cy:"77",r:"7"}}),t._v(" "),s("path",{staticClass:"slds-illustration__stroke-secondary",attrs:{"vector-effect":"non-scaling-stroke",d:"M47.5993204,62 C47.5993204,62 45.3234189,54.9545453 55.0548818,54.9545455 C64.7863447,54.9545456 60.64481,54.9545466 68.525098,54.9545455 C76.4053859,54.9545443 75.8197996,45.1551939 68.7795875,45.0909091 L27.7910035,45.0909091 C27.7910035,45.0909091 10.4867295,45.1551939 6.38851862,45.0909091 C-2.1315161,45.1551939 -2.12749607,32.4090909 6.38851862,32.4090909 L91.0476222,32.4090909 C104.446387,32.4090909 104.102146,16.8434669 91.306569,16.9090909 C78.5109918,16.8434669 49.4432546,16.9090909 36.9059317,16.9090909 C33.2180637,16.9090909 26.6356862,16.5042063 26.6356862,8.45454545 C26.6356862,3.50059894 26.4270933,2.2662402 26.4270933,0","stroke-width":"3","stroke-linecap":"round",transform:"translate(50.500000, 31.000000) scale(-1, 1) translate(-50.500000, -31.000000) "}})]),t._v(" "),s("g",{staticClass:"slds-illustration__stroke-primary",attrs:{transform:"translate(0.000000, 70.000000)","stroke-width":"3"}},[s("path",{attrs:{"vector-effect":"non-scaling-stroke",d:"M22,16.5 L392,16.5","stroke-linecap":"round"}}),t._v(" "),s("path",{attrs:{"vector-effect":"non-scaling-stroke",d:"M0,16.5 L12,16.5","stroke-linecap":"round"}}),t._v(" "),s("circle",{attrs:{"vector-effect":"non-scaling-stroke",cx:"71",cy:"7",r:"7"}}),t._v(" "),s("circle",{attrs:{"vector-effect":"non-scaling-stroke",cx:"88",cy:"7",r:"7"}}),t._v(" "),s("circle",{attrs:{"vector-effect":"non-scaling-stroke",cx:"105",cy:"7",r:"7"}})])]),t._v(" "),s("g",{attrs:{transform:"translate(259.000000, 246.000000)"}},[s("g",{staticClass:"slds-illustration__fill-secondary",attrs:{transform:"translate(1.000000, 0.000000)"}},[s("polygon",{attrs:{"vector-effect":"non-scaling-stroke",points:"35.8310547 0.381835938 101.723633 0.381835938 137.061523 68.3183594 0.555664062 68.3183594"}})]),t._v(" "),s("g",{attrs:{transform:"translate(38.000000, 1.000000)",fill:"#FFFFFF"}},[s("rect",{attrs:{x:"0",y:"0",width:"66",height:"4"}})]),t._v(" "),s("g",{staticClass:"slds-illustration__stroke-primary",attrs:{"stroke-width":"3"}},[s("path",{attrs:{"vector-effect":"non-scaling-stroke",d:"M36.5,0.5 L102.390018,0.5 C102.764581,0.5 103.107738,0.709319657 103.279154,1.04235657 L137.249742,67.0423566 C137.502492,67.5334127 137.309306,68.1363863 136.81825,68.3891358 C136.676702,68.4619916 136.519804,68.5 136.360607,68.5 L73.2120254,68.5 C72.4670674,68.5 71.7838465,68.0859594 71.4390883,67.4255775 L36.5,0.5 Z","stroke-linecap":"round","stroke-linejoin":"round"}}),t._v(" "),s("path",{attrs:{"vector-effect":"non-scaling-stroke",d:"M36.5,3 L36.5,68"}}),t._v(" "),s("path",{attrs:{"vector-effect":"non-scaling-stroke",d:"M36.5,0.5 L2.5,68","stroke-linecap":"round","stroke-linejoin":"round"}}),t._v(" "),s("path",{attrs:{"vector-effect":"non-scaling-stroke",d:"M73.5,55 L73.5,67","stroke-linecap":"round","stroke-linejoin":"round"}}),t._v(" "),s("path",{attrs:{"vector-effect":"non-scaling-stroke",d:"M1.5,55 L1.5,67","stroke-linecap":"round","stroke-linejoin":"round"}})])]),t._v(" "),s("g",{attrs:{transform:"translate(420.500000, 252.500000)"}},[s("g",{staticClass:"slds-illustration__fill-secondary"},[s("path",{attrs:{"vector-effect":"non-scaling-stroke",d:"M18.9209988,1.95433401 L33.259296,51.443436 C33.5666778,52.5043744 32.9557995,53.613617 31.8948612,53.9209988 C31.7139843,53.9734036 31.5266126,54 31.3382972,54 L2.6617028,54 C1.5571333,54 0.661702805,53.1045695 0.661702805,52 C0.661702805,51.8116846 0.688299176,51.6243129 0.74070397,51.443436 L15.0790012,1.95433401 C15.386383,0.893395645 16.4956256,0.282517358 17.556564,0.589899164 C18.2152102,0.780726338 18.7301717,1.29568777 18.9209988,1.95433401 Z"}})]),t._v(" "),s("g",{staticClass:"slds-illustration__stroke-primary",attrs:{"stroke-linecap":"round","stroke-width":"3"}},[s("polygon",{attrs:{"vector-effect":"non-scaling-stroke","stroke-linejoin":"round",points:"17 0.323943662 34 54 -1.81721305e-12 54"}}),t._v(" "),s("path",{attrs:{"vector-effect":"non-scaling-stroke",d:"M17,3.6953125 C17,42.0456294 17,61.6471919 17,62.5 C17,61.6471919 17,42.0456294 17,3.6953125 Z"}}),t._v(" "),s("path",{attrs:{"vector-effect":"non-scaling-stroke",d:"M17,29.3239437 C22.3333333,35.7851611 25,39.1184944 25,39.3239437 C25,39.1184944 22.3333333,35.7851611 17,29.3239437 Z","stroke-linejoin":"round",transform:"translate(21.000000, 34.323944) scale(-1, 1) translate(-21.000000, -34.323944) "}})])]),t._v(" "),s("g",{attrs:{transform:"translate(377.000000, 219.500000)"}},[s("g",{staticClass:"slds-illustration__fill-secondary",attrs:{transform:"translate(1.000000, 0.000000)"}},[s("path",{attrs:{"vector-effect":"non-scaling-stroke",d:"M25.6478873,0 L50.879042,84.4273253 C51.1953215,85.4856452 50.5937789,86.5999782 49.535459,86.9162577 C49.3496374,86.9717906 49.1567264,87 48.9627843,87 L2.33299037,87 C1.22842087,87 0.332990367,86.1045695 0.332990367,85 C0.332990367,84.8060578 0.361199757,84.6131469 0.416732643,84.4273253 L25.6478873,0 Z"}})]),t._v(" "),s("g",{staticClass:"slds-illustration__stroke-primary",attrs:{"stroke-linecap":"round","stroke-width":"3"}},[s("polygon",{attrs:{"vector-effect":"non-scaling-stroke","stroke-linejoin":"round",points:"26.5 0 52.5 87 0.5 87"}}),t._v(" "),s("path",{attrs:{"vector-effect":"non-scaling-stroke",d:"M26.5,2.58642578 C26.5,63.0261034 26.5,93.9972948 26.5,95.5 C26.5,93.9972948 26.5,63.0261034 26.5,2.58642578 Z"}}),t._v(" "),s("path",{attrs:{"vector-effect":"non-scaling-stroke",d:"M15.6478873,42 C22.9812207,49.078692 26.6478873,52.7453587 26.6478873,53 C26.6478873,52.7453587 22.9812207,49.078692 15.6478873,42 Z","stroke-linejoin":"round"}}),t._v(" "),s("path",{attrs:{"vector-effect":"non-scaling-stroke",d:"M27.6478873,68 C36.9812207,57.078692 41.6478873,51.7453587 41.6478873,52 C41.6478873,51.7453587 36.9812207,57.078692 27.6478873,68 Z","stroke-linejoin":"round"}})])]),t._v(" "),s("g",{staticClass:"slds-illustration__stroke-secondary",attrs:{transform:"translate(167.000000, 81.000000)","stroke-linecap":"round","stroke-width":"3"}},[s("path",{attrs:{"vector-effect":"non-scaling-stroke",d:"M226.3,102.0625 L224.56612,108.874639"}}),t._v(" "),s("path",{attrs:{"vector-effect":"non-scaling-stroke",d:"M184.3,102.0625 L183.259672,106.149783"}}),t._v(" "),s("path",{attrs:{"vector-effect":"non-scaling-stroke",d:"M205.3,102.0625 L201.83224,115.686778"}}),t._v(" "),s("path",{attrs:{"vector-effect":"non-scaling-stroke",d:"M163.3,102.0625 L159.83224,115.686778"}}),t._v(" "),s("path",{attrs:{"vector-effect":"non-scaling-stroke",d:"M180.8,116.125 L177.33224,129.749278"}}),t._v(" "),s("path",{attrs:{"vector-effect":"non-scaling-stroke",d:"M174.5,140.734375 L172.072568,150.271369"}}),t._v(" "),s("path",{attrs:{"vector-effect":"non-scaling-stroke",d:"M17,88 L15.9596721,92.0872833"}}),t._v(" "),s("path",{attrs:{"vector-effect":"non-scaling-stroke",d:"M13.5,102.0625 L10.0322405,115.686778"}}),t._v(" "),s("path",{attrs:{"vector-effect":"non-scaling-stroke",d:"M5.8,129.484375 L3.37256834,139.021369"}}),t._v(" "),s("path",{attrs:{"vector-effect":"non-scaling-stroke",d:"M199,126.671875 L192.758033,151.195575"}}),t._v(" "),s("path",{attrs:{"vector-effect":"non-scaling-stroke",d:"M157,126.671875 L150.758033,151.195575"}}),t._v(" "),s("path",{attrs:{"vector-effect":"non-scaling-stroke",d:"M142.3,102.0625 L138.83224,115.686778"}}),t._v(" "),s("path",{attrs:{"vector-effect":"non-scaling-stroke",d:"M136,126.671875 L129.758033,151.195575"}}),t._v(" "),s("path",{attrs:{"vector-effect":"non-scaling-stroke",d:"M38.7,89.40625 L35.2322405,103.030528"}}),t._v(" "),s("path",{attrs:{"vector-effect":"non-scaling-stroke",d:"M32.4,114.015625 L26.1580329,138.539325"}}),t._v(" "),s("path",{attrs:{"vector-effect":"non-scaling-stroke",d:"M81.4,90.8125 L77.9322405,104.436778"}}),t._v(" "),s("path",{attrs:{"vector-effect":"non-scaling-stroke",d:"M75.1,115.421875 L68.8580329,139.945575"}}),t._v(" "),s("path",{attrs:{"vector-effect":"non-scaling-stroke",d:"M101.7,99.953125 L97.5386886,116.302258"}}),t._v(" "),s("path",{attrs:{"vector-effect":"non-scaling-stroke",d:"M94,126.671875 L89.8386886,143.021008"}}),t._v(" "),s("path",{attrs:{"vector-effect":"non-scaling-stroke",d:"M87,154.796875 L84.0524044,166.377511"}}),t._v(" "),s("path",{attrs:{"vector-effect":"non-scaling-stroke",d:"M121.138798,101.359375 L106.054044,160.624983"}}),t._v(" "),s("path",{attrs:{"vector-effect":"non-scaling-stroke",d:"M103.43388,170.96875 L101.7,177.780889"}}),t._v(" "),s("path",{attrs:{"vector-effect":"non-scaling-stroke",d:"M220.7,125.265625 L217.579016,137.527475"}}),t._v(" "),s("path",{attrs:{"vector-effect":"non-scaling-stroke",d:"M60.4,90.109375 L58.6661202,96.9215138"}}),t._v(" "),s("path",{attrs:{"vector-effect":"non-scaling-stroke",d:"M54.8,113.3125 L51.6790164,125.57435"}}),t._v(" "),s("path",{attrs:{"vector-effect":"non-scaling-stroke",d:"M214.4,148.46875 L209.545137,167.542739"}}),t._v(" "),s("path",{attrs:{"vector-effect":"non-scaling-stroke",d:"M204.938291,39.1462149 C204.342287,17.4337165 184.913843,0 161.034014,0 C142.403463,0 126.482381,10.6115523 120.100036,25.5876483 C115.538401,22.1480724 109.723853,20.0869565 103.391156,20.0869565 C90.8143443,20.0869565 80.2812321,28.2165019 77.547482,39.1281323 C75.3538627,37.4973286 72.5685916,36.5217391 69.537415,36.5217391 C65.5969778,36.5217391 62.0721016,38.170408 59.722337,40.7639307 C56.7670463,33.9695432 49.9838717,29.2173913 42.0884354,29.2173913 C32.4122981,29.2173913 24.4067079,36.3548251 23.0702494,45.6416111 C20.8424354,44.4846498 18.2803152,43.826087 15.5544218,43.826087 C6.96395183,43.826087 0,50.3666228 0,58.4347826 C0,66.2144681 6.47486708,73.0551929 14.6394558,73.5 L99.7999878,73.5 C101.975319,80.1067045 107.895618,84.5 121.690476,84.5 C123.298766,84.5 124.822237,84.5740007 126.265306,84.5 L245.210884,84.5 C258.430681,84.055267 269,73.4973746 269,61.173913 C269,48.5674133 257.939606,38.3478261 244.295918,38.3478261 C236.887527,38.3478261 230.24079,41.3609546 225.712845,46.1332433 C222.437463,41.4418761 216.820965,38.3478261 210.442177,38.3478261 C208.524337,38.3478261 206.675405,38.6275152 204.938291,39.1462149 Z",fill:"#FFFFFF","stroke-linejoin":"round"}}),t._v(" "),s("path",{attrs:{"vector-effect":"non-scaling-stroke",d:"M99.7311854,73.8280126 C98.0122872,67.5511913 98.667688,62.3733162 101.697388,58.2943874 C102.919856,56.6485604 106.579333,54.0219021 109.897803,54.1131869","stroke-linejoin":"round"}})])])])])]),t._v(" "),s("div",{staticClass:"slds-text-longform"},[s("h3",{staticClass:"slds-text-heading_medium"},[t._v(" "+t._s(t.$Labels.Schedule_Empty_State_Title_Mobile))]),t._v(" "),s("p",{staticClass:"slds-text-body_regular"},[t._v(t._s(t._f("decode")(t.$Labels.MA_No_Events_Schedule)))])])])}),[],!1,null,null,null).exports},data:()=>({}),computed:{...(0,i.mapGetters)("schedule",{schedule__events:"events",schedule__locations:"locations"}),noEventsFound(){let t=!0;return(this.schedule__events.length>0||this.schedule__locations.length>0)&&(t=!1),t}}},w=(0,d.Z)(x,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"schedule-content slds-is-relative momentum-scrolling-y slds-scrollable"},[s("div",{directives:[{name:"show",rawName:"v-show",value:!t.noEventsFound,expression:"!noEventsFound"}],staticClass:"event-list slds-p-around_medium"},t._l(t.schedule__events,(function(t,e){return s("EventRow",{key:e,attrs:{index:e+1,event:t}})})),1),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.noEventsFound,expression:"noEventsFound"}],staticClass:"schedule_empty-state slds-grid slds-grid_align-center slds-grid_vertical-align-center",staticStyle:{"margin-top":"0",height:"100%"}},[s("ScheduleEmpty")],1)])}),[],!1,null,"5514e8b1",null).exports},7335:(t,e,s)=>{"use strict";s.d(e,{Z:()=>o});var i=s(5264);const{$:a}=window,n={name:"ActionSheet",directives:{"click-outside":i.Z},props:{options:{type:Array,required:!0},doDetach:{type:Boolean,default:!0},labelKey:{type:String,default:"label"},buttonText:{type:String,default:""},buttonIcon:{type:String,default:""},hideOverride:{type:Boolean,default:!1},selectedItems:{type:Array,default:()=>[]},buttonType:{type:String,default:""}},data:()=>({container:null,showOptions:!1,styleObject:{},window:{height:0,width:0},uid:"action-sheet"}),computed:{isPhone(){return this.window.width<769},computedIcon(){let t="";return""!==this.buttonIcon?t=this.buttonIcon:""===this.buttonText&&(t="ma-icon-threedots-vertical"),t},actionSheetClickOutsideOptions(){return{active:this.showOptions,handler:this.hideActionSheet}}},watch:{isPhone(){this.showOptions=!1}},created(){window.addEventListener("resize",this.handleResize),this.handleResize()},destroyed(){window.removeEventListener("resize",this.handleResize),this.hideActionSheet()},methods:{handleResize(){this.window.width=window.innerWidth,this.window.height=window.innerHeight},returnItem(t){t.isHeader||(this.$emit("select",t),this.hideActionSheet())},hideActionSheet(){this.showOptions=!1,this.container&&(this.container.remove(),this.container=null)},detach(){if(!this.$refs.button)return;const t=document.querySelector(`.slds-scope.${this.uid}`);try{t.remove()}catch(t){}const e=this.$refs.button.getBoundingClientRect();this.container=document.createElement("div"),this.container.className=`slds-scope ${this.uid}`,this.container.appendChild(this.$refs.actions),document.body.appendChild(this.container),this.styleObject={top:`${e.top+this.$refs.button.clientHeight+a(window).scrollTop()}px`,left:`${e.left+a(window).scrollLeft()}px`,"max-height":"300px"}},adjustForClipping(){const t=this.$refs.actions.getBoundingClientRect();let e;if(e=document.documentElement.clientHeight-window.innerHeight<=0?document.documentElement.clientHeight:window.innerHeight-this.getScrollbarWidth(),t.x<0)this.styleObject.left=`${this.$refs.actions.offsetLeft+Math.abs(t.x)}px`;else if(t.left+t.width>document.documentElement.clientWidth){const e=t.left+t.width-document.documentElement.clientWidth-a(window).scrollLeft();this.styleObject.left=t.left-e+"px"}const s=this.$refs.actions.scrollHeight,i=a(window).scrollTop();if(this.styleObject["max-height"]="300px",t.top+s>e){const a=t.top+s-i-e;this.$bus.$emit("ma-modal-scroll-by",a),this.styleObject.top=t.top-a+"px"}},disableClick(t){t.stopPropagation(),t.preventDefault()},openActionSheet(){this.showOptions=!0,this.doDetach&&this.detach(),this.$nextTick((()=>{this.doDetach&&this.adjustForClipping(),this.options.forEach(((t,e)=>{const s=t,i=this.$refs.optionItem[e];s.isHeader&&i.addEventListener("click",this.disableClick,!0)}))}))}}},o=(0,s(1900).Z)(n,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{directives:[{name:"click-outside",rawName:"v-click-outside:[actionSheetClickOutsideOptions]",arg:t.actionSheetClickOutsideOptions}],staticClass:"action-sheet-wrapper slds-scope"},[s("div",{ref:"button",staticClass:"slds-grid slds-grid_vertical-align-center",on:{click:t.openActionSheet}},[s("div",{staticClass:"slds-button slds-col slds-truncate"},[t._v(t._s(t._f("decode")(t.buttonText)))]),t._v(" "),""!==t.computedIcon?s("div",[s("button",{staticClass:"slds-button slds-button_icon slds-button_icon-container",class:[t.buttonType]},[s("span",{staticClass:"slds-button__icon ma-icon",class:[t.computedIcon]})])]):t._e()]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.showOptions,expression:"showOptions"}],ref:"actions",staticClass:"ma-action-sheet-wrap in slds-grid slds-grid_vertical slds-grid_align-end",style:t.isPhone?{}:t.styleObject},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.isPhone,expression:"isPhone"}],staticClass:"action-sheet_mask",on:{click:t.hideActionSheet}}),t._v(" "),s("div",{staticClass:"action-sheet_wrap slds-grid slds-grid_vertical"},[s("div",{staticClass:"action-sheet_content slds-scrollable"},t._l(t.options,(function(e,i){return s("div",{key:i,ref:"optionItem",refInFor:!0,staticClass:"action-sheet_item slds-grid slds-p-around_medium",class:{"header slds-text-title_caps slds-section__title slds-theme--shade":e.isHeader,"slds-is-selected":t.selectedItems.includes(e.id)},on:{click:function(s){return t.returnItem(e)}}},[t._m(0,!0),t._v(" "),s("div",{staticClass:"slds-col"},[s("span",{staticStyle:{"word-break":"break-word"}},[t._v(t._s(t._f("decode")(e[t.labelKey])))])])])})),0),t._v(" "),s("div",{staticClass:"slds-button slds-button_neutral action-sheet_close-button",on:{click:t.hideActionSheet}},[t._v("\n                "+t._s(t._f("decode")(t.$Labels.MA_Close))+"\n            ")])])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"action-sheet_selected-icon slds-p-right_medium"},[e("span",{staticClass:"slds-icon slds-icon_x-small ma-icon ma-icon-check"})])}],!1,null,"44c08aa9",null).exports},7395:(t,e,s)=>{"use strict";s.d(e,{Z:()=>a});const i={components:{MAModal:s(4141).Z},props:{h24:{type:Boolean,default:!1},interval:{type:Object,default:()=>({h:1,m:1})},date:{type:Object,required:!0},timeFormat:{type:String,default:"h:mm a"},title:{type:String,default:"Time"},showNextDayToggle:{type:Boolean,default:!1},isNextDay:{type:Boolean,default:!1}},data:()=>({hours:[],minutes:[],ampmList:["am","pm"],openModal:!1,currentHour:"",currentMinute:"",ampm:"",toggleNextDay:!1}),computed:{timeString(){return this.date.format(this.timeFormat)}},methods:{close(){this.openModal=!1},doOpenModal(){this.openModal=!0,this.updateCurrentTime(),this.build()},build(){this.buildHours(),this.buildMinutes(),this.$nextTick((()=>{this.scrollActiveIntoView()})),this.toggleNextDay=this.isNextDay||!1},buildHours(){this.hours=[];const t=this.interval.h,e=this.h24?23:12;for(let s=this.h24?0:1;s<=e;s+=t){let t=String(s);s<10&&(t=`0${s}`),this.hours.push(t)}},buildMinutes(){this.minutes=[];const t=this.interval.m;for(let e=0;e<=59;e+=t){let t=String(e);e<10&&(t=`0${e}`),this.minutes.push(t)}},updateCurrentTime(){const t=this.h24?"HH":"hh";this.currentHour=this.date.format(t),this.currentMinute=this.date.format("mm"),this.h24||(this.ampm=this.date.format("a"))},scrollActiveIntoView(){document.querySelectorAll(".timePicker-item.selected ").forEach((t=>{t.scrollIntoView({block:"center",inline:"center"})}))},updateHours(t){this.currentHour=t},updateMinutes(t){this.currentMinute=t},updateAmPm(t){this.ampm=t},saveTime(){const t=this.date.clone();let e=this.currentHour;this.h24||"pm"!==this.ampm?this.h24||"am"!==this.ampm||"12"!==this.currentHour||(e=0):e="12"!==this.currentHour?parseFloat(this.currentHour)+12:this.currentHour,t.set({hour:e,minute:this.currentMinute}),this.toggleNextDay&&!this.isNextDay&&t.add(1,"day"),!this.toggleNextDay&&this.isNextDay&&t.subtract(1,"day"),this.$emit("change",t),this.close()}}},a=(0,s(1900).Z)(i,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{on:{click:t.doOpenModal}},[t._v("\n        "+t._s(t._f("decode")(t.timeString))+"\n    ")]),t._v(" "),t.openModal?s("MAModal",{staticClass:"time-modal",attrs:{doDetach:!0,title:t.title},on:{close:t.close}},[s("div",{attrs:{slot:"content"},slot:"content"},[s("div",{staticClass:"ma-time-wrapper slds-grid slds-grid_vertical-align-center"},[s("div",{staticClass:"ma-time-col"},t._l(t.hours,(function(e,i){return s("button",{key:i,staticClass:"timePicker-item",class:{selected:t.currentHour===e},on:{click:function(s){return t.updateHours(e)}}},[t._v("\n                        "+t._s(e)+"\n                    ")])})),0),t._v(" "),s("div",{staticClass:"ma-time-col"},t._l(t.minutes,(function(e,i){return s("button",{key:i,staticClass:"timePicker-item",class:{selected:t.currentMinute===e},on:{click:function(s){return t.updateMinutes(e)}}},[t._v("\n                        "+t._s(e)+"\n                    ")])})),0),t._v(" "),t.h24?t._e():s("div",{staticClass:"ma-time-col"},t._l(t.ampmList,(function(e,i){return s("button",{key:i,staticClass:"timePicker-item",class:{selected:e===t.ampm},on:{click:function(s){return t.updateAmPm(e)}}},[t._v("\n                        "+t._s(e)+"\n                    ")])})),0)]),t._v(" "),t.showNextDayToggle?s("div",{staticClass:"slds-border_top"},[s("div",{staticClass:"slds-p-around_medium slds-grid"},[s("div",{staticClass:"slds-form-element slds-col_bump-left"},[s("div",{staticClass:"slds-form-element__control"},[s("div",{staticClass:"slds-checkbox"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.toggleNextDay,expression:"toggleNextDay"}],attrs:{id:"nextDayToggle",type:"checkbox"},domProps:{checked:Array.isArray(t.toggleNextDay)?t._i(t.toggleNextDay,null)>-1:t.toggleNextDay},on:{change:function(e){var s=t.toggleNextDay,i=e.target,a=!!i.checked;if(Array.isArray(s)){var n=t._i(s,null);i.checked?n<0&&(t.toggleNextDay=s.concat([null])):n>-1&&(t.toggleNextDay=s.slice(0,n).concat(s.slice(n+1)))}else t.toggleNextDay=a}}}),t._v(" "),s("label",{staticClass:"slds-checkbox__label",attrs:{for:"nextDayToggle"}},[s("span",{staticClass:"slds-checkbox_faux"}),t._v(" "),s("span",{staticClass:"slds-form-element__label"},[t._v("Next Day")])])])])])])]):t._e()]),t._v(" "),s("div",{attrs:{slot:"footer"},slot:"footer"},[s("button",{staticClass:"slds-button slds-button_neutral",on:{click:t.close}},[t._v("\n                "+t._s(t.$Labels.MA_Cancel)+"\n            ")]),t._v(" "),s("button",{staticClass:"slds-button slds-button_brand",on:{click:t.saveTime}},[t._v("\n                "+t._s(t.$Labels.MA_Done)+"\n            ")])])]):t._e()],1)}),[],!1,null,"c0f0ae1a",null).exports}}]);