"use strict";(globalThis.webpackChunkmaps_desktop=globalThis.webpackChunkmaps_desktop||[]).push([[716],{1428:(t,e,s)=>{s.r(e),s.d(e,{default:()=>T});var i=s(5908),o=s(9980),n=s.n(o),a=s(7082),r=s(3589),l=s(7387),d=s(5261),u=s(5493),c=s(7335),h=s(4141),p=s(675),_=s(379),m=s(7579);const v={components:{MAModal:h.Z,MobileSelect:m.Z,MASpinner:p.Z},props:{start:{type:String,default:""},duration:{type:String,default:""},showDuration:{type:Boolean,default:!0},isDurationSelectionDisabled:{type:Boolean,default:!1}},data:()=>({waypointOptions:{start:"",duration:""},isLoading:!1,timeOptions:[],durationOptions:[]}),validations:{name:{required:_.C1}},computed:{},created(){this.waypointOptions={start:this.start,duration:this.duration},this.buildDurationOptions(),this.buildTimeOptions(5)},methods:{close(){this.isLoading||this.$emit("close")},updateTime(){this.$emit("save",this.waypointOptions),this.$emit("close")},buildDurationOptions(){let t=5;for(;t<360;){const e=`${Math.floor(t/60)} hr, ${t%60} min`;this.durationOptions.push({label:e,id:e}),t+=5}},buildTimeOptions(t){t=t||30;const e=window.moment().startOf("day"),s=e.day();for(this.showDuration&&this.timeOptions.push({id:"Set start time...",label:"N/A"});e.day()===s;)this.timeOptions.push({id:e.format("h:mm a"),label:e.format("h:mm a")}),e.add(t,"m")}}};var w=s(1900);const y=(0,w.Z)(v,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("MAModal",{staticClass:"slds-modal-fullscreen-phone",attrs:{doDetach:!0,title:t.$Labels.MA_Waypoint_Info},on:{close:t.close}},[s("div",{attrs:{slot:"content"},slot:"content"},[s("MASpinner",{directives:[{name:"show",rawName:"v-show",value:t.isLoading,expression:"isLoading"}]}),t._v(" "),s("MobileSelect",{attrs:{options:t.timeOptions,doDetach:!0,isRequired:!0,hasNoneOption:!1,label:"Start Time",keyString:"id",valueString:"label"},model:{value:t.waypointOptions.start,callback:function(e){t.$set(t.waypointOptions,"start",e)},expression:"waypointOptions.start"}}),t._v(" "),s("MobileSelect",{directives:[{name:"show",rawName:"v-show",value:t.showDuration,expression:"showDuration"}],attrs:{options:t.durationOptions,doDetach:!0,hasNoneOption:!1,isRequired:!0,disabled:t.isDurationSelectionDisabled,label:t._f("decode")(t.$Labels.MA_Duration),keyString:"id",valueString:"label"},model:{value:t.waypointOptions.duration,callback:function(e){t.$set(t.waypointOptions,"duration",e)},expression:"waypointOptions.duration"}})],1),t._v(" "),s("div",{attrs:{slot:"footer"},slot:"footer"},[s("div",{staticClass:"float-right"},[s("button",{staticClass:"slds-button slds-button_neutral",on:{click:t.close}},[t._v("\n                "+t._s(t._f("decode")(t.$Labels.MA_Cancel))+"\n            ")]),t._v(" "),s("button",{staticClass:"slds-button slds-button_brand",on:{click:t.updateTime}},[t._v("\n                "+t._s(t._f("decode")(t.$Labels.MA_Done))+"\n            ")])])])])}),[],!1,null,null,null).exports,{moment:g,MASystem:f,google:b}=window,S={components:{ActionSheet:c.Z,WaypointTimeOptionsModal:y},props:{waypoint:{type:Object,required:!0},type:{type:String,default:"waypoint"},index:{type:String|Number,default:1},isTimeBased:{type:Boolean,required:!0,default:!1}},data(){return{name:this.waypoint.Name||"",note:(0,l.m9)(this.waypoint.Notes__c||""),address:this.waypoint.Address__c||"",showWaypointOptions:!1}},computed:{...(0,i.mapGetters)("routes",{routes__editMode:"editMode",routes__onMap:"onMap",routes__pendingChanges:"pendingChanges",routes__travelMode:"travelMode",routes__date:"date",routes__routing:"routing"}),waypointOptions:{get(){return this.waypoint.Options__c},set(t){this.waypoint.Options__c=t}},start(){return this.waypointOptions.TimeBasedOptions.Start},isGuideRoute(){const{isGuideRoute:t=!1}=this.routes__routing||{};return t},travelIcon(){return"driving"===this.routes__travelMode?"ma-icon-custom31":"walking"===this.routes__travelMode?"ma-icon-walk":"bicycling"===this.routes__travelMode?"ma-icon-bicycle":"ma-icon-new-custom98"},duration(){let t;return t=this.$store.state.defaultSettings.stopEventDuration.overridable?this.waypointOptions.TimeBasedOptions.Duration:this.$store.state.defaultSettings.stopEventDuration.value,t},showTime(){return!this.routes__editMode||this.isTimeBased},waypointOverflowOptions(){const t=[];return this.waypoint.LinkId__c&&""!==this.waypoint.LinkId__c&&t.push({label:this.$Labels.MA_VIEW_RECORD,value:"viewRecord"}),t.push({label:this.$Labels.ActionFramework_Take_Me_There,value:"takeMeThere"}),t},showTimeDistance(){return this.routes__onMap&&this.waypoint.distance},waypointClass(){return`${this.type}-location`},isStart(){return"start"===this.type},isEnd(){return"end"===this.type},isWaypoint(){return"waypoint"===this.type},departureString(){return this.waypoint.departuretime?g.unix(this.waypoint.departuretime).format(f.User.timeFormat):""},arrivalString(){return this.waypoint.arrivaltime?g.unix(this.waypoint.arrivaltime).format(f.User.timeFormat):""},errorString(){const t=this.waypoint.erroramount||0,e=Math.round(parseFloat(t/60));let{errorMsg:s}=this.waypoint;if(!s||""===s||"Unreachable"===s)if(e>=60){const t=e%60;s=`${Math.floor(e/60)} hour(s)${0===t?" ":` ${t} min(s) `}late for appointment`}else s=`${e} min(s) late for appointment`;return s},hasError(){let t=!1;const e=this.waypoint.erroramount||0;return e<300&&this.isGuideRoute?t=!1:e>0&&(t=!0),t},timeDistance(){const t=u.Z.units,e=this.timeHours&&this.timeHours>0;if("mi"===t){const t=e?[this.timeHours,this.timeMinutes,this.miles]:[this.timeMinutes,this.miles];return(0,d.N4)(e?this.$Labels.routes_show_travel_distance_with_hours_miles:this.$Labels.routes_show_travel_distance_with_no_hours_miles,t)}if("km"===t){const t=e?[this.timeHours,this.timeMinutes,this.kilometers]:[this.timeMinutes,this.kilometers];return(0,d.N4)(e?this.$Labels.routes_show_travel_distance_with_hours_km:this.$Labels.routes_show_travel_distance_with_no_hours_km,t)}const s=e?[this.timeHours,this.timeMinutes]:[this.timeMinutes];return(0,d.N4)(e?this.$Labels.routes_show_travel_time_with_hours:this.$Labels.routes_show_travel_time_no_hours,s)},miles(){return(621371e-9*this.waypoint.distance).toFixed(1)},kilometers(){return(this.waypoint.distance/1e3).toFixed(1)},hours(){return this.timeHours&&this.timeHours>0?`${this.timeHours} hours `:""},timeHours(){return parseInt(this.waypoint.totaltraveltime/3600,10)},remainderSeconds(){return this.waypoint.totaltraveltime-3600*this.timeHours},timeMinutes(){return parseInt(this.remainderSeconds/60,10)}},methods:{...(0,i.mapMutations)("routes",{routes__removeStop:"removeStop",routes__setFirst:"setFirst",routes__setLast:"setLast",routes__updatePendingChanges:"updatePendingChanges",routes__updateSingleRouteScrollPosition:"updateSingleRouteScrollPosition"}),...(0,i.mapActions)("routes",{routes__removeRoute:"removeRoute"}),hideWaypointOptions(){this.showWaypointOptions=!1},updateWaypointOptions(t){this.routes__updatePendingChanges(!0),this.waypoint.Options__c={...this.waypoint.Options__c,TimeBasedOptions:{Start:t.start,Duration:t.duration}}},decodeWaypointOptions(){let t=this.waypoint.Options__c;if("object"==typeof t)t=this.waypoint.Options__c;else if("string"==typeof t){t=(0,l.m9)(this.waypoint.Options__c);try{t=JSON.parse(t)}catch(e){t=u.Z.defaultOptions}}else t=u.Z.defaultOptions;return t},applyWaypointOptions(){this.waypointOptions=this.decodeWaypointOptions();const t=this.waypointOptions.TimeBasedOptions||{};this.timeIs24Hr=!1,this.start=t.Start,this.duration=t.Duration},handleTooltipAction(t){if("takeMeThere"===t.value){const t={location:{coordinates:{lat:this.waypoint.lat,lng:this.waypoint.lng}}},e=window.MAActionFramework.standardActions["Take Me There"];e.ActionValue.call(e,{records:[t]})}else"viewRecord"===t.value&&window.ma_navigateToSObject(this.waypoint.LinkId__c)},updateTime(){this.isWaypoint&&(this.showWaypointOptions=!0)},showWaypointInfo(){if(this.routes__editMode)return;const t=this.routes__routing;if(!t)return;const e=t.getWaypointMarker(this.waypoint.id);e?b.maps.event.trigger(e,"click"):window.MAToastMessages.showWarning({message:"Route Warning",subMessage:"Unable to locate marker information"})},removeRow(){this.routes__removeRoute(),this.isStart?(this.routes__updatePendingChanges(!0),this.routes__setFirst(null)):this.isEnd?(this.routes__updatePendingChanges(!0),this.routes__setLast(null)):this.routes__removeStop(this.waypoint.id)},triggerMarkerClick(){if(!this.routes__routing)return;const t=window.getProperty(this,"$parent.$refs.singleListView.scrollTop",!1);this.routes__updateSingleRouteScrollPosition(t);const e=this.routes__routing.getMarkers().find((t=>this.waypoint.id===t.uid));e&&b.maps.event.trigger(e,"click")}}},O=(0,w.Z)(S,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"route-location-container slds-p-bottom_medium"},[s("div",{staticClass:"slds-card slds-grid slds-p-left_medium slds-p-right_x-small",class:{"start-location":t.isStart,"end-location":t.isEnd,"stop-event":[!t.isEnd&&!t.isStart],"waypoint-has-error":t.waypoint.hasError}},[t.isWaypoint?s("div",{staticClass:"handleContainer ma-route-handle slds-grid slds-p-right_medium"},[s("span",{staticClass:"ma-icon ma-icon-move"})]):t._e(),t._v(" "),s("div",{staticClass:"slds-p-vertical_medium slds-p-right_medium"},[s("div",{staticClass:"location-icon"},[s("div",{staticClass:"slds-icon_container"},[s("span",{staticClass:"slds-icon ma-icon",class:{"ma-icon-priority":t.isStart,"ma-icon-goal":t.isEnd}},[t._v(t._s(t._f("decode")(t.isWaypoint?t.index:"")))])])])]),t._v(" "),s("div",{staticClass:"slds-col",staticStyle:{"min-width":"0"}},[s("div",{staticClass:"slds-grid"},[s("div",{staticClass:"slds-col route-item_text-wrap slds-col slds-p-vertical_small slds-p-right_medium",on:{click:t.triggerMarkerClick}},[s("h2",{staticClass:"slds-text-heading_medium route-item_title-link"},[t._v(t._s(t._f("decode")(t.name)))]),t._v(" "),s("p",{staticClass:"route-waypoint_address slds-truncate"},[t._v(t._s(t._f("decode")(t.address)))])]),t._v(" "),s("div",{staticClass:"slds-grid slds-p-top_x-small"},[s("div",[s("ActionSheet",{attrs:{doDetach:!0,options:t.waypointOverflowOptions},on:{select:t.handleTooltipAction}})],1),t._v(" "),s("div",[s("button",{staticClass:"slds-button slds-button_icon slds-button_icon-container",on:{click:t.removeRow}},[s("span",{staticClass:"slds-icon ma-icon ma-icon-close"})])])])]),t._v(" "),t.isTimeBased?s("div",{staticClass:"time-label slds-p-bottom_small"},[s("div",{staticClass:"time-label-text slds-grid slds-grid slds-grid_vertical-align-center",on:{click:t.updateTime}},[s("div",[s("button",{staticClass:"slds-button"},[s("span",[t._v(t._s(t._f("decode")(t.start)))])])]),t._v(" "),t.isWaypoint?s("div",{staticClass:"slds-p-horizontal_x-small"},[s("p",{staticClass:"slds-text-color_weak"},[t._v("â€“")])]):t._e(),t._v(" "),s("div",[s("button",{staticClass:"slds-button"},[t.isWaypoint?s("span",[t._v(t._s(t._f("decode")(t.duration)))]):t._e()])])])]):t._e()])]),t._v(" "),t.showTimeDistance?s("div",{staticClass:"slds-p-horizontal_medium route-waypoint_travel-message"},[s("div",{staticClass:"route-waypoint_travel-container slds-grid slds-grid_vertical-align-center slds-p-vertical_x-small"},[s("span",{staticClass:"slds-icon_container slds-p-right_small"},[s("span",{staticClass:"slds-icon ma-icon",class:t.travelIcon})]),t._v(" "),s("h2",[t._v(t._s(t._f("decode")(t.timeDistance)))])])]):t._e(),t._v(" "),t.hasError?s("div",{staticClass:"slds-p-horizontal_medium route-waypoint_warning-message"},[s("div",{staticClass:"slds-notify slds-notify_alert slds-theme_alert-texture slds-theme_warning"},[s("span",{staticClass:"slds-assistive-text"},[t._v("Warning")]),t._v(" "),s("span",{staticClass:"slds-icon ma-icon ma-icon-warning slds-m-right_small"}),t._v(" "),s("h2",[t._v("\n                    "+t._s(t._f("decode")(t.errorString))+"\n                ")])])]):t._e()]),t._v(" "),t.showWaypointOptions?s("WaypointTimeOptionsModal",{attrs:{isDurationSelectionDisabled:!t.$store.state.defaultSettings.stopEventDuration.overridable,start:t.start,duration:t.duration,showDuration:t.isWaypoint},on:{close:t.hideWaypointOptions,save:t.updateWaypointOptions}}):t._e()],1)}),[],!1,null,"960ea7f6",null).exports;var C=s(9159);const{MASystem:k,getProperty:M}=window,$={components:{RouteSingleViewFooter:()=>({...(0,r.Z)(),component:s.e(9588).then(s.bind(s,9013)),error:C.Z}),RouteSingleViewHeader:()=>({...(0,r.Z)(),component:s.e(216).then(s.bind(s,5796)),error:C.Z}),RouteBodyWaypoint:O,draggable:n()},data:()=>({showLaborsLaws:!1}),computed:{...(0,i.mapGetters)("routes",{routes__showSingleRoute:"showSingleRoute",routes__singleRouteScrollPosition:"singleRouteScrollPosition",routes__route:"route",routes__record:"record",routes__waypoints:"waypoints",routes__editMode:"editMode",routes__onMap:"onMap",routes__routing:"routing"}),route(){return this.record||"New Route"},scrollPosition(){return this.routes__singleRouteScrollPosition},timeOptions(){return this.routes__route.timeBasedOptions},isTimeBased(){let t;return t="timeBased"===this.$store.state.defaultSettings.routeType.value||this.timeOptions.Enabled||!1,t},waypoints:{get(){return this.routes__waypoints||[]},set(t){this.routes__updateWaypointOrder(t)}},first(){return this.routes__route.first},last(){return this.routes__route.last},routeType(){return this.isTimeBased?a.D.TIME_BASED_ROUTE:a.D.ROUTE}},created(){this.showLaborsLaws=M(k||{},"Organization.LaborLawsNotify",!1)||!1},mounted(){this.$refs.singleListView.scrollTop=this.scrollPosition,this.$refs.singleListView.addEventListener("scroll",this.handleScroll)},beforeDestroy(){this.$refs.singleListView.removeEventListener("scroll",this.handleScroll)},methods:{...(0,i.mapActions)("routes",{routes__removeRoute:"removeRoute",routes__createNewRoute:"createNewRoute"}),...(0,i.mapMutations)("routes",{routes__updateOnMap:"updateOnMap",routes__updateWaypointOrder:"updateWaypointOrder",routes__loadingToggle:"loadingToggle",routes__setWaypoints:"setWaypoints",routes__clearWaypointDistances:"clearWaypointDistances",routes__clearWaypointErrors:"clearWaypointErrors",routes__rearrange:"rearrange"}),rearrange(){this.routes__removeRoute(),this.routes__rearrange()}}},T=(0,w.Z)($,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{ref:"routelistdiv",staticClass:"view-panel-flex-column",class:{"nest-out":!t.routes__showSingleRoute,"edit-mode":t.routes__editMode,"view-mode":!t.routes__editMode,"labor-law-notification-in":t.showLaborsLaws},attrs:{id:"route-wrapper"}},[s("div",{staticClass:"route-single-wrapper slds-grid slds-grid_vertical"},[s("RouteSingleViewHeader"),t._v(" "),s("div",{staticClass:"route-single-content"},[s("div",{ref:"singleListView",staticClass:"route-single-content-wrap momentum-scrolling-y slds-scrollable in slds-p-around_medium",attrs:{id:"routeSingleListView"}},[s("div",{attrs:{id:"route-list-view"}},[t.first?s("RouteBodyWaypoint",{key:"route_start",attrs:{waypoint:t.first,isTimeBased:t.isTimeBased,type:"start"}}):t._e(),t._v(" "),s("draggable",{attrs:{forceFallback:!0,handle:".ma-route-handle"},on:{update:t.rearrange},model:{value:t.waypoints,callback:function(e){t.waypoints=e},expression:"waypoints"}},t._l(t.waypoints,(function(e,i){return s("RouteBodyWaypoint",{key:e.id,attrs:{waypoint:e,index:i+1,isTimeBased:t.isTimeBased}})})),1),t._v(" "),t.last?s("RouteBodyWaypoint",{key:"route_end",attrs:{waypoint:t.last,isTimeBased:t.isTimeBased,type:"end"}}):t._e()],1)])]),t._v(" "),s("RouteSingleViewFooter")],1)])}),[],!1,null,"1cec6978",null).exports},7335:(t,e,s)=>{s.d(e,{Z:()=>a});var i=s(5264);const{$:o}=window,n={name:"ActionSheet",directives:{"click-outside":i.Z},props:{options:{type:Array,required:!0},doDetach:{type:Boolean,default:!0},labelKey:{type:String,default:"label"},buttonText:{type:String,default:""},buttonIcon:{type:String,default:""},hideOverride:{type:Boolean,default:!1},selectedItems:{type:Array,default:()=>[]},buttonType:{type:String,default:""}},data:()=>({container:null,showOptions:!1,styleObject:{},window:{height:0,width:0},uid:"action-sheet"}),computed:{isPhone(){return this.window.width<769},computedIcon(){let t="";return""!==this.buttonIcon?t=this.buttonIcon:""===this.buttonText&&(t="ma-icon-threedots-vertical"),t},actionSheetClickOutsideOptions(){return{active:this.showOptions,handler:this.hideActionSheet}}},watch:{isPhone(){this.showOptions=!1}},created(){window.addEventListener("resize",this.handleResize),this.handleResize()},destroyed(){window.removeEventListener("resize",this.handleResize),this.hideActionSheet()},methods:{handleResize(){this.window.width=window.innerWidth,this.window.height=window.innerHeight},returnItem(t){t.isHeader||(this.$emit("select",t),this.hideActionSheet())},hideActionSheet(){this.showOptions=!1,this.container&&(this.container.remove(),this.container=null)},detach(){if(!this.$refs.button)return;const t=document.querySelector(`.slds-scope.${this.uid}`);try{t.remove()}catch(t){}const e=this.$refs.button.getBoundingClientRect();this.container=document.createElement("div"),this.container.className=`slds-scope ${this.uid}`,this.container.appendChild(this.$refs.actions),document.body.appendChild(this.container),this.styleObject={top:`${e.top+this.$refs.button.clientHeight+o(window).scrollTop()}px`,left:`${e.left+o(window).scrollLeft()}px`,"max-height":"300px"}},adjustForClipping(){const t=this.$refs.actions.getBoundingClientRect();let e;if(e=document.documentElement.clientHeight-window.innerHeight<=0?document.documentElement.clientHeight:window.innerHeight-this.getScrollbarWidth(),t.x<0)this.styleObject.left=`${this.$refs.actions.offsetLeft+Math.abs(t.x)}px`;else if(t.left+t.width>document.documentElement.clientWidth){const e=t.left+t.width-document.documentElement.clientWidth-o(window).scrollLeft();this.styleObject.left=t.left-e+"px"}const s=this.$refs.actions.scrollHeight,i=o(window).scrollTop();if(this.styleObject["max-height"]="300px",t.top+s>e){const o=t.top+s-i-e;this.$bus.$emit("ma-modal-scroll-by",o),this.styleObject.top=t.top-o+"px"}},disableClick(t){t.stopPropagation(),t.preventDefault()},openActionSheet(){this.showOptions=!0,this.doDetach&&this.detach(),this.$nextTick((()=>{this.doDetach&&this.adjustForClipping(),this.options.forEach(((t,e)=>{const s=t,i=this.$refs.optionItem[e];s.isHeader&&i.addEventListener("click",this.disableClick,!0)}))}))}}},a=(0,s(1900).Z)(n,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{directives:[{name:"click-outside",rawName:"v-click-outside:[actionSheetClickOutsideOptions]",arg:t.actionSheetClickOutsideOptions}],staticClass:"action-sheet-wrapper slds-scope"},[s("div",{ref:"button",staticClass:"slds-grid slds-grid_vertical-align-center",on:{click:t.openActionSheet}},[s("div",{staticClass:"slds-button slds-col slds-truncate"},[t._v(t._s(t._f("decode")(t.buttonText)))]),t._v(" "),""!==t.computedIcon?s("div",[s("button",{staticClass:"slds-button slds-button_icon slds-button_icon-container",class:[t.buttonType]},[s("span",{staticClass:"slds-button__icon ma-icon",class:[t.computedIcon]})])]):t._e()]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.showOptions,expression:"showOptions"}],ref:"actions",staticClass:"ma-action-sheet-wrap in slds-grid slds-grid_vertical slds-grid_align-end",style:t.isPhone?{}:t.styleObject},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.isPhone,expression:"isPhone"}],staticClass:"action-sheet_mask",on:{click:t.hideActionSheet}}),t._v(" "),s("div",{staticClass:"action-sheet_wrap slds-grid slds-grid_vertical"},[s("div",{staticClass:"action-sheet_content slds-scrollable"},t._l(t.options,(function(e,i){return s("div",{key:i,ref:"optionItem",refInFor:!0,staticClass:"action-sheet_item slds-grid slds-p-around_medium",class:{"header slds-text-title_caps slds-section__title slds-theme--shade":e.isHeader,"slds-is-selected":t.selectedItems.includes(e.id)},on:{click:function(s){return t.returnItem(e)}}},[t._m(0,!0),t._v(" "),s("div",{staticClass:"slds-col"},[s("span",{staticStyle:{"word-break":"break-word"}},[t._v(t._s(t._f("decode")(e[t.labelKey])))])])])})),0),t._v(" "),s("div",{staticClass:"slds-button slds-button_neutral action-sheet_close-button",on:{click:t.hideActionSheet}},[t._v("\n                "+t._s(t._f("decode")(t.$Labels.MA_Close))+"\n            ")])])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"action-sheet_selected-icon slds-p-right_medium"},[e("span",{staticClass:"slds-icon slds-icon_x-small ma-icon ma-icon-check"})])}],!1,null,"44c08aa9",null).exports},7579:(t,e,s)=>{s.d(e,{Z:()=>o});const i={name:"MASelect",props:{label:{type:String,default:""},options:{type:Object|Array,required:!0},keyString:{type:String,default:"key"},valueString:{type:String,default:"value"},hasNoneOption:{type:Boolean,default:!0},value:{type:String|Number,default:""},default:{type:String|Number,default:""},isRequired:{type:Boolean,default:!1},isInvalid:{type:Boolean,default:!1},placeholder:{type:String,default:""},isMultiSelect:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},data(){return{defaultValue:this.default}},computed:{showLabel(){return this.label}},watch:{value(){const t={};t[this.keyString]=this.value,t[this.valueString]=this.getSelectedValue(),this.$emit("change",t)}},methods:{decodeHtml(t){if(!t)return t;const e=window.document.createElement("textarea");return e.innerHTML=t,e.value},getKey(t){return"string"==typeof t||"number"==typeof t?t:t[this.keyString]},getValue(t){return"string"==typeof t||"number"==typeof t?t:t[this.valueString]},isSelected(t){let e=!1;return e=Array.isArray(this.value)?this.value.includes(this.getKey(t)):this.getKey(t)===this.value,e},change(t){t||(t=null);let e=[];for(let s=0;s<t.length;s++){const i=t[s];e.push(i.value)}if(1===e.length){const[t]=e;e=t}this.$emit("input",e)},getSelectedValue(){if(!this.options||!this.options.length)return"";const t=this.options.find((t=>this.getKey(t)===this.value));return t?this.decodeHtml(this.getValue(t)):null},remove(){this.$emit("input",""),this.doHide()}}},o=(0,s(1900).Z)(i,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"slds-form-element",class:{"slds-has-error":t.isInvalid}},[t.showLabel?s("label",{staticClass:"slds-form-element__label"},[t.isRequired?s("abbr",{staticClass:"slds-required",attrs:{title:"required"}},[t._v("*")]):t._e(),t._v("\n        "+t._s(t.decodeHtml(t.label))+"\n    ")]):t._e(),t._v(" "),s("div",{staticClass:"slds-is-relative"},[s("select",t._b({staticClass:"slds-select",staticStyle:{overflow:"auto"},attrs:{placeholder:t.placeholder,disabled:t.disabled},on:{change:function(e){return t.change(e.target.selectedOptions)}}},"select",{multiple:t.isMultiSelect},!1),[t.hasNoneOption?s("option",{attrs:{value:""}},[t._v("\n                -- None --\n            ")]):t._e(),t._v(" "),t._l(t.options,(function(e,i){return s("option",{key:i,domProps:{value:t.getKey(e),selected:t.isSelected(e)}},[t._v("\n                "+t._s(t.getValue(e))+"\n            ")])}))],2),t._v(" "),t._m(0)]),t._v(" "),t.isInvalid?s("div",{staticClass:"slds-form-element__help"},[t._t("errors",(function(){return[t._v("This field is required.")]}))],2):t._e()])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"select-icon"},[e("span",{staticClass:"ma-icon ma-icon-down"})])}],!1,null,null,null).exports}}]);