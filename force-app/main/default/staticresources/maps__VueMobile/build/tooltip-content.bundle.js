"use strict";(globalThis.webpackChunkmaps_desktop=globalThis.webpackChunkmaps_desktop||[]).push([[9887],{4429:(t,a,e)=>{e.r(a),e.d(a,{default:()=>c});var o=e(5908),i=e(3589),s=e(7335);const{getProperty:r}=window,n={components:{ActionSheet:s.Z},data(){return{tabs:[],extraTabs:[],showExtraTabs:!1,activeTab:"details",sharedTabTemplates:{details:{label:this.$Labels.MA_DETAILS,id:"details",icon:"ma-icon-list"}}}},computed:{...(0,o.mapGetters)("tooltip",{tooltip__queryMetaData:"queryMetaData",tooltip__markerType:"markerType",tooltip__record:"record"}),selectedTab(){return[this.activeTab]},hideChatterOverride:()=>r(window.MASystem||{},"Organization.hideChatterTab",!1)||!1,supportsChatter(){return r(this.tooltip__queryMetaData,"options.supportsChatter",!1)||!1},showRelatedList(){let t=!1;return r(this.tooltip__queryMetaData,"options.relatedListCount",!1)>0&&(t=!0),t},showWeather:()=>r(window,"userSettings.ShowWeather",!1)||!1},created(){this.buildTabs()},methods:{buildTabs(){let t=[];"waypoint-marker"===this.tooltip__markerType?t=this.buildWaypointTabs():"favorite-marker"===this.tooltip__markerType?t=this.buildFavoriteTabs():"sfdc-marker"===this.tooltip__markerType?t=this.buildSFDCTabs():"data-layer"===this.tooltip__markerType?t=this.buildDataLayerTabs():"my-position"===this.tooltip__markerType?t=this.buildMyPositionTabs():"arcGIS-marker"===this.tooltip__markerType?t=this.buildArcTabs():t.push(this.sharedTabTemplates.details),t.length>2?(this.tabs=t.splice(0,2),this.showExtraTabs=!0,this.extraTabs=t):this.tabs=t},updateTab(t){this.activeTab=t,this.$emit("show-tab-info",t)},showExtendTabInfo(t){this.updateTab(t.id)},buildSFDCTabs(){const t=[];t.push(this.sharedTabTemplates.details),!this.hideChatterOverride&&this.supportsChatter&&t.push({label:this.$Labels.MA_Chatter,id:"chatter",icon:"ma-icon-chat"}),this.showRelatedList&&t.push({label:this.$Labels.MA_RELATED_LIST,id:"RelatedList",icon:"ma-icon-related-list"}),this.showWeather&&t.push({label:this.$Labels.MA_Weather,id:"weather",icon:"ma-icon-new-custom60"}),this.tooltip__record.isRouteMarker&&t.push({label:this.$Labels.MA_Notes,id:"notes",icon:"ma-icon-note"});const a=this.getLiveTabs();return[...t,...a]},getLiveTabs(){const{layerType:t=""}=this.tooltip__queryMetaData,a=[];return"Live"===t&&a.push({label:this.$Labels.MA_LIVE,id:"live",icon:"ma-icon-live"}),a},buildWaypointTabs(){const t=[];return t.push(this.sharedTabTemplates.details),t.push({label:this.$Labels.MA_Notes,id:"notes",icon:"ma-icon-note"}),t},buildFavoriteTabs(){const t=[];return t.push(this.sharedTabTemplates.details),t},buildMyPositionTabs(){const t=[];return t.push(this.sharedTabTemplates.details),t},buildArcTabs(){const t=[];return t.push(this.sharedTabTemplates.details),t},buildDataLayerTabs(){const t=[],{data:a={}}=this.tooltip__record,{popup:e={}}=a;t.push({label:"Header",icon:"ma-icon-side_list",id:"header"});const{tabs:o=[]}=e;return this.updateTab("header"),o.forEach((a=>{t.push({label:a.tab_label,icon:"ma-icon-side_list",id:a.tab_id})})),t}}};var d=e(1900);const l=(0,d.Z)(n,(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"ma-tab-link-group ma-button-group tooltip-scope"},[t._l(t.tabs,(function(a,o){return e("button",{key:o,staticClass:"ma-button ma-tab-link",class:{active:t.activeTab===a.id},attrs:{"data-tab":"markerInfoTab"+o},on:{click:function(e){return t.updateTab(a.id)}}},[t._v("\n        "+t._s(t._f("decode")(a.label))+"\n        "),"more"===a.id?e("i",{staticClass:"ma-icon align-right ma-icon-more",staticStyle:{display:"block",float:"right",margin:"3px 0 0 8px"}}):t._e()])})),t._v(" "),t.showExtraTabs?e("ActionSheet",{attrs:{doDetach:!0,options:t.extraTabs,buttonText:t.$Labels.MA_More,selectedItems:t.selectedTab,buttonIcon:"ma-icon-threedots-vertical"},on:{select:t.showExtendTabInfo,hide:function(a){t.showExtraTabs=!1}}}):t._e()],2)}),[],!1,null,null,null).exports;var b=e(9159);const p={components:{TooltipTabs:l,SFDCContentRoot:()=>({...(0,i.Z)(),component:e.e(7984).then(e.bind(e,4083)),error:b.Z}),FavoriteMarkersRoot:()=>({...(0,i.Z)(),component:e.e(8022).then(e.bind(e,1554)),error:b.Z}),DataLayerRoot:()=>({...(0,i.Z)(),component:e.e(6660).then(e.bind(e,9561)),error:b.Z}),MyPositionRoot:()=>({...(0,i.Z)(),component:e.e(3323).then(e.bind(e,9090)),error:b.Z}),ArcGISRoot:()=>({...(0,i.Z)(),component:e.e(95).then(e.bind(e,7181)),error:b.Z}),POIRoot:()=>({...(0,i.Z)(),component:e.e(2605).then(e.bind(e,8682)),error:b.Z}),Click2CreateRoot:()=>({...(0,i.Z)(),component:e.e(2605).then(e.bind(e,3543)),error:b.Z})},data:()=>({tabId:"details"}),computed:{...(0,o.mapGetters)("tooltip",{tooltip__markerType:"markerType"})},methods:{updateTooltipBody(t){this.tabId=t}}},c=(0,d.Z)(p,(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"tooltip-content slds-grid slds-grid_vertical momentum-scrolling-y slds-scrollable"},[e("TooltipTabs",{on:{"show-tab-info":t.updateTooltipBody}}),t._v(" "),e("div",{staticClass:"slds-col infowindow-body_scroll-area slds-scrollable"},["sfdc-marker"===t.tooltip__markerType||"waypoint-marker"===t.tooltip__markerType?e("SFDCContentRoot",{attrs:{tabId:t.tabId},on:{"update:tabId":function(a){t.tabId=a},"update:tab-id":function(a){t.tabId=a}}}):"favorite-marker"===t.tooltip__markerType?e("FavoriteMarkersRoot",{attrs:{tabId:t.tabId},on:{"update:tabId":function(a){t.tabId=a},"update:tab-id":function(a){t.tabId=a}}}):"data-layer"===t.tooltip__markerType?e("DataLayerRoot",{attrs:{tabId:t.tabId},on:{"update:tabId":function(a){t.tabId=a},"update:tab-id":function(a){t.tabId=a}}}):"my-position"===t.tooltip__markerType?e("MyPositionRoot",{attrs:{tabId:t.tabId},on:{"update:tabId":function(a){t.tabId=a},"update:tab-id":function(a){t.tabId=a}}}):"arcGIS-marker"===t.tooltip__markerType?e("ArcGISRoot",{attrs:{tabId:t.tabId},on:{"update:tabId":function(a){t.tabId=a},"update:tab-id":function(a){t.tabId=a}}}):"poi"===t.tooltip__markerType?e("POIRoot",{attrs:{tabId:t.tabId},on:{"update:tabId":function(a){t.tabId=a},"update:tab-id":function(a){t.tabId=a}}}):"c2c-marker"===t.tooltip__markerType?e("Click2CreateRoot",{attrs:{tabId:t.tabId},on:{"update:tabId":function(a){t.tabId=a},"update:tab-id":function(a){t.tabId=a}}}):e("div",{staticClass:"ma-tab-content-group"},[e("div",{staticClass:"ma-tab-content active"})])],1)],1)}),[],!1,null,"e6fcef80",null).exports}}]);