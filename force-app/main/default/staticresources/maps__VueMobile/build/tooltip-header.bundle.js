"use strict";(globalThis.webpackChunkmaps_desktop=globalThis.webpackChunkmaps_desktop||[]).push([[2139],{9274:(t,s,e)=>{e.r(s),e.d(s,{default:()=>l});var o=e(5908);const{google:i,getProperty:a,userSettings:r}=window,d={data(){return{distanceToMyPosition:`${this.$Labels.MA_Loading_With_Ellipsis}`,address:"",name:""}},computed:{...(0,o.mapGetters)("tooltip",{tooltip__record:"record",tooltip__marker:"marker",tooltip__queryMetaData:"queryMetaData",tooltip__markerType:"markerType"})},created(){this.buildHeader()},methods:{hideTooltip(){this.$emit("hide-tooltip")},getDistanceToMyPosition(){if("my-position"===this.tooltip__markerType)this.distanceToMyPosition="";else if(window.myCachedPosition)try{const t=new i.maps.LatLng(this.tooltip__record.location.coordinates.lat,this.tooltip__record.location.coordinates.lng),s=i.maps.geometry.spherical.computeDistanceBetween(window.myCachedPosition,t),e=a(r||{},"RouteDefaults.unit")||"mi",o="km"===e?"KM":"MILES",d=Math.round(s*window.unitFactors.METERS[o]*100)/100;this.distanceToMyPosition=`${d} ${e}`}catch(t){this.distanceToMyPosition=""}else this.distanceToMyPosition=""},buildHeader(){this.getFormattedAddress(),this.getName(),this.getDistanceToMyPosition()},getFormattedAddress(){"sfdc-marker"===this.tooltip__markerType?this.address=window.Plotting.getFormattedAddress(this.tooltip__record,this.tooltip__queryMetaData)||"":"my-position"===this.tooltip__markerType?window.reverseGeocode({latLng:this.tooltip__record.location.coordinates,complete:t=>{if(t.success&&t.results.length>0){const[s={}]=t.results,e=s.formatted_address||"";this.tooltip__record.address=e,this.address=e,this.tooltip__marker.address=e}}}):"poi"===this.tooltip__markerType?this.address=this.tooltip__record.formatted_address:"favorite-marker"===this.tooltip__markerType?this.address=this.tooltip__marker.location.address:this.address=this.tooltip__record.address},getName(){if("sfdc-marker"===this.tooltip__markerType){const t=this.tooltip__queryMetaData.tooltips||[];for(let s=0,e=t.length;s<e;s++){const e=t[s],o=a(this.tooltip__record,e.ActualFieldName)||"",i=window.formatTooltip(this.tooltip__record,e,!0)||o;this.name=""===i?"N/A":i;break}}else"favorite-marker"===this.tooltip__markerType?this.name=this.tooltip__marker.title:this.name=this.tooltip__record.name}}},l=(0,e(1900).Z)(d,(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"tooltipHeaderWrapper"},[e("div",{staticClass:"slds-grid ma-top-bar tooltip-top-bar",attrs:{id:"markerTooltipTopBar"}},[e("div",{staticClass:"slds-p-vertical_small slds-p-left_medium recordName slds-col_bump-right slds-truncate"},[e("div",{staticClass:"slds-text-heading_medium slds-p-right--small slds-truncate"},[t._v(t._s(t._f("decode")(t.name)))]),t._v(" "),e("div",{staticClass:"infowindow_subtext ma-top-bar-subtext recordAddress slds-truncate"},[t._v("\n                "+t._s(t._f("decode")(t.address))+"\n            ")])]),t._v(" "),e("div",{staticClass:"slds-p-vertical_small slds-p-left_small slds-p-top_xx-small"},[e("div",{staticClass:"infowindow_meta-text ma-top-bar-meta-distance recordDistance slds-truncate"},[t._v(t._s(t.distanceToMyPosition))]),t._v(" "),e("div",{staticClass:"infowindow_meta-text ma-top-bar-meta-time recordTime slds-truncate"})]),t._v(" "),e("div",{staticClass:"slds-p-vertical_small slds-p-right_x-small slds-p-left_medium"},[e("button",{staticClass:"slds-button slds-button_icon slds-button_icon-container",on:{click:t.hideTooltip}},[e("span",{staticClass:"ma-icon ma-icon-close"})])])])])}),[],!1,null,"5cd5f0e4",null).exports}}]);