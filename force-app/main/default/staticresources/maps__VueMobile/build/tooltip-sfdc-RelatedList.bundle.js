"use strict";(globalThis.webpackChunkmaps_desktop=globalThis.webpackChunkmaps_desktop||[]).push([[2195],{4648:(e,t,s)=>{s.r(t),s.d(t,{default:()=>o});var a=s(5908),r=s(2423);const i={components:{MASpinner:s(675).Z},data:()=>({isLoading:!1,errorInfo:{hasError:!1,message:"Unable to retrieve related list information."},relatedListData:{},firstColumnIndexMap:{}}),computed:{...(0,a.mapGetters)("tooltip",{tooltip__record:"record",tooltip__queryMetaData:"queryMetaData"})},created(){this.isLoading=!0,this.getRelatedListInfo().then((e=>{this.relatedListData=e})).catch((e=>{this.errorInfo.hasError=!0,this.errorInfo.message=e.message})).finally((()=>{this.isLoading=!1}))},methods:{getRelatedListInfo(){return new Promise(((e,t)=>{const s={ajaxResource:"TooltipAJAXResources",action:"getRelatedList",sqid:this.tooltip__queryMetaData.savedQueryId,parentid:this.tooltip__record.Id};(new r.Z).setAction("maps.RemoteFunctions.processAJAXRequest").setErrorHandler(((e,s)=>{const a=window.MA.isUserLoggedIn(e,s,!1);let r=s.message||"Unknown Error";a&&(r=a),t(new Error(r))})).invoke([s],(s=>{const{success:a=!1,data:r=[]}=s;a?e(r):(console.warn(s),t(new Error("Unable to retrieve related list information.")))}),{buffer:!1})}))},htmlDecode:e=>window.htmlDecode(e),determineFirstColumn(e,t){return null==this.firstColumnIndexMap[e]&&(this.firstColumnIndexMap[e]=t,!0)}}},o=(0,s(1900).Z)(i,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"ma-tab-content slds-scope RelatedList active"},[e.isLoading?s("MASpinner"):s("div",[e.errorInfo.hasError?s("div",[e._v("\n            "+e._s(e._f("decode")(e.errorInfo.message))+"\n        ")]):s("div",e._l(e.relatedListData,(function(t,a){return s("div",{key:a,staticClass:"relatedListWrapper ma-list",attrs:{"data-id":"list-0"}},[s("div",{staticClass:"tooltip-segment-item relatedListHeader",staticStyle:{"padding-bottom":"0px"},attrs:{"data-id":"list-0"}},[void 0!==t.related_list_label?s("h4",[e._v(e._s(e._f("decode")(t.related_list_label)))]):s("h4",[e._v(e._s(e._f("decode")(t.object_name))+" ("+e._s(e._f("decode")(t.object_name_plural))+")")]),e._v(" "),e._l(t.related_records,(function(t,a){return s("div",{key:a},e._l(t.columns,(function(r,i){return s("div",{key:i},[s("div",{staticClass:"ma-list-header",staticStyle:{padding:"5px 10px"}},[s("div",{staticClass:"ma-list-item-name"},[e._v(e._s(e._f("decode")(r.label)))])]),e._v(" "),s("div",{staticClass:"relatedListData",attrs:{"data-id":"list-0"}},[s("div",{staticClass:"ma-list-item"},[r.is_relationship?[s("a",{attrs:{href:"/"+r.relationship_id}},[e._v("\n                                            "+e._s(e._f("decode")(r.value)))])]:e.determineFirstColumn(a,i)?[r.is_htmlFormatted?s("a",{attrs:{href:"/"+t.Id}},[s("div",{domProps:{innerHTML:e._s(e.htmlDecode(r.value))}})]):s("a",{attrs:{href:"/"+t.Id}},[e._v(e._s(e._f("decode")(r.value)))])]:r.is_htmlFormatted?[s("div",{domProps:{innerHTML:e._s(e.htmlDecode(r.value))}})]:[e._v("\n                                        "+e._s(e._f("decode")(r.value))+"\n                                    ")]],2)])])})),0)}))],2)])})),0)])],1)}),[],!1,null,null,null).exports}}]);