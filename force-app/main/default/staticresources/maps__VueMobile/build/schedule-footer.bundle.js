(globalThis.webpackChunkmaps_desktop=globalThis.webpackChunkmaps_desktop||[]).push([[376],{7040:(e,t,s)=>{e.exports=s.p+"images/3c625a8f719075e844442ec810b32c3f.svg"},9430:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>u});var o=s(5908),l=s(5493);const a={components:{ScheduleQueue:()=>s.e(7135).then(s.bind(s,8281))},computed:{...(0,o.mapGetters)("schedule",{schedule__onMap:"onMap",schedule__date:"date"}),mapButtonText(){return this.schedule__onMap?this.$Labels.MA_REMOVE_FROM_MAP:this.$Labels.Schedule_Map_My_Schedule_Tooltip_Text}},methods:{...(0,o.mapMutations)("schedule",{schedule__loadingToggle:"loadingToggle",schedule__setStateMobile:"updateMobileStateSchedule"}),...(0,o.mapActions)("schedule",{schedule__buildRoute:"buildRoute",schedule__removeRoute:"removeRoute"}),generateRoute(e=!1){let t=!0;window.trackUsage("Maps",{action:"Plot Schedule",description:"Plotting a Schedule"}),this.doDisableOptimizationDueToInvalidDuration()?window.MAToastMessages.showError({message:"Events must have a default duration of at least 15 minutes to use the Add to Schedule feature. You can edit the default event duration in your global settings."}):(this.schedule__loadingToggle(!0),this.$bus.$emit("remove-route"),this.schedule__buildRoute({doOptimize:e}).then((()=>{window.MAToastMessages.showSuccess({message:this.$Labels.MA_Success})})).catch((()=>{t=!1})).finally((()=>{this.schedule__loadingToggle(!1),this.setScheduleMobileState({dateString:this.schedule__date.format("YYYY-MM-DD"),schedulePlotted:t})})))},removeSchedule(){this.schedule__removeRoute(),this.setScheduleMobileState({dateString:this.schedule__date.format("YYYY-MM-DD"),schedulePlotted:!1})},doDisableOptimizationDueToInvalidDuration:()=>!!l.Z.duration&&l.Z.duration<15,setScheduleMobileState(e){this.schedule__setStateMobile(e),window.setMobileState()}}},u=(0,s(1900).Z)(a,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"schedule-footer slds-is-relative slds-border_top"},[o("ScheduleQueue",{on:{"generate-route":function(t){return e.generateRoute(!0)}}}),e._v(" "),o("div",{staticClass:"slds-p-horizontal_medium slds-p-vertical_small"},[e.schedule__onMap?o("button",{staticClass:"slds-button slds-button_neutral",on:{click:e.removeSchedule}},[e._v("\n            "+e._s(e.$Labels.MA_REMOVE_FROM_MAP)+"\n        ")]):o("button",{staticClass:"slds-button slds-button_brand slds-button_stretch",on:{click:function(t){return e.generateRoute(!1)}}},[o("MAIcon",{attrs:{iconClass:["slds-button__icon","slds-button__icon_left"],src:s(7040)}}),e._v(" "),o("span",[e._v(e._s(e.$Labels.Schedule_Map_My_Schedule_Tooltip_Text))])],1)])],1)}),[],!1,null,"682e01d8",null).exports}}]);