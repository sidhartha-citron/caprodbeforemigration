"use strict";(globalThis.webpackChunkmaps_desktop=globalThis.webpackChunkmaps_desktop||[]).push([[7135],{5264:(e,t,s)=>{s.d(t,{Z:()=>l});const i=new Map;function n(e,t,s){const n=function(i){s.context._isDestroyed?document.removeEventListener("click",n):e.contains(i.target)||e===i.target||t(i)};i.set(e,n),setTimeout((()=>document.addEventListener("click",n)),0)}function o(e){const t=i.get(e);document.removeEventListener("click",t),i.delete(e)}const l={bind(e,{arg:{active:t,handler:s}},i){if("function"!=typeof s)throw new Error("v-click-outside: missing required handler argument.");!0===t&&n(e,s,i)},update(e,{arg:{active:t,handler:s}},l){t&&!i.has(e)?n(e,s,l):!t&&i.has(e)&&o(e)},unbind(e){o(e)}}},8281:(e,t,s)=>{s.r(t),s.d(t,{default:()=>o});var i=s(5908);const n={components:{ActionSheet:s(7335).Z},data:()=>({}),computed:{...(0,i.mapGetters)("schedule",{schedule__queue:"queue"}),scheduleQueueOverflowOptions(){return[{label:this.$Labels.MA_REMOVE_ALL,value:"remove-all-unscheduled"}]},queueLength(){return this.schedule__queue.length}},created(){},mounted(){},methods:{...(0,i.mapMutations)("schedule",{schedule__removeItemFromQueue:"removeItemFromQueue",schedule__removeAllQueueItems:"removeAllQueueItems"}),removeFromQueue(e){this.schedule__removeItemFromQueue(e.id)},generateRoute(){this.$emit("generate-route")},handleSelectOption(e){"remove-all-unscheduled"===e.value&&this.schedule__removeAllQueueItems()}}},o=(0,s(1900).Z)(n,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{directives:[{name:"show",rawName:"v-show",value:e.queueLength>0,expression:"queueLength > 0"}],staticClass:"queue-wrapper"},[s("div",{staticClass:"slds-grid slds-p-horizontal_small slds-p-vertical_x-small"},[s("div",{staticClass:"slds-col schedule-text"},[e._v("\n            "+e._s(e.$Labels.MA_SCHEDULE_TO_BE_SCHEDULED)+"\n        ")]),e._v(" "),s("div",[s("ActionSheet",{attrs:{doDetach:!0,options:e.scheduleQueueOverflowOptions},on:{select:e.handleSelectOption}})],1),e._v(" "),s("div",{staticClass:"slds-p-left_x-small"},[s("button",{staticClass:"slds-button",staticStyle:{"font-size":"14px"},attrs:{disabled:0===e.queueLength},on:{click:function(t){return e.generateRoute(!0)}}},[e._v("\n                "+e._s(e._f("decode")(e.$Labels.MA_ADD_TO_SCHEDULE))+"\n            ")])])]),e._v(" "),s("div",[s("div",{staticClass:"item-wrap slds-p-horizontal_small slds-p-bottom_x-small momentum-scrolling-y slds-scrollable"},e._l(e.schedule__queue,(function(t,i){return s("article",{key:i,staticClass:"slds-card"},[s("div",{staticClass:"slds-card__header slds-grid"},[s("header",{staticClass:"slds-media slds-media_center slds-has-flexi-truncate"},[s("div",{staticClass:"slds-media__body",staticStyle:{"font-size":"14px"}},[s("h2",{staticClass:"slds-card__header-title"},[s("div",{staticClass:"slds-card__header-link slds-truncate",attrs:{title:e._f("decode")(t.Name)}},[s("span",[e._v(e._s(e._f("decode")(t.Name)))])])])]),e._v(" "),s("div",{staticClass:"slds-no-flex"},[s("span",{staticClass:"ma-icon ma-icon-remove",on:{click:function(s){return e.removeFromQueue(t)}}})])])])])})),0)])])}),[],!1,null,"59fa83bc",null).exports},7335:(e,t,s)=>{s.d(t,{Z:()=>l});var i=s(5264);const{$:n}=window,o={name:"ActionSheet",directives:{"click-outside":i.Z},props:{options:{type:Array,required:!0},doDetach:{type:Boolean,default:!0},labelKey:{type:String,default:"label"},buttonText:{type:String,default:""},buttonIcon:{type:String,default:""},hideOverride:{type:Boolean,default:!1},selectedItems:{type:Array,default:()=>[]},buttonType:{type:String,default:""}},data:()=>({container:null,showOptions:!1,styleObject:{},window:{height:0,width:0},uid:"action-sheet"}),computed:{isPhone(){return this.window.width<769},computedIcon(){let e="";return""!==this.buttonIcon?e=this.buttonIcon:""===this.buttonText&&(e="ma-icon-threedots-vertical"),e},actionSheetClickOutsideOptions(){return{active:this.showOptions,handler:this.hideActionSheet}}},watch:{isPhone(){this.showOptions=!1}},created(){window.addEventListener("resize",this.handleResize),this.handleResize()},destroyed(){window.removeEventListener("resize",this.handleResize),this.hideActionSheet()},methods:{handleResize(){this.window.width=window.innerWidth,this.window.height=window.innerHeight},returnItem(e){e.isHeader||(this.$emit("select",e),this.hideActionSheet())},hideActionSheet(){this.showOptions=!1,this.container&&(this.container.remove(),this.container=null)},detach(){if(!this.$refs.button)return;const e=document.querySelector(`.slds-scope.${this.uid}`);try{e.remove()}catch(e){}const t=this.$refs.button.getBoundingClientRect();this.container=document.createElement("div"),this.container.className=`slds-scope ${this.uid}`,this.container.appendChild(this.$refs.actions),document.body.appendChild(this.container),this.styleObject={top:`${t.top+this.$refs.button.clientHeight+n(window).scrollTop()}px`,left:`${t.left+n(window).scrollLeft()}px`,"max-height":"300px"}},adjustForClipping(){const e=this.$refs.actions.getBoundingClientRect();let t;if(t=document.documentElement.clientHeight-window.innerHeight<=0?document.documentElement.clientHeight:window.innerHeight-this.getScrollbarWidth(),e.x<0)this.styleObject.left=`${this.$refs.actions.offsetLeft+Math.abs(e.x)}px`;else if(e.left+e.width>document.documentElement.clientWidth){const t=e.left+e.width-document.documentElement.clientWidth-n(window).scrollLeft();this.styleObject.left=e.left-t+"px"}const s=this.$refs.actions.scrollHeight,i=n(window).scrollTop();if(this.styleObject["max-height"]="300px",e.top+s>t){const n=e.top+s-i-t;this.$bus.$emit("ma-modal-scroll-by",n),this.styleObject.top=e.top-n+"px"}},disableClick(e){e.stopPropagation(),e.preventDefault()},openActionSheet(){this.showOptions=!0,this.doDetach&&this.detach(),this.$nextTick((()=>{this.doDetach&&this.adjustForClipping(),this.options.forEach(((e,t)=>{const s=e,i=this.$refs.optionItem[t];s.isHeader&&i.addEventListener("click",this.disableClick,!0)}))}))}}},l=(0,s(1900).Z)(o,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{directives:[{name:"click-outside",rawName:"v-click-outside:[actionSheetClickOutsideOptions]",arg:e.actionSheetClickOutsideOptions}],staticClass:"action-sheet-wrapper slds-scope"},[s("div",{ref:"button",staticClass:"slds-grid slds-grid_vertical-align-center",on:{click:e.openActionSheet}},[s("div",{staticClass:"slds-button slds-col slds-truncate"},[e._v(e._s(e._f("decode")(e.buttonText)))]),e._v(" "),""!==e.computedIcon?s("div",[s("button",{staticClass:"slds-button slds-button_icon slds-button_icon-container",class:[e.buttonType]},[s("span",{staticClass:"slds-button__icon ma-icon",class:[e.computedIcon]})])]):e._e()]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.showOptions,expression:"showOptions"}],ref:"actions",staticClass:"ma-action-sheet-wrap in slds-grid slds-grid_vertical slds-grid_align-end",style:e.isPhone?{}:e.styleObject},[s("div",{directives:[{name:"show",rawName:"v-show",value:e.isPhone,expression:"isPhone"}],staticClass:"action-sheet_mask",on:{click:e.hideActionSheet}}),e._v(" "),s("div",{staticClass:"action-sheet_wrap slds-grid slds-grid_vertical"},[s("div",{staticClass:"action-sheet_content slds-scrollable"},e._l(e.options,(function(t,i){return s("div",{key:i,ref:"optionItem",refInFor:!0,staticClass:"action-sheet_item slds-grid slds-p-around_medium",class:{"header slds-text-title_caps slds-section__title slds-theme--shade":t.isHeader,"slds-is-selected":e.selectedItems.includes(t.id)},on:{click:function(s){return e.returnItem(t)}}},[e._m(0,!0),e._v(" "),s("div",{staticClass:"slds-col"},[s("span",{staticStyle:{"word-break":"break-word"}},[e._v(e._s(e._f("decode")(t[e.labelKey])))])])])})),0),e._v(" "),s("div",{staticClass:"slds-button slds-button_neutral action-sheet_close-button",on:{click:e.hideActionSheet}},[e._v("\n                "+e._s(e._f("decode")(e.$Labels.MA_Close))+"\n            ")])])])])}),[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"action-sheet_selected-icon slds-p-right_medium"},[t("span",{staticClass:"slds-icon slds-icon_x-small ma-icon ma-icon-check"})])}],!1,null,"44c08aa9",null).exports}}]);