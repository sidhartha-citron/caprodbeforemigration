"use strict";(globalThis.webpackChunkmaps_desktop=globalThis.webpackChunkmaps_desktop||[]).push([[5816],{535:(e,t,o)=>{o.r(t),o.d(t,{default:()=>s});var r=o(5908),i=o(3589),a=o(9159);const{MA:l,Plotting:n}=window,p={components:{TooltipHeader:()=>({...(0,i.Z)(),component:o.e(2139).then(o.bind(o,9274)),error:a.Z}),TooltipBody:()=>({...(0,i.Z)(),component:o.e(1912).then(o.bind(o,2634)),error:a.Z})},data:()=>({}),computed:{...(0,r.mapState)("mainNavBar",{mainNavBar__tooltip:"tooltip"}),...(0,r.mapGetters)("mainNavBar",{mainNavBar__activeTab:"activeTab",mainNavBar__previousTab:"previousTab"}),...(0,r.mapGetters)("tooltip",{tooltip__record:"record",tooltip__marker:"marker",tooltip__queryMetaData:"queryMetaData",tooltip__markerType:"markerType"})},created(){this.$bus.$on("hide-tooltip",this.hideTooltip)},mounted(){this.$nextTick((()=>{this.updateIcon(),this.moveToLocation()}))},destroyed(){this.$bus.$off("hide-tooltip"),this.tooltip__clearTooltipData();try{window.Plotting.mobile.previousMarker&&window.Plotting.mobile.previousMarker.marker.setIcon(window.Plotting.mobile.previousMarker.icon),window.ArcGIS.styleOverridedLayer&&(window.ArcGIS.styleOverridedLayer.revertStyle(),window.ArcGIS.styleOverridedLayer=null)}catch(e){}},methods:{...(0,r.mapMutations)("tooltip",{tooltip__clearTooltipData:"clearTooltipData"}),hideTooltip(){this.$emit("hide-tooltip")},moveToLocation(){const e=document.getElementById("mapWrapSelector");let t;if("arcGIS-marker"===this.tooltip__markerType){const{location:e={}}=this.tooltip__record;t=e.coordinates?e.coordinates:l.map.getCenter()}else t=this.tooltip__marker.getPosition();if(e.offsetWidth<769){l.map.setCenter(t);const e=l.map.getBounds().getSouthWest(),o=l.map.getCenter();l.map.setCenter({lat:e.lat(),lng:o.lng()}),l.map.panBy(0,-150)}else{l.map.setCenter(t);const o=.25*e.offsetHeight;l.map.panBy(-o,0)}},updateIcon(){try{n.mobile.previousMarker&&n.mobile.previousMarker.marker.setIcon(n.mobile.previousMarker.icon),window.ArcGIS.styleOverridedLayer&&(window.ArcGIS.styleOverridedLayer.revertStyle(),window.ArcGIS.styleOverridedLayer=null)}catch(e){}if("arcGIS-marker"===this.tooltip__markerType){const{sublayer:e}=this.tooltip__queryMetaData,{feature:t}=this.tooltip__marker;e&&t&&(e.overrideStyle(t,{icon:n.mobile.clickedIcon}),window.ArcGIS.styleOverridedLayer=e)}else n.mobile.previousMarker={marker:this.tooltip__marker,icon:this.tooltip__marker.getIcon()},this.tooltip__marker.setIcon(n.mobile.clickedIcon)}}},s=(0,o(1900).Z)(p,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"tooltip-wrap flex-vertical in slds-scope",attrs:{id:"markerTooltipWrap"}},[e.mainNavBar__tooltip?o("TooltipHeader",{on:{"hide-tooltip":e.hideTooltip}}):e._e(),e._v(" "),e.mainNavBar__tooltip?o("TooltipBody"):e._e()],1)}),[],!1,null,null,null).exports}}]);