"use strict";(globalThis.webpackChunkmaps_desktop=globalThis.webpackChunkmaps_desktop||[]).push([[8739],{1550:(e,i,s)=>{s.r(i),s.d(i,{default:()=>l});var t=s(5908),a=s(675),n=s(3589),d=s(9159);const r={components:{LegendHeader:()=>({...(0,n.Z)(),component:s.e(2237).then(s.bind(s,9199)),error:d.Z}),LegendBody:()=>({...(0,n.Z)(),component:s.e(9768).then(s.bind(s,2786)),error:d.Z}),MASpinner:a.Z},data:()=>({lastLegendViewed:"",isInitialized:!1,isLoading:!1,selectedQuery:""}),computed:{...(0,t.mapGetters)("mainNavBar",{mainNavBar__legend:"legend"}),...(0,t.mapGetters)("layers",{layers__plottedLayers:"plottedLayers"}),sfdcLayers(){return this.layers__plottedLayers.filter((e=>"marker"===e.type&&!1===e.isLoading))}},watch:{mainNavBar__legend(e){e&&!this.isInitialized&&this.initLegend()},sfdcLayers(e){if(0===e.length)this.isInitialized=!1;else if(!e.find((e=>e.qid===this.selectedQuery))){const[i]=e;i&&(this.selectedQuery=i.qid)}}},methods:{...(0,t.mapMutations)("mainNavBar",{mainNavBar__returnToPreviousTab:"returnToPreviousTab",mainNavBar__toggleSubView:"toggleSubView"}),initLegend(){this.isInitialized||(this.isInitialized=!0)}}},l=(0,s(1900).Z)(r,(function(){var e=this,i=e.$createElement,s=e._self._c||i;return s("div",{staticClass:"slds-scope view-panel sidebar-panel sidebar-panel-over-top half-bottom-phone",class:{in:e.mainNavBar__legend},attrs:{id:"legendWrap"}},[e.isInitialized&&e.sfdcLayers.length>0?s("div",{staticClass:" view-panel-flex-column"},[s("div",{staticClass:"slds-scope"},[s("MASpinner",{directives:[{name:"show",rawName:"v-show",value:e.isLoading,expression:"isLoading"}]})],1),e._v(" "),s("LegendHeader",{attrs:{selectedQuery:e.selectedQuery,isLoading:e.isLoading},on:{"update:selectedQuery":function(i){e.selectedQuery=i},"update:selected-query":function(i){e.selectedQuery=i},"update:isLoading":function(i){e.isLoading=i},"update:is-loading":function(i){e.isLoading=i}}}),e._v(" "),s("LegendBody",{attrs:{selectedQuery:e.selectedQuery,isLoading:e.isLoading},on:{"update:selectedQuery":function(i){e.selectedQuery=i},"update:selected-query":function(i){e.selectedQuery=i},"update:isLoading":function(i){e.isLoading=i},"update:is-loading":function(i){e.isLoading=i}}})],1):e._e()])}),[],!1,null,null,null).exports}}]);