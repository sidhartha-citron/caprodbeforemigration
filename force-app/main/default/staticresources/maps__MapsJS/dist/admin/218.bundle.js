(globalThis.webpackChunkmaps_desktop=globalThis.webpackChunkmaps_desktop||[]).push([[218],{8186:t=>{t.exports='<svg xmlns=http://www.w3.org/2000/svg x=0px y=0px width=52px height=52px viewBox="0 0 52 52" enable-background="new 0 0 52 52" xml:space=preserve> <path fill=#FFFFFF d="M26,2C12.7,2,2,12.7,2,26s10.7,24,24,24s24-10.7,24-24S39.3,2,26,2z M26,14.1c1.7,0,3,1.3,3,3s-1.3,3-3,3\r\n\ts-3-1.3-3-3S24.3,14.1,26,14.1z M31,35.1c0,0.5-0.4,0.9-1,0.9h-3c-0.4,0-3,0-3,0h-2c-0.5,0-1-0.3-1-0.9v-2c0-0.5,0.4-1.1,1-1.1l0,0\r\n\tc0.5,0,1-0.3,1-0.9v-4c0-0.5-0.4-1.1-1-1.1l0,0c-0.5,0-1-0.3-1-0.9v-2c0-0.5,0.4-1.1,1-1.1h6c0.5,0,1,0.5,1,1.1v8\r\n\tc0,0.5,0.4,0.9,1,0.9l0,0c0.5,0,1,0.5,1,1.1V35.1z"/> </svg> '},5994:(t,e,s)=>{"use strict";s.d(e,{Z:()=>d});var i=s(296),o=s.n(i),n=s(5264),l=s(8221),r=s(3826);const a={name:"MASearch",components:{MAIconInline:s(8969).Z},directives:{"click-outside":n.Z,"detach-element":l.Z},mixins:[r.Z],props:{heightInNumItems:{type:Number,default:5},minSearchLength:{type:Number,default:2},searches:{type:Array,required:!0,validator:t=>{if(!t.length)return!1;const e=["id","onSearch","label"];return t.every((t=>e.every((e=>Object.prototype.hasOwnProperty.call(t,e)))))}},doDetach:{type:Boolean,default:!0},inModal:{type:Boolean,default:!1},value:{type:[String,Number],default:""},isInvalid:{type:Boolean,default:!1},placeholder:{type:String,default:""},loadingLabel:{type:String,default:"Loading"},noSearchResultsLabel:{type:String,default:"No search results."},focusOnRender:{type:Boolean,default:!1},getResultLabel:{type:Function,default:t=>t},getResultTitle:{type:Function,default:t=>t}},data(){return{doRender:!1,selectedResultIndex:0,isSearching:!1,searchResults:{},lastSearchTerm:this.value,active:!1,searchIndex:0,lastResolvedSearchIndex:0,countOfAllResults:0}},computed:{showResults(){return this.searchResults&&Object.keys(this.searchResults).length},clickOutsideOptions(){return{active:this.showResults,handler:this.doHide}}},created(){window.addEventListener("scroll",this.hide,!0)},mounted(){this.focusOnRender&&setTimeout((()=>this.$refs.search.focus()),0)},beforeDestroy(){window.removeEventListener("scroll",this.hide,!0)},methods:{select(t,e){if(this.hide(),this.$refs.search.blur(),t&&t.isNoResultsItem)return void this.$emit("input",this.lastSearchTerm);const s="function"==typeof e.label?e.label.call(e,t):t[e.label];this.lastSearchTerm=s,this.$emit("input",s),this.$emit("selected",t)},input(t){this.$emit("input",t),this.debounce(t)},debounce:o()((function(t){t.length<this.minSearchLength||(this.selectedResultIndex=0,this.isSearching=!0,this.countOfAllResults=0,++this.searchIndex,this.searches.slice(0).forEach(((e,s)=>{this.$set(this.searchResults,e.id,{...e,data:[],isLoading:!0}),e.onSearch.call(e.onSearch,t,this.searchIndex).then((t=>{const{results:i,searchIndex:o}=t;if(!o)throw new Error("Search index param missing from onSearch promise resolution.");if(o<this.lastResolvedSearchIndex)return;this.lastResolvedSearchIndex=o;const n=this.searchResults[e.id];"function"==typeof e.filter?n.data=i.filter((t=>e.filter(t))):(n.data=i,this.countOfAllResults+=i.length),n.isLoading=!1,this.$nextTick(this.setClickHandlers.bind(this,s,e.id))})).catch((t=>{this.$emit("error",t),this.searchResults={},this.countOfAllResults=0})).finally((()=>{Object.values(this.searchResults).some((t=>t.isLoading))||(this.isSearching=!1)}))})),this.$nextTick((()=>{this.selectedResultIndex=0})))}),500),down(){if(!this.searchResults)return;this.selectedResultIndex+1<this.countOfAllResults&&this.selectedResultIndex++;const t=this.$refs.resultsWrapper,e=this.$refs[`li${this.selectedResultIndex}`][0],s=e.offsetTop-t.offsetTop;s<t.scrollTop+t.clientHeight&&s>t.scrollTop||s+e.clientHeight>t.clientHeight&&(t.scrollTop+=e.clientHeight)},up(){if(!this.searchResults)return;if(!(this.selectedResultIndex-1>=0))return;this.selectedResultIndex--;const t=this.$refs.resultsWrapper,e=this.$refs[`li${this.selectedResultIndex}`][0],s=e.offsetTop-t.offsetTop;s<=t.scrollTop+t.clientHeight&&s>=t.scrollTop||s-e.clientHeight<s&&(t.scrollTop=s)},enter(){if(0===this.searchResults.length||this.selectedResultIndex<0)return;const t=this.$refs[`li${this.selectedResultIndex}`][0],e=t.getAttribute("data-parentIndex"),s=t.getAttribute("data-childIndex");this.select(this.searchResults[this.searches[e].id].data[s],this.searchResults[this.searches[e].id])},escape(){this.hide(),this.$emit("input",this.lastSearchTerm),this.$refs.search.blur()},setClickHandlers(t,e){const s=this.searchResults[e];s.data.forEach(((e,i)=>{const[o]=this.$refs[`li${this.getLIIndex(t,i)}`];if(o){const t=t=>{e.isDisabled?(t.stopPropagation(),t.preventDefault()):this.select(e,s)};o.addEventListener("click",t,e.isDisabled)}}))},setDropdownHeight(){let t=Object.keys(this.searchResults).length;Object.keys(this.searchResults).forEach((e=>{t+=this.searchResults[e].data.length})),t>this.heightInNumItems&&(t=this.heightInNumItems);const e=this.$refs.resultsWrapper;let s=5,i=0,o=0;const n=e.getElementsByTagName("li");for(let e=0;e<n.length;e++){const l=n[e];if(s+=l.clientHeight,l.querySelector("h3.slds-text-title_caps")?o++:i++,i===t)break}i+o===n.length?e.style.height="auto":e.style.height=`${s}px`},doHide(t){t&&this.$refs.resultsWrapper.contains(t.target)||(this.active||this.showResults)&&(this.$refs.search.blur(),this.$emit("input",this.lastSearchTerm),this.hide(t))},focus(t){this.active=!0,this.$listeners.focus&&this.$listeners.focus(t)},blur(t){this.active=!1,this.$listeners.blur&&this.$listeners.blur(t)},clear(){this.hide(),this.$emit("input",""),this.lastSearchTerm="",this.$refs.search.focus(),this.$emit("clear")},hide(t){t&&this.$refs.resultsWrapper&&this.$refs.resultsWrapper.contains(t.target)||t&&"scroll"===t.type&&this.$refs.resultsWrapper&&this.$refs.resultsWrapper.contains(t.srcElement)||(this.selectedResultIndex=-1,this.searchResults={})},getLIIndex:(t,e)=>2*Number(t)+Number(t)+Number(e)}},d=(0,s(1900).Z)(a,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"click-outside",rawName:"v-click-outside:[clickOutsideOptions]",arg:t.clickOutsideOptions}]},[i("div",{staticClass:"slds-form-element__control slds-combobox__form-element slds-input-has-icon slds-input-has-icon_left-right"},[i("MAIconInline",{attrs:{svg:s(294),iconClass:["slds-icon","slds-input__icon","slds-input__icon_left","slds-icon-text-default"]}}),t._v(" "),i("input",{ref:"search",staticClass:"slds-input",class:{"slds-input-invalid":t.isInvalid},attrs:{placeholder:t.placeholder,type:"text"},domProps:{value:t.decodeHtml(t.value)},on:{input:function(e){return t.input(e.target.value)},focus:t.focus,blur:t.blur,keyup:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:(e.preventDefault(),t.enter.apply(null,arguments))},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.escape.apply(null,arguments)}],keydown:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"down",40,e.key,["Down","ArrowDown"])?null:(e.preventDefault(),t.down.apply(null,arguments))},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"up",38,e.key,["Up","ArrowUp"])?null:(e.preventDefault(),t.up.apply(null,arguments))}]}}),t._v(" "),i("div",{staticClass:"slds-input__icon-group slds-input__icon-group_right"},[t.isSearching?i("div",{staticClass:"slds-spinner slds-spinner_brand slds-spinner_x-small slds-input__spinner",attrs:{role:"status"}},[i("span",{staticClass:"slds-assistive-text"},[t._v(t._s(t.loadingLabel))]),t._v(" "),i("div",{staticClass:"slds-spinner__dot-a"}),t._v(" "),i("div",{staticClass:"slds-spinner__dot-b"})]):i("button",{staticClass:"slds-input__icon slds-input__icon_right slds-button slds-button_icon",on:{click:t.clear}},[i("MAIconInline",{attrs:{svg:s(785),iconClass:["slds-button__icon","slds-icon-text-light"],assistiveText:"Clear"}})],1)])],1),t._v(" "),t.showResults?i("span",{directives:[{name:"detach-element",rawName:"v-detach-element",value:{anchorRef:t.$refs.search,viewPortOverflow:!0,resizeToAnchor:!0,anchorTopOnVerticalOverflow:!0,onRender:t.setDropdownHeight},expression:"{ anchorRef: $refs['search'], viewPortOverflow: true, resizeToAnchor: true, anchorTopOnVerticalOverflow: true, onRender: setDropdownHeight }"}],ref:"dropdown",staticClass:"dropdown-positioner"},[i("ul",{ref:"resultsWrapper",staticClass:"slds-listbox slds-listbox_vertical slds-dropdown_fluid slds-dropdown",class:{"custom-dropdown":1===t.searches.length}},t._l(t.searchResults,(function(e,s,o){return i("div",{key:o},[e.header?i("li",{staticClass:"slds-listbox__item ma-no-pointer-events slds-grid slds-grid_align-spread slds-grid_vertical-align-center slds-is-relative"},[i("h3",{staticClass:"slds-section-title--divider"},[t._v(t._s(e.header))]),t._v(" "),i("div",{staticClass:"slds-input__icon-group slds-input__icon-group_right"},[e.isLoading?i("div",{staticClass:"slds-spinner slds-spinner_brand slds-spinner_x-small slds-input__spinner"},[i("span",{staticClass:"slds-assistive-text"},[t._v(t._s(t.loadingLabel))]),t._v(" "),i("div",{staticClass:"slds-spinner__dot-a"}),t._v(" "),i("div",{staticClass:"slds-spinner__dot-b"})]):t._e()])]):t._e(),t._v(" "),e.isLoading||e.data.length?t._e():i("li",{staticClass:"slds-listbox__item ma-no-pointer-events",attrs:{role:"presentation"}},[i("span",{staticClass:"slds-listbox__option-text_entity slds-listbox__option slds-listbox__option_plain"},[t._v(t._s(t.noSearchResultsLabel))])]),t._v(" "),t._l(e.data,(function(s,n){return i("li",{key:t.getLIIndex(o,n),ref:"li"+t.getLIIndex(o,n),refInFor:!0,staticClass:"slds-listbox__item",class:{"ma-select-active":!s.isDisabled&&t.getLIIndex(o,n)===t.selectedResultIndex,"ma-li-disabled":s.isDisabled},attrs:{"data-parentIndex":o,"data-childIndex":n,role:"presentation"}},[t.$scopedSlots.result?[t._t("result",null,{result:s,index:t.getLIIndex(o,n),type:e.type})]:i("div",{staticClass:"slds-media slds-listbox__option slds-listbox__option_plain slds-media_small slds-media_center",attrs:{role:"option"}},[i("span",{staticClass:"slds-media__body"},[i("span",{staticClass:"slds-truncate",attrs:{title:t.getResultTitle(s)}},[t._v("\n                                "+t._s(t.getResultLabel(s))+"\n                            ")])])])],2)}))],2)})),0)]):t._e()])}),[],!1,null,"fc93ad5a",null).exports},9756:(t,e,s)=>{"use strict";s.d(e,{Z:()=>l});var i=s(8969);const o={top:"slds-nubbin_top",topLeft:"slds-nubbin_top-left",topRight:"slds-nubbin_top-right",bottom:"slds-nubbin_bottom",bottomLeft:"slds-nubbin_bottom-left",bottomRight:"slds-nubbin_bottom-right",left:"slds-nubbin_left",leftTop:"slds-nubbin_left-top",leftBottom:"slds-nubbin_left-bottom",right:"slds-nubbin_right",rightTop:"slds-nubbin_right-top",rightBottom:"slds-nubbin_right-bottom"},n={name:"MATooltip",components:{MAIconInline:i.Z},description:"Renders a SLDS-themed tooltip.",props:{inForm:{type:Boolean,default:!1},showIcon:{type:Boolean,default:!1},bindToParent:{type:Boolean,default:!1},bindTo:{type:[HTMLElement,Function],default:()=>{}},source:{type:[HTMLElement,Function],default:()=>{}},forceShow:{type:Boolean,default:!1},nubbinREM:{type:Number,default:1.8},renderDelay:{type:Number,default:0},helpLabel:{type:String,default:"Help"},noWrap:{type:Boolean,default:!1},nubbinPosition:{type:String,default:"bottom"}},data(){return{showEl:!1,container:null,el:null,bindToStored:this.bindTo,sourceStored:null,nubbin:o.bottom}},computed:{doShow(){return this.forceShow||this.showEl}},watch:{showEl(t){if(t){const t=this.bindToStored?this.bindToStored:this.$refs.icon,e=this.$refs.popover;this.renderDelay?setTimeout(this.detach.bind(this,t,e),this.renderDelay):this.detach(t,e)}else this.destroy()},source(t){this.sourceStored=t},sourceStored(t){if(this.bindToStored&&!t)throw new Error("If using a custom binding element for MATooltip, a source element must be provided.");t&&!this.bindToStored&&(this.bindToStored=t),t&&(t.addEventListener("mouseover",this.enter),t.addEventListener("mouseout",this.leave)),this.sourceStored=t},bindTo(t){this.bindToStored=t}},mounted(){this.bindToParent&&(this.bindToStored=this.$el.parentNode),this.bindTo&&(this.bindToStored="function"==typeof this.bindTo?this.bindTo():this.bindTo),this.source?this.sourceStored="function"==typeof this.source?this.source():this.source:this.sourceStored=this.showIcon?this.$refs.icon:this.$el.parentNode},beforeDestroy(){this.destroy(),this.sourceStored&&(this.sourceStored.removeEventListener("mouseover",this.enter),this.sourceStored.removeEventListener("mouseout",this.leave))},methods:{enter(){this.showEl=!0},leave(t){const e=t.toElement||t.relatedTarget;this.sourceStored&&this.sourceStored.contains(e)||this.el===e||this.el&&this.el.contains(e)?t.stopPropagation():this.showEl=!1},overPopup(t){t.stopPropagation()},outPopup(t){const e=t.toElement||t.relatedTarget;this.sourceStored&&this.sourceStored.contains(e)||this.el===e||this.el&&this.el.contains(e)?t.stopPropagation():this.showEl=!1},detach(t,e){this.container=document.createElement("div"),this.container.className=`slds-scope ${this.$el.className}`,this.$el.getAttributeNames().forEach((t=>{t.startsWith("data-v")&&this.container.setAttribute(t,this.$el.getAttribute(t))})),this.el=e.cloneNode(!0),this.el.style.display="block",this.el.addEventListener("mouseleave",this.outPopup),this.el.addEventListener("mouseenter",this.overPopup),this.container.appendChild(this.el),document.body.appendChild(this.container),this.setPosition(t)},setPosition(t){const e=this.el.scrollHeight,s=this.el.clientWidth,i=Math.ceil(this.nubbinREM*parseFloat(getComputedStyle(this.el).fontSize)),n=parseFloat(window.getComputedStyle(this.el,":before").width),l=Math.floor(Math.sqrt(2*Math.pow(n,2))/2),r=Math.ceil(Math.sqrt(2*Math.pow(n,2))/2),a=window.pageYOffset,d=window.pageXOffset,h=document.documentElement.clientWidth,c=this.getParentRect(t),u=c.left+c.width/2-1;let p=u-s/2+d,f=c.top-e-1+a;const b=void 0!==o[this.nubbinPosition]?o[this.nubbinPosition]:this.nubbin;let m=this.nubbinPosition;b===o.bottom&&f-a<0&&(m="top"),u+i>=h?(m="right",f-a<0&&(m="rightTop")):u+s/2>h||"bottomRight"===this.nubbinPosition?(m="bottomRight",f-a<0&&(m="topRight")):u-i<=0?(m="left",f-a<0&&(m="leftTop")):u-s/2<0&&(m="bottomLeft",f-a<0&&(m="topLeft")),"top"===m?f=c.bottom+a+l:"topLeft"===m?(f=c.bottom+a+l,p=u-i+d):"topRight"===m?(f=c.bottom+a+l,p=u-s+i+d):"rightTop"===m?(f=c.top+a+c.height/2-i,p=c.left-s-r+d):"leftTop"===m?(f=c.top+a+c.height/2-i,p=c.right+l+d):"right"===m?(f=c.top+c.height/2-this.el.clientHeight/2+a,p=c.left-s-r+d):"bottomRight"===m?(f=c.top-e-1+a,p=u-s+i+d):"left"===m?(p=c.right+l+d,f=c.top+(c.height/2-1)-this.el.clientHeight/2+a):"bottomLeft"===m?(p=u-i+d,f=c.top-e-1+a):"bottom"===m&&(p=u-s/2+d,f=c.top-e-1+a),o[m]!==this.nubbin&&(this.$refs.popover.classList.remove(this.nubbin),this.$refs.popover.classList.add(o[m])),this.el.style.left=`${p}px`,this.el.style.top=`${f}px`},getParentRect(t){const e=t.getBoundingClientRect(),s=t.currentStyle||window.getComputedStyle(t);let i=parseFloat(s.marginLeft)+parseFloat(s.marginRight);i+=parseFloat(s.paddingLeft)+parseFloat(s.paddingRight),i+=parseFloat(s.borderLeftWidth)+parseFloat(s.borderRightWidth);let o=parseFloat(s.marginTop)+parseFloat(s.marginBottom);return o+=parseFloat(s.paddingTop)+parseFloat(s.paddingBottom),o+=parseFloat(s.borderTopWidth)+parseFloat(s.borderBottomWidth),{top:e.top-o,right:e.right+i,bottom:e.bottom+o,left:e.left-i,width:e.width+i,height:e.height+o}},destroy(){this.el&&(this.el.removeEventListener("mouseleave",this.outPopup),this.el.removeEventListener("mouseenter",this.overPopup),this.el.remove()),this.container&&this.container.remove(),this.el=null,this.container=null,this.nubbin=o.bottom}}},l=(0,s(1900).Z)(n,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:{"slds-show_inline-block":t.inForm},on:{mouseenter:t.enter,mouseleave:t.leave}},[t.showIcon?i("div",{ref:"icon",class:{"slds-form-element__icon":t.inForm}},[t._t("icon",(function(){return[i("button",{staticClass:"slds-button slds-button_icon",attrs:{"aria-describedby":"help"}},[i("MAIconInline",{staticClass:"slds-icon_container slds-icon-utility-info",attrs:{svg:s(8186),iconClass:["slds-icon","slds-icon","slds-icon_xx-small","slds-icon-text-default"],assistiveText:t.helpLabel}})],1)]}))],2):t._e(),t._v(" "),i("div",{ref:"popover",staticClass:"slds-popover slds-popover_tooltip",class:[t.nubbin],attrs:{role:"tooltip"}},[i("div",{staticClass:"slds-popover__body",class:{"ma-tooltip-nowrap":t.noWrap}},[t._t("content",(function(){return[t._v("default content")]}))],2)])])}),[],!1,null,"2938d120",null).exports}}]);