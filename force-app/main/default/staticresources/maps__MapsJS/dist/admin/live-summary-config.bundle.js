(globalThis.webpackChunkmaps_desktop=globalThis.webpackChunkmaps_desktop||[]).push([[7295],{5264:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});const i=new Map;function a(e,t,s){const a=function(i){s.context._isDestroyed?document.removeEventListener("click",a):e.contains(i.target)||e===i.target||t(i)};i.set(e,a),setTimeout((()=>document.addEventListener("click",a)),0)}function o(e){const t=i.get(e);document.removeEventListener("click",t),i.delete(e)}const r={bind(e,{arg:{active:t,handler:s}},i){if("function"!=typeof s)throw new Error("v-click-outside: missing required handler argument.");!0===t&&a(e,s,i)},update(e,{arg:{active:t,handler:s}},r){t&&!i.has(e)?a(e,s,r):!t&&i.has(e)&&o(e)},unbind(e){o(e)}}},8221:(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});const i=new Map,a=(e,{anchorRef:t,anchorTopOnVerticalOverflow:s})=>{const i=e.getBoundingClientRect(),a=document.documentElement.clientHeight,o=document.documentElement.clientWidth;let r;if(r=a-window.innerHeight<=0?a:window.innerHeight-(()=>{const e=document.createElement("div");e.style.width="100px",e.style.height="100px",e.style.overflow="scroll",e.style.position="absolute",e.style.top="-9999px",document.body.appendChild(e);const t=e.offsetWidth-e.clientWidth;return e.remove(),t})(),i.x<0)e.style.left=`${e.offsetLeft+Math.abs(i.x)}px`;else if(i.left+i.width>o){const t=i.left+i.width-o-window.pageXOffset;e.style.left=i.left-t+"px"}const l=e.scrollHeight;let n;if(t&&s){const e=t.getBoundingClientRect();let s=e.bottom;s+l>r&&(s=e.top-l),n=s}else i.top+l>r&&(n=i.top-(i.top+l-r));n&&(e.style.top=`${n}px`)},o=e=>{let t=i.get(e);t&&(t.remove(),t=null,i.delete(e))};let r;const l=(e,t,s)=>{s&&"scroll"===s.type&&e&&e.contains(s.target)||("function"==typeof t?t(e,s):(o(e),window.removeEventListener("scroll",r,!0),r=null))},n={bind(e,t,s){t.value.disabled||s.context.$nextTick((()=>{const o=t.value,n=((e,t)=>{const s=document.createElement("div");return s.className=`slds-scope ${t.$el.className}`,s.appendChild(e),document.body.appendChild(s),t.$emit("detached",s),s})(e,s.context);s.container=n,i.set(e,n),"function"==typeof o.customDisplayMethod&&o.customDisplayMethod(),o.anchorRef&&o.anchorRef instanceof HTMLElement&&((e,t,{anchorRef:s,resizeToAnchor:i})=>{e.style.position="fixed";const a=s.getBoundingClientRect();e.style.top=`${a.top+s.offsetHeight}px`,e.style.left=`${a.left}px`,i&&(e.style.width=`${s.offsetWidth}px`)})(e,0,o),o.viewPortOverflow&&s.context.$nextTick((()=>{"function"==typeof o.onRender?(o.onRender(),s.context.$nextTick(a.bind(this,e,o))):a(e,o)})),r=l.bind(null,e,o.scrollHandler),window.addEventListener("scroll",r,!0)}))},update(e,{value:t},s){t.viewPortOverflow&&s.context.$nextTick((()=>{"function"==typeof t.onRender&&t.onRender(),a(e,t)}))},unbind(e){o(e),window.removeEventListener("scroll",r,!0),r=null}}},7571:(e,t,s)=>{e.exports=s.p+"images/a6f93fc91c5f5338ae9bcf0c47547928.svg"},7097:(e,t,s)=>{e.exports=s.p+"images/53b9b138946fee58b1ad8d319015d444.svg"},6584:(e,t,s)=>{e.exports=s.p+"images/02378b86a18005a371ed3b9ecb6c060a.svg"},6072:(e,t,s)=>{e.exports=s.p+"images/fe5479a392dfafddb10a4a6252967904.svg"},7040:(e,t,s)=>{e.exports=s.p+"images/3c625a8f719075e844442ec810b32c3f.svg"},5445:(e,t,s)=>{e.exports=s.p+"images/9f94f92e7b219e563f5546ec3c057bdc.svg"},2181:(e,t,s)=>{e.exports=s.p+"images/e7ef49a382e454e4f675205eae05b3d7.svg"},3655:(e,t,s)=>{e.exports=s.p+"images/c74009a10111ba618d911db34e0b2d6e.svg"},8659:e=>{e.exports='<svg xmlns=http://www.w3.org/2000/svg x=0px y=0px width=52px height=52px viewBox="0 0 52 52" enable-background="new 0 0 52 52" xml:space=preserve> <path fill=#FFFFFF d="M8,20c3.3,0,6,2.7,6,6s-2.7,6-6,6s-6-2.7-6-6S4.7,20,8,20z M26,20c3.3,0,6,2.7,6,6s-2.7,6-6,6s-6-2.7-6-6\r\n\tS22.7,20,26,20z M44,20c3.3,0,6,2.7,6,6s-2.7,6-6,6s-6-2.7-6-6S40.7,20,44,20z"/> </svg> '},785:e=>{e.exports='<svg xmlns=http://www.w3.org/2000/svg x=0px y=0px width=52px height=52px viewBox="0 0 52 52" enable-background="new 0 0 52 52" xml:space=preserve> <path fill=#FFFFFF d="M26,2C12.7,2,2,12.7,2,26s10.7,24,24,24s24-10.7,24-24S39.3,2,26,2z M30.9,26.8l7.8,7.8c0.4,0.4,0.4,1,0,1.4\r\n\tl-2.8,2.8c-0.4,0.4-1,0.4-1.4,0L26.7,31c-0.4-0.4-1-0.4-1.4,0l-7.8,7.8c-0.4,0.4-1,0.4-1.4,0L13.3,36c-0.4-0.4-0.4-1,0-1.4l7.8-7.8\r\n\tc0.4-0.4,0.4-1,0-1.4l-7.9-7.9c-0.4-0.4-0.4-1,0-1.4l2.8-2.8c0.4-0.4,1-0.4,1.4,0l7.9,7.9c0.4,0.4,1,0.4,1.4,0l7.8-7.8\r\n\tc0.4-0.4,1-0.4,1.4,0l2.8,2.8c0.4,0.4,0.4,1,0,1.4l-7.8,7.8C30.6,25.8,30.6,26.4,30.9,26.8z"/> </svg> '},6413:e=>{e.exports='<svg xmlns=http://www.w3.org/2000/svg x=0px y=0px width=52px height=52px viewBox="0 0 52 52" enable-background="new 0 0 52 52" xml:space=preserve> <path fill=#FFFFFF d="M26,2C12.8,2,2,12.8,2,26s10.8,24,24,24s24-10.8,24-24S39.2,2,26,2z M8,26c0-9.9,8.1-18,18-18\r\n\tc3.9,0,7.5,1.2,10.4,3.3L11.3,36.4C9.2,33.5,8,29.9,8,26z M26,44c-3.9,0-7.5-1.2-10.4-3.3c5.1-5.1,19.3-19.3,25.1-25.1\r\n\tC42.8,18.5,44,22.1,44,26C44,35.9,35.9,44,26,44z"/> </svg> '},294:e=>{e.exports='<svg xmlns=http://www.w3.org/2000/svg width=52 height=52 viewBox="0 0 52 52"><path d=M49.62,45.27,36.22,32a18.9,18.9,0,1,0-34.1-9.2A18.91,18.91,0,0,0,32,36.27l13.3,13.3a1.45,1.45,0,0,0,2.1,0l2.1-2.1A1.68,1.68,0,0,0,49.62,45.27Zm-28.7-11.5a12.9,12.9,0,1,1,12.9-12.9A12.87,12.87,0,0,1,20.92,33.77Z fill=#fff fill-rule=evenodd /></svg>'},5973:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>R});var i=s(5908),a=s.n(i);const o={state:{toggle:{showSummaryConfig:!1,showGenerateSummaries:!1,showUserPrompt:!1,showDeleteConfig:!1,refresh:!1},summaryConfig:{activeTab:"details",action:"create",configData:{summaryname:"",summarydesc:"",livelayerid:"",livelayername:"",associations:{},anyduration:!1,distval:null,distmeas:"feet",disttime:null,drivetripoptim:"Vehicle Tracking",speedlimitover:null,speedlimittime:null,speedlimitunits:"mph",speedthreshval:null,speedthreshunits:"mph",threshtime:null,createstoprec:!0,createspeedrec:!0,createspeedthreshrec:!0,stoptoggle:!0,speedingtoggle:!0,speedthreshtoggle:!0}},summaryErrors:{selectedErrors:0,ignoreErrors:!1,reRunSummaries:!1}},mutations:{resetSummaryConfig(e){e.summaryConfig.action="create",e.summaryConfig.configData={summaryname:"",summarydesc:"",livelayerid:"",livelayername:"",associations:{},anyduration:!1,distval:null,distmeas:"feet",disttime:null,drivetripoptim:"Vehicle Tracking",speedlimitover:null,speedlimittime:null,speedlimitunits:"mph",speedthreshval:null,speedthreshunits:"mph",threshtime:null,createstoprec:!0,createspeedrec:!0,createspeedthreshrec:!0,stoptoggle:!0,speedingtoggle:!0,speedthreshtoggle:!0}}}};var r=s(8050),l=s(675),n=s(1853),d=s(2589),c=s(9884);const{MAToastMessages:m}=window,u={components:{MASpinner:l.Z,MACheckbox:n.Z,MAActionMenu:d.Z,MAActionMenuItem:c.Z},data:()=>({isLoading:!1,summaries:[]}),computed:{...(0,i.mapState)({store__toggle:"toggle",store__summaryConfig:"summaryConfig"})},watch:{"store__toggle.showSummaryConfig":{async handler(e){!e&&this.store__toggle.refresh&&await this.getSummaries()},deep:!0},"store__toggle.showDeleteConfig":{async handler(e){!e&&this.store__toggle.refresh&&await this.getSummaries()},deep:!0}},async created(){await this.getSummaries()},methods:{...(0,i.mapMutations)({store__resetSummaryConfig:"resetSummaryConfig"}),showSummaryDetails(e){e.toggle=!e.toggle},showSummaryConfig(e,t){const s=this.store__summaryConfig;s.action=e,"create"===e?(this.store__resetSummaryConfig(),s.activeTab="details"):(t&&(s.configData=t),"clone"===e&&(s.configData.summaryname=`Copy of ${s.configData.summaryname}`,s.configData.id=void 0),["edit","clone"].includes(e)&&(s.activeTab="details"),"errors"===e&&(s.activeTab="errors")),this.store__toggle.showSummaryConfig=!0},showGenerateSummaries(e){this.store__summaryConfig.configData=e,this.store__toggle.showGenerateSummaries=!0},showDeleteConfig(e){this.store__summaryConfig.configData=e,this.store__toggle.showDeleteConfig=!0},async getSummaries(){this.isLoading=!0;try{const{success:e,summaries:t}=await(0,r.wX)("maps.LiveRemoteFunctions.RetrieveAllSummaries",[]);e?(t.length>0&&t.forEach((e=>{e.toggle=!1,e.drivetripoptim=e.drivetripoptim?e.drivetripoptim:"Vehicle Tracking"})),this.summaries=t):m.showError({position:"toast-top-right",message:"Error",subMessage:"Could not retrieve stored Summary Configurations",timeOut:8e3})}catch(e){m.showError({position:"toast-top-right",message:"Remoting Error",subMessage:e,timeOut:8e3})}finally{this.isLoading=!1,this.store__toggle.refresh=!1}},async setSummaryActiveState(e,t,s){this.isLoading=!0;const i=[t,s,e];try{const{success:e,message:t}=await(0,r.wX)("maps.LiveRemoteFunctions.SaveSummaryActiveState",i);e?m.showLoading({position:"toast-top-right",message:"Notice",subMessage:t.replace(/<(\/?script)>/gi,"&lt;$1&gt;"),timeOut:8e3}):m.showError({position:"toast-top-right",message:"Remoting Error",subMessage:t.replace(/<(\/?script)>/gi,"&lt;$1&gt;"),timeOut:8e3})}catch(e){m.showError({position:"toast-top-right",message:"Remoting Error",subMessage:e,timeOut:8e3})}finally{this.getSummaries(),this.isLoading=!1,this.store__toggle.refresh=!1}}}};var h=s(1900);const g=(0,h.Z)(u,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("MASpinner",{directives:[{name:"show",rawName:"v-show",value:e.isLoading,expression:"isLoading"}]}),e._v(" "),i("div",{staticClass:"slds-grid slds-p-top_large slds-p-bottom_small slds-p-horizontal_small"},[i("div",{staticClass:"slds-col slds-grid"},[i("button",{staticClass:"slds-button slds-button_neutral",on:{click:function(t){return e.showSummaryConfig("create")}}},[i("span",{staticClass:"slds-button__icon slds-button__icon_left ma-icon ma-icon-add"}),e._v("\n                Add New\n            ")])])]),e._v(" "),e._l(e.summaries,(function(t,a){return i("div",{key:a,attrs:{id:"card-section"}},[i("div",{staticClass:"slds-card slds-container_medium slds-m-bottom_medium"},[i("ul",{staticClass:"slds-accordion"},[i("li",{staticClass:"slds-accordion__list-item"},[i("section",{staticClass:"slds-accordion__section",class:t.toggle?"slds-is-open":null},[i("div",{staticClass:"slds-accordion__summary"},[i("h3",{staticClass:"slds-text-heading_small slds-accordion__summary-heading slds-grid slds-grid_vertical-align-center slds-p-around_x-small",staticStyle:{"background-color":"whitesmoke"}},[i("button",{staticClass:"slds-button accordian-switch",attrs:{"aria-controls":"accordion-details-02","aria-expanded":"true"},on:{click:function(s){return e.showSummaryDetails(t)}}},[i("span",{staticClass:"slds-icon_container",attrs:{title:"show config details"}},[i("svg",{staticClass:"slds-accordion__summary-action-icon slds-button__icon_large slds-button__icon_left",staticStyle:{fill:"darkgray"},attrs:{"aria-hidden":"true"}},[i("use",{attrs:{"xmlns:xlink":"http://www.w3.org/1999/xlink","xlink:href":"/apexpages/slds/latest/assets/icons/utility-sprite/svg/symbols.svg#switch"}})])])]),e._v(" "),i("div",{staticClass:"slds-col slds-text-heading_small"},[i("strong",[e._v(e._s(e._f("decode")(t.summaryname)))])]),e._v(" "),i("MACheckbox",{attrs:{id:"checkbox",title:t.isactive?"Active":"Inactive"},on:{input:function(s){return e.setSummaryActiveState(t.isactive,t.id,t.summaryname)}},model:{value:t.isactive,callback:function(s){e.$set(t,"isactive",s)},expression:"summary.isactive"}}),e._v(" "),i("MAActionMenu",[i("button",{staticClass:"slds-button slds-button_icon slds-button_icon-border-filled slds-button_icon-x-small slds-m-left--small",attrs:{slot:"button"},slot:"button"},[i("MAIcon",{attrs:{src:s(6584),iconClass:["slds-icon","slds-button__icon","slds-icon-text-default"]}})],1),e._v(" "),i("MAActionMenuItem",{attrs:{label:"Generate Historical Summaries"},on:{click:function(s){return e.showGenerateSummaries(t)}}}),e._v(" "),i("MAActionMenuItem",{attrs:{label:"Edit"},on:{click:function(s){return e.showSummaryConfig("edit",t)}}}),e._v(" "),i("MAActionMenuItem",{attrs:{label:"Clone"},on:{click:function(s){e.showSummaryConfig("clone",JSON.parse(JSON.stringify(t)))}}}),e._v(" "),t.openErrorCount>0?i("MAActionMenuItem",{attrs:{label:"View Errors"},on:{click:function(s){return e.showSummaryConfig("errors",t)}}}):e._e(),e._v(" "),i("li",{staticClass:"slds-has-divider_top-space",attrs:{role:"separator"}}),e._v(" "),i("MAActionMenuItem",{staticClass:"red-text",attrs:{label:"Delete"},on:{click:function(s){return e.showDeleteConfig(t)}}})],1)],1)]),e._v(" "),i("div",{staticClass:"slds-accordion__content",attrs:{id:"accordion-details-01","aria-hidden":"false"}},[i("div",{staticClass:"slds-card__body slds-card__body_inner slds-m-around_xx-small"},[i("div",{staticClass:"slds-grid slds-gutters"},[i("div",{staticClass:"slds-col"},[i("div",{staticClass:"slds-form-element slds-m-bottom_small"},[i("label",{staticClass:"slds-form-element__label",attrs:{for:"select-01"}},[e._v("Live Layer")]),e._v(" "),i("div",{staticClass:"slds-form-element__control"},[i("input",{staticClass:"slds-input",attrs:{id:"text-input-id-"+a,type:"text",readonly:""},domProps:{value:t.livelayername}})])]),e._v(" "),i("div",{staticClass:"slds-form-element slds-m-bottom_small"},[i("label",{staticClass:"slds-form-element__label",attrs:{for:"select-01"}},[e._v("Device Count")]),e._v(" "),i("div",{staticClass:"slds-form-element__control"},[i("input",{staticClass:"slds-input",attrs:{id:"text-input-id-"+a+"-1",type:"text",readonly:""},domProps:{value:t.devicecount}})])]),e._v(" "),i("div",{staticClass:"slds-form-element slds-m-bottom_small"},[i("label",{staticClass:"slds-form-element__label",attrs:{for:"select-01"}},[e._v("Description")]),e._v(" "),i("div",{staticClass:"slds-form-element__control"},[i("input",{staticClass:"slds-input",attrs:{id:"text-input-id-"+a+"-2",type:"text",readonly:""},domProps:{value:t.summarydesc}})])])]),e._v(" "),i("div",{staticClass:"slds-col"},[i("div",{staticClass:"slds-form-element slds-m-bottom_small"},[i("label",{staticClass:"slds-form-element__label",attrs:{for:"select-01"}},[e._v("Created Date")]),e._v(" "),i("div",{staticClass:"slds-form-element__control"},[i("input",{staticClass:"slds-input",attrs:{id:"text-input-id-"+a+"-3",type:"text",readonly:""},domProps:{value:e.$moment(t.createddate).format("MM/DD/YYYY")}})])]),e._v(" "),i("div",{staticClass:"slds-form-element slds-m-bottom_small"},[i("label",{staticClass:"slds-form-element__label",attrs:{for:"select-01"}},[e._v("Created By")]),e._v(" "),i("div",{staticClass:"slds-form-element__control"},[i("input",{staticClass:"slds-input",attrs:{id:"text-input-id-"+a+"-4",type:"text",readonly:""},domProps:{value:t.createdby}})])])])])])])])])])])])}))],2)}),[],!1,null,null,null).exports;var _=s(4141),p=s(3294),v=s(1595),f=s(5747),y=s(5994),b=s(9756);const{MAToastMessages:C}=window,x={components:{MACheckbox:n.Z,MASpinner:l.Z},data:()=>({isLoading:!1,tableRows:[],tableColumns:["DEVICE ID","ERROR TYPE","REPORT DATE","TIMESTAMP","DETAILS","ADDITIONAL INFO"],sortTableBy:null,sortDirection:null,selectAllRows:!1,selectedRowCount:0}),computed:{...(0,i.mapState)({store__summaryConfig:"summaryConfig",store__summaryErrors:"summaryErrors"}),sortedRows(){const e=this.tableRows;return e.sort(((e,t)=>(e=e[this.sortTableBy]||"",t=t[this.sortTableBy]||"","ascending"===this.sortDirection?e<t?-1:e>t?1:0:"descending"===this.sortDirection?e>t?-1:e<t?1:0:null))),e},selectedErrors(){const e=[];return this.sortedRows.forEach((t=>{t.checked&&e.push(t.Id)})),e}},watch:{"store__summaryErrors.ignoreErrors":{async handler(e){e&&(await this.ignoreErrors(),this.store__summaryErrors.ignoreErrors=!1)},deep:!0},"store__summaryErrors.reRunSummaries":{async handler(e){e&&(await this.reRunSummaries(),this.store__summaryErrors.reRunSummaries=!1)},deep:!0},selectedErrors:{handler(e){e&&(this.store__summaryErrors.selectedErrors=e.length)}}},async created(){this.store__summaryConfig.configData.id&&await this.getSummaryErrors()},methods:{selectAll(e){this.sortedRows.forEach((t=>{t.checked=e}))},sortClick(e){const t={"DEVICE ID":"DeviceId__c","ERROR TYPE":"ErrorType__c","REPORT DATE":"ReportDate__c",TIMESTAMP:"CreatedDate",DETAILS:"Message__c","ADDITIONAL INFO":"StackTrace__c"};this.sortTableBy!==t[e]&&(this.sortTableBy=t[e],this.sortDirection="ascending"),"ascending"===this.sortDirection?this.sortDirection="descending":"descending"===this.sortDirection&&(this.sortDirection="ascending")},async getSummaryErrors(){try{this.isLoading=!0;const{success:e,errors:t}=await(0,r.wX)("maps.LiveRemoteFunctions.GetSummaryErrors",[this.store__summaryConfig.configData.id]);e||C.showError({position:"toast-top-right",message:"Error",subMessage:"Could not retrieve summary errors.",timeOut:8e3}),t.forEach((e=>{e.checked=!1})),this.tableRows=t}catch(e){C.showError({position:"toast-top-right",message:"Error",subMessage:e,timeOut:8e3})}finally{this.isLoading=!1}return null},async ignoreErrors(){if(this.selectedErrors&&this.selectedErrors.length>0)try{this.isLoading=!0;const{success:e,message:t}=await(0,r.wX)("maps.LiveRemoteFunctions.complete",[this.selectedErrors]);e||C.showError({position:"toast-top-right",message:"Error",subMessage:"Could not mark errors as complete.",timeOut:8e3}),C.showSuccess({position:"toast-top-right",message:"Success",subMessage:t,timeOut:8e3}),await this.getSummaryErrors()}catch(e){C.showError({position:"toast-top-right",message:"Error",subMessage:e,timeOut:8e3})}finally{this.isLoading=!1}else C.showWarning({position:"toast-top-right",message:"Notice",subMessage:"Select at least one error to mark completed.",timeOut:8e3});return null},async reRunSummaries(){if(this.selectedErrors&&this.selectedErrors.length>0){for(const e of this.selectedErrors)await this.reRunSummary(e);C.showSuccess({position:"toast-top-right",message:"Success",subMessage:"Summary re-run in progress.",timeOut:8e3}),await this.getSummaryErrors()}else C.showWarning({position:"toast-top-right",message:"Notice",subMessage:"Please select at least one error to re-run a summary for.",timeOut:8e3});return null},async reRunSummary(e){try{this.isLoading=!0;const{success:t}=await(0,r.wX)("maps.LiveRemoteFunctions.ReRunSummaryBasedOnLiveAsyncErrorId",[e]);t||C.showError({position:"toast-top-right",message:"Error",subMessage:`Could not mark error ${e} as complete.`,timeOut:8e3})}catch(e){C.showError({position:"toast-top-right",message:"Error",subMessage:e,timeOut:8e3})}finally{this.isLoading=!1}}}},w=(0,h.Z)(x,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.isLoading?i("MASpinner"):e._e(),e._v(" "),i("div",{staticClass:"slds-p-around--medium"},[i("div",{staticClass:"slds-table_header-fixed_container",staticStyle:{"border-top":"1px solid rgb(221, 219, 218)",height:"100%"}},[i("div",{staticClass:"slds-table_header-fixed_scroller",staticStyle:{height:"100%",overflow:"auto"}},[i("table",{staticClass:"slds-table slds-table_fixed-layout slds-table_header-fixed slds-table_resizable-cols slds-table_bordered slds-table_striped",attrs:{id:"TABLEHEADER","aria-multiselectable":"true",role:"grid"}},[i("thead",[i("tr",{staticClass:"slds-line-height_reset"},[i("th",{staticClass:"slds-text-align_right",staticStyle:{height:"0px","line-height":"0",width:"3.25rem"},attrs:{scope:"col"}},[i("div",{staticClass:"slds-cell-fixed",staticStyle:{display:"flex","flex-flow":"row nowrap",left:"0px",width:"52px"}},[i("div",{staticClass:"slds-th__action slds-th__action_form",staticStyle:{"line-height":"1",width:"100%"}},[i("MACheckbox",{attrs:{id:"select-all",noSlide:!0},on:{input:e.selectAll},model:{value:e.selectAllRows,callback:function(t){e.selectAllRows=t},expression:"selectAllRows"}})],1)])]),e._v(" "),e._l(e.tableColumns,(function(t,a){return i("th",{key:a,staticClass:"slds-is-sortable",class:{"slds-is-sorted":e.sortTableBy==t.toLowerCase(),"slds-is-sorted_asc":"ascending"==e.sortDirection},staticStyle:{height:"0px","line-height":"0"},attrs:{"aria-label":t,"aria-sort":e.sortDirection,scope:"col"},on:{click:function(s){return e.sortClick(t)}}},[i("a",{staticClass:"slds-th__action slds-text-link_reset",staticStyle:{display:"flex",height:"0px",overflow:"hidden","padding-bottom":"0px","padding-top":"0px",visibility:"hidden",border:"1px solid blue"},attrs:{href:"javascript:void(0)",role:"button",tabindex:"0"}},[i("span",{staticClass:"slds-assistive-text"},[e._v("sort this column ")]),e._v(" "),i("span",{staticClass:"slds-truncate",attrs:{title:"Name"}},[e._v("\n                                        Status\n                                    ")]),e._v(" "),i("MAIcon",{attrs:{src:s(7097),iconClass:["slds-is-sortable__icon","slds-icon","slds-icon_x-small","slds-icon-text-default"],"aria-hidden":"true"}}),e._v(" "),i("span",{staticClass:"slds-assistive-text",attrs:{"aria-live":"assertive","aria-atomic":"true"}},[e._v("\n                                        "+e._s(e.$Labels.Sort_By)+"\n                                    ")])],1),e._v(" "),i("div",{staticClass:"slds-cell-fixed",staticStyle:{display:"flex","flex-flow":"row nowrap"}},[i("a",{staticClass:"slds-th__action slds-text-link_reset",staticStyle:{"align-items":"center",display:"flex",flex:"1 1 auto","line-height":"1.25",width:"100%"},attrs:{href:"javascript:void(0)",role:"button",tabindex:"0"}},[i("span",{staticClass:"slds-assistive-text"},[e._v("sort this column ")]),e._v(" "),i("span",{staticClass:"slds-truncate",attrs:{title:t}},[e._v("\n                                            "+e._s(t)+"\n                                        ")]),e._v(" "),i("MAIcon",{attrs:{src:s(7097),iconClass:["slds-is-sortable__icon","slds-icon","slds-icon_x-small","slds-icon-text-default"],"aria-hidden":"true"}}),e._v(" "),i("span",{staticClass:"slds-assistive-text",attrs:{"aria-live":"assertive","aria-atomic":"true"}},[e._v("\n                                            desc\n                                        ")])],1)])])}))],2)]),e._v(" "),i("tbody",e._l(e.sortedRows,(function(t,s){return i("tr",{key:s,staticClass:"slds-hint-parent"},[i("td",{staticStyle:{width:"3.25rem"},attrs:{role:"gridcell"}},[i("MACheckbox",{attrs:{id:"select-row-"+s,noSlide:!0},model:{value:t.checked,callback:function(s){e.$set(t,"checked",s)},expression:"row.checked"}})],1),e._v(" "),i("td",{attrs:{role:"gridcell"}},[i("div",{staticClass:"slds-truncate"},[i("a",{attrs:{href:"/"+t.Id,target:"_blank"}},[e._v(e._s(t.DeviceId__c))])])]),e._v(" "),i("td",{attrs:{role:"gridcell"}},[i("div",{staticClass:"slds-truncate"},[e._v("\n                                    "+e._s(t.ErrorType__c)+"\n                                ")])]),e._v(" "),i("td",{staticClass:"slds-cell-wrap",attrs:{role:"gridcell"}},[i("div",[e._v("\n                                    "+e._s(e.$moment(t.ReportDate__c).format("MM/DD/YYYY"))+"\n                                ")])]),e._v(" "),i("td",{staticClass:"slds-cell-wrap",attrs:{role:"gridcell"}},[i("div",[e._v("\n                                    "+e._s(e.$moment(t.CreatedDate).format("MM/DD/YYYY h:mm a"))+"\n                                ")])]),e._v(" "),i("td",{staticClass:"slds-cell-wrap",attrs:{role:"gridcell"}},[i("div",[e._v("\n                                    "+e._s(t.Message__c)+"\n                                ")])]),e._v(" "),i("td",{staticClass:"slds-cell-wrap",attrs:{role:"gridcell"}},[i("div",[e._v("\n                                    "+e._s(t.StackTrace__c)+"\n                                ")])])])})),0)])])])])],1)}),[],!1,null,null,null).exports,{MAToastMessages:k}=window,D={components:{MAModal:_.Z,MAInput:p.Z,MATabs:v.Z,MATab:f.Z,MASearch:y.Z,MATooltip:b.Z,MACheckbox:n.Z,SummaryErrors:w},data(){return{isLoading:!1,objectType:"",fieldName:"",queryLiveLayer:{selectedResult:"",selectedType:null,searchTerm:"",searches:[{id:(0,r.x$)(),onSearch:this.getLayers,setObjectType:()=>{this.objectType="",this.clearInvalidInput("queryLiveLayer.selectedResult")},label:"label"}]},queryAssociatedLayer:{},lookupFields:{},simpleEvents:[],invalidInputs:[]}},computed:{...(0,i.mapState)({store__toggle:"toggle",store__summaryConfig:"summaryConfig",store__summaryErrors:"summaryErrors"})},async created(){await this.prepareAssociationLookupFields(),this.prepareSimpleEvents(),["edit","clone"].includes(this.store__summaryConfig.action)&&this.store__summaryConfig.configData&&this.populateModal(this.store__summaryConfig.configData)},methods:{getGUID:r.x$,closeModal(e){this.store__toggle.showSummaryConfig=!1,e&&(this.store__toggle.refresh=!0)},populateModal(e){if(e.livelayername&&(this.queryLiveLayer={...this.queryLiveLayer,searchTerm:e.livelayername,selectedResult:e.livelayername}),e.associations){const t=Object.keys(e.associations);t.length>0&&t.forEach((t=>{this.queryAssociatedLayer[t]={...this.queryAssociatedLayer[t],configid:e.associations[t].configid,searchTerm:e.associations[t].markerLayerName,layerId:e.associations[t].markerLayerid,selectedResult:e.associations[t].markerLayerName,distance:e.associations[t].maxdistance,distanceUnits:e.associations[t].maxdistunits}}))}},prepareSimpleEvents(){this.simpleEvents=[{sectionLabel:"Hard Braking",id:"createbrakingrec",isSelected:void 0===this.store__summaryConfig.configData.createbrakingrec||null===this.store__summaryConfig.configData.createbrakingrec||this.store__summaryConfig.configData.createbrakingrec,checkboxLabel:"Create Records for Hard Braking",checkboxTooltip:"Select this box to have a record created each time a Hard Braking event is captured."},{sectionLabel:"Hard Acceleration",id:"createaccelrec",isSelected:void 0===this.store__summaryConfig.configData.createaccelrec||null===this.store__summaryConfig.configData.createaccelrec||this.store__summaryConfig.configData.createaccelrec,checkboxLabel:"Create Records for Hard Acceleration",checkboxTooltip:"Select this box to have a record created each time a Hard Acceleration event is captured."},{sectionLabel:"Device Battery On",id:"createbattrec",isSelected:void 0===this.store__summaryConfig.configData.createbattrec||null===this.store__summaryConfig.configData.createbattrec||this.store__summaryConfig.configData.createbattrec,checkboxLabel:"Create Records for Device Battery On",checkboxTooltip:"Select this box to have a record created each time a Device Battery event is captured."},{sectionLabel:"Mileage By State",id:"createmilerec",isSelected:void 0===this.store__summaryConfig.configData.createmilerec||null===this.store__summaryConfig.configData.createmilerec||this.store__summaryConfig.configData.createmilerec,checkboxLabel:"Create Records for Mileage By State",checkboxTooltip:"Check this box to create a related record for mileage in each state."}]},getSimpleEventOption(e){let t=!1;return this.simpleEvents&&this.simpleEvents.forEach((s=>{s.id===e&&(t=s.isSelected)})),t},buildAssociations(e){const t={};return Object.keys(e).forEach((s=>{const i=e[s];t[s]={configid:i.configid?i.configid:void 0,markerlayerid:i.markerlayerid||i.markerLayerid?i.markerlayerid||i.markerLayerid:void 0,maxdistance:this.queryAssociatedLayer[s].distance?this.queryAssociatedLayer[s].distance.toString():void 0,maxdistunits:this.queryAssociatedLayer[s].distance&&""!==this.queryAssociatedLayer[s].distance.toString().trim()&&this.queryAssociatedLayer[s].distanceUnits?this.queryAssociatedLayer[s].distanceUnits:"miles"}})),t},async prepareAssociationLookupFields(){this.lookupFields=await this.getLookupFieldsMap(),this.lookupFields&&Object.keys(this.lookupFields).length>0&&Object.keys(this.lookupFields).forEach((e=>{this.queryAssociatedLayer[e]={...this.queryAssociatedLayer[e],configid:"",selectedResult:"",selectedType:null,layerId:null,distance:null,distanceUnits:"miles",searchTerm:"",searches:[{id:(0,r.x$)(),onSearch:this.getLayers,setObjectType:()=>{this.fieldName=e,this.objectType=this.lookupFields[e].objectType,this.clearInvalidInput(`queryAssociatedLayer[${e}].selectedResult`)},label:"label"}]}}))},async getLookupFieldsMap(){try{this.isLoading=!0;const{success:e,data:t,error:s}=await(0,r.wX)("maps.LiveRemoteFunctions.getLookupFieldsMap",[]);return e?t.lookupFields:(k.showError({position:"toast-top-right",message:"Error",subMessage:s,timeOut:8e3}),null)}catch(e){k.showError({position:"toast-top-right",message:"Remoting Error",subMessage:e,timeOut:8e3})}finally{this.isLoading=!1}return null},async saveSummary(){try{this.isLoading=!0;const e=this.checkParams(this.store__summaryConfig.configData);if(e){const{success:t,message:s}=await(0,r.wX)("maps.LiveRemoteFunctions.saveSummary",[e]);return t?(k.showSuccess({position:"toast-top-right",message:"Success",subMessage:s,timeOut:8e3}),this.closeModal(!0),null):(k.showError({position:"toast-top-right",message:"Error",subMessage:s,timeOut:8e3}),null)}}catch(e){k.showError({position:"toast-top-right",message:"Remoting Error",subMessage:e,timeOut:8e3})}finally{this.isLoading=!1}return null},async getLayers(e,t){try{if(!e||""===e)throw new Error("Missing Required Param: searchTerm");return await this.searchLayers("marker",this.objectType,e,t)}catch(e){k.showError({position:"toast-top-right",message:`Error: ${e}.`,timeOut:8e3})}return null},async searchLayers(e,t,s,i){try{const a={ajaxResource:"TreeAJAXResources",action:"layer_search_by_type",searchterm:s,layerType:e},o=[],{success:l,data:n,error:d}=await(0,r.wX)("maps.RemoteFunctions.processAJAXRequest",[a]);return l||n.contents||k.showError({position:"toast-top-right",message:"Error",subMessage:d,timeOut:8e3}),n.contents.forEach((({properties:{record:s,nodetype:i,type:a}})=>{const r={label:s.Name,Id:s.Id,parentFolder:this.setFolderName(i,s),type:a};"shape"===e&&o.push(r),"marker"===e&&"live"===a&&o.push(r),s.maps__BaseObject__r&&"marker"===e&&s.maps__BaseObject__r.Name===t&&o.push(r)})),{results:o,searchIndex:i}}catch(e){k.showError({message:`Error: ${e}.`,timeOut:8e3})}return null},setFolderName(e,t){let s="";return t.maps__Folder__r?s=t.maps__Folder__r.Name:t.maps__ParentFolder__r?s=t.maps__ParentFolder__r.Name:t.maps__Folder__r?s=t.maps__Folder__r.Name:/(Personal)/.test(e)?s="Personal":/(Corporate)/.test(e)&&(s="Corporate"),s},clearSearch(e){e?(this.queryAssociatedLayer[e]={...this.queryAssociatedLayer[e],configid:"",selectedResult:"",selectedType:null,layerId:null,distance:null,distanceUnits:"miles",searchTerm:""},this.store__summaryConfig.configData.associations[e]={...this.store__summaryConfig.configData.associations[e],markerlayerid:"",markerLayerid:"",markerLayerName:"",maxdistance:null,maxdistunits:"miles"}):(this.queryLiveLayer={...this.queryLiveLayer,searchTerm:"",selectedResult:""},this.store__summaryConfig.configData={...this.store__summaryConfig.configData,livelayerid:"",livelayername:""})},selectedLayer(e){e&&e.Id&&(""!==this.fieldName?(this.queryAssociatedLayer[this.fieldName]={...this.queryAssociatedLayer[this.fieldName],selectedResult:e.label,selectedType:e.type,layerId:e.Id},this.store__summaryConfig.configData.associations[this.fieldName]||(this.store__summaryConfig.configData.associations[this.fieldName]={...this.store__summaryConfig.configData.associations[this.fieldName]}),this.$set(this.store__summaryConfig.configData.associations[this.fieldName],"markerlayerid",e.Id),this.$set(this.store__summaryConfig.configData.associations[this.fieldName],"markerLayerName",e.label)):"live"===e.type&&(this.$set(this.queryLiveLayer,"selectedResult",e.label),this.$set(this.queryLiveLayer,"selectedType",e.type),this.$set(this.store__summaryConfig.configData,"livelayerid",e.Id),this.$set(this.store__summaryConfig.configData,"livelayername",e.label)))},showValidationError(e,t,s){return k.showError({position:"toast-top-right",message:"Validation Error",subMessage:e.message,timeOut:8e3}),t&&this.invalidInputs.push(t),s&&(this.store__summaryConfig.activeTab=s),null},isNumber:e=>null!=e&&("string"!=typeof e||""!==e.trim())&&!Number.isNaN(Number(e.toString().replace(/[,.$]/g,""))),checkValidity(e){return this.invalidInputs.includes(e)},clearInvalidInput(e){return this.invalidInputs.splice(this.invalidInputs.indexOf(e),1)},checkParams(e){const t={id:e.id?e.id:void 0,anyduration:!!e.anyduration&&e.anyduration,associations:e.associations?this.buildAssociations(e.associations):{},distmeas:e.distmeas?e.distmeas.toString():"",disttime:e.disttime?e.disttime.toString():"",distval:e.distval?e.distval.toString():"",drivetripoptim:e.drivetripoptim?e.drivetripoptim.toString():"Vehicle Tracking",isactive:!!e.isactive&&e.isactive,livelayerid:e.livelayerid?e.livelayerid:"",livelayername:e.livelayername?e.livelayername:"",speedingtoggle:!!e.speedingtoggle&&e.speedingtoggle,speedlimitover:e.speedlimitover?e.speedlimitover.toString():"",speedlimittime:e.speedlimittime?e.speedlimittime.toString():"",speedlimitunits:e.speedlimitunits?e.speedlimitunits:"",speedthreshtoggle:!!e.speedthreshtoggle&&e.speedthreshtoggle,speedthreshunits:e.speedthreshunits?e.speedthreshunits:"",speedthreshval:e.speedthreshval?e.speedthreshval.toString():"",stoptoggle:!!e.stoptoggle&&e.stoptoggle,summarydesc:e.summarydesc?e.summarydesc:"",summaryname:e.summaryname?e.summaryname:"",threshtime:e.threshtime?e.threshtime.toString():"",createspeedrec:!!e.createspeedrec&&e.createspeedrec,createspeedthreshrec:!!e.createspeedthreshrec&&e.createspeedthreshrec,createstoprec:!!e.createstoprec&&e.createstoprec,createbrakingrec:this.getSimpleEventOption("createbrakingrec"),createaccelrec:this.getSimpleEventOption("createaccelrec"),createbattrec:this.getSimpleEventOption("createbattrec"),createmilerec:this.getSimpleEventOption("createmilerec")},s={};if(""===t.summaryname)return s.message="You have not entered a name for this Summary. Please enter a name in the 'Details' tab.",this.showValidationError(s,"summaryname","details"),!1;if(""===t.livelayerid)return s.message="You must choose a Live Layer. Please select one in the 'Live Layer' tab.",this.showValidationError(s,"queryLiveLayer.selectedResult","liveLayer"),!1;if(t.stoptoggle){if(""===t.distval)return s.message="The 'Distance' field for 'Stop' definition cannot be empty.",this.showValidationError(s,"distval","events"),!1;if(!this.isNumber(t.distval))return s.message="The 'Distance' field for 'Stop' definition must be a number.",this.showValidationError(s,"distval","events"),!1;if(Number(t.distval)<=0)return s.message="The 'Distance' field for 'Stop' definition must be greater than 0.",this.showValidationError(s,"distval","events"),!1;if(""===t.disttime)return s.message="The 'Duration' field for 'Stop' definition cannot be empty.",this.showValidationError(s,"disttime","events"),!1;if(!this.isNumber(t.disttime))return s.message="The 'Duration' field for 'Stop' definition must be a number.",this.showValidationError(s,"disttime","events"),!1;if(Number(t.disttime)<=0)return s.message="The 'Duration' field for 'Stop' definition must be greater than 0.",this.showValidationError(s,"disttime","events"),!1;if(this.queryAssociatedLayer&&Object.keys(this.queryAssociatedLayer).length>0)for(const e of Object.keys(this.queryAssociatedLayer)){const t=this.queryAssociatedLayer[e];if(t){if(t.layerId&&(""!==t.layerId||null!=t.layerId)){if(""===t.distance||null==t.distance)return s.message=`Since you selected a 'Marker Layer' for the '${e}' record Stop Associations, the 'Distance' field for your definition cannot be empty.`,this.showValidationError(s,`association[${e}].maxdistance`,"events"),!1;if(!this.isNumber(t.distance))return s.message=`The 'Distance' field for the '${e}' record Stop Associations definition must be a number.`,this.showValidationError(s,`association[${e}].maxdistance`,"events"),!1;if(Number(t.distance)<=0)return s.message=`The 'Distance' field for the '${e}' record Stop Associations definition must be greater than 0.`,this.showValidationError(s,`association[${e}].maxdistance`,"events"),!1;if(t.distanceUnits){if("feet"===t.distanceUnits&&Number(t.distance)<100)return s.message=`The 'Distance' field for the '${e}' record Stop Associations is limited to a minimun of 100 feet.`,this.showValidationError(s,`association[${e}].maxdistance`,"events"),!1;if("meters"===t.distanceUnits&&Number(t.distance)<30)return s.message=`The 'Distance' field for the '${e}' record Stop Associations is limited to a minimun of 30 meters.`,this.showValidationError(s,`association[${e}].maxdistance`,"events"),!1;if("miles"===t.distanceUnits&&Number(t.distance)<.02)return s.message=`The 'Distance' field for the '${e}' record Stop Associations is limited to a minimun of 0.02 miles.`,this.showValidationError(s,`association[${e}].maxdistance`,"events"),!1;if("kilometers"===t.distanceUnits&&Number(t.distance)<.03)return s.message=`The 'Distance' field for the '${e}' record Stop Associations is limited to a minimun of 0.03 kilometers.`,this.showValidationError(s,`association[${e}].maxdistance`,"events"),!1}}if(t.distance&&(""!==t.distance||null!=t.distance)&&(""===t.layerId||null==t.layerId))return s.message=`Since you entered a 'Distance' value for the '${e}' record Stop Associations, the 'Marker Layer' for your definition cannot be empty.`,this.showValidationError(s,`queryLiveLayer[${e}].selectedResult`,"events"),!1}}}if(t.speedingtoggle){if(""===t.speedlimitover)return s.message="The 'Amount Over Speed Limit' field for the 'Speeding' definition cannot be empty.",this.showValidationError(s,"speedlimitover","events"),!1;if(!this.isNumber(t.speedlimitover))return s.message="The 'Amount Over Speed Limit' field for the 'Speeding' definition must be a number.",this.showValidationError(s,"speedlimitover","events"),!1;if(Number(t.speedlimitover)<=0)return s.message="The 'Amount Over Speed Limit' field for 'Speeding' definition must be greater than 0.",this.showValidationError(s,"speedlimitover","events"),!1;if(!t.anyduration&&""===t.speedlimittime)return s.message="The 'Amount Of Time' field for 'Speeding' definition cannot be empty.",this.showValidationError(s,"speedlimittime","events"),!1;if(!t.anyduration&&!this.isNumber(t.speedlimittime))return s.message="The 'Amount Of Time' field for 'Speeding' definition must be a number.",this.showValidationError(s,"speedlimittime","events"),!1;if(!t.anyduration&&Number(t.speedlimittime)<=0)return s.message="The 'Amount Of Time' field for 'Speeding' definition must be greater than 0.",this.showValidationError(s,"speedlimittime","events"),!1}if(t.speedthreshtoggle){if(""===t.speedthreshval)return s.message="The 'Speed Meets or Exceeds' amount field for 'Speed Threshold' definition cannot be empty.",this.showValidationError(s,"speedthreshval","events"),!1;if(!this.isNumber(t.speedthreshval))return s.message="The 'Speed Meets or Exceeds' amount field for 'Speed Threshold' definition must be a number.",this.showValidationError(s,"speedthreshval","events"),!1;if(Number(t.speedthreshval)<=0)return s.message="The 'Speed Meets or Exceeds' amount field for 'Speed Threshold' definition must be greater than 0.",this.showValidationError(s,"speedthreshval","events"),!1;if(""===t.threshtime)return s.message="The 'Duration' field for 'Speed Threshold' definition cannot be empty.",this.showValidationError(s,"threshtime","events"),!1;if(!this.isNumber(t.threshtime))return s.message="The 'Duration' field for 'Speed Threshold' definition must be a number.",this.showValidationError(s,"threshtime","events"),!1;if(Number(t.threshtime)<=0)return s.message="The 'Duration' field for 'Speed Threshold' definition must be greater than 0.",this.showValidationError(s,"threshtime","events"),!1}return JSON.stringify(t)}}},S=(0,h.Z)(D,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("MAModal",{staticClass:"daily-summary-modal",attrs:{title:"errors"!==e.store__summaryConfig.activeTab?"Summary Configuration":"Summary Errors",isLoading:e.isLoading,hideCloseButton:e.isLoading,isLarge:""},on:{close:function(t){return e.closeModal(!1)}}},["errors"===e.store__summaryConfig.activeTab?i("div",{attrs:{slot:"tagline"},slot:"tagline"},[e._v("\n        "+e._s(e.store__summaryConfig.configData.summaryname)+"\n    ")]):e._e(),e._v(" "),"errors"!==e.store__summaryConfig.activeTab?i("div",{staticClass:"daily-summary-content",attrs:{slot:"content"},slot:"content"},[i("MATabs",{staticClass:"content",attrs:{activeTabId:e.store__summaryConfig.activeTab,isVertical:!0,defaultTabId:"details"},on:{"update:activeTabId":function(t){return e.$set(e.store__summaryConfig,"activeTab",t)},"update:active-tab-id":function(t){return e.$set(e.store__summaryConfig,"activeTab",t)}}},["errors"!==e.store__summaryConfig.activeTab?i("MATab",{attrs:{id:"details",title:"Details"}},[i("div",[i("div",{staticClass:"slds-container_small slds-m-bottom_medium",staticStyle:{width:"100%"}},[i("div",{staticClass:"slds-grid"},[i("div",{staticClass:"slds-form--compound"},[i("MAInput",{attrs:{id:"summary_name",type:"text",label:"Summary Name",isRequired:!0,placeholder:"Enter Summary Name",isInvalid:e.checkValidity("summaryname")},on:{input:function(t){return e.clearInvalidInput("summaryname")}},model:{value:e.store__summaryConfig.configData.summaryname,callback:function(t){e.$set(e.store__summaryConfig.configData,"summaryname",t)},expression:"store__summaryConfig.configData.summaryname"}}),e._v(" "),i("MAInput",{attrs:{id:"summary_description",useTextArea:!0,type:"text",label:"Summary Description"},model:{value:e.store__summaryConfig.configData.summarydesc,callback:function(t){e.$set(e.store__summaryConfig.configData,"summarydesc",t)},expression:"store__summaryConfig.configData.summarydesc"}})],1)])]),e._v(" "),i("button",{staticClass:"slds-button slds-button_brand",on:{click:function(t){e.store__summaryConfig.activeTab="liveLayer"}}},[e._v("\n                        Next\n                    ")])])]):e._e(),e._v(" "),"errors"!==e.store__summaryConfig.activeTab?i("MATab",{attrs:{id:"liveLayer",title:"Live Layer"}},[i("div",[i("div",[i("h3",{staticClass:"slds-text-heading--small slds-m-bottom_small"},[e._v("Select the Maps Live Layer you want to apply this summary to.")]),e._v(" "),i("p",{staticClass:"slds-m-bottom_medium"},[e._v("\n                            Don't have a Maps Live Layer? "),i("a",{attrs:{href:"/apex/Maps",target:"_blank"}},[e._v("Open Maps and create one.")])])]),e._v(" "),i("div",{staticClass:"slds-container_small slds-m-bottom_medium",staticStyle:{width:"100%"}},[i("div",{staticClass:"slds-grid"},[i("span",[i("abbr",{staticClass:"slds-required"},[e._v("*")]),e._v(" "),i("label",{staticClass:"slds-form-element__label"},[e._v("Maps Live Layer")])]),e._v(" "),i("MATooltip",{attrs:{inForm:!0,showIcon:!0}},[i("div",{attrs:{slot:"content"},slot:"content"},[e._v("The Maps Live Layer contains the devices your events will apply to. You can set up Maps Live Layers in Maps.")])])],1),e._v(" "),i("div",{staticClass:"slds-grid"},[i("MASearch",{ref:"treeLayerSearch",staticClass:"slds-col slds-size_1-of-2",class:{"slds-has-error":e.checkValidity("queryLiveLayer.selectedResult")},attrs:{searches:e.queryLiveLayer.searches,loadingLabel:"Loading...",noSearchResultsLabel:"No Results Found",placeholder:"Search for Live Layers",outputType:"list",inputClasses:"slds-combobox__input"},on:{input:function(t){return e.queryLiveLayer.searches[0].setObjectType()},clear:e.clearSearch,selected:e.selectedLayer},scopedSlots:e._u([{key:"result",fn:function(t){return i("span",{staticClass:"slds-listbox__option-text_entity slds-listbox__option slds-listbox__option_plain slds-grid",attrs:{id:"listbox-option-unique-id-01"}},[i("div",[i("div",{staticClass:"slds-text-body_small"},[e._v(e._s(e._f("decode")(t.result.label)))]),e._v(" "),i("div",{staticClass:"slds-grid slds-grid_vertical-align-center"},[i("MAIcon",{attrs:{src:s(7571),iconClass:["slds-button__icon","slds-icon-text-light","slds-input__icon","slds-input__icon_right"]}}),e._v(" "),i("span",{staticClass:"slds-text-color_weak slds-text-body_small"},[e._v(e._s(t.result.parentFolder))])],1)])])}}],null,!1,1993940487),model:{value:e.queryLiveLayer.searchTerm,callback:function(t){e.$set(e.queryLiveLayer,"searchTerm",t)},expression:"queryLiveLayer.searchTerm"}}),e._v(" "),e.queryLiveLayer.selectedResult?i("div",{staticStyle:{display:"inline"},attrs:{id:"devicelayer_malink"}},[i("a",{staticClass:"slds-button slds-button_icon slds-button_icon-border-filled slds-align--absolute-center",attrs:{href:"/apex/maps__Maps?layerid="+e.store__summaryConfig.configData.livelayerid,target:"_blank"}},[i("MAIcon",{attrs:{src:s(7040),iconClass:["slds-button__icon"]}}),e._v(" "),i("MATooltip",{attrs:{inForm:!0}},[i("div",{attrs:{slot:"content"},slot:"content"},[e._v("Open in Maps")])])],1)]):i("div",{staticStyle:{display:"inline",width:"32px"}})],1)]),e._v(" "),i("button",{staticClass:"slds-button slds-button_neutral",on:{click:function(t){e.store__summaryConfig.activeTab="details"}}},[e._v("\n                        Previous\n                    ")]),e._v(" "),i("button",{staticClass:"slds-button slds-button_brand",on:{click:function(t){e.store__summaryConfig.activeTab="events"}}},[e._v("\n                        Next\n                    ")])])]):e._e(),e._v(" "),"errors"!==e.store__summaryConfig.activeTab?i("MATab",{attrs:{id:"events",title:"Events"}},[i("div",[i("div",{staticClass:"slds-grid slds-grid_vertical",staticStyle:{width:"100%"}},[i("h3",{staticClass:"slds-text-heading--small slds-m-bottom_medium"},[e._v("\n                            Configure the events that will be included in this summary.\n                        ")]),e._v(" "),i("div",[i("div",{staticClass:"slds-section__title slds-grid slds-grid_vertical-align-center slds-theme--shade"},[i("span",{staticClass:"section-header-title slds-truncate slds-p-horizontal_small"},[e._v("Stops")]),e._v(" "),i("MACheckbox",{staticClass:"slds-col--bump-left centered",attrs:{id:"checkbox",title:e.store__summaryConfig.configData.stoptoggle?"Active":"Inactive"},model:{value:e.store__summaryConfig.configData.stoptoggle,callback:function(t){e.$set(e.store__summaryConfig.configData,"stoptoggle",t)},expression:"store__summaryConfig.configData.stoptoggle"}})],1),e._v(" "),i("div",{staticClass:"slds-p-around--medium"},[i("div",{staticClass:"slds-grid slds-grid_vertical-align-center slds-gutters_direct-xxx-small slds-m-top--small"},[i("div",[e._v("Distance moved is less than")]),e._v(" "),i("MAInput",{staticClass:"slds-m-left--x-small short-input",attrs:{id:e.getGUID(),type:"number",isDisabled:!e.store__summaryConfig.configData.stoptoggle,isInvalid:e.checkValidity("distval")},on:{input:function(t){return e.clearInvalidInput("distval")}},model:{value:e.store__summaryConfig.configData.distval,callback:function(t){e.$set(e.store__summaryConfig.configData,"distval",t)},expression:"store__summaryConfig.configData.distval"}}),e._v(" "),i("div",{staticClass:"slds-form-element slds-m-left--x-small"},[i("div",{staticClass:"slds-form-element__control"},[i("select",{directives:[{name:"model",rawName:"v-model",value:e.store__summaryConfig.configData.distmeas,expression:"store__summaryConfig.configData.distmeas"}],staticClass:"slds-select",attrs:{id:"unitSelector",name:"units",disabled:!e.store__summaryConfig.configData.stoptoggle},on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.store__summaryConfig.configData,"distmeas",t.target.multiple?s:s[0])}}},[i("option",{attrs:{value:"feet"}},[e._v("Feet")]),e._v(" "),i("option",{attrs:{value:"meters"}},[e._v("Meters")])])])]),e._v(" "),i("div",{staticClass:"slds-m-left--x-small"},[e._v("for more than")]),e._v(" "),i("MAInput",{staticClass:"slds-m-left--x-small short-input",attrs:{id:e.getGUID(),type:"number",isDisabled:!e.store__summaryConfig.configData.stoptoggle,isInvalid:e.checkValidity("disttime")},on:{input:function(t){return e.clearInvalidInput("disttime")}},model:{value:e.store__summaryConfig.configData.disttime,callback:function(t){e.$set(e.store__summaryConfig.configData,"disttime",t)},expression:"store__summaryConfig.configData.disttime"}}),e._v(" "),i("div",{staticClass:"slds-m-left--x-small"},[e._v("minute(s)")]),e._v(" "),i("div",{staticClass:"slds-grid slds-m-left--x-small"},[i("MACheckbox",{staticClass:"slds-col--bump-left centered",attrs:{id:e.getGUID(),isDisabled:!e.store__summaryConfig.configData.stoptoggle,noSlide:!0,title:"Create a record"},model:{value:e.store__summaryConfig.configData.createstoprec,callback:function(t){e.$set(e.store__summaryConfig.configData,"createstoprec",t)},expression:"store__summaryConfig.configData.createstoprec"}}),e._v(" "),i("MATooltip",{attrs:{inForm:!0,showIcon:!0}},[i("div",{attrs:{slot:"content"},slot:"content"},[e._v("Check this box to have a record created each time your stop definition is met.")])])],1)],1)]),e._v(" "),i("div",{staticClass:"slds-box slds-p-around--medium slds-m-top--small slds-m-bottom--large"},[i("div",{staticClass:"slds-grid slds-m-bottom--small"},[i("div",[e._v("Associate the closest record(s) to the stops using the following fields and marker layers")]),e._v(" "),i("div",{staticClass:"slds-grid slds-m-left--x-small"},[i("MATooltip",{attrs:{inForm:!0,showIcon:!0}},[i("div",{attrs:{slot:"content"},slot:"content"},[e._v('For stop associations to work, geo coordinates must be stored in a "geolocation" field type. Only layers with appropriate geolocation fields and without dynamic filters are shown here.')])])],1)]),e._v(" "),e._l(Object.keys(e.lookupFields),(function(t,a){return i("div",{key:a,staticClass:"slds-grid slds-m-bottom--small"},[i("div",{staticClass:"slds-grid slds-col slds-grid_vertical-align-center"},[i("div",{staticClass:"slds-grid",staticStyle:{"min-width":"235px"}},[i("div",[e._v(e._s(e.lookupFields[t].label)+" Field using the ")])]),e._v(" "),e.store__summaryConfig.configData.stoptoggle?i("div",{staticClass:"slds-grid slds-m-left--x-small"},[i("MASearch",{ref:"treeLayerSearch",refInFor:!0,staticClass:"slds-col",class:{"slds-has-error":e.checkValidity("queryLiveLayer["+t+"].selectedResult")},attrs:{searches:e.queryAssociatedLayer[t].searches,loadingLabel:"Loading...",noSearchResultsLabel:"No Results Found",placeholder:"Search Marker Layers",outputType:"list",inputClasses:"slds-combobox__input"},on:{clear:function(s){return e.clearSearch(t)},input:function(s){return e.queryAssociatedLayer[t].searches[0].setObjectType()},selected:e.selectedLayer},scopedSlots:e._u([{key:"result",fn:function(t){return i("span",{staticClass:"slds-listbox__option-text_entity slds-listbox__option slds-listbox__option_plain slds-grid",attrs:{id:"listbox-option-unique-id-01"}},[i("div",[i("div",{staticClass:"slds-text-body_small"},[e._v(e._s(e._f("decode")(t.result.label)))]),e._v(" "),i("div",{staticClass:"slds-grid slds-grid_vertical-align-center"},[i("MAIcon",{attrs:{src:s(7571),iconClass:["slds-button__icon","slds-icon-text-light","slds-input__icon","slds-input__icon_right"]}}),e._v(" "),i("span",{staticClass:"slds-text-color_weak slds-text-body_small"},[e._v(" "+e._s(t.result.parentFolder))])],1)])])}}],null,!0),model:{value:e.queryAssociatedLayer[t].selectedResult,callback:function(s){e.$set(e.queryAssociatedLayer[t],"selectedResult",s)},expression:"queryAssociatedLayer[lookupFieldName].selectedResult"}}),e._v(" "),""!==e.queryAssociatedLayer[t].selectedResult?i("div",{staticStyle:{display:"inline"},attrs:{id:"devicelayer_malink"}},[i("a",{staticClass:"slds-button slds-button_icon slds-button_icon-border-filled slds-align--absolute-center",attrs:{href:"/apex/maps__Maps?layerid="+e.queryAssociatedLayer[t].layerId,target:"_blank"}},[i("MAIcon",{attrs:{src:s(7040),iconClass:["slds-button__icon"]}}),e._v(" "),i("MATooltip",{attrs:{inForm:!0}},[i("div",{attrs:{slot:"content"},slot:"content"},[e._v("Open in Maps")])])],1)]):i("div",{staticStyle:{display:"inline",width:"32px"}})],1):i("div",{staticClass:"slds-grid slds-m-left--x-small"},[i("div",{staticClass:"slds-form-element__control slds-combobox__form-element slds-input-has-icon slds-input-has-icon_left-right"},[i("MAIcon",{attrs:{src:s(2181),iconClass:["slds-icon","slds-input__icon","slds-input__icon_left","slds-icon-text-default"]}}),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.queryAssociatedLayer[t].searchTerm,expression:"queryAssociatedLayer[lookupFieldName].searchTerm"}],staticClass:"slds-col slds-input",attrs:{type:"text",placeholder:"Search Marker Layers",disabled:""},domProps:{value:e.queryAssociatedLayer[t].searchTerm},on:{input:function(s){s.target.composing||e.$set(e.queryAssociatedLayer[t],"searchTerm",s.target.value)}}})],1),e._v(" "),""!==e.queryAssociatedLayer[t].selectedResult?i("div",{staticStyle:{display:"inline"},attrs:{id:"devicelayer_malink"}},[i("a",{staticClass:"slds-button slds-button_icon slds-button_icon-border-filled slds-align--absolute-center",attrs:{href:"/apex/maps__Maps?layerid="+e.queryAssociatedLayer[t].layerId,target:"_blank",disabled:""}},[i("MAIcon",{attrs:{src:s(7040),iconClass:["slds-button__icon"]}}),e._v(" "),i("MATooltip",{attrs:{inForm:!0}},[i("div",{attrs:{slot:"content"},slot:"content"},[e._v("Open in Maps")])])],1)]):i("div",{staticStyle:{display:"inline",width:"32px"}})]),e._v(" "),i("div",{staticClass:"slds-grid slds-m-left--x-small"},[i("div",[e._v("layer within")])]),e._v(" "),i("MAInput",{staticClass:"slds-m-left--x-small short-input",attrs:{id:e.getGUID(),type:"number",isDisabled:!e.store__summaryConfig.configData.stoptoggle,isInvalid:e.checkValidity("association["+t+"].maxdistance")},on:{input:function(s){return e.clearInvalidInput("association["+t+"].maxdistance")}},model:{value:e.queryAssociatedLayer[t].distance,callback:function(s){e.$set(e.queryAssociatedLayer[t],"distance",s)},expression:"queryAssociatedLayer[lookupFieldName].distance"}}),e._v(" "),i("div",{staticClass:"slds-form-element slds-m-left--x-small"},[i("div",{staticClass:"slds-form-element__control"},[i("select",{directives:[{name:"model",rawName:"v-model",value:e.queryAssociatedLayer[t].distanceUnits,expression:"queryAssociatedLayer[lookupFieldName].distanceUnits"}],staticClass:"slds-select",attrs:{id:"unitSelector",disabled:!e.store__summaryConfig.configData.stoptoggle,name:"units"},on:{change:function(s){var i=Array.prototype.filter.call(s.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.queryAssociatedLayer[t],"distanceUnits",s.target.multiple?i:i[0])}}},[i("option",{attrs:{value:"miles"}},[e._v("Miles")]),e._v(" "),i("option",{attrs:{value:"kilometers"}},[e._v("Kilometers")]),e._v(" "),i("option",{attrs:{value:"feet"}},[e._v("Feet")]),e._v(" "),i("option",{attrs:{value:"meters"}},[e._v("Meters")])])])])],1)])}))],2)]),e._v(" "),i("div",[i("div",{staticClass:"slds-section__title slds-grid slds-grid_vertical-align-center slds-theme--shade"},[i("span",{staticClass:"section-header-title slds-truncate slds-p-horizontal--small"},[e._v(e._s(e.$Labels.LiveDriveTrips))])]),e._v(" "),i("div",{staticClass:"slds-box slds-box_xx-small slds-grid slds-grid_vertical-align-center slds-m-top--small"},[i("MAIcon",{attrs:{src:s(6072),iconClass:["slds-button__icon","slds-icon-text-light","slds-input__icon","slds-input__icon_right","slds-m-right_x-small"]}}),e._v(" "),i("p",[e._v(e._s(e.$Labels.LiveDriveTripHelp))])],1),e._v(" "),i("fieldset",{staticClass:"slds-form-element"},[i("div",{staticClass:"slds-p-around--small slds-p-bottom--small"},[i("div",{staticClass:"slds-form-element__control slds-grid"},[i("div",{staticClass:"slds-visual-picker slds-size_1-of-3"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.store__summaryConfig.configData.drivetripoptim,expression:"store__summaryConfig.configData.drivetripoptim"}],attrs:{id:"track-picker-1",type:"radio",value:"Vehicle Tracking",name:"Vehicle Tracking"},domProps:{checked:e._q(e.store__summaryConfig.configData.drivetripoptim,"Vehicle Tracking")},on:{change:function(t){return e.$set(e.store__summaryConfig.configData,"drivetripoptim","Vehicle Tracking")}}}),e._v(" "),i("label",{attrs:{for:"track-picker-1"}},[i("span",{staticClass:"slds-p-around--small slds-visual-picker__figure slds-visual-picker__text slds-align_absolute-center"},[i("span",{staticClass:"slds-m-right_small"},[i("MAIcon",{attrs:{src:s(3655),iconClass:["slds-input__icon","slds-icon-text-light","slds-icon_small"]}})],1),e._v(" "),i("span",{staticClass:"slds-border_left slds-text-align_left"},[i("span",{staticClass:"slds-text-heading_medium slds-m-bottom_x-small slds-m-left_x-small"},[e._v(e._s(e.$Labels.LiveTrackUsingOnBoard))]),e._v(" "),i("span",{staticClass:"slds-text-title slds-p-bottom--medium slds-m-left_x-small"},[e._v(e._s(e.$Labels.LiveTrackOnBoardHelp))])])]),e._v(" "),i("span",{staticClass:"slds-icon_container slds-visual-picker__text-check"},[i("svg",{staticClass:"slds-icon slds-icon-text-check slds-icon_x-small",attrs:{"aria-hidden":"true"}},[i("use",{attrs:{"xlink:href":"/apexpages/slds/latest/assets/icons/utility-sprite/svg/symbols.svg#check"}})])])])]),e._v(" "),i("div",{staticClass:"slds-visual-picker slds-size_1-of-3"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.store__summaryConfig.configData.drivetripoptim,expression:"store__summaryConfig.configData.drivetripoptim"}],attrs:{id:"track-picker-2",type:"radio",value:"Mobile Tracking",name:"Mobile Tracking"},domProps:{checked:e._q(e.store__summaryConfig.configData.drivetripoptim,"Mobile Tracking")},on:{change:function(t){return e.$set(e.store__summaryConfig.configData,"drivetripoptim","Mobile Tracking")}}}),e._v(" "),i("label",{attrs:{for:"track-picker-2"}},[i("span",{staticClass:"slds-p-around--small slds-visual-picker__figure slds-visual-picker__text slds-align_absolute-center"},[i("span",{staticClass:"slds-m-right_x-small"},[i("MAIcon",{attrs:{src:s(5445),iconClass:["slds-input__icon","slds-icon-text-light","slds-icon_small"]}})],1),e._v(" "),i("span",{staticClass:"slds-border_left slds-text-align_left"},[i("span",{staticClass:"slds-text-heading_medium slds-m-bottom_x-small slds-m-left_x-small"},[e._v(e._s(e.$Labels.LiveTrackUsingMobile))]),e._v(" "),i("span",{staticClass:"slds-text-title slds-m-left_x-small"},[e._v(e._s(e.$Labels.LiveTrackMobileHelp))])])]),e._v(" "),i("span",{staticClass:"slds-icon_container slds-visual-picker__text-check"},[i("svg",{staticClass:"slds-icon slds-icon-text-check slds-icon_x-small",attrs:{"aria-hidden":"true"}},[i("use",{attrs:{"xlink:href":"/apexpages/slds/latest/assets/icons/utility-sprite/svg/symbols.svg#check"}})])])])])])])])]),e._v(" "),i("div",[i("div",{staticClass:"slds-section__title slds-grid slds-grid_vertical-align-center slds-theme--shade"},[i("span",{staticClass:"section-header-title slds-truncate slds-p-horizontal_small"},[e._v("Speeding")]),e._v(" "),i("MACheckbox",{staticClass:"slds-col--bump-left centered",attrs:{id:"checkbox",title:e.store__summaryConfig.configData.speedingtoggle?"Active":"Inactive"},model:{value:e.store__summaryConfig.configData.speedingtoggle,callback:function(t){e.$set(e.store__summaryConfig.configData,"speedingtoggle",t)},expression:"store__summaryConfig.configData.speedingtoggle"}})],1),e._v(" "),i("div",{staticClass:"slds-grid slds-p-around--medium"},[i("div",{staticClass:"slds-grid slds-grid_vertical-align-center"},[i("div",[e._v("Speed is greater than the posted speed limit by")]),e._v(" "),i("MAInput",{staticClass:"slds-m-left--x-small short-input",attrs:{id:e.getGUID(),type:"number",isDisabled:!e.store__summaryConfig.configData.speedingtoggle,isInvalid:e.checkValidity("speedlimitover")},on:{input:function(t){return e.clearInvalidInput("speedlimitover")}},model:{value:e.store__summaryConfig.configData.speedlimitover,callback:function(t){e.$set(e.store__summaryConfig.configData,"speedlimitover",t)},expression:"store__summaryConfig.configData.speedlimitover"}}),e._v(" "),i("div",{staticClass:"slds-form-element slds-m-left--x-small"},[i("div",{staticClass:"slds-form-element__control"},[i("select",{directives:[{name:"model",rawName:"v-model",value:e.store__summaryConfig.configData.speedlimitunits,expression:"store__summaryConfig.configData.speedlimitunits"}],staticClass:"slds-select",attrs:{id:e.getGUID(),name:"units",disabled:!e.store__summaryConfig.configData.speedingtoggle},on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.store__summaryConfig.configData,"speedlimitunits",t.target.multiple?s:s[0])}}},[i("option",{attrs:{value:"mph"}},[e._v("MPH")]),e._v(" "),i("option",{attrs:{value:"kph"}},[e._v("KPH")])])])]),e._v(" "),i("div",{staticClass:"slds-form-element slds-m-left--x-small"},[i("div",{staticClass:"slds-form-element__control"},[i("select",{directives:[{name:"model",rawName:"v-model",value:e.store__summaryConfig.configData.anyduration,expression:"store__summaryConfig.configData.anyduration"}],staticClass:"slds-select",attrs:{id:e.getGUID(),disabled:!e.store__summaryConfig.configData.speedingtoggle,name:"units"},on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.store__summaryConfig.configData,"anyduration",t.target.multiple?s:s[0])}}},[i("option",{domProps:{value:!1}},[e._v("for more than")]),e._v(" "),i("option",{domProps:{value:!0}},[e._v("for any duration")])])])]),e._v(" "),e.store__summaryConfig.configData.anyduration?e._e():[i("MAInput",{staticClass:"slds-m-left--x-small short-input",attrs:{id:e.getGUID(),type:"number",isDisabled:!e.store__summaryConfig.configData.speedingtoggle,isInvalid:e.checkValidity("speedlimittime")},on:{input:function(t){return e.clearInvalidInput("speedlimittime")}},model:{value:e.store__summaryConfig.configData.speedlimittime,callback:function(t){e.$set(e.store__summaryConfig.configData,"speedlimittime",t)},expression:"store__summaryConfig.configData.speedlimittime"}}),e._v(" "),i("div",{staticClass:"slds-m-left--x-small"},[e._v("minute(s)")])],e._v(" "),i("div",{staticClass:"slds-grid slds-m-left--x-small"},[i("MACheckbox",{staticClass:"slds-col--bump-left centered",attrs:{id:e.getGUID(),isDisabled:!e.store__summaryConfig.configData.speedingtoggle,noSlide:!0,title:"Create a record"},model:{value:e.store__summaryConfig.configData.createspeedrec,callback:function(t){e.$set(e.store__summaryConfig.configData,"createspeedrec",t)},expression:"store__summaryConfig.configData.createspeedrec"}}),e._v(" "),i("MATooltip",{attrs:{inForm:!0,showIcon:!0}},[i("div",{attrs:{slot:"content"},slot:"content"},[e._v("Check this box to have a record created each time your speeding definition is met.")])])],1)],2)])]),e._v(" "),i("div",[i("div",{staticClass:"slds-section__title slds-grid slds-grid_vertical-align-center slds-theme--shade"},[i("span",{staticClass:"section-header-title slds-truncate slds-p-horizontal--small"},[e._v("Speed Threshold")]),e._v(" "),i("MACheckbox",{staticClass:"slds-col--bump-left centered",attrs:{id:"checkbox",title:e.store__summaryConfig.configData.speedthreshtoggle?"Active":"Inactive"},model:{value:e.store__summaryConfig.configData.speedthreshtoggle,callback:function(t){e.$set(e.store__summaryConfig.configData,"speedthreshtoggle",t)},expression:"store__summaryConfig.configData.speedthreshtoggle"}})],1),e._v(" "),i("div",{staticClass:"slds-grid slds-p-around--medium"},[i("div",{staticClass:"slds-grid slds-grid_vertical-align-center"},[i("div",[e._v("Speed meets or exceeds")]),e._v(" "),i("MAInput",{staticClass:"slds-m-left--x-small short-input",attrs:{id:e.getGUID(),type:"number",isDisabled:!e.store__summaryConfig.configData.speedthreshtoggle,isInvalid:e.checkValidity("speedthreshval")},on:{input:function(t){return e.clearInvalidInput("speedthreshval")}},model:{value:e.store__summaryConfig.configData.speedthreshval,callback:function(t){e.$set(e.store__summaryConfig.configData,"speedthreshval",t)},expression:"store__summaryConfig.configData.speedthreshval"}}),e._v(" "),i("div",{staticClass:"slds-form-element slds-m-left--x-small"},[i("div",{staticClass:"slds-form-element__control"},[i("select",{directives:[{name:"model",rawName:"v-model",value:e.store__summaryConfig.configData.speedthreshunits,expression:"store__summaryConfig.configData.speedthreshunits"}],staticClass:"slds-select",attrs:{id:e.getGUID(),disabled:!e.store__summaryConfig.configData.speedthreshtoggle,name:"units"},on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.store__summaryConfig.configData,"speedthreshunits",t.target.multiple?s:s[0])}}},[i("option",{attrs:{value:"mph"}},[e._v("MPH")]),e._v(" "),i("option",{attrs:{value:"kph"}},[e._v("KPH")])])])]),e._v(" "),i("div",{staticClass:"slds-m-left--x-small"},[e._v("for more than")]),e._v(" "),i("MAInput",{staticClass:"slds-m-left--x-small short-input",attrs:{id:e.getGUID(),type:"number",isDisabled:!e.store__summaryConfig.configData.speedthreshtoggle,isInvalid:e.checkValidity("threshtime")},on:{input:function(t){return e.clearInvalidInput("threshtime")}},model:{value:e.store__summaryConfig.configData.threshtime,callback:function(t){e.$set(e.store__summaryConfig.configData,"threshtime",t)},expression:"store__summaryConfig.configData.threshtime"}}),e._v(" "),i("div",{staticClass:"slds-m-left--x-small"},[e._v("minute(s)")]),e._v(" "),i("div",{staticClass:"slds-grid slds-m-left--x-small"},[i("MACheckbox",{staticClass:"slds-col--bump-left centered",attrs:{id:e.getGUID(),isDisabled:!e.store__summaryConfig.configData.speedthreshtoggle,noSlide:!0,title:"Create a record"},model:{value:e.store__summaryConfig.configData.createspeedthreshrec,callback:function(t){e.$set(e.store__summaryConfig.configData,"createspeedthreshrec",t)},expression:"store__summaryConfig.configData.createspeedthreshrec"}}),e._v(" "),i("MATooltip",{attrs:{inForm:!0,showIcon:!0}},[i("div",{attrs:{slot:"content"},slot:"content"},[e._v("Check this box to have a record created each time your speed treshold definition is met.")])])],1)],1)]),e._v(" "),i("div",{staticClass:"slds-grid"},[i("p",{staticClass:"slds-p-left--medium slds-p-bottom--medium"},[e._v("This is a global value that is set on each record when saved.")])])]),e._v(" "),e._l(e.simpleEvents,(function(t,s){return i("div",{key:s},[i("div",{staticClass:"slds-section__title slds-grid slds-grid_vertical-align-center slds-theme--shade slds-m-top--medium"},[i("span",{staticClass:"section-header-title slds-truncate slds-p-horizontal_small"},[e._v(e._s(t.sectionLabel))])]),e._v(" "),i("div",{staticClass:"slds-grid slds-p-around_medium"},[i("MACheckbox",{staticClass:"centered",attrs:{id:e.getGUID(),noSlide:!0,title:t.checkboxLabel},model:{value:t.isSelected,callback:function(s){e.$set(t,"isSelected",s)},expression:"simpleEvent.isSelected"}}),e._v(" "),i("MATooltip",{attrs:{inForm:!0,showIcon:!0}},[i("div",{attrs:{slot:"content"},slot:"content"},[e._v(e._s(t.checkboxTooltip))])])],1)])}))],2),e._v(" "),i("button",{staticClass:"slds-button slds-button_neutral slds-m-top--large",on:{click:function(t){e.store__summaryConfig.activeTab="liveLayer"}}},[e._v("\n                        Previous\n                    ")])])]):e._e()],1)],1):i("div",{staticClass:"daily-summary-content",attrs:{slot:"content"},slot:"content"},[i("SummaryErrors")],1),e._v(" "),"errors"!==e.store__summaryConfig.activeTab?i("div",{attrs:{slot:"footer"},slot:"footer"},[i("button",{staticClass:"slds-button slds-button_neutral",on:{click:function(t){return e.closeModal(!1)}}},[e._v("\n            Cancel\n        ")]),e._v(" "),i("button",{staticClass:"slds-button slds-button_brand",on:{click:e.saveSummary}},[e._v("\n            Save\n        ")])]):i("div",{attrs:{slot:"footer"},slot:"footer"},[i("button",{staticClass:"slds-button slds-button_neutral",on:{click:function(t){return e.closeModal(!1)}}},[e._v("\n            Cancel\n        ")]),e._v(" "),i("button",{staticClass:"slds-button slds-button--destructive",on:{click:function(t){e.store__summaryErrors.ignoreErrors=!0}}},[e._v("\n            Ignore "+e._s(e.store__summaryErrors.selectedErrors>0?"("+e.store__summaryErrors.selectedErrors+")":"")+"\n        ")]),e._v(" "),i("button",{staticClass:"slds-button slds-button--brand",on:{click:function(t){e.store__summaryErrors.reRunSummaries=!0}}},[e._v("\n            Re-Run Summary "+e._s(e.store__summaryErrors.selectedErrors>0?"("+e.store__summaryErrors.selectedErrors+")":"")+"\n        ")])])])}),[],!1,null,"4edb7cda",null).exports;var L=s(2025);const{MAToastMessages:M}=window,T={components:{MAModal:_.Z,MADatetimePicker:L.Z},data(){return{isLoading:!1,startingDate:this.getCurrentDate(),endingDate:this.getCurrentDate(),lastValidStartingDate:null,lastValidEndingDate:null}},computed:{...(0,i.mapState)({store__toggle:"toggle",store__summaryConfig:"summaryConfig"})},methods:{closeModal(e){this.store__toggle.showGenerateSummaries=!1,e&&(this.store__toggle.refresh=!0)},async generateSummaries(){const e=this.checkParams();if(e){if(!confirm("Are you sure you want to re-run historical summaries? Re-running the summaries will delete these days existing summaries and associated records. Recalculation could cause triggers, process builders or flows to re-run at this time."))return this.closeModal(),null;try{this.isLoading=!0;const{success:t,message:s}=await(0,r.wX)("maps.LiveRemoteFunctions.genHistoricalSummary",[e]);t?(M.showSuccess({position:"toast-top-right",message:"Success",subMessage:"Your historical summaries are being generated.",timeOut:8e3}),this.closeModal(!0)):M.showError({position:"toast-top-right",message:"Error",subMessage:s,timeOut:8e3})}catch(e){M.showError({position:"toast-top-right",message:"Remoting Error",subMessage:e,timeOut:8e3})}finally{this.isLoading=!1}}return null},checkParams(){const e=this.startingDate,t=this.endingDate;return e?!!this.validateDateSelected(e,"start")&&(t?!!this.validateDateSelected(t,"end")&&[this.store__summaryConfig.configData.id,this.startingDate.format("YYYY,M,D"),this.endingDate.format("YYYY,M,D")]:(M.showError({position:"toast-top-right",message:"Missing Input",subMessage:"You must enter an end date.",timeOut:8e3}),!1)):(M.showError({position:"toast-top-right",message:"Missing Input",subMessage:"You must enter a start date.",timeOut:8e3}),!1)},validateDateSelected(e,t){e=e.startOf("day");const s=this.getCurrentDate().startOf("day"),i=this.getCurrentDate().subtract(60,"days").startOf("day");return e>s?(M.showError({position:"toast-top-right",message:"Validation Error",subMessage:"Cannot select a date in the future. Please adjust your starting and ending dates.",timeOut:8e3}),t&&"start"===t&&(null!=this.lastValidStartingDate?this.startingDate=this.lastValidStartingDate:this.startingDate=this.getCurrentDate()),t&&"end"===t&&(null!=this.lastValidEndingDate?this.endingDate=this.lastValidEndingDate:this.endingDate=this.getCurrentDate()),!1):i>e?(M.showError({position:"toast-top-right",message:"Validation Error",subMessage:"Cannot select a date older than 60 days in the past. Please adjust your starting and ending dates.",timeOut:8e3}),t&&"start"===t&&(null!=this.lastValidStartingDate?this.startingDate=this.lastValidStartingDate:this.startingDate=this.getCurrentDate()),t&&"end"===t&&(null!=this.lastValidEndingDate?this.endingDate=this.lastValidEndingDate:this.endingDate=this.getCurrentDate()),!1):("start"===t&&(this.lastValidStartingDate=e),"end"===t&&(this.lastValidEndingDate=e),!(null!=this.lastValidStartingDate&&null!=this.lastValidEndingDate&&this.lastValidStartingDate.valueOf()>this.lastValidEndingDate.valueOf()&&(M.showError({position:"toast-top-right",message:"Validation Error",subMessage:"Your end date cannot be before your start date. Please adjust your starting and ending dates.",timeOut:8e3}),1)))},getCurrentDate(){return this.$moment().tz(this.$User.timezoneId).locale(this.$User.UserLocale)}}},E=(0,h.Z)(T,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("MAModal",{staticClass:"generate",attrs:{title:"Generate Historical Summaries",isLoading:e.isLoading,hideCloseButton:e.isLoading},on:{close:function(t){return e.closeModal(!1)}}},[s("div",{attrs:{slot:"content"},slot:"content"},[s("div",{staticClass:"slds-grid",staticStyle:{"min-height":"400px"}},[s("MADatetimePicker",{staticClass:"slds-col",attrs:{dateFormat:e.$User.dateFormat.toUpperCase(),showInputField:!0,locale:e.$User.UserLocale,timezone:e.$User.timezoneId,label:"Starting Date"},on:{input:function(t){return e.validateDateSelected(t,"start")}},model:{value:e.startingDate,callback:function(t){e.startingDate=t},expression:"startingDate"}}),e._v(" "),s("MADatetimePicker",{staticClass:"slds-col",attrs:{dateFormat:e.$User.dateFormat.toUpperCase(),showInputField:!0,locale:e.$User.UserLocale,timezone:e.$User.timezoneId,alignRight:!0,label:"Ending Date"},on:{input:function(t){return e.validateDateSelected(t,"end")}},model:{value:e.endingDate,callback:function(t){e.endingDate=t},expression:"endingDate"}})],1)]),e._v(" "),s("div",{attrs:{slot:"footer"},slot:"footer"},[s("button",{staticClass:"slds-button slds-button_neutral",on:{click:function(t){return e.closeModal(!1)}}},[e._v("\n            Cancel\n        ")]),e._v(" "),s("button",{staticClass:"slds-button slds-button_brand",on:{click:e.generateSummaries}},[e._v("\n            Generate\n        ")])])])}),[],!1,null,null,null).exports,{MAToastMessages:A}=window,I={components:{MAModal:_.Z},data:()=>({isLoading:!1}),computed:{...(0,i.mapState)({store__toggle:"toggle",store__summaryConfig:"summaryConfig"})},methods:{closeModal(e){this.store__toggle.showDeleteConfig=!1,e&&(this.store__toggle.refresh=!0)},async deleteSummary(){try{const e=this.store__summaryConfig.configData.id;this.isLoading=!0;const{success:t,message:s}=await(0,r.wX)("maps.LiveRemoteFunctions.DeleteSummary",[e]);t?(A.showSuccess({position:"toast-top-right",message:"Success",subMessage:"Summary configuration deleted.",timeOut:8e3}),this.closeModal(!0)):A.showError({position:"toast-top-right",message:"Error",subMessage:s,timeOut:8e3})}catch(e){A.showError({position:"toast-top-right",message:"Remoting Error",subMessage:e,timeOut:8e3})}finally{this.isLoading=!1}return null}}},$={components:{Dashboard:g,SummaryConfig:S,GenerateSummaries:E,DeleteConfig:(0,h.Z)(I,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.store__toggle.showDeleteConfig?s("MAModal",{attrs:{title:"Delete Summary Configuration",isLoading:e.isLoading,hideCloseButton:e.isLoading},on:{close:e.closeModal}},[s("div",{staticClass:"slds-text-body_regular slds-var-p-around_small",attrs:{slot:"content"},slot:"content"},[s("p",{staticStyle:{"text-align":"center"}},[e._v("\n            Are you sure you want to delete the summary configuration "),s("strong",[e._v(e._s(e.store__summaryConfig.configData.summaryname))]),e._v("?\n        ")])]),e._v(" "),s("div",{attrs:{slot:"footer"},slot:"footer"},[s("button",{staticClass:"slds-button slds-button_neutral",on:{click:e.closeModal}},[e._v("\n            Cancel\n        ")]),e._v(" "),s("button",{staticClass:"slds-button slds-button_destructive",on:{click:function(t){return e.deleteSummary()}}},[e._v("\n            Delete\n        ")])])]):e._e()}),[],!1,null,null,null).exports},computed:{...(0,i.mapState)({store__toggle:"toggle"})},beforeCreate(){this.$store=new(a().Store)(o)}},R=(0,h.Z)($,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"app"}},[s("Dashboard"),e._v(" "),e.store__toggle.showSummaryConfig?s("SummaryConfig"):e._e(),e._v(" "),e.store__toggle.showGenerateSummaries?s("GenerateSummaries"):e._e(),e._v(" "),e.store__toggle.showDeleteConfig?s("DeleteConfig"):e._e()],1)}),[],!1,null,null,null).exports},2589:(e,t,s)=>{"use strict";s.d(t,{Z:()=>o});var i=s(5264);const a={name:"MAActionMenu",components:{MAIconInline:s(8969).Z},directives:{"click-outside":i.Z},props:{forceRight:{type:Boolean,default:!1},forceLeft:{type:Boolean,default:!1},doShowSync:{type:Boolean,default:!1},hideOnMouseout:{type:Boolean,default:!1},isToggleValid:{type:Function,default:null},bindTo:{type:HTMLElement,default:null},bindToMousePosition:{type:Boolean,default:!1,validate:e=>e&&null!=(void 0).bindTo||!e},bindToCoords:{type:Object,default:null,validate:e=>e.x&&e.y},isDisabled:{type:Boolean,default:!1},showMoreLabel:{type:String,default:"Show More"}},data(){return{doShow:this.doShowSync,isDirty:!1,dropdownLeft:!0,dropdownRight:!1,container:null}},computed:{doShowAnchor(){return!(this.bindTo||this.bindToMousePosition||this.bindToCoords)},clickOutsideOptions(){return{active:this.doShow,handler:this.doHide}}},watch:{doShow(e){this.$emit("update:doShowSync",e)},doShowSync(e){e!==this.doShow&&this.toggleMenu()}},created(){this.bindTo&&this.bindTo.addEventListener("click",this.toggleMenu)},beforeDestroy(){this.bindTo&&this.bindTo.removeEventListener("click",this.toggleMenu),this.destroy()},methods:{toggleMenu(e){this.isDisabled||e&&this.isToggleValid&&!this.isToggleValid(e,this.doShow)||e&&this.$refs.menu&&(this.$refs.menu===e.target||this.$refs.menu.contains(e.target))||(this.doShow=!this.doShow,this.doShow?(window.addEventListener("scroll",this.doHide,!0),window.addEventListener("resize",this.doHide),this.$nextTick(this.showMenu.bind(this,e)),this.$emit("bindToClick",e)):this.destroy())},showMenu(e){this.forceLeft||this.forceRight||(this.dropdownLeft=!0,this.dropdownRight=!1,this.$nextTick((()=>{this.detach(e),this.$nextTick(this.adjustForClipping)})))},detach(e){if(!this.$refs.menu)return;let t,s;if(e&&this.bindToMousePosition)t=e.clientY,s=e.clientX;else if(this.bindToCoords)t=this.bindToCoords.y,s=this.bindToCoords.x;else{const e=this.$refs.anchor.getBoundingClientRect();t=e.top+this.$refs.anchor.clientHeight,({left:s}=e)}this.$refs.menu.style.top=`${t}px`,this.$refs.menu.style.left=`${s}px`,this.$refs.menu.style.position="fixed",this.container=document.createElement("div"),this.container.className=`slds-scope ${this.$el.className}`,this.container.appendChild(this.$refs.menu),document.body.appendChild(this.container),this.$emit("detached",this.container),window.addEventListener("scroll",this.doHide,!0)},adjustForClipping(){const{menu:e}=this.$refs;if(null==e)return;const t=e.clientWidth,s=e.clientHeight,i=e.getBoundingClientRect().x,a=e.getBoundingClientRect().y,{clientWidth:o}=document.documentElement,{clientHeight:r}=document.documentElement,l=i+t>o,n=a+s>r;l&&(this.$refs.menu.style.left="auto"),n&&(this.$refs.menu.style.top="auto",this.$refs.menu.style.bottom="0"),this.dropdownRight=l,this.dropdownLeft=!l},destroy(){this.doShow=!1,window.removeEventListener("scroll",this.doHide,!0),window.removeEventListener("resize",this.doHide),this.container&&(this.container.remove(),this.container=null),this.$emit("hide")},doHide(e){!this.doShow||this.$refs.menu&&(this.$refs.menu===e.target||this.bindTo&&this.bindTo.contains(e.target))||this.destroy()},mouseover(e){this.$emit("mouseover",e)},mouseout(e){!this.hideOnMouseout||"mouseout"!==e.type||this.$refs.menu.contains(e.toElement||e.relatedTarget)?this.$emit("mouseout",e):this.destroy()}}},o=(0,s(1900).Z)(a,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"click-outside",rawName:"v-click-outside:[clickOutsideOptions]",arg:e.clickOutsideOptions}],staticClass:"slds-dropdown-trigger slds-dropdown-trigger_click slds-is-open",on:{click:e.toggleMenu}},[e.doShowAnchor?i("div",{ref:"anchor"},[e._t("button",(function(){return[i("button",{staticClass:"slds-button slds-button_icon slds-button_icon-border-filled slds-button_icon-x-small",attrs:{title:e.showMoreLabel}},[i("MAIconInline",{attrs:{svg:s(8659),assistiveText:e.showMoreLabel,iconClass:"slds-button__icon"}})],1)]}))],2):e._e(),e._v(" "),e.doShow?i("div",{ref:"menu",staticClass:"slds-dropdown slds-dropdown_actions",class:{"slds-dropdown_right":e.dropdownRight||e.forceRight,"slds-dropdown_left":e.dropdownLeft||e.forceLeft},on:{mouseover:e.mouseover,mouseout:e.mouseout}},[i("ul",{staticClass:"slds-dropdown__list",attrs:{role:"menu"}},[e._t("default",(function(){return[e._v("--- menu items go here ---")]}))],2)]):e._e()])}),[],!1,null,"c84bab8c",null).exports},9884:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});const i={name:"MAActionMenuitem",mixins:[s(3826).Z],props:{label:{type:String,required:!0}}},a=(0,s(1900).Z)(i,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("li",e._g({staticClass:"slds-dropdown__item",attrs:{role:"presentation"}},e.$listeners),[s("a",{attrs:{role:"menuitem",tabindex:"0"}},[s("span",{staticClass:"slds-truncate",attrs:{title:e.label}},[e._t("default",(function(){return[e._v(e._s(e.decodeHtml(e.label)))]}))],2)])])}),[],!1,null,null,null).exports},1853:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});var i=s(3826),a=s(8050);const o={name:"MACheckbox",components:{MATooltip:s(9756).Z},mixins:[i.Z],props:{value:{type:Boolean,required:!0},title:{type:String,required:!1,default:""},isDisabled:{type:Boolean,default:!1},showStateLabels:{type:Boolean,default:!1},stateLabelOn:{type:String,default:"Enabled"},stateLabelOff:{type:String,default:"Disabled"},toggleBuffer:{type:Number,default:0},noSlide:{type:Boolean,default:!1},isFormElement:{type:Boolean,default:!1},tooltipHelpText:{type:String,default:""}},data:()=>({lastToggleHandlerTimestamp:Date.now(),checkboxId:(0,a.x$)()}),computed:{checkboxClass(){return this.noSlide?"slds-form-element__control":"slds-checkbox_toggle slds-grid"}},watch:{value(){this.$refs.checkbox.checked=this.value}},mounted(){this.$refs.checkbox.checked=this.value},methods:{toggle(e){(e.clientX||e.clientY)&&(e.currentTarget.checked&&this.toggleBuffer&&(this.$refs.checkbox.disabled=!0,setTimeout((()=>{this.$refs.checkbox.disabled=!1}),this.toggleBuffer)),this.$emit("input",!this.value))}}},r=(0,s(1900).Z)(o,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"slds-form-element"},[e.noSlide?e.isFormElement?[s("label",{staticClass:"slds-form-element__label",class:{"slds-p-right_none":e.tooltipHelpText},attrs:{for:e.checkboxId}},[e._v(e._s(e.decodeHtml(e.title)))]),e._v(" "),e.tooltipHelpText?s("MATooltip",{attrs:{showIcon:"",inForm:""}},[s("span",{attrs:{slot:"content"},slot:"content"},[e._v("\n                "+e._s(e.tooltipHelpText)+"\n            ")])]):e._e(),e._v(" "),s("div",{staticClass:"slds-form-element__control"},[s("span",{staticClass:"slds-checkbox slds-checkbox_standalone"},[s("input",{ref:"checkbox",attrs:{id:e.checkboxId,disabled:e.isDisabled,type:"checkbox"},domProps:{checked:e.value||!1},on:{click:e.toggle}}),e._v(" "),s("span",{staticClass:"slds-checkbox_faux"})])])]:s("div",{staticClass:"slds-form-element__control"},[s("div",{staticClass:"slds-checkbox"},[s("input",{ref:"checkbox",attrs:{id:e.checkboxId,disabled:e.isDisabled,type:"checkbox"},domProps:{checked:e.value||!1},on:{click:e.toggle}}),e._v(" "),s("label",{staticClass:"slds-checkbox__label",attrs:{for:e.checkboxId}},[s("span",{staticClass:"slds-checkbox_faux"}),e._v(" "),s("span",{staticClass:"slds-form-element__label",class:{"slds-p-right_none":e.tooltipHelpText}},[e._v("\n                    "+e._s(e.decodeHtml(e.title))+"\n                ")])]),e._v(" "),e.tooltipHelpText?s("MATooltip",{attrs:{showIcon:"",inForm:""}},[s("span",{attrs:{slot:"content"},slot:"content"},[e._v("\n                    "+e._s(e.tooltipHelpText)+"\n                ")])]):e._e()],1)]):s("label",{class:e.checkboxClass},[s("input",{ref:"checkbox",attrs:{disabled:e.isDisabled,type:"checkbox"},domProps:{checked:e.value||!1},on:{click:e.toggle}}),e._v(" "),s("span",{staticClass:"slds-checkbox_faux_container"},[s("span",{staticClass:"slds-checkbox_faux"}),e._v(" "),e.showStateLabels?s("span",{staticClass:"slds-checkbox_on"},[e._v(e._s(e.decodeHtml(e.stateLabelOn)))]):e._e(),e._v(" "),e.showStateLabels?s("span",{staticClass:"slds-checkbox_off"},[e._v(e._s(e.decodeHtml(e.stateLabelOff)))]):e._e()]),e._v(" "),s("span",{staticClass:"slds-form-element__label slds-m-bottom_none slds-p-left_x-small slds-p-top_xx-small"},[s("span",[e._v(e._s(e.decodeHtml(e.title)))])]),e._v(" "),e._t("tooltip")],2)],2)}),[],!1,null,"7880ee54",null).exports},5747:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});const i={name:"MATab",props:{id:{type:String,required:!0},title:{type:String,required:!0},renderImmediately:{type:Boolean,default:!1},isDisabled:{type:Boolean,default:!1},forceReloadWhenActivated:{type:Boolean,default:!1},isValid:{type:Boolean,default:!0},isSectionHeader:{type:Boolean,default:!1},sectionIsLocked:{type:Boolean,default:!1},link:{type:[String,Function],default:""}},data:()=>({isActive:!1,isVertical:!1,isLoaded:!1}),computed:{tabClass(){return this.isVertical?"slds-vertical-tabs":"slds-tabs_default"}},watch:{isActive(){this.isLoaded||this.forceReloadWhenActivated||(this.isLoaded=!0)}},mounted(){this.isVertical=this.$parent.$el.classList.contains("slds-vertical-tabs")},methods:{getCSSClasses(){const e=[this.isActive?"slds-show":"slds-hide"];return e.push(`${this.tabClass}__content`),e}}},a=(0,s(1900).Z)(i,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.renderImmediately||e.isActive||e.isLoaded?s("div",{class:e.getCSSClasses()},[e._t("default",null,{state:{isActive:e.isActive,isLoaded:e.isLoaded}})],2):e._e()}),[],!1,null,null,null).exports},1595:(e,t,s)=>{"use strict";s.d(t,{Z:()=>o});var i=s(3826);const a={name:"MATabs",components:{MAIconInline:s(8969).Z},mixins:[i.Z],props:{isVertical:{type:Boolean,default:!1,validation:()=>!(void 0).isScoped},isScoped:{type:Boolean,default:!1,validation:()=>!(void 0).isVertical},activeTabId:{type:[String,Number],default:null},isNavigation:{type:Boolean,default:!1,validation:()=>(void 0).isVertical}},data:()=>({tabs:[],$activeTabId:null}),computed:{tabClass(){let e="slds-tabs_default";return this.isScoped?e="slds-tabs_scoped":this.isVertical&&(e="slds-vertical-tabs"),e}},watch:{tabs(){this.tabs&&this.tabs.length&&this.setActiveTab()},activeTabId(){this.setActiveTab()}},mounted(){this.tabs=this.$children},methods:{setActiveTab(){this.activeTabId?this.selectTab(this.activeTabId):this.selectTab(this.tabs[0].id)},getListItemCSSClasses(e){if(e.isSectionHeader)return[];const t=[];return!this.isNavigation&&this.isVertical?t.push(`${this.tabClass}__nav-item`):this.isNavigation&&this.isVertical?t.push("slds-nav-vertical__item"):t.push(`${this.tabClass}__item`),e.isActive&&t.push("slds-is-active"),e.isValid||t.push("slds-has-error"),t},clickHandler(e,t){t.link?"function"==typeof t.link?t.link():window.open(t.link,"self"):this.selectTab(t.id,e)},selectTab(e){if(this.$activeTabId===e)return;const t=this.tabs.find((t=>t.id===e));t&&!t.isDisabled&&(this.tabs.forEach((e=>{e.isActive=e.id===t.id})),this.$activeTabId=e,this.$emit("changed",t.id),this.$emit("update:activeTabId",e))}}},o=(0,s(1900).Z)(a,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{class:[e.tabClass]},[i("ul",{class:[e.isNavigation?"navigation-list":e.tabClass+"__nav"],attrs:{role:"tablist"}},[e._l(e.tabs,(function(t,a){return t.$vnode&&t.$vnode.tag.includes("MATab")?i("li",{key:a,class:e.getListItemCSSClasses(t),attrs:{title:e.decodeHtml(t.title),role:"presentation"}},[t.isSectionHeader?i("h2",{staticClass:"slds-nav-vertical__title",class:{"section-disabled":t.sectionIsLocked}},[e._v("\n                "+e._s(e.decodeHtml(t.title))+"\n            ")]):i("a",{class:[e.isNavigation?"slds-nav-vertical__action":e.tabClass+"__link"],attrs:{href:"javascript:void(0);",role:"tab",tabindex:"0"},on:{click:function(s){return e.clickHandler(s,t)}}},[e._v("\n                "+e._s(e.decodeHtml(t.title))+"\n                "),t.isValid?e._e():i("span",{class:[e.isVertical?"slds-vertical-tabs__right-icon":"slds-tabs__right-icon"]},[i("MAIconInline",{staticClass:"slds-icon_container slds-icon-utility-error",attrs:{svg:s(6413),iconClass:["slds-icon","slds-icon_x-small","slds-icon-text-error"],assistiveText:"This item has an error"}})],1)])]):e._e()})),e._v(" "),e._t("additionalContent")],2),e._v(" "),e._t("default")],2)}),[],!1,null,"5ed7b1ff",null).exports}}]);