(globalThis.webpackChunkmaps_desktop=globalThis.webpackChunkmaps_desktop||[]).push([[7391],{5264:(e,t,s)=>{"use strict";s.d(t,{Z:()=>o});const l=new Map;function i(e,t,s){const i=function(l){s.context._isDestroyed?document.removeEventListener("click",i):e.contains(l.target)||e===l.target||t(l)};l.set(e,i),setTimeout((()=>document.addEventListener("click",i)),0)}function n(e){const t=l.get(e);document.removeEventListener("click",t),l.delete(e)}const o={bind(e,{arg:{active:t,handler:s}},l){if("function"!=typeof s)throw new Error("v-click-outside: missing required handler argument.");!0===t&&i(e,s,l)},update(e,{arg:{active:t,handler:s}},o){t&&!l.has(e)?i(e,s,o):!t&&l.has(e)&&n(e)},unbind(e){n(e)}}},8221:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});const l=new Map,i=(e,{anchorRef:t,anchorTopOnVerticalOverflow:s})=>{const l=e.getBoundingClientRect(),i=document.documentElement.clientHeight,n=document.documentElement.clientWidth;let o;if(o=i-window.innerHeight<=0?i:window.innerHeight-(()=>{const e=document.createElement("div");e.style.width="100px",e.style.height="100px",e.style.overflow="scroll",e.style.position="absolute",e.style.top="-9999px",document.body.appendChild(e);const t=e.offsetWidth-e.clientWidth;return e.remove(),t})(),l.x<0)e.style.left=`${e.offsetLeft+Math.abs(l.x)}px`;else if(l.left+l.width>n){const t=l.left+l.width-n-window.pageXOffset;e.style.left=l.left-t+"px"}const r=e.scrollHeight;let a;if(t&&s){const e=t.getBoundingClientRect();let s=e.bottom;s+r>o&&(s=e.top-r),a=s}else l.top+r>o&&(a=l.top-(l.top+r-o));a&&(e.style.top=`${a}px`)},n=e=>{let t=l.get(e);t&&(t.remove(),t=null,l.delete(e))};let o;const r=(e,t,s)=>{s&&"scroll"===s.type&&e&&e.contains(s.target)||("function"==typeof t?t(e,s):(n(e),window.removeEventListener("scroll",o,!0),o=null))},a={bind(e,t,s){t.value.disabled||s.context.$nextTick((()=>{const n=t.value,a=((e,t)=>{const s=document.createElement("div");return s.className=`slds-scope ${t.$el.className}`,s.appendChild(e),document.body.appendChild(s),t.$emit("detached",s),s})(e,s.context);s.container=a,l.set(e,a),"function"==typeof n.customDisplayMethod&&n.customDisplayMethod(),n.anchorRef&&n.anchorRef instanceof HTMLElement&&((e,t,{anchorRef:s,resizeToAnchor:l})=>{e.style.position="fixed";const i=s.getBoundingClientRect();e.style.top=`${i.top+s.offsetHeight}px`,e.style.left=`${i.left}px`,l&&(e.style.width=`${s.offsetWidth}px`)})(e,0,n),n.viewPortOverflow&&s.context.$nextTick((()=>{"function"==typeof n.onRender?(n.onRender(),s.context.$nextTick(i.bind(this,e,n))):i(e,n)})),o=r.bind(null,e,n.scrollHandler),window.addEventListener("scroll",o,!0)}))},update(e,{value:t},s){t.viewPortOverflow&&s.context.$nextTick((()=>{"function"==typeof t.onRender&&t.onRender(),i(e,t)}))},unbind(e){n(e),window.removeEventListener("scroll",o,!0),o=null}}},1792:e=>{e.exports='<svg xmlns=http://www.w3.org/2000/svg x=0px y=0px width=52px height=52px viewBox="0 0 52 52" enable-background="new 0 0 52 52" xml:space=preserve> <g> <path fill=#FFFFFF d="M19.1,42.5L2.6,25.9c-0.6-0.6-0.6-1.6,0-2.2l2.2-2.2c0.6-0.6,1.6-0.6,2.2,0L19.4,34c0.4,0.4,1.1,0.4,1.5,0\r\n\t\tL45.2,9.5c0.6-0.6,1.6-0.6,2.2,0l2.2,2.2c0.6,0.6,0.6,1.6,0,2.2L21.3,42.5C20.7,43.2,19.7,43.2,19.1,42.5z"/> </g> </svg> '},785:e=>{e.exports='<svg xmlns=http://www.w3.org/2000/svg x=0px y=0px width=52px height=52px viewBox="0 0 52 52" enable-background="new 0 0 52 52" xml:space=preserve> <path fill=#FFFFFF d="M26,2C12.7,2,2,12.7,2,26s10.7,24,24,24s24-10.7,24-24S39.3,2,26,2z M30.9,26.8l7.8,7.8c0.4,0.4,0.4,1,0,1.4\r\n\tl-2.8,2.8c-0.4,0.4-1,0.4-1.4,0L26.7,31c-0.4-0.4-1-0.4-1.4,0l-7.8,7.8c-0.4,0.4-1,0.4-1.4,0L13.3,36c-0.4-0.4-0.4-1,0-1.4l7.8-7.8\r\n\tc0.4-0.4,0.4-1,0-1.4l-7.9-7.9c-0.4-0.4-0.4-1,0-1.4l2.8-2.8c0.4-0.4,1-0.4,1.4,0l7.9,7.9c0.4,0.4,1,0.4,1.4,0l7.8-7.8\r\n\tc0.4-0.4,1-0.4,1.4,0l2.8,2.8c0.4,0.4,0.4,1,0,1.4l-7.8,7.8C30.6,25.8,30.6,26.4,30.9,26.8z"/> </svg> '},7546:e=>{e.exports='<svg xmlns=http://www.w3.org/2000/svg x=0px y=0px width=52px height=52px viewBox="0 0 52 52" enable-background="new 0 0 52 52" xml:space=preserve> <g> <path fill=#FFFFFF d="M26,2C12.8,2,2,12.8,2,26s10.8,24,24,24s24-10.8,24-24S39.2,2,26,2z M26,44c-9.9,0-18-8.1-18-18\r\n\t\tS16.1,8,26,8s18,8.1,18,18S35.9,44,26,44z"/> <path fill=#FFFFFF d="M29.4,26.2c-0.3-0.3-0.4-0.7-0.4-1.1v-9.6c0-0.8-0.7-1.5-1.5-1.5h-3c-0.8,0-1.5,0.7-1.5,1.5v12.1\r\n\t\tc0,0.4,0.2,0.8,0.4,1.1l7.4,7.4c0.6,0.6,1.5,0.6,2.1,0l2.1-2.1c0.6-0.6,0.6-1.5,0-2.1L29.4,26.2z"/> </g> </svg> '},411:e=>{e.exports='<svg xmlns=http://www.w3.org/2000/svg x=0px y=0px width=52px height=52px viewBox="0 0 52 52" enable-background="new 0 0 52 52" xml:space=preserve> <path fill=#FFFFFF d=M8.3,14h35.4c1,0,1.7,1.3,0.9,2.2L27.3,37.4c-0.6,0.8-1.9,0.8-2.5,0L7.3,16.2C6.6,15.3,7.2,14,8.3,14z /> </svg> '},294:e=>{e.exports='<svg xmlns=http://www.w3.org/2000/svg width=52 height=52 viewBox="0 0 52 52"><path d=M49.62,45.27,36.22,32a18.9,18.9,0,1,0-34.1-9.2A18.91,18.91,0,0,0,32,36.27l13.3,13.3a1.45,1.45,0,0,0,2.1,0l2.1-2.1A1.68,1.68,0,0,0,49.62,45.27Zm-28.7-11.5a12.9,12.9,0,1,1,12.9-12.9A12.87,12.87,0,0,1,20.92,33.77Z fill=#fff fill-rule=evenodd /></svg>'},7391:(e,t,s)=>{"use strict";s.d(t,{Z:()=>d});var l=s(3826),i=s(5264),n=s(8221),o=s(8969);const{parseInt:r,getComputedStyle:a}=window,c={name:"MAPicklist",components:{MAIconInline:o.Z},directives:{"click-outside":i.Z,"detach-element":n.Z},mixins:[l.Z],props:{label:{type:String,default:""},options:{type:Array,required:!0},keyString:{type:String,default:"key"},valueString:{type:String,default:"value"},heightInNumItems:{type:Number,default:5},hasNoneOption:{type:Boolean,default:!0},useCombobox:{type:Boolean,default:!1},showOptionSearch:{type:Boolean,default:!0},value:{type:[String,Number],default:""},default:{type:[String,Number],default:""},isDisabled:{type:Boolean,default:!1},isRequired:{type:Boolean,default:!1},isInvalid:{type:Boolean,default:!1},placeholder:{type:String,default:"Select an Option"},doDetach:{type:Boolean,default:!1},isMultiSelect:{type:Boolean,default:!1},requiredLabel:{type:String,default:"Required"},clearLabel:{type:String,default:"Clear"},noSearchResultsLabel:{type:String,default:"No search results."},noneLabel:{type:String,default:"--None--"}},data(){return{showOptions:!1,el:null,optionIndex:-1,results:[],defaultValue:this.default,input:this.getSelectedValue(),comboValue:this.getSelectedValue(),searchValue:"",selectedOptions:[]}},computed:{clickOutsideOptions(){return{active:this.showOptions&&!this.useCombobox,handler:this.reset}},showSelected(){let e=this.value;return"number"==typeof e&&(e=e.toString()),e},showPills(){const e=this.selectedOptions.length>0;return this.isMultiSelect&&e},showLabel(){return this.label},multiSelectShortHand(){const e=this.selectedOptions;let t="";if(e.length>1)t=`${e.length} Options Selected`;else if(1===e.length){const[s]=e;t=this.getValue(s)}return t},resultsLength(){return this.results.length}},watch:{value(e){this.isMultiSelect?(this.selectedOptions=e,this.comboValue=this.getSelectedValueMultiSelect()||[]):(this.input=this.getSelectedValue(),this.comboValue=this.input)},options(){this.input=this.getSelectedValue()},selectedOptions(){this.input=this.multiSelectShortHand},resultsLength(){this.setDropdownHeight()}},methods:{onRender(){this.setDropdownHeight(),this.$refs.search&&this.$refs.search.focus()},validateIsActive(e){let t=!1;return t=this.isMultiSelect?this.selectedOptions.filter((t=>this.getKey(e)===this.getKey(t))).length>0:this.getKey(e)===this.value,t},removePill(e){const t=[];for(let s=0;s<this.selectedOptions.length;s++){const l=this.selectedOptions[s];l.id!==e.id&&t.push(l)}this.selectedOptions=t,this.comboValue=this.getSelectedValueMultiSelect()||[],this.$nextTick((()=>{this.$emit("input",this.comboValue),this.$emit("change",this.selectedOptions)}))},clearSearch(){this.searchValue="",this.doSearch(),this.$refs.search.focus()},getKey(e){return"string"==typeof e||"number"==typeof e?e:e[this.keyString]},getValue(e){return"string"==typeof e||"number"==typeof e?e:e[this.valueString]},getSelectedValue(){if(!this.options||!this.options.length)return"";let e;for(let t=0;t<this.options.length;t++){const s=this.options[t];if("object"==typeof s&&s.children&&Array.isArray(s.children)?e=s.children.find((e=>this.getKey(e)===this.value)):this.getKey(s)===this.value&&(e=s),e)break}let t=e?this.decodeHtml(this.getValue(e)):"";return!t&&this.useCombobox&&(t=this.value),t},getSelectedValueMultiSelect(){if(!this.selectedOptions||!this.selectedOptions.length)return"";const e=[];for(let t=0;t<this.selectedOptions.length;t++){const s=this.selectedOptions[t];e.push(this.getValue(s))}return e},checkSelectedForDuplicates(e){const t={},s=[],l=e.length;let i=0;for(let n=0;n<l;n++){const l=e[n];1!==t[l[this.keyString]]&&(t[l[this.keyString]]=1,s[i++]=l)}return s},applyValue(){""!==this.comboValue&&this.comboValue===this.input||this.$emit("input",this.comboValue),this.reset()},select(e){e.isHeader||(this.isMultiSelect&&(this.selectedOptions.push(e),this.selectedOptions=this.checkSelectedForDuplicates(this.selectedOptions)),this.$nextTick((()=>{this.isMultiSelect?(this.comboValue=this.getSelectedValueMultiSelect()||[],this.$emit("input",this.comboValue),this.$emit("change",this.selectedOptions)):(this.$emit("input",this.getKey(e)),this.$emit("change",e)),this.reset()})))},down(){this.optionIndex+1<this.results.length&&this.optionIndex++;const e=this.$refs.resultsWrapper,t=r(a(e).paddingTop);let s=0;"object"==typeof this.results[this.optionIndex]&&this.results[this.optionIndex].isHeader&&(s=this.$refs[`li${this.optionIndex}`][0].clientHeight+t,this.optionIndex++);const l=this.$refs[`li${this.optionIndex}`][0];l.offsetTop+l.clientHeight-e.scrollTop>e.clientHeight&&(e.scrollTop+=l.clientHeight+s)},up(){if(this.optionIndex-1<0)return;this.optionIndex--,"object"==typeof this.results[this.optionIndex]&&this.results[this.optionIndex].isHeader&&this.optionIndex--;const e=this.$refs.resultsWrapper,t=this.$refs[`li${this.optionIndex}`][0],s=t.offsetTop;s<=e.scrollTop+e.clientHeight&&s>=e.scrollTop||(0===this.optionIndex?e.scrollTop=0:s-t.clientHeight<s&&(e.scrollTop=s-4))},enter(){1===this.results.length&&(this.optionIndex=0),!this.results.length||this.optionIndex<0||this.select(this.results[this.optionIndex])},doShow(e){!this.options.length||e&&"remove"===e.target.className||(this.showOptions=!0,this.doSearch(),this.setDropdownHeight())},setDropdownHeight(){this.$nextTick((()=>{const e=this.$refs.resultsWrapper;if(!e)return;const t=e.getElementsByTagName("li")[0];let s=this.results.length>this.heightInNumItems?this.heightInNumItems:this.results.length;this.hasNoneOption&&s++,this.dropdownHeight=s*t.clientHeight,this.dropdownHeight+=r(a(t.parentNode).paddingTop),this.dropdownHeight+=r(a(t.parentNode).paddingBottom),this.dropdownHeight+=r(a(t.parentNode)["border-top-width"]),this.dropdownHeight+=r(a(t.parentNode)["border-bottom-width"]),e.style.height=`${this.dropdownHeight}px`}))},doSearch(){const e=this.searchValue.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"),t=new RegExp(e,"i");let s=[];this.options.forEach((e=>{if("object"==typeof e&&e.children&&e.children.length){const l=e.children.filter((e=>t.test(this.getValue(e))));l.length&&(e.header&&s.push({isHeader:!0,header:e.header}),s=s.concat(l))}else t.test(this.getValue(e))&&s.push(e)})),this.results=s},remove(){this.$emit("input",null),this.reset()},reset(){this.optionIndex=-1,this.showOptions=!1,this.searchValue=""}}},d=(0,s(1900).Z)(c,(function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{class:{"slds-has-error":e.isInvalid}},[e.showLabel?l("label",{staticClass:"slds-form-element__label"},[e.isRequired?l("abbr",{staticClass:"slds-required",attrs:{title:e.requiredLabel}},[e._v("*")]):e._e(),e._v("\n        "+e._s(e.decodeHtml(e.label))+"\n    ")]):e._e(),e._v(" "),l("div",{staticClass:"slds-form-element__control"},[l("div",{staticClass:"slds-combobox_container"},[l("div",{staticClass:"slds-combobox slds-dropdown-trigger slds-dropdown-trigger_click",class:{"slds-is-open":e.showOptions,"slds-combobox-picklist":!e.showOptions},attrs:{role:"combobox"}},[e.useCombobox?l("div",{ref:"combobox",staticClass:"slds-combobox__form-element slds-input-has-icon slds-input-has-icon_right"},[l("MAIconInline",{staticClass:"slds-icon_container slds-icon-utility-down slds-input__icon slds-input__icon_right",attrs:{svg:s(7546),iconClass:["slds-icon","slds-icon_x-small","slds-icon-text-default"]}}),e._v(" "),l("input",{directives:[{name:"model",rawName:"v-model",value:e.comboValue,expression:"comboValue"}],ref:"select",staticClass:"slds-input slds-combobox__input",class:{"slds-input-invalid":e.isInvalid},attrs:{placeholder:e.placeholder,type:"text"},domProps:{value:e.comboValue},on:{click:e.doShow,blur:e.applyValue,keyup:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),e.enter.apply(null,arguments))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.reset.apply(null,arguments)}],keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"down",40,t.key,["Down","ArrowDown"])?null:(t.preventDefault(),e.down.apply(null,arguments))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"up",38,t.key,["Up","ArrowUp"])?null:(t.preventDefault(),e.up.apply(null,arguments))}],input:function(t){t.target.composing||(e.comboValue=t.target.value)}}})],1):l("div",{staticClass:"slds-combobox__form-element slds-input-has-icon slds-input-has-icon_right",attrs:{role:"none"}},[l("input",{ref:"select",staticClass:"slds-input slds-combobox__input",attrs:{disabled:e.isDisabled,placeholder:e.placeholder,autocomplete:"off",type:"text",readonly:""},domProps:{value:e.input},on:{click:function(t){return e.doShow(t)}}}),e._v(" "),l("MAIconInline",{staticClass:"slds-icon_container slds-icon-utility-down slds-input__icon slds-input__icon_right",attrs:{svg:s(411),iconClass:["slds-icon","slds-icon_x-small","slds-icon-text-default"]}})],1),e._v(" "),e.showPills?l("div",{attrs:{role:"listbox","aria-orientation":"horizontal"}},[l("ul",{staticClass:"slds-listbox slds-listbox_horizontal slds-p-top_xxx-small",staticStyle:{overflow:"hidden"},attrs:{role:"group"}},e._l(e.selectedOptions,(function(t,i){return l("li",{key:i,staticClass:"slds-listbox__item"},[l("span",{staticClass:"slds-pill",attrs:{role:"option"}},[l("span",{staticClass:"slds-pill__label"},[e._v(e._s(e.getValue(t)))]),e._v(" "),l("span",{staticClass:"slds-icon_container slds-pill__remove",on:{click:function(s){return e.removePill(t)}}},[l("MAIconInline",{attrs:{svg:s(8137),iconClass:["slds-icon","slds-icon_x-small","slds-icon-text-default"],assistiveText:"Press delete or backspace to remove"}})],1)])])})),0)]):e._e(),e._v(" "),e.showOptions?l("div",{directives:[{name:"detach-element",rawName:"v-detach-element",value:{disabled:!e.doDetach,anchorRef:e.$refs.select,viewPortOverflow:!0,onRender:e.onRender,resizeToAnchor:!0,scrollHandler:e.reset},expression:"{ disabled: !doDetach, anchorRef: $refs['select'], viewPortOverflow: true, onRender, resizeToAnchor: true, scrollHandler: reset }"},{name:"click-outside",rawName:"v-click-outside:[clickOutsideOptions]",arg:e.clickOutsideOptions}],ref:"dropdown",staticClass:"ma-select-dropdown",attrs:{role:"listbox"}},[!e.useCombobox&&e.showOptionSearch?l("div",{staticClass:"search"},[l("div",{staticClass:"slds-form-element__control picklist-search-wrap slds-input-has-icon slds-input-has-icon_left-right"},[l("MAIconInline",{attrs:{svg:s(294),iconClass:["slds-icon","slds-input__icon","slds-input__icon_left","slds-icon-text-default"]}}),e._v(" "),l("input",{directives:[{name:"model",rawName:"v-model",value:e.searchValue,expression:"searchValue"}],ref:"search",staticClass:"slds-input picklist-search-input",attrs:{type:"text"},domProps:{value:e.searchValue},on:{input:[function(t){t.target.composing||(e.searchValue=t.target.value)},e.doSearch],keyup:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),e.enter.apply(null,arguments))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.reset.apply(null,arguments)}],keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"down",40,t.key,["Down","ArrowDown"])?null:(t.preventDefault(),e.down.apply(null,arguments))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"up",38,t.key,["Up","ArrowUp"])?null:(t.preventDefault(),e.up.apply(null,arguments))}]}}),e._v(" "),l("button",{staticClass:"slds-input__icon slds-input__icon_right slds-button slds-button_icon",on:{click:e.clearSearch}},[l("MAIconInline",{attrs:{svg:s(785),iconClass:["slds-button__icon","slds-icon-text-light"],assistiveText:e.clearLabel}})],1)],1)]):e._e(),e._v(" "),l("ul",{ref:"resultsWrapper",staticClass:"slds-listbox slds-listbox_vertical slds-dropdown slds-dropdown_fluid",attrs:{role:"presentation"}},[e.results.length?e._e():l("li",{staticClass:"slds-listbox__item",attrs:{disabled:"disabled",role:"presentation"}},[l("div",{staticClass:"slds-media slds-listbox__option slds-listbox__option_plain slds-media_small slds-media_center",attrs:{role:"option"}},[l("span",{staticClass:"slds-media__body"},[l("span",{staticClass:"slds-truncate"},[e._v(e._s(e.noSearchResultsLabel))])])])]),e._v(" "),e.hasNoneOption&&e.results.length?l("li",{staticClass:"slds-listbox__item",attrs:{role:"presentation"},on:{mouseover:function(t){e.optionIndex=-1},mousedown:function(t){return t.preventDefault(),e.remove.apply(null,arguments)}}},[l("div",{staticClass:"slds-media slds-listbox__option slds-listbox__option_plain slds-media_small slds-media_center",attrs:{role:"option"}},[l("span",{staticClass:"slds-media__figure"},[l("MAIconInline",{attrs:{svg:s(1792),iconClass:["slds-icon","slds-icon_x-small","slds-listbox__icon-selected"]}})],1),e._v(" "),l("span",{staticClass:"slds-media__body"},[l("span",{staticClass:"slds-truncate"},[e._v(e._s(e.noneLabel))])])])]):e._e(),e._v(" "),e._l(e.results,(function(t,i){return l("li",{key:i,ref:"li"+i,refInFor:!0,class:{"slds-listbox__item":!t.isHeader,"slds-text-title_caps slds-dropdown__header slds-truncate":t.isHeader},attrs:{role:"presentation"},on:{mouseover:function(t){e.optionIndex=i},mousedown:function(s){return s.preventDefault(),e.select(t,s)}}},[e._t("result",(function(){return[t.isHeader?l("span",[e._v("\n                                    "+e._s(e.decodeHtml(t.header))+"\n                                ")]):l("div",{staticClass:"slds-media slds-listbox__option slds-listbox__option_plain slds-media_small slds-media_center",class:{"slds-has-focus":i===e.optionIndex,"slds-is-selected":!0===e.validateIsActive(t)},attrs:{role:"option"}},[l("span",{staticClass:"slds-media__figure"},[l("MAIconInline",{attrs:{svg:s(1792),iconClass:["slds-icon","slds-icon_x-small","slds-listbox__icon-selected"]}})],1),e._v(" "),l("span",{staticClass:"slds-media__body"},[l("span",{staticClass:"slds-truncate",attrs:{title:e.decodeHtml(e.getValue(t))}},[e._v("\n                                            "+e._s(e.decodeHtml(e.getValue(t)))+"\n                                        ")])])])]}),{result:t,index:i})],2)}))],2)]):e._e()])])]),e._v(" "),e.isInvalid?l("div",{staticClass:"slds-form-element__help"},[e._t("errors",(function(){return[e._v("This field is required.")]}))],2):e._e()])}),[],!1,null,"3b9a5aba",null).exports}}]);