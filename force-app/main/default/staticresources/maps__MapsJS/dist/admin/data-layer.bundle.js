(globalThis.webpackChunkmaps_desktop=globalThis.webpackChunkmaps_desktop||[]).push([[4490],{8969:(e,t,s)=>{"use strict";s.d(t,{Z:()=>o});var a=s(3856);const o={render:e=>e("span"),props:{svg:{required:!0,validator(e){const t="string"==typeof e,s="object"==typeof e&&!0===e.__esModule;return t||s}},inheritFillFromParent:{type:Boolean,default:!0},assistiveText:{type:String},iconClass:{type:[Array,String]}},mounted(){const e="object"==typeof this.svg&&!0===this.svg.__esModule?this.svg.default:this.svg,t=document.createRange().createContextualFragment(e),s=Array.from(t.childNodes).find((e=>"svg"===e.nodeName));s?a.Z.call(this,s):console.error("Could not build SVG.")}}},8137:e=>{e.exports='<svg xmlns=http://www.w3.org/2000/svg x=0px y=0px width=52px height=52px viewBox="0 0 52 52" enable-background="new 0 0 52 52" xml:space=preserve> <path fill=#FFFFFF d="M31,25.4L44,12.3c0.6-0.6,0.6-1.5,0-2.1L42,8.1c-0.6-0.6-1.5-0.6-2.1,0L26.8,21.2c-0.4,0.4-1,0.4-1.4,0\r\n\tL12.3,8c-0.6-0.6-1.5-0.6-2.1,0l-2.1,2.1c-0.6,0.6-0.6,1.5,0,2.1l13.1,13.1c0.4,0.4,0.4,1,0,1.4L8,39.9c-0.6,0.6-0.6,1.5,0,2.1\r\n\tl2.1,2.1c0.6,0.6,1.5,0.6,2.1,0L25.3,31c0.4-0.4,1-0.4,1.4,0l13.1,13.1c0.6,0.6,1.5,0.6,2.1,0l2.1-2.1c0.6-0.6,0.6-1.5,0-2.1\r\n\tL31,26.8C30.6,26.4,30.6,25.8,31,25.4z"/> </svg> '},6413:e=>{e.exports='<svg xmlns=http://www.w3.org/2000/svg x=0px y=0px width=52px height=52px viewBox="0 0 52 52" enable-background="new 0 0 52 52" xml:space=preserve> <path fill=#FFFFFF d="M26,2C12.8,2,2,12.8,2,26s10.8,24,24,24s24-10.8,24-24S39.2,2,26,2z M8,26c0-9.9,8.1-18,18-18\r\n\tc3.9,0,7.5,1.2,10.4,3.3L11.3,36.4C9.2,33.5,8,29.9,8,26z M26,44c-3.9,0-7.5-1.2-10.4-3.3c5.1-5.1,19.3-19.3,25.1-25.1\r\n\tC42.8,18.5,44,22.1,44,26C44,35.9,35.9,44,26,44z"/> </svg> '},8186:e=>{e.exports='<svg xmlns=http://www.w3.org/2000/svg x=0px y=0px width=52px height=52px viewBox="0 0 52 52" enable-background="new 0 0 52 52" xml:space=preserve> <path fill=#FFFFFF d="M26,2C12.7,2,2,12.7,2,26s10.7,24,24,24s24-10.7,24-24S39.3,2,26,2z M26,14.1c1.7,0,3,1.3,3,3s-1.3,3-3,3\r\n\ts-3-1.3-3-3S24.3,14.1,26,14.1z M31,35.1c0,0.5-0.4,0.9-1,0.9h-3c-0.4,0-3,0-3,0h-2c-0.5,0-1-0.3-1-0.9v-2c0-0.5,0.4-1.1,1-1.1l0,0\r\n\tc0.5,0,1-0.3,1-0.9v-4c0-0.5-0.4-1.1-1-1.1l0,0c-0.5,0-1-0.3-1-0.9v-2c0-0.5,0.4-1.1,1-1.1h6c0.5,0,1,0.5,1,1.1v8\r\n\tc0,0.5,0.4,0.9,1,0.9l0,0c0.5,0,1,0.5,1,1.1V35.1z"/> </svg> '},9718:e=>{e.exports='<svg xmlns=http://www.w3.org/2000/svg x=0px y=0px width=52px height=52px viewBox="0 0 52 52" enable-background="new 0 0 52 52" xml:space=preserve> <path fill=#FFFFFF d="M26,2C12.7,2,2,12.7,2,26s10.7,24,24,24s24-10.7,24-24S39.3,2,26,2z M39.4,20L24.1,35.5\r\n\tc-0.6,0.6-1.6,0.6-2.2,0L13.5,27c-0.6-0.6-0.6-1.6,0-2.2l2.2-2.2c0.6-0.6,1.6-0.6,2.2,0l4.4,4.5c0.4,0.4,1.1,0.4,1.5,0L35,15.5\r\n\tc0.6-0.6,1.6-0.6,2.2,0l2.2,2.2C40.1,18.3,40.1,19.3,39.4,20z"/> </svg> '},5953:e=>{e.exports='<svg xmlns=http://www.w3.org/2000/svg width=52 height=52 viewBox="0 0 52 52"><path fill=#fff d="m51.4 42.5l-22.9-37c-1.2-2-3.8-2-5 0l-22.9 37c-1.4 2.3 0 5.5 2.5 5.5h45.8c2.5 0 4-3.2 2.5-5.5z m-25.4-2.5c-1.7 0-3-1.3-3-3s1.3-3 3-3 3 1.3 3 3-1.3 3-3 3z m3-9c0 0.6-0.4 1-1 1h-4c-0.6 0-1-0.4-1-1v-13c0-0.6 0.4-1 1-1h4c0.6 0 1 0.4 1 1v13z"></path></svg>'},4282:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>p});var a=s(675),o=s(8607),l=s(3589),i=s(5908),n=s.n(i),d=s(2423);const c={state:()=>({callouts:0,isLoading:!1,dataSources:[],dataSource:{label:"",fields:[],id:""},baseObject:{apiName:"",label:""},availableSFDCObject:[],sfdcMetaData:{ready:!1,fieldSets:[],fields:{},objectAPIName:"",recordTypes:[]},savedSFDCRecord:{maps__Type__c:"",Id:"",maps__Settings__c:"{}"},fieldSetData:[],fieldMapData:{}}),mutations:{loadingToggle(e,t){"boolean"==typeof t?t?(e.callouts+=1,e.isLoading=!0):(e.callouts-=1,e.callouts<=0&&(e.isLoading=!1,e.callouts=0)):(e.callouts-=1,e.isLoading=!1)},resetDataLayerSetup(e){e.dataSource.label="",e.dataSource.fields=[],e.dataSource.id="",e.baseObject.label="",e.baseObject.apiName="",e.sfdcMetaData.ready=!1,e.sfdcMetaData.fieldSets=[],e.sfdcMetaData.fields={},e.sfdcMetaData.objectAPIName="",e.sfdcMetaData.recordTypes=[],e.savedSFDCRecord.maps__Type__c="",e.savedSFDCRecord.Id="",e.savedSFDCRecord.maps__Settings__c="{}",e.fieldSetData=[]},updateDataSource(e,t){e.dataSource.label=t.label,e.dataSource.fields=t.fields,e.dataSource.id=t.id},updateDataSources(e,t){e.dataSources=t},updateDataSourceFields(e,t){e.dataSource.fields=t},updateAvailableObjects(e,t){e.availableSFDCObject=t},updateBaseObject(e,t){e.baseObject.label=t.label,e.baseObject.apiName=t.name,e.sfdcMetaData.ready=!1,e.sfdcMetaData.fieldSets=[],e.sfdcMetaData.fields={},e.sfdcMetaData.objectAPIName=t.name,e.sfdcMetaData.recordTypes=[],e.fieldSetData=[]},updateSFDCMetaData(e,t){const{fields:s={},fieldSets:a=[],recordTypes:o=[],objectAPIName:l=""}=t;e.sfdcMetaData.fields=s,e.sfdcMetaData.fieldSets=a,e.sfdcMetaData.recordTypes=o,e.sfdcMetaData.objectAPIName=l,e.sfdcMetaData.ready=!0},setSavedC2CData(e,t){e.savedSFDCRecord=t},updateFieldSetData(e,t){e.fieldSetData=t},updateFieldMapData(e,t){e.fieldMapData=t}},actions:{getDataLayerSourceData:(e,{source:t=null,fields:s=!1})=>new Promise(((e,a)=>{const o={fields:s,source:t||void 0,orgId:window.MASystem.MergeFields.OrganizationId};(new d.Z).setAction("maps.RemoteFunctions.MapAnythingIORequest").setErrorHandler((e=>{console.warn(e),a(new Error("Unable to get latest data for this data layer."))})).invoke([{method:"get",action:"sources",subType:"data",version:"1"},o],(t=>{const{success:s=!1,data:o={}}=t;s?e(o):a(new Error("Unable to get latest data for this data layer."))}),{buffer:!1,escape:!1})})),reset({commit:e}){e("reset")}}},r={components:{DataLayerSelection:()=>({...(0,l.Z)(),component:Promise.all([s.e(7391),s.e(2083),s.e(4485)]).then(s.bind(s,445))}),BaseObjectSelection:()=>({...(0,l.Z)(),component:Promise.all([s.e(7391),s.e(2083),s.e(4485)]).then(s.bind(s,9136))}),FieldSetSelection:()=>({...(0,l.Z)(),component:Promise.all([s.e(7391),s.e(2083),s.e(4485)]).then(s.bind(s,8635))}),FieldMapSelection:()=>({...(0,l.Z)(),component:Promise.all([s.e(7391),s.e(2083),s.e(4485)]).then(s.bind(s,6192))}),SaveDataLayer:()=>({...(0,l.Z)(),component:s.e(9517).then(s.bind(s,5255))}),MASpinner:a.Z,MAToast:o.Z},data:()=>({showSelectMessage:!1,toast:{type:"error",message:"",active:!1},fieldSetValid:!1}),computed:{...(0,i.mapState)(["dataSource","sfdcMetaData","savedSFDCRecord","isLoading","callouts"]),showSFDCObjectSelection(){return this.dataSource.id},showFieldSetInformation(){return this.sfdcMetaData.ready&&this.savedSFDCRecord.ready},showFieldMappingSection(){const{fields:e=[]}=this.dataSource;return this.fieldSetValid&&this.showFieldSetInformation&&e.length>0}},beforeCreate(){this.$store=new(n().Store)(c)},methods:{closeToast(){this.toast.active=!1,this.toast.message=""},showToastMessage({type:e="error",message:t=""}){this.toast.active=!0,this.toast.message=t,this.toast.type=e}}},p=(0,s(1900).Z)(r,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"slds-p-around_medium",staticStyle:{position:"relative"},attrs:{id:"dataLayerWrapper"}},[s("MASpinner",{directives:[{name:"show",rawName:"v-show",value:e.isLoading,expression:"isLoading"}]}),e._v(" "),e.toast.active?s("MAToast",{attrs:{msg:e.toast.message,state:e.toast.type},on:{close:e.closeToast}}):e._e(),e._v(" "),s("DataLayerSelection",{attrs:{dataSource:e.dataSource},on:{"update:dataSource":function(t){e.dataSource=t},"update:data-source":function(t){e.dataSource=t},udpateToast:e.showToastMessage}}),e._v(" "),e.showSFDCObjectSelection?s("BaseObjectSelection",{on:{udpateToast:e.showToastMessage}}):e._e(),e._v(" "),e.showFieldSetInformation?s("FieldSetSelection",{attrs:{fieldSetValid:e.fieldSetValid},on:{"update:fieldSetValid":function(t){e.fieldSetValid=t},"update:field-set-valid":function(t){e.fieldSetValid=t},udpateToast:e.showToastMessage}}):e._e(),e._v(" "),e.showFieldMappingSection?s("FieldMapSelection",{on:{udpateToast:e.showToastMessage}}):e._e(),e._v(" "),e.showFieldMappingSection?s("SaveDataLayer",{on:{udpateToast:e.showToastMessage}}):e._e()],1)}),[],!1,null,null,null).exports},8607:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var a=s(8969);const o=new Map;o.set("info",{divClass:"slds-theme_info"}),o.set("success",{divClass:"slds-theme_success"}),o.set("warning",{divClass:"slds-theme_warning"}),o.set("error",{divClass:"slds-theme_error"});const l={name:"MAToast",components:{MAIconInline:a.Z},props:{msg:{type:String,required:!1,default:""},state:{type:String,default:"error",validate:e=>e&&(void 0).stateMap.has(e)},closeLabel:{type:String,default:"Close"}},data:()=>({stateMap:o}),methods:{close(){this.$emit("close")}}},i=(0,s(1900).Z)(l,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"slds-grid slds-grid_vertical-align-center ma-wrapper"},[a("div",{staticClass:"slds-spinner_container"}),e._v(" "),a("div",{staticClass:"slds-notify_container slds-is-relative"},[a("div",{staticClass:"slds-notify slds-notify_toast ma-toast",class:e.stateMap.get(e.state).divClass,attrs:{role:"alert"}},[a("span",{staticClass:"slds-assistive-text"},[e._v(e._s(e.state))]),e._v(" "),a("MAIconInline",{directives:[{name:"show",rawName:"v-show",value:"error"===e.state,expression:"state === 'error'"}],staticClass:"slds-icon_container slds-m-right_small slds-no-flex slds-align-top",attrs:{svg:s(6413),iconClass:["slds-button__icon","slds-button__icon_large"]}}),e._v(" "),a("MAIconInline",{directives:[{name:"show",rawName:"v-show",value:"success"===e.state,expression:"state === 'success'"}],staticClass:"slds-icon_container slds-m-right_small slds-no-flex slds-align-top",attrs:{svg:s(9718),iconClass:["slds-button__icon","slds-button__icon_large"]}}),e._v(" "),a("MAIconInline",{directives:[{name:"show",rawName:"v-show",value:"info"===e.state,expression:"state === 'info'"}],staticClass:"slds-icon_container slds-m-right_small slds-no-flex slds-align-top",attrs:{svg:s(8186),iconClass:["slds-button__icon","slds-button__icon_large"]}}),e._v(" "),a("MAIconInline",{directives:[{name:"show",rawName:"v-show",value:"warning"===e.state,expression:"state === 'warning'"}],staticClass:"slds-icon_container slds-m-right_small slds-no-flex slds-align-top",attrs:{svg:s(5953),iconClass:["slds-button__icon","slds-button__icon_large"]}}),e._v(" "),a("div",{staticClass:"slds-notify__content"},[e._t("default",(function(){return[a("div",[e._v(e._s(e.msg))])]}))],2),e._v(" "),a("button",{staticClass:"slds-button slds-button_icon slds-notify__close slds-button_icon-inverse",attrs:{title:e.closeLabel},on:{click:e.close}},[a("MAIconInline",{staticClass:"slds-icon_container",attrs:{svg:s(8137),iconClass:["slds-button__icon","slds-button__icon_large"]}}),e._v(" "),a("span",{staticClass:"slds-assistive-text"},[e._v(e._s(e.closeLabel))])],1)],1)])])}),[],!1,null,"2d0cadea",null).exports}}]);