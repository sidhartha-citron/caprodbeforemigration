(globalThis.webpackChunkmaps_desktop=globalThis.webpackChunkmaps_desktop||[]).push([[5977],{8969:(t,e,s)=>{"use strict";s.d(e,{Z:()=>i});var o=s(3856);const i={render:t=>t("span"),props:{svg:{required:!0,validator(t){const e="string"==typeof t,s="object"==typeof t&&!0===t.__esModule;return e||s}},inheritFillFromParent:{type:Boolean,default:!0},assistiveText:{type:String},iconClass:{type:[Array,String]}},mounted(){const t="object"==typeof this.svg&&!0===this.svg.__esModule?this.svg.default:this.svg,e=document.createRange().createContextualFragment(t),s=Array.from(e.childNodes).find((t=>"svg"===t.nodeName));s?o.Z.call(this,s):console.error("Could not build SVG.")}}},3826:(t,e,s)=>{"use strict";s.d(e,{Z:()=>o});const o={methods:{decodeHtml(t){const e=document.createElement("textarea");return e.innerHTML=t,e.value}}}},1792:t=>{t.exports='<svg xmlns=http://www.w3.org/2000/svg x=0px y=0px width=52px height=52px viewBox="0 0 52 52" enable-background="new 0 0 52 52" xml:space=preserve> <g> <path fill=#FFFFFF d="M19.1,42.5L2.6,25.9c-0.6-0.6-0.6-1.6,0-2.2l2.2-2.2c0.6-0.6,1.6-0.6,2.2,0L19.4,34c0.4,0.4,1.1,0.4,1.5,0\r\n\t\tL45.2,9.5c0.6-0.6,1.6-0.6,2.2,0l2.2,2.2c0.6,0.6,0.6,1.6,0,2.2L21.3,42.5C20.7,43.2,19.7,43.2,19.1,42.5z"/> </g> </svg> '},8186:t=>{t.exports='<svg xmlns=http://www.w3.org/2000/svg x=0px y=0px width=52px height=52px viewBox="0 0 52 52" enable-background="new 0 0 52 52" xml:space=preserve> <path fill=#FFFFFF d="M26,2C12.7,2,2,12.7,2,26s10.7,24,24,24s24-10.7,24-24S39.3,2,26,2z M26,14.1c1.7,0,3,1.3,3,3s-1.3,3-3,3\r\n\ts-3-1.3-3-3S24.3,14.1,26,14.1z M31,35.1c0,0.5-0.4,0.9-1,0.9h-3c-0.4,0-3,0-3,0h-2c-0.5,0-1-0.3-1-0.9v-2c0-0.5,0.4-1.1,1-1.1l0,0\r\n\tc0.5,0,1-0.3,1-0.9v-4c0-0.5-0.4-1.1-1-1.1l0,0c-0.5,0-1-0.3-1-0.9v-2c0-0.5,0.4-1.1,1-1.1h6c0.5,0,1,0.5,1,1.1v8\r\n\tc0,0.5,0.4,0.9,1,0.9l0,0c0.5,0,1,0.5,1,1.1V35.1z"/> </svg> '},7870:(t,e,s)=>{"use strict";s.r(e),s.d(e,{default:()=>c});var o=s(1853),i=s(675),n=s(4604),l=s(9756),a=s(8050);const r={components:{MACheckbox:o.Z,MASpinner:i.Z,MAProgressRing:n.Z,MATooltip:l.Z},data:()=>({isLoading:!0,settings:[{sobjectType:"maps__MapsSetting__c",Name:"Asynchronous Data Set Creation",maps__Value__c:!0},{sobjectType:"maps__MapsSetting__c",Name:"Skip Recycle Bin",maps__Value__c:!1}],asyncDataSetCreation:!0,currentCleanupJob:null}),async mounted(){this.cleanupDataClick();let t=await(0,a.wX)("maps.TPRemoteActions.GetSettings",[["Asynchronous Data Set Creation","Skip Recycle Bin"]]);this.settings.forEach((e=>{const s=t.data.find((t=>t.Name===e.Name));s&&(e.Id=s.Id,e.maps__Value__c="true"==s.maps__Value__c)})),this.isLoading=!1},methods:{async handleOptionClick(t){const e=JSON.parse(JSON.stringify(this.settings.find((e=>e.Name===t))));e.maps__Value__c=`${e.maps__Value__c}`;const s=e.Id?"Update":"Insert",o=await(0,a.wX)(`maps.TPRemoteActions.${s}ObjectBatch`,[[e],!0]);this.settings.find((e=>e.Name===t)).Id=o.data[0].Id,MAToastMessages.showSuccess({position:"toast-top-right",message:`${t} Updated`,timeOut:8e3})},async cleanupDataClick(t){this.currentCleanupJob=this.currentCleanupJob||"Loading",this.currentCleanupJob=(await(0,a.wX)("maps.TPRemoteActions.GetCleanupBatchJob",[!!t])).data,this.currentCleanupJob&&setTimeout((()=>{this.cleanupDataClick()}),3e3)}}},c=(0,s(1900).Z)(r,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[t.isLoading?s("MASpinner"):t._e(),t._v(" "),t._m(0),t._v(" "),s("MACheckbox",{attrs:{noSlide:"",title:"Asynchronous Data Set Creation",toggleBuffer:500},on:{input:function(e){return t.handleOptionClick("Asynchronous Data Set Creation")}},model:{value:t.settings.find((function(t){return"Asynchronous Data Set Creation"===t.Name})).maps__Value__c,callback:function(e){t.$set(t.settings.find((function(t){return"Asynchronous Data Set Creation"===t.Name})),"maps__Value__c",e)},expression:"settings.find(s => s.Name === 'Asynchronous Data Set Creation').maps__Value__c"}}),t._v(" "),t._m(1),t._v(" "),t.currentCleanupJob?"Loading"===t.currentCleanupJob?s("div",{staticClass:"slds-grid slds-grid_vertical-align-center"},[s("MAProgressRing",{staticStyle:{"margin-right":"5px"},attrs:{percent:0}}),t._v(" "),s("span",[t._v("Retreiving Job Details...")])],1):s("div",{staticClass:"slds-grid slds-grid_vertical-align-center"},[s("MAProgressRing",{staticStyle:{"margin-right":"5px"},attrs:{percent:100-100*t.currentCleanupJob.JobItemsProcessed/t.currentCleanupJob.TotalJobItems||100}}),t._v(" "),s("span",[t._v(t._s("Cleanup job is "+t.currentCleanupJob.Status+".  "+t.currentCleanupJob.JobItemsProcessed+" of "+t.currentCleanupJob.TotalJobItems+" batches processed."))])],1):s("div",[s("button",{staticClass:"slds-button slds-button_text-destructive",on:{click:function(e){return t.cleanupDataClick(!0)}}},[t._v("Permanently Delete...")]),t._v(" "),s("div",{staticClass:"slds-grid"},[s("MACheckbox",{attrs:{noSlide:"",title:"Skip Recycle Bin",toggleBuffer:500},on:{input:function(e){return t.handleOptionClick("Skip Recycle Bin")}},model:{value:t.settings.find((function(t){return"Skip Recycle Bin"===t.Name})).maps__Value__c,callback:function(e){t.$set(t.settings.find((function(t){return"Skip Recycle Bin"===t.Name})),"maps__Value__c",e)},expression:"settings.find(s => s.Name === 'Skip Recycle Bin').maps__Value__c"}}),t._v(" "),s("MATooltip",{attrs:{inForm:!0,showIcon:!0}},[s("div",{attrs:{slot:"content"},slot:"content"},[t._v("Skips the recycle bin when deleting data")])])],1)])],1)}),[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"slds-section__title slds-theme--shade slds-m-bottom_x-small"},[s("span",{staticClass:"section-header-title slds-p-horizontal--small slds-truncate"},[t._v("Async Options")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"slds-section__title slds-theme--shade slds-m-bottom_x-small"},[s("span",{staticClass:"section-header-title slds-p-horizontal--small slds-truncate"},[t._v("Clean up deleted Data Sets and Alignments")])])}],!1,null,"b447a14a",null).exports},1853:(t,e,s)=>{"use strict";s.d(e,{Z:()=>l});var o=s(3826),i=s(8050);const n={name:"MACheckbox",components:{MATooltip:s(9756).Z},mixins:[o.Z],props:{value:{type:Boolean,required:!0},title:{type:String,required:!1,default:""},isDisabled:{type:Boolean,default:!1},showStateLabels:{type:Boolean,default:!1},stateLabelOn:{type:String,default:"Enabled"},stateLabelOff:{type:String,default:"Disabled"},toggleBuffer:{type:Number,default:0},noSlide:{type:Boolean,default:!1},isFormElement:{type:Boolean,default:!1},tooltipHelpText:{type:String,default:""}},data:()=>({lastToggleHandlerTimestamp:Date.now(),checkboxId:(0,i.x$)()}),computed:{checkboxClass(){return this.noSlide?"slds-form-element__control":"slds-checkbox_toggle slds-grid"}},watch:{value(){this.$refs.checkbox.checked=this.value}},mounted(){this.$refs.checkbox.checked=this.value},methods:{toggle(t){(t.clientX||t.clientY)&&(t.currentTarget.checked&&this.toggleBuffer&&(this.$refs.checkbox.disabled=!0,setTimeout((()=>{this.$refs.checkbox.disabled=!1}),this.toggleBuffer)),this.$emit("input",!this.value))}}},l=(0,s(1900).Z)(n,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"slds-form-element"},[t.noSlide?t.isFormElement?[s("label",{staticClass:"slds-form-element__label",class:{"slds-p-right_none":t.tooltipHelpText},attrs:{for:t.checkboxId}},[t._v(t._s(t.decodeHtml(t.title)))]),t._v(" "),t.tooltipHelpText?s("MATooltip",{attrs:{showIcon:"",inForm:""}},[s("span",{attrs:{slot:"content"},slot:"content"},[t._v("\n                "+t._s(t.tooltipHelpText)+"\n            ")])]):t._e(),t._v(" "),s("div",{staticClass:"slds-form-element__control"},[s("span",{staticClass:"slds-checkbox slds-checkbox_standalone"},[s("input",{ref:"checkbox",attrs:{id:t.checkboxId,disabled:t.isDisabled,type:"checkbox"},domProps:{checked:t.value||!1},on:{click:t.toggle}}),t._v(" "),s("span",{staticClass:"slds-checkbox_faux"})])])]:s("div",{staticClass:"slds-form-element__control"},[s("div",{staticClass:"slds-checkbox"},[s("input",{ref:"checkbox",attrs:{id:t.checkboxId,disabled:t.isDisabled,type:"checkbox"},domProps:{checked:t.value||!1},on:{click:t.toggle}}),t._v(" "),s("label",{staticClass:"slds-checkbox__label",attrs:{for:t.checkboxId}},[s("span",{staticClass:"slds-checkbox_faux"}),t._v(" "),s("span",{staticClass:"slds-form-element__label",class:{"slds-p-right_none":t.tooltipHelpText}},[t._v("\n                    "+t._s(t.decodeHtml(t.title))+"\n                ")])]),t._v(" "),t.tooltipHelpText?s("MATooltip",{attrs:{showIcon:"",inForm:""}},[s("span",{attrs:{slot:"content"},slot:"content"},[t._v("\n                    "+t._s(t.tooltipHelpText)+"\n                ")])]):t._e()],1)]):s("label",{class:t.checkboxClass},[s("input",{ref:"checkbox",attrs:{disabled:t.isDisabled,type:"checkbox"},domProps:{checked:t.value||!1},on:{click:t.toggle}}),t._v(" "),s("span",{staticClass:"slds-checkbox_faux_container"},[s("span",{staticClass:"slds-checkbox_faux"}),t._v(" "),t.showStateLabels?s("span",{staticClass:"slds-checkbox_on"},[t._v(t._s(t.decodeHtml(t.stateLabelOn)))]):t._e(),t._v(" "),t.showStateLabels?s("span",{staticClass:"slds-checkbox_off"},[t._v(t._s(t.decodeHtml(t.stateLabelOff)))]):t._e()]),t._v(" "),s("span",{staticClass:"slds-form-element__label slds-m-bottom_none slds-p-left_x-small slds-p-top_xx-small"},[s("span",[t._v(t._s(t.decodeHtml(t.title)))])]),t._v(" "),t._t("tooltip")],2)],2)}),[],!1,null,"7880ee54",null).exports},4604:(t,e,s)=>{"use strict";s.d(e,{Z:()=>i});const o={components:{MAIconInline:s(8969).Z},props:{percent:{type:Number,default:0,validate:()=>(void 0).percent<=100},large:{type:Boolean,default:!1},theme:{type:String,default:""},showPercent:{type:Boolean,default:!1},showStep:{type:Boolean,default:!1},step:{type:Number,default:0},isComplete:{type:Boolean,default:!1}},data:()=>({percentStored:0}),computed:{progress(){const t=Math.cos(2*Math.PI*(this.percentStored/100)),e=Math.sin(2*Math.PI*(this.percentStored/100));return`M 1 0 A 1 1 0 ${this.percentStored<50?0:1} 1 ${t} ${e} L 0 0`},themeClass(){return{"slds-progress-ring_large":this.large,"slds-progress-ring_complete":this.isComplete,"slds-progress-ring_warning":"warning"===this.theme,"slds-progress-ring_expired":"expired"===this.theme,"slds-progress-ring_active-step":"active"===this.theme}}},watch:{percent:{handler(t){t>100?t=100:t<0&&(t=0),this.percentStored=t},immediate:!0}}},i=(0,s(1900).Z)(o,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"slds-progress-ring",class:t.themeClass},[o("div",{staticClass:"slds-progress-ring__progress",attrs:{"aria-valuenow":t.percentStored,role:"progressbar","aria-valuemin":"0","aria-valuemax":"100"}},[o("svg",{attrs:{viewBox:"-1 -1 2 2"}},[o("path",{staticClass:"slds-progress-ring__path",attrs:{id:"slds-progress-ring-path-2",d:t.progress}})])]),t._v(" "),o("div",{staticClass:"slds-progress-ring__content"},[t._t("default",(function(){return[t.showPercent?[t._v("\n                "+t._s(Math.floor(t.percentStored))+"\n            ")]:t.showStep?[t.isComplete?o("MAIconInline",{staticClass:"slds-icon_container slds-icon-utility-check",attrs:{svg:s(1792),iconClass:"slds-icon",assistiveText:"Complete"}}):o("span",[t._v(t._s(t.step))])]:t._e()]}))],2)])}),[],!1,null,"9eedfc06",null).exports},9756:(t,e,s)=>{"use strict";s.d(e,{Z:()=>l});var o=s(8969);const i={top:"slds-nubbin_top",topLeft:"slds-nubbin_top-left",topRight:"slds-nubbin_top-right",bottom:"slds-nubbin_bottom",bottomLeft:"slds-nubbin_bottom-left",bottomRight:"slds-nubbin_bottom-right",left:"slds-nubbin_left",leftTop:"slds-nubbin_left-top",leftBottom:"slds-nubbin_left-bottom",right:"slds-nubbin_right",rightTop:"slds-nubbin_right-top",rightBottom:"slds-nubbin_right-bottom"},n={name:"MATooltip",components:{MAIconInline:o.Z},description:"Renders a SLDS-themed tooltip.",props:{inForm:{type:Boolean,default:!1},showIcon:{type:Boolean,default:!1},bindToParent:{type:Boolean,default:!1},bindTo:{type:[HTMLElement,Function],default:()=>{}},source:{type:[HTMLElement,Function],default:()=>{}},forceShow:{type:Boolean,default:!1},nubbinREM:{type:Number,default:1.8},renderDelay:{type:Number,default:0},helpLabel:{type:String,default:"Help"},noWrap:{type:Boolean,default:!1},nubbinPosition:{type:String,default:"bottom"}},data(){return{showEl:!1,container:null,el:null,bindToStored:this.bindTo,sourceStored:null,nubbin:i.bottom}},computed:{doShow(){return this.forceShow||this.showEl}},watch:{showEl(t){if(t){const t=this.bindToStored?this.bindToStored:this.$refs.icon,e=this.$refs.popover;this.renderDelay?setTimeout(this.detach.bind(this,t,e),this.renderDelay):this.detach(t,e)}else this.destroy()},source(t){this.sourceStored=t},sourceStored(t){if(this.bindToStored&&!t)throw new Error("If using a custom binding element for MATooltip, a source element must be provided.");t&&!this.bindToStored&&(this.bindToStored=t),t&&(t.addEventListener("mouseover",this.enter),t.addEventListener("mouseout",this.leave)),this.sourceStored=t},bindTo(t){this.bindToStored=t}},mounted(){this.bindToParent&&(this.bindToStored=this.$el.parentNode),this.bindTo&&(this.bindToStored="function"==typeof this.bindTo?this.bindTo():this.bindTo),this.source?this.sourceStored="function"==typeof this.source?this.source():this.source:this.sourceStored=this.showIcon?this.$refs.icon:this.$el.parentNode},beforeDestroy(){this.destroy(),this.sourceStored&&(this.sourceStored.removeEventListener("mouseover",this.enter),this.sourceStored.removeEventListener("mouseout",this.leave))},methods:{enter(){this.showEl=!0},leave(t){const e=t.toElement||t.relatedTarget;this.sourceStored&&this.sourceStored.contains(e)||this.el===e||this.el&&this.el.contains(e)?t.stopPropagation():this.showEl=!1},overPopup(t){t.stopPropagation()},outPopup(t){const e=t.toElement||t.relatedTarget;this.sourceStored&&this.sourceStored.contains(e)||this.el===e||this.el&&this.el.contains(e)?t.stopPropagation():this.showEl=!1},detach(t,e){this.container=document.createElement("div"),this.container.className=`slds-scope ${this.$el.className}`,this.$el.getAttributeNames().forEach((t=>{t.startsWith("data-v")&&this.container.setAttribute(t,this.$el.getAttribute(t))})),this.el=e.cloneNode(!0),this.el.style.display="block",this.el.addEventListener("mouseleave",this.outPopup),this.el.addEventListener("mouseenter",this.overPopup),this.container.appendChild(this.el),document.body.appendChild(this.container),this.setPosition(t)},setPosition(t){const e=this.el.scrollHeight,s=this.el.clientWidth,o=Math.ceil(this.nubbinREM*parseFloat(getComputedStyle(this.el).fontSize)),n=parseFloat(window.getComputedStyle(this.el,":before").width),l=Math.floor(Math.sqrt(2*Math.pow(n,2))/2),a=Math.ceil(Math.sqrt(2*Math.pow(n,2))/2),r=window.pageYOffset,c=window.pageXOffset,d=document.documentElement.clientWidth,p=this.getParentRect(t),h=p.left+p.width/2-1;let u=h-s/2+c,m=p.top-e-1+r;const b=void 0!==i[this.nubbinPosition]?i[this.nubbinPosition]:this.nubbin;let _=this.nubbinPosition;b===i.bottom&&m-r<0&&(_="top"),h+o>=d?(_="right",m-r<0&&(_="rightTop")):h+s/2>d||"bottomRight"===this.nubbinPosition?(_="bottomRight",m-r<0&&(_="topRight")):h-o<=0?(_="left",m-r<0&&(_="leftTop")):h-s/2<0&&(_="bottomLeft",m-r<0&&(_="topLeft")),"top"===_?m=p.bottom+r+l:"topLeft"===_?(m=p.bottom+r+l,u=h-o+c):"topRight"===_?(m=p.bottom+r+l,u=h-s+o+c):"rightTop"===_?(m=p.top+r+p.height/2-o,u=p.left-s-a+c):"leftTop"===_?(m=p.top+r+p.height/2-o,u=p.right+l+c):"right"===_?(m=p.top+p.height/2-this.el.clientHeight/2+r,u=p.left-s-a+c):"bottomRight"===_?(m=p.top-e-1+r,u=h-s+o+c):"left"===_?(u=p.right+l+c,m=p.top+(p.height/2-1)-this.el.clientHeight/2+r):"bottomLeft"===_?(u=h-o+c,m=p.top-e-1+r):"bottom"===_&&(u=h-s/2+c,m=p.top-e-1+r),i[_]!==this.nubbin&&(this.$refs.popover.classList.remove(this.nubbin),this.$refs.popover.classList.add(i[_])),this.el.style.left=`${u}px`,this.el.style.top=`${m}px`},getParentRect(t){const e=t.getBoundingClientRect(),s=t.currentStyle||window.getComputedStyle(t);let o=parseFloat(s.marginLeft)+parseFloat(s.marginRight);o+=parseFloat(s.paddingLeft)+parseFloat(s.paddingRight),o+=parseFloat(s.borderLeftWidth)+parseFloat(s.borderRightWidth);let i=parseFloat(s.marginTop)+parseFloat(s.marginBottom);return i+=parseFloat(s.paddingTop)+parseFloat(s.paddingBottom),i+=parseFloat(s.borderTopWidth)+parseFloat(s.borderBottomWidth),{top:e.top-i,right:e.right+o,bottom:e.bottom+i,left:e.left-o,width:e.width+o,height:e.height+i}},destroy(){this.el&&(this.el.removeEventListener("mouseleave",this.outPopup),this.el.removeEventListener("mouseenter",this.overPopup),this.el.remove()),this.container&&this.container.remove(),this.el=null,this.container=null,this.nubbin=i.bottom}}},l=(0,s(1900).Z)(n,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{class:{"slds-show_inline-block":t.inForm},on:{mouseenter:t.enter,mouseleave:t.leave}},[t.showIcon?o("div",{ref:"icon",class:{"slds-form-element__icon":t.inForm}},[t._t("icon",(function(){return[o("button",{staticClass:"slds-button slds-button_icon",attrs:{"aria-describedby":"help"}},[o("MAIconInline",{staticClass:"slds-icon_container slds-icon-utility-info",attrs:{svg:s(8186),iconClass:["slds-icon","slds-icon","slds-icon_xx-small","slds-icon-text-default"],assistiveText:t.helpLabel}})],1)]}))],2):t._e(),t._v(" "),o("div",{ref:"popover",staticClass:"slds-popover slds-popover_tooltip",class:[t.nubbin],attrs:{role:"tooltip"}},[o("div",{staticClass:"slds-popover__body",class:{"ma-tooltip-nowrap":t.noWrap}},[t._t("content",(function(){return[t._v("default content")]}))],2)])])}),[],!1,null,"2938d120",null).exports}}]);