(globalThis.webpackChunkmaps_desktop=globalThis.webpackChunkmaps_desktop||[]).push([[4615],{7356:(e,t,s)=>{"use strict";s.d(t,{C:()=>o});var a=s(8050);const{MAToastMessages:l}=window;function i(e){l.showError({position:"toast-bottom-right",message:"Validation Error",subMessage:e,timeOut:6e3})}const o=async(e,t,s,o)=>{const r=function(e){if(!e.Name)return i("You must provide a name for your Settings Group."),!1;if("default"===e.Name.toLowerCase())return i(`Validation Error. Cannot name group '${e.Name}'.`),!1;const t={};t["Max Query Size"]=e.maps__MaxQuerySize__c,t["Max Query Size External"]=e.maps__MaxQuerySizeExternal__c,t["Max Export Size"]=e.maps__MaxExportSize__c,t["Mobile Query Size"]=e.maps__MobileQuerySize__c;for(const e of Object.keys(t))if(t[e]&&!Number(t[e]))return i(`${e} must be a number.`),!1;const s=Number(t["Max Query Size External"]);if(Number.isNaN(s)||s<1||s>2e3)return i("Record limit for External Objects must be between 1 and 2000"),!1;const{defaultStartLocation:a}=e.maps__DefaultValues__c,{defaultEndLocation:l}=e.maps__DefaultValues__c;return a.overridable||null!=a.value.id?l.overridable||null!=l.value.id?!e.hasOverNightWorkingHours||(i("Please check your shift start and end times."),!1):(i("Default End Location required if users are not allowed to override value."),!1):(i("Default Start Location required if users are not allowed to override value."),!1)}(e);if(!r)return!1;try{delete e.hasOverNightWorkingHours;const i=JSON.parse(JSON.stringify(e));i.maps__DefaultValues__c=JSON.stringify(i.maps__DefaultValues__c);const r=[i,Array.from(t),Array.from(s)],{success:n,settingsGroup:d,error:u}=await(0,a.wX)("maps.UserAJAXResources.saveSettingsGroupAssignment",r);return n?(l.showSuccess({message:o?`Saved Changes for ${e.Name}`:"Permission Group Created",timeOut:6e3}),d):(l.showError({message:u,timeOut:4e3}),console.error(u),!1)}catch(e){return l.showError({message:`Error. ${e}.`,timeOut:4e3}),console.error(e),!1}}},8969:(e,t,s)=>{"use strict";s.d(t,{Z:()=>l});var a=s(3856);const l={render:e=>e("span"),props:{svg:{required:!0,validator(e){const t="string"==typeof e,s="object"==typeof e&&!0===e.__esModule;return t||s}},inheritFillFromParent:{type:Boolean,default:!0},assistiveText:{type:String},iconClass:{type:[Array,String]}},mounted(){const e="object"==typeof this.svg&&!0===this.svg.__esModule?this.svg.default:this.svg,t=document.createRange().createContextualFragment(e),s=Array.from(t.childNodes).find((e=>"svg"===e.nodeName));s?a.Z.call(this,s):console.error("Could not build SVG.")}}},3826:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});const a={methods:{decodeHtml(e){const t=document.createElement("textarea");return t.innerHTML=e,t.value}}}},7964:(e,t,s)=>{e.exports=s.p+"images/3c625a8f719075e844442ec810b32c3f.svg"},2083:(e,t,s)=>{e.exports=s.p+"images/b4d28525cd0697b45cf4fbfaa819a2a0.svg"},41:(e,t,s)=>{e.exports=s.p+"images/beb4089c3583201862ab1c68f94e5a23.svg"},3469:(e,t,s)=>{e.exports=s.p+"images/0d9cf6b7a777f5765f78f2b96fd4459a.svg"},539:(e,t,s)=>{e.exports=s.p+"images/fe923447706e7b1dec4427d9d5631360.svg"},8949:(e,t,s)=>{e.exports=s.p+"images/9ed3113fa0dfa644ad82ce83bb831a03.svg"},2181:(e,t,s)=>{e.exports=s.p+"images/e7ef49a382e454e4f675205eae05b3d7.svg"},2929:(e,t,s)=>{e.exports=s.p+"images/48a4d600ba0ea51d6e017b4cee35b053.svg"},1178:(e,t,s)=>{e.exports=s.p+"images/23d799632a36a5c37f84df9eec780f41.svg"},6117:(e,t,s)=>{e.exports=s.p+"images/b5d29c406d5525dc34a1e1966a438771.svg"},6413:e=>{e.exports='<svg xmlns=http://www.w3.org/2000/svg x=0px y=0px width=52px height=52px viewBox="0 0 52 52" enable-background="new 0 0 52 52" xml:space=preserve> <path fill=#FFFFFF d="M26,2C12.8,2,2,12.8,2,26s10.8,24,24,24s24-10.8,24-24S39.2,2,26,2z M8,26c0-9.9,8.1-18,18-18\r\n\tc3.9,0,7.5,1.2,10.4,3.3L11.3,36.4C9.2,33.5,8,29.9,8,26z M26,44c-3.9,0-7.5-1.2-10.4-3.3c5.1-5.1,19.3-19.3,25.1-25.1\r\n\tC42.8,18.5,44,22.1,44,26C44,35.9,35.9,44,26,44z"/> </svg> '},7498:e=>{e.exports='<svg xmlns=http://www.w3.org/2000/svg x=0px y=0px width=52px height=52px viewBox="0 0 52 52" enable-background="new 0 0 52 52" xml:space=preserve> <g> <path fill=#FFFFFF d="M47.6,17.8L27.1,38.5c-0.6,0.6-1.6,0.6-2.2,0L4.4,17.8c-0.6-0.6-0.6-1.6,0-2.2l2.2-2.2\r\n\t\tc0.6-0.6,1.6-0.6,2.2,0l16.1,16.3c0.6,0.6,1.6,0.6,2.2,0l16.1-16.3c0.6-0.6,1.6-0.6,2.2,0l2.2,2.2C48.1,16.3,48.1,17.2,47.6,17.8z"/> </g> </svg> '},7402:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>ee});var a=s(5908),l=s.n(a),i=s(3589);class o{static getDefaultSettingsGroup(){return(()=>{const e={showRoutesTabDesktop:{value:!0},showScheduleTabDesktop:{value:!0},showRoutesTabMobile:{value:!0},showScheduleTabMobile:{value:!0},units:{value:"mi",overridable:!0},defaultMapTile:{overridable:!0},plotInVisibleArea:{value:!0,overridable:!0},plotOnLoadLayers:{value:[]},defaultProximityType:{value:"Circle",overridable:!0},defaultProximityRadius:{value:50},defaultProximityUnits:{value:"MILES"},defaultProximityHours:{value:0},defaultProximityMins:{value:0},invertProximity:{value:!1,overridable:!0},allowBadAddressExport:{value:!0},allowRoutesEmailed:{value:!0},defaultTransportationMode:{value:"driving",overridable:!0},optimizationMethod:{value:"fastest shift completion",overridable:!0},defaultStartLocation:{value:{label:null,id:null},overridable:!0},defaultEndLocation:{value:{label:null,id:null},overridable:!0},stopEventDuration:{value:"0 hr, 30 min",overridable:!0},routeType:{value:"Standard",overridable:!0},enableDuplicateStops:{value:!0,overridable:!0},schedule:{sunday:{value:{startTime:"9:00 am",endTime:"5:00 pm"},overridable:!0},monday:{value:{startTime:"9:00 am",endTime:"5:00 pm"},overridable:!0},tuesday:{value:{startTime:"9:00 am",endTime:"5:00 pm"},overridable:!0},wednesday:{value:{startTime:"9:00 am",endTime:"5:00 pm"},overridable:!0},thursday:{value:{startTime:"9:00 am",endTime:"5:00 pm"},overridable:!0},friday:{value:{startTime:"9:00 am",endTime:"5:00 pm"},overridable:!0},saturday:{value:{startTime:"9:00 am",endTime:"5:00 pm"},overridable:!0}},includeBreak:{value:!1,overridable:!0},shiftBreakHours:{value:{startTime:"11:00 am",endTime:"12:00 pm"},overridable:!0},defaultPageSize:{value:50,overridable:!0},columnsConfig:{value:{visible:[{id:"6",sortColumn:"street",isRecordProperty:!0,label:"Street"},{id:"7",sortColumn:"city",isRecordProperty:!0,label:"City"},{id:"8",sortColumn:"state",isRecordProperty:!0,label:"State"},{id:"9",sortColumn:"zip",isRecordProperty:!0,label:"Postal Code"},{id:"10",sortColumn:"country",isRecordProperty:!0,label:"Country"},{id:"11",sortColumn:"verifiedLongitude",isRecordProperty:!0,label:"Longitude"},{id:"12",sortColumn:"verifiedLatitude",isRecordProperty:!0,label:"Latitude"}],available:[{id:"1",sortColumn:null,isRecordProperty:!1,label:"Checkbox"},{id:"2",sortColumn:null,isRecordProperty:!1,label:"Marker"},{id:"3",sortColumn:null,isRecordProperty:!1,label:"Log a Call"},{id:"4",sortColumn:"driveDistanceValue",isRecordProperty:!1,label:"*Drive Distance"},{id:"5",sortColumn:"driveDurationValue",isRecordProperty:!1,label:"*Drive Time"},{id:"13",sortColumn:0,isRecordProperty:!0,label:"Tooltip 1"},{id:"14",sortColumn:1,isRecordProperty:!0,label:"Tooltip 2"},{id:"15",sortColumn:2,isRecordProperty:!0,label:"Tooltip 3"},{id:"16",sortColumn:3,isRecordProperty:!0,label:"Tooltip 4"},{id:"17",sortColumn:4,isRecordProperty:!0,label:"Tooltip 5"},{id:"18",sortColumn:5,isRecordProperty:!0,label:"Tooltip 6"},{id:"19",sortColumn:6,isRecordProperty:!0,label:"Tooltip 7"},{id:"20",sortColumn:7,isRecordProperty:!0,label:"Tooltip 8"},{id:"21",sortColumn:"FormattedAddress_MA",isRecordProperty:!0,label:"Address"},{id:"22",sortColumn:null,isRecordProperty:!0,label:"Position"},{id:"23",sortColumn:"straightDistanceValue",isRecordProperty:!1,label:"*Distance"},{id:"24",sortColumn:null,isRecordProperty:!1,label:"**Query"},{id:"25",sortColumn:"device.timestamp",isRecordProperty:!0,label:"Last Report Date"},{id:"26",sortColumn:"device.timestamp",isRecordProperty:!0,label:"Last Report Time"},{id:"28",sortColumn:"device.timestamp",isRecordProperty:!0,label:"Last Speed"},{id:"29",sortColumn:"",isRecordProperty:!1,label:"Layer Type"},{id:"30",sortColumn:8,isRecordProperty:!0,label:"Tooltip 9"},{id:"31",sortColumn:9,isRecordProperty:!0,label:"Tooltip 10"},{id:"32",sortColumn:10,isRecordProperty:!0,label:"Tooltip 11"},{id:"33",sortColumn:11,isRecordProperty:!0,label:"Tooltip 12"},{id:"34",sortColumn:12,isRecordProperty:!0,label:"Tooltip 13"},{id:"35",sortColumn:13,isRecordProperty:!0,label:"Tooltip 14"},{id:"36",sortColumn:14,isRecordProperty:!0,label:"Tooltip 15"}]},overridable:!0},maxQueryMobile:{overridable:!0},myLocationZoomLevel:{value:10},retainMobileState:{value:!1,overridable:!0},currentTimeAndLoc:{value:!0,overridable:!0},mapItProximity:{value:!1,overridable:!0},enableTraffic:{value:!0},mobileFolderStructure:{value:"showHierarchy"},objectSearchLanguage:{value:"soql"}};return Object.values(e).forEach((e=>{e.errorMsg=null})),JSON.stringify(e)})()}}function r(e,t){return null!=e?e:t}function n(e){return e||(e={}),{Id:e.Id,Name:r(e.Name,""),maps__Description__c:r(e.maps__Description__c,"Custom Permission Group"),maps__AllowExports__c:r(e.maps__AllowExports__c,!1),maps__EditableTooltips__c:r(e.maps__EditableTooltips__c,!0),maps__FolderAdmin__c:r(e.maps__FolderAdmin__c,!1),maps__HidePersonalFolder__c:r(e.maps__HidePersonalFolder__c,!1),maps__SelfHostedDataUser__c:r(e.maps__SelfHostedDataUser__c,!1),maps__ShowUserFolders__c:r(e.maps__ShowUserFolders__c,!1),maps__ShowWeather__c:r(e.maps__ShowWeather__c,!0),maps__TerritoryLayerCreation__c:r(e.maps__TerritoryLayerCreation__c,!1),maps__MaxQuerySize__c:r(e.maps__MaxQuerySize__c,5e3),maps__MaxQuerySizeExternal__c:r(e.maps__MaxQuerySizeExternal__c,2e3),maps__MobileQuerySize__c:r(e.maps__MobileQuerySize__c,1e3),maps__MaxExportSize__c:r(e.maps__MaxExportSize__c,5e3),maps__ButtonSet__c:r(e.maps__ButtonSet__c,""),maps__CreateDataLayers__c:r(e.maps__CreateDataLayers__c,!0),maps__EnableArcGIS__c:r(e.maps__EnableArcGIS__c,!1),maps__LiveMobileTracking__c:r(e.maps__LiveMobileTracking__c,!1),maps__DefaultMapTile__c:r(e.maps__DefaultMapTile__c,"Roadmap (ESRI)"),maps__DataRegion__c:r(e.maps__DataRegion__c,"internal"),maps__AutoCheckOut__c:r(e.maps__AutoCheckOut__c,!1),maps__ObjectSearchLanguage__c:r(e.maps__ObjectSearchLanguage__c,"SOQL"),maps__DefaultValues__c:JSON.parse(r(e.maps__DefaultValues__c,o.getDefaultSettingsGroup()))}}function d(e){const t=JSON.parse(o.getDefaultSettingsGroup()),s={...n(e),Id:e.Id};return Array.from(Object.keys(t)).forEach((e=>{void 0===s.maps__DefaultValues__c[e]&&(s.maps__DefaultValues__c[e]=t[e])})),s.hasOverNightWorkingHours=!1,s}const u={state:{selectedGroup:"All Permission Groups",toggle:{readOnlyMode:!0,showSearchModal:!1,showNewGroupModal:!1,saveOnCreate:!1,createMode:"new",showPermissionGroupView:!1,refresh:!1,searchType:"Profile"},settingsGroup:d,entityIdsForInsert:new Set,assignmentIdsForDelete:new Set,config:{groups:[],assignments:[],filterTerm:null,showDeleteWarning:!1,groupIdToDelete:null}},mutations:{setSettingsGroup(e,t){e.settingsGroup=d(t),e.selectedGroup=t.Name},resetSettingsGroup(e){e.settingsGroup=n(),e.entityIdsForInsert.clear(),e.assignmentIdsForDelete.clear(),e.toggle.readOnlyMode=!0,e.selectedGroup="All Permission Groups"},resetAssignmentSelections(e){e.entityIdsForInsert.clear(),e.assignmentIdsForDelete.clear()}}};var c=s(7356),_=s(4141),p=s(3294);const m={components:{MAModal:_.Z,MAInput:p.Z},data:()=>({isLoading:!1,groupName:"",groupDescription:""}),computed:{...(0,a.mapState)({store__toggle:"toggle",store__settingsGroup:"settingsGroup",store__entityIdsForInsert:"entityIdsForInsert",store__assignmentIdsForDelete:"assignmentIdsForDelete"}),isDefaultGroup(){return"Default"===this.store__settingsGroup.Name&&"defaultSettings"===this.store__settingsGroup.Id},title(){let e;return"new"===this.store__toggle.createMode&&(e="New Permission Group"),"clone"===this.store__toggle.createMode&&(e="Clone Permission Group"),e}},created(){"new"===this.store__toggle.createMode&&(this.groupName=this.store__settingsGroup.Name,this.groupDescription=this.store__settingsGroup.maps__Description__c),"clone"===this.store__toggle.createMode&&(this.groupName=`Copy of ${this.store__settingsGroup.Name}`,this.groupDescription=this.store__settingsGroup.maps__Description__c)},methods:{async createNewGroup(e){this.store__settingsGroup.Name=this.groupName,this.store__settingsGroup.maps__Description__c=this.groupDescription,"clone"===this.store__toggle.createMode&&delete this.store__settingsGroup.Id,this.isLoading=!0;const t=await(0,c.C)(this.store__settingsGroup,this.store__entityIdsForInsert,this.store__assignmentIdsForDelete,!0);t&&(this.store__settingsGroup.Id=t.Id,this.store__toggle.showPermissionGroupView=!!e,this.store__toggle.showNewGroupModal=!1),this.isLoading=!1}}};var g=s(1900);const v=(0,g.Z)(m,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("MAModal",{attrs:{title:e.title,doDetach:!0,isLoading:e.isLoading,closeLabel:"Close"},on:{close:function(t){e.store__toggle.showNewGroupModal=!1}}},[s("div",{staticClass:"slds-text-body_regular slds-var-p-around_small",attrs:{slot:"content"},slot:"content"},[s("div",{staticClass:"slds-grid"},[s("MAInput",{staticClass:"slds-col slds-m-right_small",attrs:{id:"text-input-Name",isRequired:!0,type:"text",label:"Permission Group Name"},model:{value:e.groupName,callback:function(t){e.groupName=t},expression:"groupName"}}),e._v(" "),s("MAInput",{staticClass:"slds-col",attrs:{id:"text-input-id-1",type:"text",placeholder:"Describe Permission Group",useTextArea:!0,label:"Permission Group Description"},model:{value:e.groupDescription,callback:function(t){e.groupDescription=t},expression:"groupDescription"}})],1)]),e._v(" "),s("div",{attrs:{slot:"footer"},slot:"footer"},[s("button",{staticClass:"slds-button slds-button_neutral",on:{click:function(t){e.store__toggle.showNewGroupModal=!1}}},[e._v("\n            Cancel\n        ")]),e._v(" "),"clone"===e.store__toggle.createMode?s("button",{staticClass:"slds-button slds-button_neutral",on:{click:function(t){return e.createNewGroup(!1)}}},[e._v("\n            Clone\n        ")]):e._e(),e._v(" "),s("button",{staticClass:"slds-button slds-button_brand",on:{click:function(t){return e.createNewGroup(!0)}}},[e._v("\n            "+e._s("new"===e.store__toggle.createMode?"Save":"Clone & View")+"\n        ")])])])}),[],!1,null,null,null).exports;var h=s(8050),f=s(675),b=s(7391),y=s(2775),x=s(9756),C=s(5994),M=s(8969),D=s(3826);const w={name:"MAExpandableSection",components:{MAIconInline:M.Z},mixins:[D.Z],props:{sectionId:{type:String,required:!0},title:{type:String,required:!0},disabled:Boolean,disableTitleTruncation:Boolean,collapsedOnLoad:Boolean},data:()=>({isOpen:!0}),created(){this.collapsedOnLoad&&(this.isOpen=!1)},methods:{toggleSection(){this.isOpen=!this.isOpen}}},S=(0,g.Z)(w,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"slds-section",class:{"slds-is-open":e.isOpen}},[a("h3",{staticClass:"slds-section__title",class:{"slds-theme_shade":e.disabled}},[e.disabled?e._t("title",(function(){return[a("span",{staticClass:"slds-p-horizontal_small",class:{"slds-truncate":!e.disableTitleTruncation},attrs:{title:e.title}},[e._v(e._s(e.decodeHtml(e.title)))])]})):a("button",{staticClass:"slds-button slds-section__title-action",attrs:{"aria-expanded":e.isOpen,"aria-controls":e.sectionId},on:{click:e.toggleSection}},[a("MAIconInline",{staticClass:"slds-icon_container",attrs:{svg:s(7498),iconClass:["slds-section__title-action-icon","slds-button__icon","slds-button__icon_left"]}}),e._v(" "),e._t("title",(function(){return[a("span",{class:{"slds-truncate":!e.disableTitleTruncation},attrs:{title:e.title}},[e._v(e._s(e.decodeHtml(e.title)))])]}))],2)],2),e._v(" "),a("div",{staticClass:"slds-section__content",attrs:{id:e.sectionId,"aria-hidden":!e.isOpen}},[e._t("content",(function(){return[a("p",[e._v("\n                Aenean eu leo quam. Pellentesque ornare sem lacinia quam venenatis vestibulum. Fusce dapibus, tellus ac cursus commodo, tortor mauris condimentum nibh, ut fermentum massa justo sit amet risus. Lorem ipsum dolor sit amet, consectetur adipiscing elit.\n                Nullam quis risus eget urna mollis ornare vel eu leo. Nulla vitae elit libero, a pharetra augue.\n            ")])]}))],2)])}),[],!1,null,null,null).exports;var G=s(1595),V=s(5747),T=s(2423);class k{static get actualRouteDefaults(){return{duration:"0 hr, 30 min",end:"5:00 pm",start:"9:00 am",type:"Standard",endLocationLabel:"",endLocationId:"",startLocationLabel:"",startLocationId:"",unit:"mi",driveProfile:"driving",mode:"driving",displayTrafficTime:!0,enableDraggableWaypoints:!1,enableDuplicateStops:!0,workingHours:{monday:{endHour:17,endMinute:0,overnight:!1,startHour:9,startMinute:0,workingDay:!0},tuesday:{endHour:17,endMinute:0,overnight:!1,startHour:9,startMinute:0,workingDay:!0},wednesday:{endHour:17,endMinute:0,overnight:!1,startHour:9,startMinute:0,workingDay:!0},thursday:{endHour:17,endMinute:0,overnight:!1,startHour:9,startMinute:0,workingDay:!0},friday:{endHour:17,endMinute:0,overnight:!1,startHour:9,startMinute:0,workingDay:!0},saturday:{endHour:17,endMinute:0,overnight:!1,startHour:9,startMinute:0,workingDay:!0},sunday:{endHour:17,endMinute:0,overnight:!1,startHour:9,startMinute:0,workingDay:!0}}}}static get routeDefaults(){return{...window.getProperty(window.userSettings||{},"RouteDefaults",!1)||k.actualRouteDefaults,workingHours:window.getProperty(window.userSettings||{},"workingHours",!1)||{}}}static get startLocationId(){return this.routeDefaults.startLocationId}static get endLocationId(){return this.routeDefaults.endLocationId}static get isTrafficEnabled(){return!0}static get enabledDuplicateStops(){return this.routeDefaults.enabledDuplicateStops}static get units(){return this.routeDefaults.unit}static get mode(){return this.routeDefaults.mode}static get start(){return this.routeDefaults.start}static get end(){return this.routeDefaults.end}static get duration(){return window.getWaypointTimeOptions(this.defaultOptions).duration}static get timeBasedOptions(){const e=this.routeDefaults;return{Enabled:"TimeBased"===e.type,Start:e.start,End:e.end}}static get defaultOptions(){return{TimeBasedOptions:{Start:"Set start time...",Duration:this.routeDefaults.duration},LockType:"unlocked",DraggablePoint:!1}}static get defaultStartEndOptions(){return{TimeBasedOptions:{Start:"Set start time...",Duration:"0 hr, 0 min"},LockType:"unlocked",DraggablePoint:!1}}static getWorkingHoursByDayString(e){return window.userSettings.workingHours[e]}}var A=s(5658);const L=new Map([["esri_street","World_Street_Map"],["esri_topography","World_Topo_Map"],["esri_imagery","World_Imagery"]]);class I{static getEsriTileUrl(e){return`https://services.arcgisonline.com/ArcGIS/rest/services/${L.has(e)?L.get(e):"World_Street_Map"}/MapServer/tile/{zoom}/{longitude}/{latitude}`}static addTileOverlay(e,t){const s=new window.google.maps.ImageMapType({name:e,maxZoom:18,tileSize:new window.google.maps.Size(256,256),opacity:.8,getTileUrl:t});window.MA.map.overlayMapTypes.push(s)}static removeTileOverlay(e){window.MA.Map.removeOverlay(e)}static removeBaseEsriAttribution(){const e=document.getElementById("maps__attributions");null!=e&&e.remove()}static getAttributionEl(e,t){const s=document.getElementById("maps__attributions");if(s)return"function"==typeof t&&t(s),s;const a=document.createElement("div");a.className="slds-truncate",a.id="maps__attributions",a.addEventListener("click",(function(){a.className=""===a.className?a.className="slds-truncate":""}));const l=document.getElementById(e);if(!l)throw new Error(`Could not locate map div given id of ${e}`);return l.prepend(a),"function"==typeof t&&t(a),a}static addBaseEsriAttribution(e,t,s){if(!String(t).trim().startsWith("esri_"))return;const a=`http://services.arcgisonline.com/arcgis/rest/services/${L.has(t)?L.get(t):"World_Street_Map"}/MapServer/0?f=pjson`;s.get(a).then((t=>{"object"==typeof t.data&&(I.getAttributionEl(e).innerText=t.data.copyrightText,window.ArcGIS&&(window.ArcGIS.baseEsriAttribution=t.data.copyrightText,window.ArcGIS.plotHelpers.showCopyrightText()))})).catch((e=>{console.log(e)}))}static debugRemotingData(e,t,s){const{MASystem:a={}}=window;if(a.Debug){console.groupCollapsed(`Debug: ${e}`),console.log("----Start Request----");for(let e=0;e<t.length;e++){const s=t[e],a=typeof s;if("string"===a)console.log(s);else if("object"===a){console.log("request",s);const e=Object.keys(s);for(let t=0;t<e.length;t++){const a=e[t],l=s[a];console.log(a,l)}}}console.log("----Start Response----");const a=Object.keys(s);for(let e=0;e<a.length;e++){const t=a[e],l=s[t];console.log(t,l)}console.groupEnd()}}}const{MARemoting:P,MA:E,removeNamespace:R,moment:O,autoCompleteSearch:$}=window,N="Failed to delete route.",F="Failed to get route.",H="Address geocode failed";var B=s(9980);const Z={name:"MultiSelectPicklist",components:{draggable:s.n(B)()},computed:{isDefaultGroup(){return"Default"===this.store__settingsGroup.Name&&"defaultSettings"===this.store__settingsGroup.Id},...(0,a.mapState)({store__settingsGroup:"settingsGroup"})}},z=(0,g.Z)(Z,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"slds-form-element__control"},[s("div",{staticClass:"slds-dueling-list slds-form-element__control"},[s("div",{staticClass:"slds-assistive-text",attrs:{id:"drag-live-region"}}),e._v(" "),s("div",{staticClass:"slds-assistive-text",attrs:{id:"option-drag-label"}},[e._v("\n            Press space bar when on an item, to move it within the list. CMD plus left and right arrow keys, to move items between lists.\n        ")]),e._v(" "),s("div",{staticClass:"slds-dueling-list__column slds-p-right_small"},[s("span",{staticClass:"slds-form-element__label",attrs:{id:"label-3"}},[e._v("Available")]),e._v(" "),s("div",{staticClass:"slds-dueling-list__options lvs-drag-col",staticStyle:{width:"125px"}},[s("draggable",{staticClass:"list-group slds-listbox slds-listbox_vertical",attrs:{id:"AvailableListViewColumns",list:e.store__settingsGroup.maps__DefaultValues__c.columnsConfig.value.available,options:{group:"listColumns"}}},e._l(e.store__settingsGroup.maps__DefaultValues__c.columnsConfig.value.available,(function(t,a){return s("div",{key:a,staticClass:"settings-listview-column slds-listbox__option slds-listbox__option_plain slds-media slds-grid_vertical-align-center slds-grid slds-grid_align-spread",attrs:{"data-id":t.id,label:t.label,isRecordProperty:t.isRecordProperty,sortColumn:t.sortColumn}},[e._v("\n                        "+e._s(e._f("decode")(t.label))+" "),s("span",{staticClass:"ma-icon ma-icon-move slds-m-left_x-small"})])})),0)],1)]),e._v(" "),s("div",{staticClass:"slds-dueling-list__column slds-p-left_small"},[s("span",{staticClass:"slds-form-element__label",attrs:{id:"label-4"}},[e._v("Visible")]),e._v(" "),s("div",{staticClass:"slds-dueling-list__options lvs-drag-col",staticStyle:{width:"125px"}},[s("draggable",{staticClass:"list-group slds-listbox slds-listbox_vertical",attrs:{id:"VisibleListViewColumns",list:e.store__settingsGroup.maps__DefaultValues__c.columnsConfig.value.visible,options:{group:"listColumns"}}},e._l(e.store__settingsGroup.maps__DefaultValues__c.columnsConfig.value.visible,(function(t,a){return s("div",{key:a,staticClass:"settings-listview-column slds-listbox__option slds-listbox__option_plain slds-media slds-grid_vertical-align-center slds-grid slds-grid_align-spread",attrs:{disabled:e.isDefaultGroup,"data-id":t.id,label:t.label,isRecordProperty:t.isRecordProperty,sortColumn:t.sortColumn}},[e._v("\n                        "+e._s(e._f("decode")(t.label))+" "),s("span",{staticClass:"ma-icon ma-icon-move slds-m-left_x-small"})])})),0)],1)])])])}),[],!1,null,"75552cd5",null).exports,j={components:{MASpinner:f.Z},data:()=>({isLoading:!1,userAssignments:[],profileAssignments:[],numEmptyTableRows:3}),computed:{...(0,a.mapState)({store__toggle:"toggle",store__settingsGroup:"settingsGroup",store__entityIdsForInsert:"entityIdsForInsert",store__assignmentIdsForDelete:"assignmentIdsForDelete"}),isDefaultGroup(){return"Default"===this.store__settingsGroup.Name&&"defaultSettings"===this.store__settingsGroup.Id}},watch:{"store__toggle.refresh":{async handler(e){e&&(await this.getAssignmentsById(),this.store__toggle.refresh=!1)},deep:!0}},async mounted(){await this.getAssignmentsById()},methods:{...(0,a.mapMutations)({store__setSettingsGroup:"setSettingsGroup"}),addAssignment({entityId:e,id:t}){this.store__assignmentIdsForDelete.has(t)?this.store__assignmentIdsForDelete.delete(t):this.store__entityIdsForInsert.add(e)},removeAssignment({entityId:e,id:t}){this.store__entityIdsForInsert.has(e)?this.store__entityIdsForInsert.delete(e):this.store__assignmentIdsForDelete.add(t)},editAssignments(e){"user"===e&&(this.store__toggle.searchType="User"),"profile"===e&&(this.store__toggle.searchType="Profile"),this.store__toggle.showSearchModal=!0},async getAssignmentsById(){try{const{success:e,assignedUsers:t,assignedProfiles:s,error:a}=await this.$remote("maps.UserAJAXResources.GetAssignmentsById",[this.store__settingsGroup.Id]);e?(this.userAssignments=t,this.profileAssignments=s):console.error(a)}catch(e){console.error(e)}}}},U=(0,g.Z)(j,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("MASpinner",{directives:[{name:"show",rawName:"v-show",value:e.isLoading,expression:"isLoading"}]}),e._v(" "),a("div",{staticClass:"slds-box slds-p-around_none"},[a("div",{staticClass:"slds-page-header"},[a("div",{staticClass:"slds-page-header__row"},[a("div",{staticClass:"slds-page-header__col-title"},[a("div",{staticClass:"slds-media"},[a("div",{staticClass:"slds-media__figure"},[a("MAIcon",{staticClass:"slds-icon_container slds-icon-standard-user-role slds-icon_container_circle",attrs:{src:s(6117),iconClass:["slds-icon","slds-icon_xx-small"]}})],1),e._v(" "),e._m(0)])]),e._v(" "),a("div",{staticClass:"slds-page-header__col-actions"},[a("div",{staticClass:"slds-page-header__controls"},[a("div",{staticClass:"slds-page-header__control"},[a("ul",{staticClass:"slds-button-group-list"},[a("li",[a("button",{staticClass:"slds-button slds-button_neutral",on:{click:function(t){return e.editAssignments("profile")}}},[e._v("\n                                        Edit\n                                    ")])])])])])])])]),e._v(" "),a("div",{staticClass:"profiles"},[a("table",{staticClass:"slds-table slds-table_cell-buffer slds-table_bordered slds-no-row-hover",class:{"slds-table_striped":e.profileAssignments.length>0}},[e._m(1),e._v(" "),e.isLoading?a("tbody",e._l(e.numEmptyTableRows,(function(t,s){return a("tr",{key:s},[e._m(2,!0),e._v(" "),e._m(3,!0),e._v(" "),e._m(4,!0)])})),0):a("tbody",e._l(e.profileAssignments,(function(t,s){return a("tr",{key:s,staticClass:"slds-hint-parent"},[a("th",{attrs:{"data-label":"Profile Name",scope:"row"}},[a("div",{staticClass:"slds-truncate",attrs:{title:"Sales Enterprise"}},[a("a",{attrs:{href:"javascript:void(0);",tabindex:"-1"}},[e._v(e._s(t.name))])])]),e._v(" "),a("td",{attrs:{"data-label":"User License"}},[a("div",{staticClass:"slds-truncate",attrs:{title:"Description"}},[e._v("\n                                "+e._s(t.userLicense)+"\n                            ")])]),e._v(" "),a("td",{attrs:{"data-label":"Description"}},[a("div",{staticClass:"slds-truncate",attrs:{title:"Sales P&L"}},[e._v("\n                                "+e._s(t.description)+"\n                            ")])])])})),0)]),e._v(" "),e.profileAssignments.length?e._e():a("div",{staticClass:"slds-grid slds-grid_vertical-align-center slds-grid_align-center empty-content"},[e._m(5)])])]),e._v(" "),a("div",{staticClass:"slds-box slds-p-around_none slds-m-top_small slds-m-bottom_large"},[a("div",{staticClass:"slds-page-header"},[a("div",{staticClass:"slds-page-header__row"},[a("div",{staticClass:"slds-page-header__col-title"},[a("div",{staticClass:"slds-media"},[a("div",{staticClass:"slds-media__figure"},[a("MAIcon",{staticClass:"slds-icon_container slds-icon-action-user slds-icon_container_circle",attrs:{src:s(1178),iconClass:["slds-icon","slds-icon_xx-small"]}})],1),e._v(" "),e._m(6)])]),e._v(" "),a("div",{staticClass:"slds-page-header__col-actions"},[a("div",{staticClass:"slds-page-header__controls"},[a("div",{staticClass:"slds-page-header__control"},[a("ul",{staticClass:"slds-button-group-list"},[a("li",[a("button",{staticClass:"slds-button slds-button_neutral",on:{click:function(t){return e.editAssignments("user")}}},[e._v("\n                                        Edit\n                                    ")])])])])])])])]),e._v(" "),a("div",{staticClass:"users"},[a("table",{staticClass:"slds-table slds-table_cell-buffer slds-table_bordered slds-no-row-hover",class:{"slds-table_striped":e.userAssignments.length>0}},[e._m(7),e._v(" "),e.isLoading?a("tbody",e._l(e.numEmptyTableRows,(function(t,s){return a("tr",{key:s},[e._m(8,!0),e._v(" "),e._m(9,!0),e._v(" "),e._m(10,!0),e._v(" "),e._m(11,!0)])})),0):a("tbody",e._l(e.userAssignments,(function(t,s){return a("tr",{key:s,staticClass:"slds-hint-parent"},[a("th",{attrs:{"data-label":"User Name",scope:"row"}},[a("div",{staticClass:"slds-truncate",attrs:{title:t.name}},[a("a",{attrs:{href:"javascript:void(0);",tabindex:"-1"}},[e._v(e._s(t.name))])])]),e._v(" "),a("td",{attrs:{"data-label":"Alias"}},[a("div",{staticClass:"slds-truncate",attrs:{title:t.alias}},[e._v("\n                                "+e._s(t.alias)+"\n                            ")])]),e._v(" "),a("td",{attrs:{"data-label":"Username"}},[a("div",{staticClass:"slds-truncate",attrs:{title:t.username}},[e._v("\n                                "+e._s(t.username)+"\n                            ")])]),e._v(" "),a("td",{attrs:{"data-label":"Description"}},[a("div",{staticClass:"slds-truncate",attrs:{title:t.profile}},[e._v("\n                                "+e._s(t.profile)+"\n                            ")])])])})),0)]),e._v(" "),e.userAssignments.length?e._e():a("div",{staticClass:"slds-grid slds-grid_vertical-align-center slds-grid_align-center empty-content"},[e._m(12)])])])],1)}),[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"slds-media__body"},[s("div",{staticClass:"slds-page-header__name"},[s("div",{staticClass:"slds-page-header__name-title"},[s("h1",[s("span",{staticClass:"slds-page-header__title slds-truncate",attrs:{title:"Profiles"}},[e._v("Profiles")])])])])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("thead",[s("tr",{staticClass:"slds-line-height_reset"},[s("th",{attrs:{scope:"col"}},[s("div",{staticClass:"slds-truncate",attrs:{title:"Profile Name"}},[e._v("\n                                Profile Name\n                            ")])]),e._v(" "),s("th",{attrs:{scope:"col"}},[s("div",{staticClass:"slds-truncate",attrs:{title:"User License"}},[e._v("\n                                User License\n                            ")])]),e._v(" "),s("th",{attrs:{scope:"col"}},[s("div",{staticClass:"slds-truncate",attrs:{title:"Description"}},[e._v("\n                                Description\n                            ")])])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("td",{staticClass:"empty-cell"},[t("div")])},function(){var e=this.$createElement,t=this._self._c||e;return t("td",{staticClass:"empty-cell"},[t("div")])},function(){var e=this.$createElement,t=this._self._c||e;return t("td",{staticClass:"empty-cell"},[t("div")])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"empty-content-inner"},[s("p",[e._v("No Profiles Assigned.")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"slds-media__body"},[s("div",{staticClass:"slds-page-header__name"},[s("div",{staticClass:"slds-page-header__name-title"},[s("h1",[s("span",{staticClass:"slds-page-header__title slds-truncate",attrs:{title:"Users"}},[e._v("Users")])])])])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("thead",[s("tr",{staticClass:"slds-line-height_reset"},[s("th",{attrs:{scope:"col"}},[s("div",{staticClass:"slds-truncate",attrs:{title:"User Name"}},[e._v("\n                                User Name\n                            ")])]),e._v(" "),s("th",{attrs:{scope:"col"}},[s("div",{staticClass:"slds-truncate",attrs:{title:"Alias"}},[e._v("\n                                Alias\n                            ")])]),e._v(" "),s("th",{attrs:{scope:"col"}},[s("div",{staticClass:"slds-truncate",attrs:{title:"Description"}},[e._v("\n                                Username\n                            ")])]),e._v(" "),s("th",{attrs:{scope:"col"}},[s("div",{staticClass:"slds-truncate",attrs:{title:"Description"}},[e._v("\n                                Profile\n                            ")])])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("td",{staticClass:"empty-cell"},[t("div")])},function(){var e=this.$createElement,t=this._self._c||e;return t("td",{staticClass:"empty-cell"},[t("div")])},function(){var e=this.$createElement,t=this._self._c||e;return t("td",{staticClass:"empty-cell"},[t("div")])},function(){var e=this.$createElement,t=this._self._c||e;return t("td",{staticClass:"empty-cell"},[t("div")])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"empty-content-inner"},[s("p",[e._v("No Users Assigned.")])])}],!1,null,"7e21faf0",null).exports,{MAToastMessages:q}=window,W={components:{MASpinner:f.Z,MAPicklist:b.Z,MAInput:p.Z,MATimePicker:y.Z,MATooltip:x.Z,MASearch:C.Z,MAExpandableSection:S,MATabs:G.Z,MATab:V.Z,MultiSelectPicklist:z,Assignments:U},props:{options:{type:Array,required:!0},contingentOptions:{type:Object,required:!0}},data(){return{isLoading:!1,activeTab:"Details",queryLayer:{selectedResult:"",selectedType:null,searchTerm:"",searches:[{id:(0,h.x$)(),onSearch:this.searchLayers,label:"label"}]},favoriteSearches:[{id:(0,h.x$)(),onSearch:(e,t)=>class{static deleteRoute(e){return new Promise(((t,s)=>{if(!e)throw new Error(N);const a={ajaxResource:"WaypointAJAXResources",action:"deleteroute",routeId:e};(new T.Z).setAction(P.processAJAXRequest).setErrorHandler(this.handleRemoteActionError.bind(this,s)).invoke([a],(e=>{I.debugRemotingData("deleteRoute",[a],e),e&&e.success?t():s(new Error(e.error||N))}))}))}static getRoute(e){return new Promise(((t,s)=>{if(!e)throw new Error(F);const a={ajaxResource:"WaypointAJAXResources",action:"getRoute",routeId:e};(new T.Z).setAction(P.processAJAXRequest).setErrorHandler(this.handleRemoteActionError.bind(this,s)).setTimeout(120).invoke([a],(e=>{I.debugRemotingData("getRoute",[a],e),e&&e.success?t(e):s(new Error(F))}))}))}static searchFavorites(e,t){const s={ajaxResource:"WaypointAJAXResources",action:"getDefaultLocationOptions",term:e};return new Promise(((e,a)=>{(new T.Z).setAction(P.processAJAXRequest).setErrorHandler(this.handleRemoteActionError.bind(this,a)).invoke([s],(a=>{I.debugRemotingData("searchFavorites",[s],a);const l={searchIndex:t};a&&a.success&&(l.results=a.data,e(l))}),{escape:!1})}))}static searchGoogle(e,t,s){return new Promise((a=>{const l=s?"places":"queryAutocomplete";$(e,l).then((e=>{const s="queryAutocomplete"===l?window.MA.getProperty(e,["data","predictions"]):window.MA.getProperty(e,["data","results"]);Array.isArray(s)||a([]);const i=s.map((e=>{const t={resultItemType:"google"};return e&&"object"==typeof e&&(t.id=e.id,"string"==typeof e.description?t.label=(0,A.m9)(e.description):"string"==typeof e.formatted_address?t.label=(0,A.m9)(e.formatted_address):t.label="",e.place_id&&"string"==typeof e.place_id&&e.place_id.trim()?(t.type="place",t.placeId=e.place_id.trim()):t.type="suggestion"),t}));a({results:i,searchIndex:t})}))}))}static getFavoriteInfo(e){return new Promise(((t,s)=>{e||t();const a={action:"getLocationInfo",ajaxResource:"FavoriteLocationsAJAXResources",folderId:e};(new T.Z).setAction(P.processAJAXRequest).setErrorHandler(this.handleRemoteActionError.bind(this,s)).invoke([a],(e=>{if(I.debugRemotingData("getFavoriteInfo",[a],e),e&&e.success&&e.data.locations.length>0){const s=e.data.locations[0];t({Name:s.Name,Address__c:s.maps__Address__c,lat:s.maps__Latitude__c,lng:s.maps__Longitude__c,id:(0,A.x$)(),Options__c:k.defaultStartEndOptions,record:s})}else s(new Error("Failed to get favorite."))}),{escape:!1})}))}static loadEventData(e){return new Promise(((t,s)=>{(new T.Z).setAction(P.phase_4).setErrorHandler(this.handleRemoteActionError.bind(this,s)).invoke([escape("Select EndDateTime, StartDateTime, IsAllDayEvent, DurationInMinutes From Event"),e],(e=>{e.success?t(e):s(new Error(`Unable to load Event data. Error message: ${e}`))}),{buffer:!1,escape:!0})}))}static getEvents(e){return new Promise(((t,s)=>{const a={ajaxResource:"RouteCalendarAJAXResources",action:"getEvents",start:e.startOf("day").format("YYYY-MM-DD HH:mm:ss"),end:e.endOf("day").format("YYYY-MM-DD HH:mm:ss")};(new T.Z).setAction(P.processAJAXRequest).setErrorHandler(this.handleRemoteActionError.bind(this,s)).invoke([a],(e=>{if(I.debugRemotingData("getEvents",[a],e),e.success)if(e.data.events&&0===Object.keys(e.data.events).length)t();else{const s=this.loadEventsIntoWaypoints(e.data);t(s)}}),{escape:!1})}))}static loadEventsIntoWaypoints(e){const t=[],s=e.events||{},a=e.CalEventBaseObject||{};function l(e,t){const s=window.extractValue(e,t.Street__c),a=window.extractValue(e,t.City__c),l=window.extractValue(e,t.State__c),i=window.extractValue(e,t.PostalCode__c),o=window.extractValue(e,t.Country__c);let r="";return""!==s&&(r+=`${s},`),""!==a&&(r+=a),""!==l&&(r+=`, ${l}`),""!==i&&(r+=` ${i}`),""!==o&&(r+=`,${o}`),r}return Object.keys(s).forEach((i=>{const o=s[i],{event:r,record:n}=o,d={};function u(e,t){Object.assign(d,{latitude:window.extractValue(e,t.Latitude__c),longitude:window.extractValue(e,t.Longitude__c),verifiedLatitude:window.extractValue(e,t.VerifiedLatitude__c),verifiedLongitude:window.extractValue(e,t.VerifiedLongitude__c),markerAddress:l(e,t)}),d.markerLatitude=d.verifiedLatitude||d.latitude,d.markerLongitude=d.verifiedLongitude||d.longitude}if(a&&0!==Object.keys(a).length&&(R(E.Namespace,a),d.title=r.Subject,u(r,a)),n&&0!==Object.keys(n).length){const t=R(E.Namespace,e.baseObjects[(r.What||r.Who).Type]);n.Name&&(null==d.title&&(d.title=r.Subject||""),d.title+=` (${n.Name})`),E.Util.testLatLng(d.markerLatitude,d.markerLongitude)||u(n,t)}const c=k.defaultOptions;if(r.DurationInMinutes){const e=r.DurationInMinutes,t=e%60,s=Math.floor(e/60);c.TimeBasedOptions.Duration=`${s} hr, ${t} min`}if(r.StartDateTime){const e=E.Util.normalizeDateTime(r.StartDateTime);c.TimeBasedOptions.Start=O(e).format("h:mm a")}t.push({Name:d.title,Address__c:d.markerAddress,Options__c:c,lat:d.markerLatitude,lng:d.markerLongitude,id:(0,A.x$)()})})),t}static handleRemoteActionError(e,t,s){e(new Error(`Remote action exception: ${s.message}`))}static getMARoutes(e){return new Promise(((t,s)=>{const a={ajaxResource:"WaypointAJAXResources",action:"getRoutes",month:e.month+1,year:e.year,lookupField:e.lookupField||"maps__User__c",lookupId:e.lookupId||e.user};(new T.Z).setAction(P.processAJAXRequest).setErrorHandler(((e,t)=>{E.isUserLoggedIn(e,t,!0),s(e)})).setTimeout(120).invoke([a],(e=>{I.debugRemotingData("getMARoutes",[a],e),e&&e.success?t(e):s(e)}))}))}static saveMARoute(e){return new Promise(((t,s)=>{window.trackUsage("Maps",{action:"Save Route",description:"Clicking Save on Routes"});const a={ajaxResource:"WaypointAJAXResources",action:"saveRoute",perform:"string"==typeof e.Id&&e.Id.trim()?"update":"insert",day:e.day,month:e.month+1,year:e.year,lookupId:e.lookupId||e.user,lookupField:e.lookupField||"maps__User__c",name:e.name,routeId:e.Id,distance:e.distance,totaltraveltime:e.totaltraveltime,options:JSON.stringify(e.options),serializedWaypoints:JSON.stringify(e.waypoints)};(new T.Z).setAction(P.processAJAXRequest).setErrorHandler(s).invoke([a],(e=>{I.debugRemotingData("saveMARoute",[a],e),e&&e.success?t(e):s(e.error)}))}))}static geocode(e){return new Promise(((t,s)=>{if("string"!=typeof e||!e.trim())throw new Error(H);if(!P||"string"!=typeof P.geocodeRecord||!P.geocodeRecord.trim())throw new Error(H);(new T.Z).setAction(P.geocodeRecord).setErrorHandler(s).invoke([e],(a=>{I.debugRemotingData("geocode",[e],a);const l=a&&a.success;delete a.success,l&&a.data?t(a.data):s(new Error(H))}))}))}}.searchFavorites(e,t),label:"Name"}]}},computed:{...(0,a.mapState)({store__toggle:"toggle",store__settingsGroup:"settingsGroup",store__entityIdsForInsert:"entityIdsForInsert",store__assignmentIdsForDelete:"assignmentIdsForDelete"}),isDefaultGroup(){return"Default"===this.store__settingsGroup.Name&&"defaultSettings"===this.store__settingsGroup.Id},showPersonalFolder:{get(){return!this.store__settingsGroup.maps__HidePersonalFolder__c},set(e){this.store__settingsGroup.maps__HidePersonalFolder__c=!e}}},methods:{...(0,a.mapMutations)({store__setSettingsGroup:"setSettingsGroup"}),async searchLayers(e,t){try{const s={ajaxResource:"TreeAJAXResources",action:"layer_search_by_type",searchterm:e,layerType:"all"},a=[],{success:l,data:i,error:o}=await this.$remote("maps.RemoteFunctions.processAJAXRequest",[s]);return l||i.contents||q.showError({position:"toast-bottom-right",message:"Error",subMessage:o,timeOut:8e3}),i.contents.forEach((({properties:{record:e,type:t}})=>{const s={label:e.Name,Id:e.Id,type:t};a.push(s)})),{results:a,searchIndex:t}}catch(e){q.showError({message:`Error: ${e}.`,timeOut:8e3})}return null},clearSearch(){this.queryLayer.searchTerm=""},addLayer(e){this.store__settingsGroup.maps__DefaultValues__c.plotOnLoadLayers.value.map((e=>e.Id)).includes(e.Id)||this.store__settingsGroup.maps__DefaultValues__c.plotOnLoadLayers.value.push(e),this.queryLayer.searchTerm=""},removeLayer(e){this.store__settingsGroup.maps__DefaultValues__c.plotOnLoadLayers.value.splice(e,1)},clearLocation(e,t){this.store__settingsGroup.maps__DefaultValues__c[t].value.label=null,this.store__settingsGroup.maps__DefaultValues__c[t].value.id=null},setLocation(e,t){this.store__settingsGroup.maps__DefaultValues__c[t].value.label=e.Name,this.store__settingsGroup.maps__DefaultValues__c[t].value.id=e.Id},selectTime(e){const{startTime:t}=this.store__settingsGroup.maps__DefaultValues__c.schedule[e].value,{endTime:s}=this.store__settingsGroup.maps__DefaultValues__c.schedule[e].value,a=Date.parse(`${(new Date).toISOString().slice(0,10)} ${t}`),l=Date.parse(`${(new Date).toISOString().slice(0,10)} ${s}`);this.store__settingsGroup.maps__DefaultValues__c.schedule[e].errorMsg=a>l?"* These working hours carry into the next day.":null;let i=0;Object.values(this.store__settingsGroup.maps__DefaultValues__c.schedule).forEach((e=>{e&&null!=e.errorMsg&&i++})),this.store__settingsGroup.hasOverNightWorkingHours=i>0}}},J=(0,g.Z)(W,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"slds-card slds-grid slds-grid_vertical"},[a("MASpinner",{directives:[{name:"show",rawName:"v-show",value:e.isLoading,expression:"isLoading"}]}),e._v(" "),a("div",{staticClass:"slds-p-around_medium"},[a("MATabs",{attrs:{activeTabId:e.activeTab},on:{"update:activeTabId":function(t){e.activeTab=t},"update:active-tab-id":function(t){e.activeTab=t},changed:function(t){return e.$parent.handleScroll()}}},[a("MATab",{attrs:{id:"Details",title:"Details"}},[a("article",{staticClass:"slds-card slds-card_boundary slds-m-bottom_xx-large"},[a("div",{staticClass:"slds-card__body slds-card__body_inner"},[a("div",[a("div",{staticClass:"slds-grid"},[a("MAInput",{staticClass:"slds-col slds-m-right_small",attrs:{id:"text-input-Name",isRequired:!0,isDisabled:e.isDefaultGroup,type:"text",label:"Permission Group Name"},model:{value:e.store__settingsGroup.Name,callback:function(t){e.$set(e.store__settingsGroup,"Name",t)},expression:"store__settingsGroup.Name"}}),e._v(" "),a("MAInput",{staticClass:"slds-col",attrs:{id:"text-input-id-1",type:"text",isDisabled:e.isDefaultGroup,placeholder:e.$Labels.Describe_Permission_Group,useTextArea:!0,label:"Permission Group "+e.$Labels.MA_Description},model:{value:e.store__settingsGroup.maps__Description__c,callback:function(t){e.$set(e.store__settingsGroup,"maps__Description__c",t)},expression:"store__settingsGroup.maps__Description__c"}})],1),e._v(" "),e._l(e.options,(function(t,l){return a("MAExpandableSection",{key:l,staticClass:"desktopAndMobile",attrs:{isExpandable:!0,collapsedOnLoad:!1,sectionId:"detailsTab"}},[a("div",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(t.section))]),e._v(" "),a("div",{attrs:{slot:"content"},slot:"content"},e._l(t.categories,(function(i,o){return a("div",{key:o,staticClass:"slds-p-around_small slds-m-bottom_medium"},["Routes & Schedule"===i.header&&e.store__settingsGroup.hasOverNightWorkingHours?a("div",[a("div",{staticClass:"ma-message-notification slds-inline_icon_text slds-grid slds-box slds-theme_error slds-m-around_small"},[a("div",[a("span",{staticClass:"ma-icon ma-icon-info",staticStyle:{"font-size":"26px",width:"26px","line-height":"1",height:"26px","padding-right":"8px"}})]),e._v(" "),a("div",{staticClass:"slds-col slds-align-middle"},[a("p",[e._v("You have working hours that carry into the next day. Please double-check that times do not overlap for different days as scheduling issues may occur.")])])])]):e._e(),e._v(" "),i.header?a("div",{staticClass:"slds-text-heading_small slds-m-bottom_small"},[e._v("\n                                            "+e._s(i.header)+"\n                                        ")]):e._e(),e._v(" "),a("table",{staticClass:"slds-table slds-table_cell-buffer slds-table_bordered",class:{"slds-table_fixed-layout":"Mobile"!==t.section&&"Layers"!==i.header}},[a("thead",[a("tr",{staticClass:"slds-line-height_reset"},[a("th",{attrs:{scope:"col",width:"40px"}}),e._v(" "),a("th",{staticClass:"slds-cell-wrap",attrs:{scope:"col",width:"300px"}},[a("div",{staticClass:"slds-line-clamp",attrs:{title:"Setting"}},[e._v("\n                                                            Setting\n                                                        ")])]),e._v(" "),a("th",{attrs:{scope:"col"}},[a("div",{staticClass:"slds-truncate",attrs:{title:"Value"}},[e._v("\n                                                            Value\n                                                        ")])]),e._v(" "),a("th",{attrs:{scope:"col"}},[a("div",{staticClass:"slds-truncate",attrs:{title:"Allow User Override"}},[e._v("\n                                                            Allow User Override\n                                                        ")])])])]),e._v(" "),a("tbody",e._l(i.settings,(function(t,i){return a("tr",{key:i,staticClass:"slds-hint-parent"},[a("th",{attrs:{"data-label":"Help Text",scope:"row"}},[a("MATooltip",{attrs:{doDetach:!0,showIcon:!0}},[a("div",{attrs:{slot:"content"},slot:"content"},[a("p",[e._v(e._s(t.helpText))])])])],1),e._v(" "),a("th",{attrs:{"data-label":"Setting",scope:"row"}},[a("div",{attrs:{title:t.label}},[e._v("\n                                                            "+e._s(t.label)+"\n                                                        ")])]),e._v(" "),a("td",{attrs:{"data-label":"Value"}},["number"!==t.type&&"text"!==t.type||!t.fieldValue?e._e():a("MAInput",{attrs:{id:"text-input-id-"+t.label,isDisabled:!t.enabled,type:t.type},model:{value:e.store__settingsGroup[t.fieldValue],callback:function(s){e.$set(e.store__settingsGroup,t.fieldValue,s)},expression:"store__settingsGroup[setting.fieldValue]"}}),e._v(" "),"number"!==t.type&&"text"!==t.type||!t.defaultValue?e._e():a("MAInput",{attrs:{id:"text-input-id-"+t.label,isDisabled:!t.enabled,type:t.type},model:{value:e.store__settingsGroup.maps__DefaultValues__c[t.defaultValue].value,callback:function(s){e.$set(e.store__settingsGroup.maps__DefaultValues__c[t.defaultValue],"value",s)},expression:"store__settingsGroup.maps__DefaultValues__c[setting.defaultValue].value"}}),e._v(" "),"checkbox"===t.type&&t.fieldValue&&"maps__HidePersonalFolder__c"!==t.fieldValue?a("div",{staticClass:"slds-form-element__control"},[a("div",{staticClass:"slds-checkbox"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.store__settingsGroup[t.fieldValue],expression:"store__settingsGroup[setting.fieldValue]"}],attrs:{id:"checkbox1-"+l+"-"+o+"-"+i+"-id",type:"checkbox",disabled:!t.enabled},domProps:{checked:Array.isArray(e.store__settingsGroup[t.fieldValue])?e._i(e.store__settingsGroup[t.fieldValue],null)>-1:e.store__settingsGroup[t.fieldValue]},on:{change:function(s){var a=e.store__settingsGroup[t.fieldValue],l=s.target,i=!!l.checked;if(Array.isArray(a)){var o=e._i(a,null);l.checked?o<0&&e.$set(e.store__settingsGroup,t.fieldValue,a.concat([null])):o>-1&&e.$set(e.store__settingsGroup,t.fieldValue,a.slice(0,o).concat(a.slice(o+1)))}else e.$set(e.store__settingsGroup,t.fieldValue,i)}}}),e._v(" "),a("label",{staticClass:"slds-checkbox__label",attrs:{for:"checkbox1-"+l+"-"+o+"-"+i+"-id"}},[a("span",{staticClass:"slds-checkbox_faux"})])])]):e._e(),e._v(" "),"checkbox"===t.type&&t.fieldValue&&"maps__HidePersonalFolder__c"===t.fieldValue?a("div",{staticClass:"slds-form-element__control"},[a("div",{staticClass:"slds-checkbox"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.showPersonalFolder,expression:"showPersonalFolder"}],attrs:{id:"checkbox1-"+l+"-"+o+"-"+i+"-id",type:"checkbox",disabled:!t.enabled},domProps:{checked:Array.isArray(e.showPersonalFolder)?e._i(e.showPersonalFolder,null)>-1:e.showPersonalFolder},on:{change:function(t){var s=e.showPersonalFolder,a=t.target,l=!!a.checked;if(Array.isArray(s)){var i=e._i(s,null);a.checked?i<0&&(e.showPersonalFolder=s.concat([null])):i>-1&&(e.showPersonalFolder=s.slice(0,i).concat(s.slice(i+1)))}else e.showPersonalFolder=l}}}),e._v(" "),a("label",{staticClass:"slds-checkbox__label",attrs:{for:"checkbox1-"+l+"-"+o+"-"+i+"-id"}},[a("span",{staticClass:"slds-checkbox_faux"})])])]):e._e(),e._v(" "),"checkbox"===t.type&&t.defaultValue?a("div",{staticClass:"slds-form-element__control"},[a("div",{staticClass:"slds-checkbox"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.store__settingsGroup.maps__DefaultValues__c[t.defaultValue].value,expression:"store__settingsGroup.maps__DefaultValues__c[setting.defaultValue].value"}],attrs:{id:"checkbox2-"+l+"-"+o+"-"+i+"-id",disabled:!t.enabled,type:"checkbox"},domProps:{checked:Array.isArray(e.store__settingsGroup.maps__DefaultValues__c[t.defaultValue].value)?e._i(e.store__settingsGroup.maps__DefaultValues__c[t.defaultValue].value,null)>-1:e.store__settingsGroup.maps__DefaultValues__c[t.defaultValue].value},on:{change:function(s){var a=e.store__settingsGroup.maps__DefaultValues__c[t.defaultValue].value,l=s.target,i=!!l.checked;if(Array.isArray(a)){var o=e._i(a,null);l.checked?o<0&&e.$set(e.store__settingsGroup.maps__DefaultValues__c[t.defaultValue],"value",a.concat([null])):o>-1&&e.$set(e.store__settingsGroup.maps__DefaultValues__c[t.defaultValue],"value",a.slice(0,o).concat(a.slice(o+1)))}else e.$set(e.store__settingsGroup.maps__DefaultValues__c[t.defaultValue],"value",i)}}}),e._v(" "),a("label",{staticClass:"slds-checkbox__label",attrs:{for:"checkbox2-"+l+"-"+o+"-"+i+"-id"}},[a("span",{staticClass:"slds-checkbox_faux"})])])]):e._e(),e._v(" "),"picklist"===t.type&&t.fieldValue?a("MAPicklist",{attrs:{id:"picklist-id-"+t.label,doDetach:!0,hasNoneOption:t.allowNull,options:t.options,isDisabled:!t.enabled,keyString:t.keyString,valueString:t.valueString},model:{value:e.store__settingsGroup[t.fieldValue],callback:function(s){e.$set(e.store__settingsGroup,t.fieldValue,s)},expression:"store__settingsGroup[setting.fieldValue]"}}):e._e(),e._v(" "),"picklist"===t.type&&t.defaultValue?a("MAPicklist",{attrs:{id:"picklist-id-"+t.label,doDetach:!0,hasNoneOption:t.allowNull,options:t.options,isDisabled:!t.enabled,keyString:t.keyString,valueString:t.valueString},model:{value:e.store__settingsGroup.maps__DefaultValues__c[t.defaultValue].value,callback:function(s){e.$set(e.store__settingsGroup.maps__DefaultValues__c[t.defaultValue],"value",s)},expression:"store__settingsGroup.maps__DefaultValues__c[setting.defaultValue].value"}}):e._e(),e._v(" "),"defaultProximityType"===t.defaultValue&&"travelTime"===e.store__settingsGroup.maps__DefaultValues__c[t.defaultValue].value?a("div",e._l(e.contingentOptions.time,(function(t,s){return a("div",{key:s},["number"===t.type||"text"===t.type?a("MAInput",{attrs:{id:"text-input-id-"+t.label,isDisabled:!t.enabled,type:t.type,label:t.label},model:{value:e.store__settingsGroup.maps__DefaultValues__c[t.defaultValue].value,callback:function(s){e.$set(e.store__settingsGroup.maps__DefaultValues__c[t.defaultValue],"value",s)},expression:"store__settingsGroup.maps__DefaultValues__c[contingentOption.defaultValue].value"}}):e._e()],1)})),0):e._e(),e._v(" "),"defaultProximityType"===t.defaultValue&&["Circle","travelDistance"].includes(e.store__settingsGroup.maps__DefaultValues__c[t.defaultValue].value)?a("div",e._l(e.contingentOptions.radius,(function(t,s){return a("div",{key:s},["number"===t.type||"text"===t.type?a("MAInput",{attrs:{id:"text-input-id-"+t.label,isDisabled:!t.enabled,type:t.type,label:t.label},model:{value:e.store__settingsGroup.maps__DefaultValues__c[t.defaultValue].value,callback:function(s){e.$set(e.store__settingsGroup.maps__DefaultValues__c[t.defaultValue],"value",s)},expression:"store__settingsGroup.maps__DefaultValues__c[contingentOption.defaultValue].value"}}):e._e(),e._v(" "),"picklist"===t.type?a("MAPicklist",{attrs:{id:"picklist-id-"+t.label,doDetach:!0,hasNoneOption:t.allowNull,options:t.options,isDisabled:!t.enabled,keyString:t.keyString,valueString:t.valueString,label:t.label},model:{value:e.store__settingsGroup.maps__DefaultValues__c[t.defaultValue].value,callback:function(s){e.$set(e.store__settingsGroup.maps__DefaultValues__c[t.defaultValue],"value",s)},expression:"store__settingsGroup.maps__DefaultValues__c[contingentOption.defaultValue].value"}}):e._e()],1)})),0):e._e(),e._v(" "),"search"===t.type&&"plotOnLoadLayers"===t.defaultValue?a("MASearch",{ref:"ref-"+t.defaultValue,refInFor:!0,staticClass:"slds-col",attrs:{searches:e.queryLayer.searches,loadingLabel:"Loading...",noSearchResultsLabel:"No Results Found",placeholder:"Search for Layers",outputType:"list",inputClasses:"slds-combobox__input"},on:{clear:e.clearSearch,selected:e.addLayer},scopedSlots:e._u([{key:"result",fn:function(t){return a("span",{staticClass:"slds-listbox__option-text_entity slds-listbox__option slds-listbox__option_plain slds-grid",attrs:{id:"listbox-option-unique-id-01"}},[a("div",[a("div",{staticClass:"slds-text-body_small"},[e._v(e._s(e._f("decode")(t.result.label)))])])])}}],null,!0),model:{value:e.queryLayer.searchTerm,callback:function(t){e.$set(e.queryLayer,"searchTerm",t)},expression:"queryLayer.searchTerm"}}):e._e(),e._v(" "),"search"===t.type&&"plotOnLoadLayers"===t.defaultValue&&e.store__settingsGroup.maps__DefaultValues__c.plotOnLoadLayers.value.length>0?a("div",{staticClass:"slds-listbox_selection-group"},[a("ul",{staticClass:"slds-listbox slds-listbox_horizontal",attrs:{role:"listbox","aria-label":"Selected Options:","aria-orientation":"horizontal"}},e._l(e.store__settingsGroup.maps__DefaultValues__c.plotOnLoadLayers.value,(function(t,l){return a("li",{key:l,staticClass:"slds-listbox-item",attrs:{role:"presentation"}},[a("span",{staticClass:"slds-pill",attrs:{role:"option",tabindex:"0","aria-selected":"true"}},[a("span",{staticClass:"slds-pill__label",attrs:{title:"Accounts"}},[e._v(e._s(t.label))]),e._v(" "),a("span",{staticClass:"slds-icon_container slds-pill__remove",attrs:{title:"Remove"},on:{click:function(t){return e.removeLayer(l)}}},[a("MAIcon",{staticClass:"slds-icon slds-icon_x-small slds-icon-text-default",attrs:{src:s(539)}}),e._v(" "),a("span",{staticClass:"slds-assistive-text"},[e._v("Remove")])],1)])])})),0)]):e._e(),e._v(" "),"search"===t.type&&["defaultStartLocation","defaultEndLocation"].includes(t.defaultValue)?a("MASearch",{ref:"ref-"+t.defaultValue,refInFor:!0,staticClass:"search-full-width",attrs:{searches:e.favoriteSearches,placeholder:"Search for a Favorite Location...",loadingLabel:"Loading...",noSearchResultsLabel:"No Results Found"},on:{clear:function(s){return e.clearLocation(s,t.defaultValue)},selected:function(s){return e.setLocation(s,t.defaultValue)}},scopedSlots:e._u([{key:"result",fn:function(t){return a("span",{staticClass:"slds-listbox__option-text_entity slds-listbox__option slds-listbox__option_plain",attrs:{id:"listbox-option-unique-id-01"}},[e._v("\n                                                                "+e._s(e._f("decode")(t.result.Name))+"\n                                                            ")])}}],null,!0),model:{value:e.store__settingsGroup.maps__DefaultValues__c[t.defaultValue].value.label,callback:function(s){e.$set(e.store__settingsGroup.maps__DefaultValues__c[t.defaultValue].value,"label",s)},expression:"store__settingsGroup.maps__DefaultValues__c[setting.defaultValue].value.label"}}):e._e(),e._v(" "),"timepicker"===t.type&&"shiftBreakHours"!==t.defaultValue?a("div",[t.enabled?a("div",{staticClass:"slds-grid slds-grid--align-spread"},[a("MATimePicker",{attrs:{start:e.store__settingsGroup.maps__DefaultValues__c.schedule[t.defaultValue].value.startTime},on:{input:function(s){return e.selectTime(t.defaultValue)}},model:{value:e.store__settingsGroup.maps__DefaultValues__c.schedule[t.defaultValue].value.startTime,callback:function(s){e.$set(e.store__settingsGroup.maps__DefaultValues__c.schedule[t.defaultValue].value,"startTime",s)},expression:"store__settingsGroup.maps__DefaultValues__c.schedule[setting.defaultValue].value.startTime"}}),e._v(" "),a("MATimePicker",{attrs:{start:e.store__settingsGroup.maps__DefaultValues__c.schedule[t.defaultValue].value.endTime},on:{input:function(s){return e.selectTime(t.defaultValue)}},model:{value:e.store__settingsGroup.maps__DefaultValues__c.schedule[t.defaultValue].value.endTime,callback:function(s){e.$set(e.store__settingsGroup.maps__DefaultValues__c.schedule[t.defaultValue].value,"endTime",s)},expression:"store__settingsGroup.maps__DefaultValues__c.schedule[setting.defaultValue].value.endTime"}})],1):a("div",{staticClass:"slds-grid slds-grid--align-spread"},[a("div",{staticClass:"slds-form-element__control slds-input-has-icon slds-input-has-icon_right search-full-width"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.store__settingsGroup.maps__DefaultValues__c.schedule[t.defaultValue].value.startTime,expression:"store__settingsGroup.maps__DefaultValues__c.schedule[setting.defaultValue].value.startTime"}],staticClass:"slds-input",attrs:{type:"text",placeholder:"9:00 am",disabled:""},domProps:{value:e.store__settingsGroup.maps__DefaultValues__c.schedule[t.defaultValue].value.startTime},on:{input:function(s){s.target.composing||e.$set(e.store__settingsGroup.maps__DefaultValues__c.schedule[t.defaultValue].value,"startTime",s.target.value)}}}),e._v(" "),a("MAIcon",{attrs:{src:s(3469),iconClass:["slds-icon","slds-input__icon","slds-input__icon_left","slds-icon-text-default"]}})],1),e._v(" "),a("div",{staticClass:"slds-form-element__control slds-input-has-icon slds-input-has-icon_right search-full-width"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.store__settingsGroup.maps__DefaultValues__c.schedule[t.defaultValue].value.endTime,expression:"store__settingsGroup.maps__DefaultValues__c.schedule[setting.defaultValue].value.endTime"}],staticClass:"slds-input",attrs:{type:"text",placeholder:"5:00 pm",disabled:""},domProps:{value:e.store__settingsGroup.maps__DefaultValues__c.schedule[t.defaultValue].value.endTime},on:{input:function(s){s.target.composing||e.$set(e.store__settingsGroup.maps__DefaultValues__c.schedule[t.defaultValue].value,"endTime",s.target.value)}}}),e._v(" "),a("MAIcon",{attrs:{src:s(3469),iconClass:["slds-icon","slds-input__icon","slds-input__icon_left","slds-icon-text-default"]}})],1)])]):e._e(),e._v(" "),"timepicker"===t.type&&"shiftBreakHours"===t.defaultValue?a("div",[t.enabled?a("div",{staticClass:"slds-grid slds-grid--align-spread"},[a("MATimePicker",{attrs:{start:e.store__settingsGroup.maps__DefaultValues__c[t.defaultValue].value.startTime},model:{value:e.store__settingsGroup.maps__DefaultValues__c[t.defaultValue].value.startTime,callback:function(s){e.$set(e.store__settingsGroup.maps__DefaultValues__c[t.defaultValue].value,"startTime",s)},expression:"store__settingsGroup.maps__DefaultValues__c[setting.defaultValue].value.startTime"}}),e._v(" "),a("MATimePicker",{attrs:{start:e.store__settingsGroup.maps__DefaultValues__c[t.defaultValue].value.endTime},model:{value:e.store__settingsGroup.maps__DefaultValues__c[t.defaultValue].value.endTime,callback:function(s){e.$set(e.store__settingsGroup.maps__DefaultValues__c[t.defaultValue].value,"endTime",s)},expression:"store__settingsGroup.maps__DefaultValues__c[setting.defaultValue].value.endTime"}})],1):a("div",{staticClass:"slds-grid slds-grid--align-spread"},[a("div",{staticClass:"slds-form-element__control slds-input-has-icon slds-input-has-icon_right search-full-width"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.store__settingsGroup.maps__DefaultValues__c[t.defaultValue].value.startTime,expression:"store__settingsGroup.maps__DefaultValues__c[setting.defaultValue].value.startTime"}],staticClass:"slds-input",attrs:{type:"text",placeholder:"9:00 am",disabled:""},domProps:{value:e.store__settingsGroup.maps__DefaultValues__c[t.defaultValue].value.startTime},on:{input:function(s){s.target.composing||e.$set(e.store__settingsGroup.maps__DefaultValues__c[t.defaultValue].value,"startTime",s.target.value)}}}),e._v(" "),a("MAIcon",{attrs:{src:s(3469),iconClass:["slds-icon","slds-input__icon","slds-input__icon_left","slds-icon-text-default"]}})],1),e._v(" "),a("div",{staticClass:"slds-align_absolute-center slds-m-right_small"},[e._v("—")]),e._v(" "),a("div",{staticClass:"slds-form-element__control slds-input-has-icon slds-input-has-icon_right search-full-width"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.store__settingsGroup.maps__DefaultValues__c[t.defaultValue].value.endTime,expression:"store__settingsGroup.maps__DefaultValues__c[setting.defaultValue].value.endTime"}],staticClass:"slds-input",attrs:{type:"text",placeholder:"5:00 pm",disabled:""},domProps:{value:e.store__settingsGroup.maps__DefaultValues__c[t.defaultValue].value.endTime},on:{input:function(s){s.target.composing||e.$set(e.store__settingsGroup.maps__DefaultValues__c[t.defaultValue].value,"endTime",s.target.value)}}}),e._v(" "),a("MAIcon",{attrs:{src:s(3469),iconClass:["slds-icon","slds-input__icon","slds-input__icon_left","slds-icon-text-default"]}})],1)])]):e._e(),e._v(" "),"multiselect"===t.type?a("div",[a("MultiSelectPicklist",{staticClass:"slds-m-top_small"}),e._v(" "),a("div",{staticClass:"slds-p-around_xx-small slds-m-top_medium"},[e._v("* These columns will only appear in the selected tab.")]),e._v(" "),a("div",{staticClass:"slds-p-around_xx-small slds-m-bottom_medium"},[e._v("** These columns only appear in the selected tab when multiple layers are plotted.")])],1):e._e()],1),e._v(" "),a("td",{attrs:{"data-label":"Allow User Override"}},[void 0!==t.overridable?a("div",{staticClass:"slds-truncate slds-grid",attrs:{title:"Allow User Override"}},["timepicker"===t.type&&"shiftBreakHours"!==t.defaultValue?a("div",{staticClass:"slds-form-element"},[a("div",{staticClass:"slds-form-element__control"},[a("div",{staticClass:"slds-checkbox"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.store__settingsGroup.maps__DefaultValues__c.schedule[t.overridable].overridable,expression:"store__settingsGroup.maps__DefaultValues__c.schedule[setting.overridable].overridable"}],attrs:{id:"checkbox3-"+l+"-"+o+"-"+i+"-id",type:"checkbox"},domProps:{checked:Array.isArray(e.store__settingsGroup.maps__DefaultValues__c.schedule[t.overridable].overridable)?e._i(e.store__settingsGroup.maps__DefaultValues__c.schedule[t.overridable].overridable,null)>-1:e.store__settingsGroup.maps__DefaultValues__c.schedule[t.overridable].overridable},on:{change:function(s){var a=e.store__settingsGroup.maps__DefaultValues__c.schedule[t.overridable].overridable,l=s.target,i=!!l.checked;if(Array.isArray(a)){var o=e._i(a,null);l.checked?o<0&&e.$set(e.store__settingsGroup.maps__DefaultValues__c.schedule[t.overridable],"overridable",a.concat([null])):o>-1&&e.$set(e.store__settingsGroup.maps__DefaultValues__c.schedule[t.overridable],"overridable",a.slice(0,o).concat(a.slice(o+1)))}else e.$set(e.store__settingsGroup.maps__DefaultValues__c.schedule[t.overridable],"overridable",i)}}}),e._v(" "),a("label",{staticClass:"slds-checkbox__label",attrs:{for:"checkbox3-"+l+"-"+o+"-"+i+"-id"}},[a("span",{staticClass:"slds-checkbox_faux"})])])])]):a("div",{staticClass:"slds-form-element"},[a("div",{staticClass:"slds-form-element__control"},[a("div",{staticClass:"slds-checkbox"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.store__settingsGroup.maps__DefaultValues__c[t.overridable].overridable,expression:"store__settingsGroup.maps__DefaultValues__c[setting.overridable].overridable"}],attrs:{id:"checkbox4-"+l+"-"+o+"-"+i+"-id",type:"checkbox",disabled:!t.enabled},domProps:{checked:Array.isArray(e.store__settingsGroup.maps__DefaultValues__c[t.overridable].overridable)?e._i(e.store__settingsGroup.maps__DefaultValues__c[t.overridable].overridable,null)>-1:e.store__settingsGroup.maps__DefaultValues__c[t.overridable].overridable},on:{change:function(s){var a=e.store__settingsGroup.maps__DefaultValues__c[t.overridable].overridable,l=s.target,i=!!l.checked;if(Array.isArray(a)){var o=e._i(a,null);l.checked?o<0&&e.$set(e.store__settingsGroup.maps__DefaultValues__c[t.overridable],"overridable",a.concat([null])):o>-1&&e.$set(e.store__settingsGroup.maps__DefaultValues__c[t.overridable],"overridable",a.slice(0,o).concat(a.slice(o+1)))}else e.$set(e.store__settingsGroup.maps__DefaultValues__c[t.overridable],"overridable",i)}}}),e._v(" "),a("label",{staticClass:"slds-checkbox__label",attrs:{for:"checkbox4-"+l+"-"+o+"-"+i+"-id"}},[a("span",{staticClass:"slds-checkbox_faux"})])])])]),e._v(" "),"timepicker"===t.type&&"shiftBreakHours"!==t.defaultValue&&e.store__settingsGroup.maps__DefaultValues__c.schedule[t.defaultValue].errorMsg?a("div",{staticClass:"slds-col slds-text-color_error"},[e._v("\n                                                                "+e._s(e.store__settingsGroup.maps__DefaultValues__c.schedule[t.defaultValue].errorMsg)+"\n                                                            ")]):e._e()]):e._e()])])})),0)])])})),0)])}))],2)])])]),e._v(" "),e.isDefaultGroup?e._e():a("MATab",{attrs:{id:"Assignment",title:"Assignment"}},[a("Assignments")],1)],1)],1)],1)}),[],!1,null,"5efae851",null).exports,Q={components:{MASpinner:f.Z,MAExpandableSection:S,MATooltip:x.Z,MATabs:G.Z,MATab:V.Z,MultiSelectPicklist:z,Assignments:U},props:{options:{type:Array,required:!0},contingentOptions:{type:Object,required:!0}},data:()=>({readOnlyMode:!1,isLoading:!1,activeTab:"Details",buttonSet:[],atBottomOfPage:!1}),computed:{...(0,a.mapState)({store__toggle:"toggle",store__settingsGroup:"settingsGroup",store__entityIdsForInsert:"entityIdsForInsert",store__assignmentIdsForDelete:"assignmentIdsForDelete"}),isDefaultGroup(){return"Default"===this.store__settingsGroup.Name&&"defaultSettings"===this.store__settingsGroup.Id},showPersonalFolder:{get(){return!this.store__settingsGroup.maps__HidePersonalFolder__c},set(e){this.store__settingsGroup.maps__HidePersonalFolder__c=!e}}},async mounted(){this.store__settingsGroup.Id&&await this.$parent.populatePermissionGroup(this.store__settingsGroup.Id,"edit")},methods:{...(0,a.mapMutations)({store__setSettingsGroup:"setSettingsGroup"}),reset(){this.$store.commit("resetSettingsGroup"),this.store__toggle.showPermissionGroupView=!1},getSelectReadOnlyValue(e,t,s,a){const l=t?t.filter((t=>t[s]===e)):[];return l[0]?l[0][a]:null}}},Y=(0,g.Z)(Q,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"slds-card slds-grid slds-grid_vertical"},[a("MASpinner",{directives:[{name:"show",rawName:"v-show",value:e.isLoading,expression:"isLoading"}]}),e._v(" "),a("div",{staticClass:"slds-p-around_medium slds-m-bottom_xx-large"},[a("MATabs",{attrs:{activeTabId:e.activeTab},on:{"update:activeTabId":function(t){e.activeTab=t},"update:active-tab-id":function(t){e.activeTab=t},changed:function(t){return e.$parent.handleScroll()}}},[a("MATab",{attrs:{id:"Details",title:"Details"}},[a("div",e._l(e.options,(function(t,l){return a("MAExpandableSection",{key:l,staticClass:"desktopAndMobile",attrs:{isExpandable:!0,collapsedOnLoad:!1,sectionId:"detailsTab",title:""}},[a("div",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(t.section))]),e._v(" "),a("div",{attrs:{slot:"content"},slot:"content"},e._l(t.categories,(function(l,i){return a("div",{key:i,staticClass:"slds-p-around_small slds-m-bottom_medium"},[l.header?a("div",{staticClass:"slds-text-heading_small slds-m-bottom_small"},[e._v("\n                                    "+e._s(l.header)+"\n                                ")]):e._e(),e._v(" "),a("table",{staticClass:"slds-table slds-table_cell-buffer slds-table_bordered",class:{"slds-table_fixed-layout":"Mobile"!==t.section&&"Layers"!==l.header}},[a("thead",[a("tr",{staticClass:"slds-line-height_reset"},[a("th",{attrs:{scope:"col",width:"40px"}}),e._v(" "),a("th",{staticClass:"slds-cell-wrap",attrs:{scope:"col",width:"300px"}},[a("div",{staticClass:"slds-line-clamp",attrs:{title:"Setting"}},[e._v("\n                                                    Setting\n                                                ")])]),e._v(" "),a("th",{attrs:{scope:"col"}},[a("div",{staticClass:"slds-truncate",attrs:{title:"Value"}},[e._v("\n                                                    Value\n                                                ")])]),e._v(" "),a("th",{attrs:{scope:"col"}},[a("div",{staticClass:"slds-truncate",attrs:{title:"Allow User Override"}},[e._v("\n                                                    Allow User Override\n                                                ")])]),e._v(" "),e.isDefaultGroup?e._e():a("th",{attrs:{scope:"col",width:"30px"}})])]),e._v(" "),a("tbody",e._l(l.settings,(function(t,l){return a("tr",{key:l,staticClass:"slds-hint-parent"},[a("th",{attrs:{"data-label":"Help Text",scope:"row"}},[a("MATooltip",{attrs:{doDetach:!0,showIcon:!0}},[a("div",{attrs:{slot:"content"},slot:"content"},[a("p",[e._v(e._s(t.helpText))])])])],1),e._v(" "),a("th",{attrs:{"data-label":"Setting",scope:"row"}},[a("div",{staticClass:"slds-truncate",attrs:{title:t.label}},[e._v("\n                                                    "+e._s(t.label)+"\n                                                ")])]),e._v(" "),a("td",{attrs:{"data-label":"Value"}},["number"!==t.type&&"text"!==t.type||!t.fieldValue?e._e():a("div",{staticClass:"slds-form-element"},[a("div",{staticClass:"slds-form-element__control"},[a("input",{staticClass:"slds-input",attrs:{type:"text",readonly:""},domProps:{value:e.store__settingsGroup[t.fieldValue]}})])]),e._v(" "),"number"!==t.type&&"text"!==t.type||!t.defaultValue?e._e():a("div",{staticClass:"slds-form-element"},[a("div",{staticClass:"slds-form-element__control"},[a("input",{staticClass:"slds-input",attrs:{type:"text",readonly:""},domProps:{value:e.store__settingsGroup.maps__DefaultValues__c[t.defaultValue].value}})])]),e._v(" "),"checkbox"===t.type&&t.fieldValue&&"maps__HidePersonalFolder__c"!==t.fieldValue?a("div",{staticClass:"slds-form-element",attrs:{id:"checkbox-id-"+t.label}},[a("div",{staticClass:"slds-form-element__control"},[e.store__settingsGroup[t.fieldValue]?a("MAIcon",{staticClass:"slds-icon_container slds-current-color",class:{"slds-icon-utility-check":e.store__settingsGroup[t.fieldValue]},attrs:{title:e.store__settingsGroup[t.fieldValue],iconClass:["slds-icon","slds-icon_x-small"],assistiveText:"True",src:s(2083)}}):a("MAIcon",{staticClass:"slds-icon_container slds-current-color",class:{"slds-icon-utility-steps":!e.store__settingsGroup[t.fieldValue]},attrs:{title:e.store__settingsGroup[t.fieldValue],iconClass:["slds-icon","slds-icon_x-small"],assistiveText:"False",src:s(2929)}})],1)]):e._e(),e._v(" "),"checkbox"===t.type&&t.fieldValue&&"maps__HidePersonalFolder__c"===t.fieldValue?a("div",{staticClass:"slds-form-element",attrs:{id:"checkbox-id-"+t.label}},[a("div",{staticClass:"slds-form-element__control"},[e.showPersonalFolder?a("MAIcon",{staticClass:"slds-icon_container slds-current-color",class:{"slds-icon-utility-check":e.showPersonalFolder},attrs:{iconClass:["slds-icon","slds-icon_x-small"],assistiveText:"True",src:s(2083)}}):a("MAIcon",{staticClass:"slds-icon_container slds-current-color",class:{"slds-icon-utility-steps":!e.showPersonalFolder},attrs:{iconClass:["slds-icon","slds-icon_x-small"],assistiveText:"False",src:s(2929)}})],1)]):e._e(),e._v(" "),"checkbox"===t.type&&t.defaultValue?a("div",{staticClass:"slds-form-element",attrs:{id:"checkbox-id-"+t.label}},[a("div",{staticClass:"slds-form-element__control"},[e.store__settingsGroup.maps__DefaultValues__c[t.defaultValue].value?a("MAIcon",{staticClass:"slds-icon_container slds-current-color",class:{"slds-icon-utility-check":e.store__settingsGroup.maps__DefaultValues__c[t.defaultValue].value},attrs:{title:e.store__settingsGroup.maps__DefaultValues__c[t.defaultValue].value,iconClass:["slds-icon","slds-icon_x-small"],assistiveText:"True",src:s(2083)}}):a("MAIcon",{staticClass:"slds-icon_container slds-current-color",class:{"slds-icon-utility-steps":!e.store__settingsGroup.maps__DefaultValues__c[t.defaultValue].value},attrs:{title:e.store__settingsGroup.maps__DefaultValues__c[t.defaultValue].value,iconClass:["slds-icon","slds-icon_x-small"],assistiveText:"False",src:s(2929)}})],1)]):e._e(),e._v(" "),"picklist"===t.type&&t.fieldValue?a("div",{staticClass:"slds-form-element",attrs:{id:"picklist-id-"+t.label}},[a("div",{staticClass:"slds-form-element__control"},[a("input",{staticClass:"slds-input",attrs:{type:"text",readonly:""},domProps:{value:e.getSelectReadOnlyValue(e.store__settingsGroup[t.fieldValue],t.options,t.keyString,t.valueString)}})])]):e._e(),e._v(" "),"picklist"===t.type&&t.defaultValue?a("div",{staticClass:"slds-form-element",attrs:{id:"picklist-id-"+t.label}},[a("div",{staticClass:"slds-form-element__control"},[a("input",{staticClass:"slds-input",attrs:{type:"text",readonly:""},domProps:{value:e.getSelectReadOnlyValue(e.store__settingsGroup.maps__DefaultValues__c[t.defaultValue].value,t.options,t.keyString,t.valueString)||e.store__settingsGroup.maps__DefaultValues__c[t.defaultValue].value}})])]):e._e(),e._v(" "),"defaultProximityType"===t.defaultValue&&"travelTime"===e.store__settingsGroup.maps__DefaultValues__c[t.defaultValue].value?a("div",e._l(e.contingentOptions.time,(function(t,s){return a("div",{key:s},["number"===t.type||"text"===t.type?a("div",{staticClass:"slds-form-element",attrs:{id:"text-input-id-"+t.label}},[a("label",{staticClass:"slds-form-element__label"},[e._v(e._s(t.label))]),e._v(" "),a("div",{staticClass:"slds-form-element__control"},[a("input",{staticClass:"slds-input",attrs:{type:"text",readonly:""},domProps:{value:e.store__settingsGroup.maps__DefaultValues__c[t.defaultValue].value}})])]):e._e()])})),0):e._e(),e._v(" "),"defaultProximityType"===t.defaultValue&&["Circle","travelDistance"].includes(e.store__settingsGroup.maps__DefaultValues__c[t.defaultValue].value)?a("div",e._l(e.contingentOptions.radius,(function(t,s){return a("div",{key:s},["number"===t.type||"text"===t.type?a("div",{staticClass:"slds-form-element",attrs:{id:"text-input-id-"+t.label}},[a("label",{staticClass:"slds-form-element__label"},[e._v(e._s(t.label))]),e._v(" "),a("div",{staticClass:"slds-form-element__control"},[a("input",{staticClass:"slds-input",attrs:{type:"text",readonly:""},domProps:{value:e.store__settingsGroup.maps__DefaultValues__c[t.defaultValue].value}})])]):e._e(),e._v(" "),"picklist"===t.type?a("div",{staticClass:"slds-form-element",attrs:{id:"picklist-id-"+t.label}},[a("label",{staticClass:"slds-form-element__label"},[e._v(e._s(t.label))]),e._v(" "),a("div",{staticClass:"slds-form-element__control"},[a("input",{staticClass:"slds-input",attrs:{type:"text",readonly:""},domProps:{value:e.getSelectReadOnlyValue(e.store__settingsGroup.maps__DefaultValues__c[t.defaultValue].value,t.options,t.keyString,t.valueString)||e.store__settingsGroup.maps__DefaultValues__c[t.defaultValue].value}})])]):e._e()])})),0):e._e(),e._v(" "),"search"===t.type&&"plotOnLoadLayers"===t.defaultValue&&e.store__settingsGroup.maps__DefaultValues__c.plotOnLoadLayers.value.length>0?a("div",{staticClass:"slds-listbox_selection-group"},[a("ul",{staticClass:"slds-listbox slds-listbox_horizontal",attrs:{role:"listbox","aria-label":"Selected Options:","aria-orientation":"horizontal"}},e._l(e.store__settingsGroup.maps__DefaultValues__c.plotOnLoadLayers.value,(function(t,s){return a("li",{key:s,staticClass:"slds-listbox-item",attrs:{role:"presentation"}},[a("span",{staticClass:"slds-pill",attrs:{role:"option",tabindex:"0","aria-selected":"true"}},[a("span",{staticClass:"slds-pill__label",attrs:{title:"Accounts"}},[e._v(e._s(t.label))])])])})),0)]):e._e(),e._v(" "),"search"===t.type&&["defaultStartLocation","defaultEndLocation"].includes(t.defaultValue)?a("div",{staticClass:"slds-form-element"},[a("div",{staticClass:"slds-form-element__control"},[a("input",{staticClass:"slds-input",attrs:{type:"text",readonly:""},domProps:{value:e.store__settingsGroup.maps__DefaultValues__c[t.defaultValue].value.label}})])]):e._e(),e._v(" "),"timepicker"===t.type&&"shiftBreakHours"!==t.defaultValue?a("div",[a("div",{staticClass:"slds-grid slds-grid--align-spread"},[a("div",{staticClass:"slds-form-element"},[a("div",{staticClass:"slds-form-element__control"},[a("input",{staticClass:"slds-input",attrs:{type:"text",readonly:""},domProps:{value:e.store__settingsGroup.maps__DefaultValues__c.schedule[t.defaultValue].value.startTime}})])]),e._v(" "),a("div",{staticClass:"slds-form-element"},[a("div",{staticClass:"slds-form-element__control"},[a("input",{staticClass:"slds-input",attrs:{type:"text",readonly:""},domProps:{value:e.store__settingsGroup.maps__DefaultValues__c.schedule[t.defaultValue].value.endTime}})])])])]):e._e(),e._v(" "),"timepicker"===t.type&&"shiftBreakHours"===t.defaultValue?a("div",[a("div",{staticClass:"slds-grid slds-grid--align-spread"},[a("div",{staticClass:"slds-form-element"},[a("div",{staticClass:"slds-form-element__control"},[a("input",{staticClass:"slds-input",attrs:{type:"text",readonly:""},domProps:{value:e.store__settingsGroup.maps__DefaultValues__c[t.defaultValue].value.startTime}})])]),e._v(" "),a("div",{staticClass:"slds-form-element"},[a("div",{staticClass:"slds-form-element__control"},[a("input",{staticClass:"slds-input",attrs:{type:"text",readonly:""},domProps:{value:e.store__settingsGroup.maps__DefaultValues__c[t.defaultValue].value.endTime}})])])])]):e._e(),e._v(" "),"multiselect"===t.type?a("div",[a("MultiSelectPicklist",{staticClass:"slds-m-top_small"}),e._v(" "),a("div",{staticClass:"slds-p-around_xx-small slds-m-top_medium"},[e._v("* These columns will only appear in the selected tab.")]),e._v(" "),a("div",{staticClass:"slds-p-around_xx-small slds-m-bottom_medium"},[e._v("** These columns only appear in the selected tab when multiple layers are plotted.")])],1):e._e()]),e._v(" "),a("td",{attrs:{"data-label":"Allow User Override"}},[void 0!==t.overridable?a("div",{staticClass:"slds-truncate",attrs:{title:"Allow User Override"}},["timepicker"===t.type&&"shiftBreakHours"!==t.defaultValue?a("div",{staticClass:"slds-form-element"},[a("div",{staticClass:"slds-form-element__control"},[e.store__settingsGroup.maps__DefaultValues__c.schedule[t.overridable].overridable?a("MAIcon",{staticClass:"slds-icon_container slds-current-color",class:{"slds-icon-utility-check":e.store__settingsGroup.maps__DefaultValues__c.schedule[t.overridable].overridable},attrs:{title:e.store__settingsGroup.maps__DefaultValues__c.schedule[t.overridable].overridable,iconClass:["slds-icon","slds-icon_x-small"],assistiveText:"True",src:s(2083)}}):a("MAIcon",{staticClass:"slds-icon_container slds-current-color",class:{"slds-icon-utility-steps":!e.store__settingsGroup.maps__DefaultValues__c.schedule[t.overridable].overridable},attrs:{title:e.store__settingsGroup.maps__DefaultValues__c.schedule[t.overridable].overridable,iconClass:["slds-icon","slds-icon_x-small"],assistiveText:"False",src:s(2929)}})],1)]):a("div",{staticClass:"slds-form-element"},[a("div",{staticClass:"slds-form-element__control"},[e.store__settingsGroup.maps__DefaultValues__c[t.overridable].overridable?a("MAIcon",{staticClass:"slds-icon_container slds-current-color",class:{"slds-icon-utility-check":e.store__settingsGroup.maps__DefaultValues__c[t.overridable].overridable},attrs:{title:e.store__settingsGroup.maps__DefaultValues__c[t.overridable].overridable,iconClass:["slds-icon","slds-icon_x-small"],assistiveText:"True",src:s(2083)}}):a("MAIcon",{staticClass:"slds-icon_container slds-current-color",class:{"slds-icon-utility-steps":!e.store__settingsGroup.maps__DefaultValues__c[t.overridable].overridable},attrs:{title:e.store__settingsGroup.maps__DefaultValues__c[t.overridable].overridable,iconClass:["slds-icon","slds-icon_x-small"],assistiveText:"False",src:s(2929)}})],1)])]):e._e()]),e._v(" "),e.isDefaultGroup?e._e():a("td",{staticClass:"slds-text-align_right"},[a("button",{staticClass:"slds-button slds-button_icon",attrs:{title:"Edit"},on:{click:function(t){e.store__toggle.readOnlyMode=!1}}},[a("MAIcon",{attrs:{src:s(8949),assistiveText:"Edit",iconClass:["slds-button__icon","slds-button__icon_small","slds-icon-text-light"]}})],1)])])})),0)])])})),0)])})),1)]),e._v(" "),e.isDefaultGroup?e._e():a("MATab",{attrs:{id:"Assignment",title:"Assignment"}},[a("Assignments")],1)],1)],1)],1)}),[],!1,null,"6dab1c44",null).exports,{MAToastMessages:X}=window,K={components:{Dashboard:()=>({...(0,i.Z)(),component:s.e(7718).then(s.bind(s,6258))}),PermissionGroup:J,PermissionGroupReadonly:Y,AssignmentSearchModal:()=>({...(0,i.Z)(),component:s.e(8576).then(s.bind(s,1412))}),NewGroupModal:v},data(){return{atBottomOfPage:!1,buttonSet:[],mapTiles:[{Id:"Roadmap (ESRI)",Name:`ESRI ${this.$Labels.MA_Street}`},{Id:"Topography (ESRI)",Name:`ESRI ${this.$Labels.MA_TOPOGRAPHY}`},{Id:"Imagery (ESRI)",Name:`ESRI ${this.$Labels.MA_IMAGERY}`},{Id:"Roadmap (Google)",Name:`Google ${this.$Labels.MA_ROAD}`},{Id:"Terrain",Name:`Google ${this.$Labels.MA_TERRAIN}`},{Id:"Hybrid",Name:`Google ${this.$Labels.MA_HYBRID}`},{Id:"Satellite",Name:`Google ${this.$Labels.MA_SATELITTE}`}]}},computed:{...(0,a.mapState)({store__selectedGroup:"selectedGroup",store__toggle:"toggle",store__settingsGroup:"settingsGroup",store__entityIdsForInsert:"entityIdsForInsert",store__assignmentIdsForDelete:"assignmentIdsForDelete",store__config:"config"}),isDefaultGroup(){return"Default"===this.store__settingsGroup.Name&&"defaultSettings"===this.store__settingsGroup.Id},options(){return[{section:"Desktop and Mobile",categories:[{header:"General",settings:[{label:"Default Units",type:"picklist",options:[{id:"km",label:"Kilometers"},{id:"mi",label:"Miles"}],allowNull:!1,keyString:"id",valueString:"label",defaultValue:"units",enabled:!this.isDefaultGroup,overridable:"units",validationMsg:"errorMsg",helpText:"Set the units of measure users see until they change it"},{label:"Default Basemap",type:"picklist",options:this.mapTiles,allowNull:!1,keyString:"Id",valueString:"Name",fieldValue:"maps__DefaultMapTile__c",enabled:!this.isDefaultGroup,overridable:"defaultMapTile",validationMsg:"errorMsg",helpText:"Set the basemap users see until they change it"},{label:"Off-Platform Processing Location",type:"picklist",options:[{Id:"North America",Name:"North America"},{Id:"Europe",Name:"Europe"}],allowNull:!1,keyString:"Id",valueString:"Name",fieldValue:"maps__DataRegion__c",enabled:!this.isDefaultGroup,validationMsg:"errorMsg",helpText:'Select the processing location for data residency requirements. ***Before modifying, please confirm all endpoints containing "SFMapsAPI" are active in Setup > Security Controls > Remote Site Settings.'},{label:"Maps Object Search Language",type:"picklist",options:[{Id:"SOQL",Name:"Salesforce Object Query Language (SOQL)"},{Id:"SOSL",Name:"Salesforce Object Search Language (SOSL)"}],allowNull:!1,keyString:"Id",valueString:"Name",fieldValue:"maps__ObjectSearchLanguage__c",enabled:!this.isDefaultGroup,validationMsg:"errorMsg",helpText:"Set the query language Maps will use when searching Salesforce records in the Maps search bar."}]},{header:"Layers",settings:[{label:"Maximum Records to Plot",type:"number",fieldValue:"maps__MaxQuerySize__c",enabled:!this.isDefaultGroup,validationMsg:"errorMsg",helpText:"Maximum number of records to plot"},{label:"Maximum Records to Plot for External Objects",type:"number",fieldValue:"maps__MaxQuerySizeExternal__c",enabled:!this.isDefaultGroup,validationMsg:"errorMsg",helpText:"Maximum number of records to plot for External Objects"},{label:"Folder Administrator",type:"checkbox",fieldValue:"maps__FolderAdmin__c",enabled:!this.isDefaultGroup,validationMsg:"errorMsg",helpText:"With folder permissions enabled, let users set corporate folder permissions"},{label:"Show User Folders",type:"checkbox",fieldValue:"maps__ShowUserFolders__c",enabled:!this.isDefaultGroup,validationMsg:"errorMsg",helpText:"Make user folders visible according to role hierarchy"},{label:"Show Personal Folders",type:"checkbox",fieldValue:"maps__HidePersonalFolder__c",enabled:!this.isDefaultGroup,validationMsg:"errorMsg",helpText:"Let users access their personal folder"},{label:"Enable ArcGIS Layers",type:"checkbox",fieldValue:"maps__EnableArcGIS__c",enabled:!this.isDefaultGroup,validationMsg:"errorMsg",helpText:"Let users manage ArcGIS layers"},{label:"Manage Data Layers",type:"checkbox",fieldValue:"maps__CreateDataLayers__c",enabled:!this.isDefaultGroup,validationMsg:"errorMsg",helpText:"Let users manage data layers"},{label:"Manage Data Sources",type:"checkbox",fieldValue:"maps__SelfHostedDataUser__c",enabled:!this.isDefaultGroup&&this.isMapsAdvEnabled,validationMsg:"errorMsg",helpText:"Let users manage data sources"},{label:"Manage Territory Layers",type:"checkbox",fieldValue:"maps__TerritoryLayerCreation__c",enabled:!this.isDefaultGroup&&this.isMapsAdvEnabled,validationMsg:"errorMsg",helpText:"Let users manage territory layers"},{label:"Plot on Load Layers",type:"search",defaultValue:"plotOnLoadLayers",enabled:!this.isDefaultGroup,validationMsg:"errorMsg",helpText:"Select layers to plot on load for users"},{label:"Auto Check Out",type:"checkbox",fieldValue:"maps__AutoCheckOut__c",enabled:!this.isDefaultGroup,validationMsg:"errorMsg",helpText:"Check out when reps leave the location where they checked in"},{label:"Default Proximity Type",type:"picklist",options:[{id:"Circle",label:"As the Crow Flies"},{id:"travelTime",label:"Travel Time"},{id:"travelDistance",label:"Travel Distance"}],allowNull:!1,keyString:"id",valueString:"label",defaultValue:"defaultProximityType",enabled:!this.isDefaultGroup,overridable:"defaultProximityType",validationMsg:"errorMsg",helpText:"Set the default proximity type that appears when users select Set Proximity Center from a record's Actions tab"},{label:"Show Traffic Details",type:"checkbox",defaultValue:"enableTraffic",enabled:!this.isDefaultGroup,validationMsg:"errorMsg",helpText:"Let users overlay traffic details on the map"},{label:"Invert Proximity",type:"checkbox",defaultValue:"invertProximity",enabled:!this.isDefaultGroup,overridable:"invertProximity",validationMsg:"errorMsg",helpText:"Show markers that are outside the proximity"},{label:"Allow Bad Addresses to be Exported",type:"checkbox",defaultValue:"allowBadAddressExport",enabled:!this.isDefaultGroup,validationMsg:"errorMsg",helpText:"Let users export bad addresses from a marker layer"}]},{header:"Info Windows",settings:[{label:"Edit Details Tab Fields",type:"checkbox",fieldValue:"maps__EditableTooltips__c",enabled:!this.isDefaultGroup,validationMsg:"errorMsg",helpText:"Let users edit fields in the detail tab of a marker"},{label:"Enable Weather Tab",type:"checkbox",fieldValue:"maps__ShowWeather__c",enabled:!this.isDefaultGroup,validationMsg:"errorMsg",helpText:"Let users view weather for a marker"},{label:"Actions Tab Buttonset",type:"picklist",options:this.buttonSet,allowNull:!0,keyString:"Id",valueString:"Name",fieldValue:"maps__ButtonSet__c",enabled:!this.isDefaultGroup,validationMsg:"errorMsg",helpText:"Actions available to users"}]},{header:"Routes & Schedule",settings:[{label:"Show Routes Tab",type:"checkbox",defaultValue:"showRoutesTabDesktop",enabled:!this.isDefaultGroup,validationMsg:"errorMsg",helpText:"Show or hide the Routes feature for Desktop users"},{label:"Show Schedule Tab",type:"checkbox",defaultValue:"showScheduleTabDesktop",enabled:!this.isDefaultGroup,validationMsg:"errorMsg",helpText:"Show or hide the Schedule feature for Desktop users"},{label:"Default Transportation Mode",type:"picklist",options:[{id:"driving",label:"Driving"},{id:"walking",label:"Walking"},{id:"bicycling",label:"Bicycling"}],allowNull:!1,keyString:"id",valueString:"label",defaultValue:"defaultTransportationMode",enabled:!this.isDefaultGroup,overridable:"defaultTransportationMode",validationMsg:"errorMsg",helpText:"Travel mode for generating routes"},{label:"Optimization Method",type:"picklist",options:[{id:"fastest shift completion",label:"Fastest Shift Completion"},{id:"least windshield time",label:"Least Windshield Time"}],allowNull:!1,keyString:"id",valueString:"label",defaultValue:"optimizationMethod",enabled:!this.isDefaultGroup,overridable:"optimizationMethod",validationMsg:"errorMsg",helpText:"Optimization method for generating time-based routes and schedules"},{label:"Allow Duplicate Stops/Events",type:"checkbox",defaultValue:"enableDuplicateStops",enabled:!this.isDefaultGroup,overridable:"enableDuplicateStops",validationMsg:"errorMsg",helpText:"Let users add duplicate stops to routes and schedules"},{label:"Default Event Duration",type:"picklist",defaultValue:"stopEventDuration",options:this.buildDurationOptions(),allowNull:!1,keyString:"id",valueString:"label",enabled:!this.isDefaultGroup,overridable:"stopEventDuration",validationMsg:"errorMsg",helpText:"Duration for meetings, stops, and drop-offs"},{label:"Default Route Type",type:"picklist",defaultValue:"routeType",options:[{id:"Standard",label:"Standard"},{id:"TimeBased",label:"Time Based Route"}],allowNull:!1,keyString:"id",valueString:"label",enabled:!this.isDefaultGroup,overridable:"routeType",validationMsg:"errorMsg",helpText:"The default route type for when users create routes. Standard or time-based routes"},{label:"Default Start Location",type:"search",defaultValue:"defaultStartLocation",enabled:!this.isDefaultGroup,overridable:"defaultStartLocation",validationMsg:"errorMsg",helpText:"Let users save a default starting location"},{label:"Default End Location",type:"search",defaultValue:"defaultEndLocation",enabled:!this.isDefaultGroup,overridable:"defaultEndLocation",validationMsg:"errorMsg",helpText:"Let users save a default ending location"},{label:"Sunday Shift Hours",type:"timepicker",defaultValue:"sunday",enabled:!this.isDefaultGroup,overridable:"sunday",validationMsg:"errorMsg",helpText:"Set users' schedule times for Sundays"},{label:"Monday Shift Hours",type:"timepicker",defaultValue:"monday",enabled:!this.isDefaultGroup,overridable:"monday",validationMsg:"errorMsg",helpText:"Set users' schedule times for Mondays"},{label:"Tuesday Shift Hours",type:"timepicker",defaultValue:"tuesday",enabled:!this.isDefaultGroup,overridable:"tuesday",validationMsg:"errorMsg",helpText:"Set users' schedule times for Tuesdays"},{label:"Wednesday Shift Hours",type:"timepicker",defaultValue:"wednesday",enabled:!this.isDefaultGroup,overridable:"wednesday",validationMsg:"errorMsg",helpText:"Set users' schedule times for Wednesday"},{label:"Thursday Shift Hours",type:"timepicker",defaultValue:"thursday",enabled:!this.isDefaultGroup,overridable:"thursday",validationMsg:"errorMsg",helpText:"Set users' schedule times for Thursdays"},{label:"Friday Shift Hours",type:"timepicker",defaultValue:"friday",enabled:!this.isDefaultGroup,overridable:"friday",validationMsg:"errorMsg",helpText:"Set users' schedule times for Fridays"},{label:"Saturday Shift Hours",type:"timepicker",defaultValue:"saturday",enabled:!this.isDefaultGroup,overridable:"saturday",validationMsg:"errorMsg",helpText:"Set users' schedule times for Saturdays"},{label:"Include Shift Break",type:"checkbox",defaultValue:"includeBreak",enabled:!this.isDefaultGroup,overridable:"includeBreak",validationMsg:"errorMsg",helpText:"Let users include a break in a shift"},{label:"Break Time",type:"timepicker",defaultValue:"shiftBreakHours",enabled:!this.isDefaultGroup,overridable:"shiftBreakHours",validationMsg:"errorMsg",helpText:"Let users block time for a break"},{label:"Allow Routes to be Emailed",type:"checkbox",defaultValue:"allowRoutesEmailed",enabled:!this.isDefaultGroup,validationMsg:"errorMsg",helpText:"Let users email routes and route directions"}]},{header:"List",settings:[{label:"Maximum Records on Pages",type:"picklist",options:[10,20,30,40,50],allowNull:!1,defaultValue:"defaultPageSize",enabled:!this.isDefaultGroup,overridable:"defaultPageSize",validationMsg:"errorMsg",helpText:"Maximum number of records that appear on pages"},{label:"Default Column Visibility and Order",type:"multiselect",defaultValue:"columnsConfig",enabled:!this.isDefaultGroup,overridable:"columnsConfig",validationMsg:"errorMsg",helpText:"Set which columns appear on the list view"},{label:"Allow Marker Exports",type:"checkbox",fieldValue:"maps__AllowExports__c",enabled:!this.isDefaultGroup,validationMsg:"errorMsg",helpText:"Let users export markers from the map"},{label:"Export Maximum Records",type:"number",fieldValue:"maps__MaxExportSize__c",enabled:!this.isDefaultGroup,validationMsg:"errorMsg",helpText:"Maximum number of records that users can export from the map"}]}]},{section:"Mobile",categories:[{settings:[{label:"Show Routes Tab",type:"checkbox",defaultValue:"showRoutesTabMobile",enabled:!this.isDefaultGroup,validationMsg:"errorMsg",helpText:"Show or hide the Routes feature for Mobile users"},{label:"Show Schedule Tab",type:"checkbox",defaultValue:"showScheduleTabMobile",enabled:!this.isDefaultGroup,validationMsg:"errorMsg",helpText:"Show or hide the Schedule feature for Mobile users"},{label:"Maximum Records to Plot",type:"number",fieldValue:"maps__MobileQuerySize__c",enabled:!this.isDefaultGroup,overridable:"maxQueryMobile",validationMsg:"errorMsg",helpText:"Maximum number of records to plot on mobile devices"},{label:"Plot in Visible Area",type:"checkbox",defaultValue:"plotInVisibleArea",enabled:!this.isDefaultGroup,overridable:"plotInVisibleArea",validationMsg:"errorMsg",helpText:"Restrict records that users can view to the map area"},{label:"Enable Live Mobile Tracking",type:"checkbox",fieldValue:"maps__LiveMobileTracking__c",enabled:!this.isDefaultGroup&&this.isMapsLiveMobileEnabled,validationMsg:"errorMsg",helpText:"Give users access to Live Tracking"},{label:"My Location Zoom Level",type:"picklist",options:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22],allowNull:!1,defaultValue:"myLocationZoomLevel",enabled:!this.isDefaultGroup,validationMsg:"errorMsg",helpText:"Set the geolocation zoom for mobile devices"},{label:"Show Last Session's Layers, Routes, and Schedules",type:"checkbox",defaultValue:"retainMobileState",enabled:!this.isDefaultGroup,overridable:"retainMobileState",validationMsg:"errorMsg",helpText:"Default on or off if users see marker layers, routes, and schedules from the previous mobile session"},{label:"Schedule Based on Current Time and Location",type:"checkbox",defaultValue:"currentTimeAndLoc",enabled:!this.isDefaultGroup,overridable:"currentTimeAndLoc",validationMsg:"errorMsg",helpText:"Optimize schedules based on current user location and time"},{label:"Map It Proximity",type:"checkbox",defaultValue:"mapItProximity",enabled:!this.isDefaultGroup,overridable:"mapItProximity",validationMsg:"errorMsg",helpText:"Plot a proximity circle around markers created from the Map It button"},{label:"Set Folder Structure",type:"picklist",options:[{id:"showHierarchy",label:"Show Folder Hierarchy"},{id:"flatAlphabetical",label:"Flat Alphabetically"},{id:"flatFolder",label:"Flat Organized by Folder"}],keyString:"id",valueString:"label",allowNull:!1,defaultValue:"mobileFolderStructure",enabled:!this.isDefaultGroup,validationMsg:"errorMsg",helpText:"Set the appearance of layers and folders for mobile devices"}]}]}]},contingentOptions(){return{radius:[{label:"Default Proximity Radius Distance",type:"number",contingent:!0,defaultValue:"defaultProximityRadius",enabled:!this.isDefaultGroup,overridable:"defaultProximityType",helpText:"Set the default radius distance for circular proximity"},{label:"Default Proximity Radius Units",type:"picklist",contingent:!0,options:[{id:"MILES",label:"Miles"},{id:"KM",label:"Kilometers"},{id:"METERS",label:"Meters"},{id:"YARDS",label:"Yards"},{id:"FEET",label:"Feet"}],allowNull:!1,keyString:"id",valueString:"label",defaultValue:"defaultProximityUnits",enabled:!this.isDefaultGroup,overridable:"defaultProximityType",helpText:"Set the default units used for circular proximity"}],time:[{label:"Default Proximity Hours",type:"number",contingent:!0,defaultValue:"defaultProximityHours",enabled:!this.isDefaultGroup,overridable:"defaultProximityType",helpText:"Set the default hours for Travel distance proximity"},{label:"Default Proximity Minutes",type:"number",contingent:!0,defaultValue:"defaultProximityMins",enabled:!this.isDefaultGroup,overridable:"defaultProximityType",helpText:"Set the default minutes for Travel distance proximity"}]}},isMapsAdvEnabled:()=>window.advancedFeatureLicenseEnabled,isMapsLiveMobileEnabled:()=>window.liveTrackingFeatureLicenseEnabled},async mounted(){this.setButtonGroupWidth(),await this.getButtonSetInfo(),await this.getMapTilesInfo()},beforeCreate(){this.$store=new(l().Store)(u)},created(){window.addEventListener("scroll",this.handleScroll),window.addEventListener("resize",this.setButtonGroupWidth),this.reset()},destroyed(){window.removeEventListener("scroll",this.handleScroll),window.removeEventListener("resize",this.setButtonGroupWidth)},methods:{saveSettingsGroup:c.C,...(0,a.mapMutations)({store__setSettingsGroup:"setSettingsGroup",store__resetSettingsGroup:"resetSettingsGroup"}),createNewPermissionGroup(){this.store__resetSettingsGroup(),this.store__toggle.createMode="new",this.store__toggle.showNewGroupModal=!0},clonePermissionGroup(){this.store__toggle.createMode="clone",this.store__toggle.showNewGroupModal=!0},async getButtonSetInfo(){try{const e={action:"get_buttonset_info"},{results:t,success:s,details:a}=await this.$remote("maps.AdminAJAXResources.AdminStartUpAction",[e]);s?this.buttonSet=t:(X.showError({message:`${this.$Labels.MA_Error}. ${this.$Labels.Error_Getting_Button_Sets}.`,timeOut:6e3}),console.error(a))}catch(e){X.showError({message:`${this.$Labels.MA_Error}. ${e.event.message}.`,timeOut:6e3}),console.error(e)}},async getMapTilesInfo(){try{const e={action:"get_settings"},{mapTiles:t,success:s,details:a}=await this.$remote("maps.AdminAJAXResources.AdminStartUpAction",[e]);s?(this.mapTiles=[...this.mapTiles,...t],0===this.mapTiles.filter((e=>e.Id===this.store__settingsGroup.maps__DefaultMapTile__c)).length&&(this.store__settingsGroup.maps__DefaultMapTile__c="Roadmap (ESRI)",this.store__setSettingsGroup(this.store__settingsGroup))):(X.showError({message:`${this.$Labels.MA_Error}. ${this.$Labels.Error_Getting_Custom_Map_Tiles}.`,timeOut:6e3}),console.error(a))}catch(e){console.error(e),X.showError({message:`${this.$Labels.MA_Error}. ${e.event.message}.`,timeOut:6e3})}},async populatePermissionGroup(e,t){this.isLoading=!0;try{const{group:s,success:a,error:l}=await this.$remote("maps.UserAJAXResources.GetSettingsGroupById",[e]);if(a){switch(t){case"edit":"defaultSettings"===e&&(s.Id=e);break;case"clone":delete s.Id,s.Name=`Copy of ${s.Name}`,s.maps__Description__c="Custom Permission Group",this.store__toggle.saveOnCreate=!0;break;default:console.error(`mode undefined or invalid: ${t}`)}this.store__setSettingsGroup(s),"clone"===t&&(this.store__toggle.readOnlyMode=!1),this.store__toggle.showPermissionGroupView=!0,this.setButtonGroupWidth()}else X.showError({message:"Error",subMessage:"Could not get Permission Group details",timeOut:8e3}),console.error(l)}catch(e){X.showError({message:"Error",subMessage:"Remoting Error",timeOut:8e3}),console.error(e)}finally{this.isLoading=!1}},async saveChanges(){this.isLoading=!0,await(0,c.C)(this.store__settingsGroup,this.store__entityIdsForInsert,this.store__assignmentIdsForDelete,!0)&&(this.store__toggle.showPermissionGroupView=!1,this.reset(),this.store__toggle.readOnlyMode=!0),this.isLoading=!1},cancelAction(){this.store__toggle.readOnlyMode?this.reset():(this.store__settingsGroup.Id||this.reset(),this.store__toggle.readOnlyMode=!0)},reset(){this.$store.commit("resetSettingsGroup"),this.store__toggle.showPermissionGroupView=!1},buildDurationOptions(){const e=[];let t=5;for(;t<360;){const s=`${Math.floor(t/60)} hr, ${t%60} min`;e.push({label:s,id:s}),t+=5}return e},setButtonGroupWidth(){this.$refs.actionButtonGroup&&(this.$refs.actionButtonGroup.style.width=`${this.$refs.settingsContainer.getBoundingClientRect().width}px`)},handleScroll(){this.$nextTick((()=>{const e=this.$refs.settingsContainer?this.$refs.settingsContainer.getBoundingClientRect():null,t=this.$refs.actionButtonGroup?this.$refs.actionButtonGroup.getBoundingClientRect():null;e&&t&&(e.bottom<=window.innerHeight+t.height?this.atBottomOfPage=!0:e.bottom>=window.innerHeight-t.height&&(this.atBottomOfPage=!1))}))}}},ee=(0,g.Z)(K,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{height:"100%"},attrs:{id:"app"}},[a("div",{staticClass:"slds-is-relative slds-p-top_medium",class:{"slds-p-bottom_medium":e.store__toggle.showPermissionGroupView}},[a("div",{staticClass:"slds-page-header slds-page-header_record-home",class:{"slds-has-bottom-magnet":!e.store__toggle.showPermissionGroupView}},[a("div",{staticClass:"slds-page-header__row"},[a("div",{staticClass:"slds-page-header__col-title"},[a("div",{staticClass:"slds-media"},[a("div",{staticClass:"slds-media__figure"},[a("span",{staticClass:"slds-icon_container slds-icon-standard-screen",attrs:{slot:"icon"},slot:"icon"},[a("MAIcon",{staticClass:"slds-icon_container slds-icon-standard-screen",attrs:{src:s(7964),iconClass:["slds-icon","ma-Maps-icon"]}})],1)]),e._v(" "),a("div",{staticClass:"slds-media__body"},[a("div",{staticClass:"slds-page-header__name"},[a("div",{staticClass:"slds-page-header__name-title"},[a("h1",[a("span",[e._v("Salesforce Maps Permission Groups")]),e._v(" "),a("span",{staticClass:"slds-page-header__title slds-truncate",attrs:{title:e.store__selectedGroup}},[e._v(e._s(e.store__selectedGroup))])])])])])])]),e._v(" "),a("div",{staticClass:"slds-page-header__col-actions"},[a("div",{staticClass:"slds-page-header__controls"},[e.store__toggle.showPermissionGroupView?e._e():a("div",{staticClass:"slds-page-header__control"},[a("div",{staticClass:"slds-form-element__control slds-input-has-icon slds-input-has-icon_left-right",staticStyle:{"min-width":"250px"}},[a("MAIcon",{attrs:{src:s(2181),iconClass:["slds-icon","slds-input__icon","slds-input__icon_left","slds-icon-text-default"]}}),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.store__config.filterTerm,expression:"store__config.filterTerm"}],staticClass:"slds-input",attrs:{id:"text-input-id-1",type:"text",placeholder:"Search Permission Groups..."},domProps:{value:e.store__config.filterTerm},on:{input:function(t){t.target.composing||e.$set(e.store__config,"filterTerm",t.target.value)}}}),e._v(" "),a("button",{staticClass:"slds-button slds-button_icon slds-input__icon slds-input__icon_right",attrs:{title:"Clear"},on:{click:function(t){e.store__config.filterTerm=null}}},[a("MAIcon",{attrs:{src:s(41),iconClass:["slds-button__icon","slds-icon-text-light"]}}),e._v(" "),a("span",{staticClass:"slds-assistive-text"},[e._v("Clear")])],1)],1)]),e._v(" "),a("div",{staticClass:"slds-page-header__control"},[a("ul",{staticClass:"slds-button-group-list"},[e.store__toggle.showPermissionGroupView?e._e():a("li",[a("button",{staticClass:"slds-button slds-button_neutral slds-m-left_x-small",attrs:{type:"button"},on:{click:function(t){return e.createNewPermissionGroup()}}},[e._v("\n                                        New\n                                    ")])]),e._v(" "),e.store__toggle.showPermissionGroupView?a("li",[a("button",{staticClass:"slds-button slds-button_neutral slds-m-left_x-small",attrs:{type:"button",disabled:e.isDefaultGroup||!e.store__toggle.readOnlyMode},on:{click:function(t){e.store__toggle.readOnlyMode=!e.store__toggle.readOnlyMode}}},[e._v("\n                                        Edit\n                                    ")])]):e._e(),e._v(" "),e.store__toggle.showPermissionGroupView?a("li",[a("button",{staticClass:"slds-button slds-button_neutral slds-m-left_x-small",attrs:{type:"button"},on:{click:function(t){return e.clonePermissionGroup()}}},[e._v("\n                                        Clone\n                                    ")])]):e._e()])])])])]),e._v(" "),e.store__toggle.showPermissionGroupView?a("div",{staticClass:"slds-page-header__row slds-page-header__row_gutters"},[a("div",{staticClass:"slds-page-header__col-details"},[a("ul",{staticClass:"slds-page-header__detail-row"},[a("li",{staticClass:"slds-p-around_x-small"},[a("div",{staticClass:"slds-text-title",attrs:{title:"Salesforce Maps Permission Group Name"}},[e._v("\n                                Salesforce Maps Permission Group Name\n                            ")]),e._v(" "),a("div",{staticClass:"slds-truncate",attrs:{title:"Permission Group Name"}},[e._v("\n                                "+e._s(e.store__settingsGroup.Name)+"\n                            ")])]),e._v(" "),a("li",{staticClass:"slds-p-around_x-small"},[a("div",{staticClass:"slds-text-title",attrs:{title:"Salesforce Maps Permission Group Description"}},[e._v("\n                                Salesforce Maps Permission Group Description\n                            ")]),e._v(" "),a("div",{staticClass:"slds-truncate",attrs:{title:"Permission Group Description"}},[e._v("\n                                "+e._s(e.store__settingsGroup.maps__Description__c)+"\n                            ")])])])])]):e._e()])]),e._v(" "),e.store__toggle.showPermissionGroupView?e._e():a("Dashboard",{staticClass:"slds-card slds-p-bottom_xx-large slds-has-top-magnet"}),e._v(" "),a("div",{ref:"settingsContainer",staticClass:"slds-is-relative"},[e.store__toggle.showPermissionGroupView&&!e.store__toggle.readOnlyMode?a("PermissionGroup",{attrs:{options:e.options,contingentOptions:e.contingentOptions}}):e._e(),e._v(" "),e.store__toggle.showPermissionGroupView&&e.store__toggle.readOnlyMode?a("PermissionGroupReadonly",{attrs:{options:e.options,contingentOptions:e.contingentOptions}}):e._e(),e._v(" "),e.store__toggle.showPermissionGroupView?a("div",{ref:"actionButtonGroup",staticClass:"slds-grid slds-grid_align-center slds-p-around_small action-button-group",class:{fixed:!e.atBottomOfPage}},[a("div",{staticClass:"slds-col"},[a("ul",{staticClass:"slds-button-group-row"},[a("li",{staticClass:"slds-button-group-item"},[a("button",{staticClass:"slds-button slds-button_neutral",on:{click:function(t){return e.cancelAction()}}},[e._v("\n                            "+e._s(e.store__toggle.readOnlyMode?"Back":e.store__settingsGroup.Id?"Cancel":"Back")+"\n                        ")])]),e._v(" "),a("li",{staticClass:"slds-button-group-item"},[a("button",{staticClass:"slds-button slds-button_brand",attrs:{disabled:e.isDefaultGroup||e.store__toggle.readOnlyMode},on:{click:function(t){return e.saveChanges()}}},[e._v("\n                            Save\n                        ")])]),e._v(" "),e._m(0)])])]):e._e()],1),e._v(" "),e.store__toggle.showSearchModal?a("AssignmentSearchModal"):e._e(),e._v(" "),e.store__toggle.showNewGroupModal?a("NewGroupModal"):e._e()],1)}),[function(){var e=this.$createElement,t=this._self._c||e;return t("li",[t("div",{staticClass:"slds-dropdown-trigger slds-dropdown-trigger_click"})])}],!1,null,"475e238f",null).exports},4141:(e,t,s)=>{"use strict";s.d(t,{Z:()=>o});var a=s(675),l=s(8969);const i={name:"MAModal",components:{MASpinner:a.Z,MAIconInline:l.Z},props:{title:{type:String,required:!0},doDetach:{type:Boolean,default:!1},isLoading:{type:Boolean,default:!1},isLarge:{type:Boolean,default:!1},closeLabel:{type:String,default:"Close"},isSmall:{type:Boolean,default:!1},hideCloseButton:{type:Boolean,default:!1},isBodyless:{type:Boolean,default:!1},isPrompt:{type:Boolean,default:!1}},data:()=>({supressScrollEmitter:!1,container:null}),mounted(){this.doDetach&&this.detach(),this.$emit("mounted"),setTimeout((()=>{this.$refs.backdrop.classList.add("slds-backdrop_open")}),1),setTimeout((()=>{this.$refs.section.classList.add("slds-fade-in-open")}),250)},beforeDestroy(){this.container&&(this.container.remove(),this.container=null)},methods:{detach(){this.container=document.createElement("div"),this.container.className=`slds-scope ${this.$el.className}`,this.container.appendChild(this.$el),document.body.appendChild(this.container)},modalClass(){return{"slds-modal_small":this.isSmall,"slds-modal_large":this.isLarge,"slds-modal_prompt":this.isPrompt}}}},o=(0,s(1900).Z)(i,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("section",{ref:"section",staticClass:"slds-modal",class:e.modalClass(),attrs:{role:"dialog",tabindex:"-1"}},[a("div",{staticClass:"slds-modal__container"},[a("header",{staticClass:"slds-modal__header",class:{"slds-theme_alert-texture slds-theme_error":e.isPrompt}},[e.hideCloseButton?e._e():a("button",{staticClass:"slds-button slds-button_icon slds-modal__close slds-button_icon-inverse",attrs:{title:e.closeLabel},on:{click:function(t){return e.$emit("close")}}},[a("MAIconInline",{attrs:{svg:s(8137),iconClass:["slds-button__icon","slds-button__icon--large"]}}),e._v(" "),a("span",{staticClass:"slds-assistive-text"},[e._v(e._s(e.closeLabel))])],1),e._v(" "),a("h2",{staticClass:"slds-text-heading_medium slds-hyphenate",attrs:{id:"modal-heading-01"}},[e._v("\n                    "+e._s(e.title)+"\n                ")]),e._v(" "),e._t("tagline")],2),e._v(" "),e.isBodyless?e._e():a("div",{ref:"content",staticClass:"slds-modal__content slds-p-around_medium slds-is-relative"},[e.isLoading?a("MASpinner"):e._e(),e._v(" "),e._t("content",(function(){return[e._v("default content")]}))],2),e._v(" "),e.isLoading?e._e():a("footer",{staticClass:"slds-modal__footer",class:{"ma-footer-bodyless":e.isBodyless}},[e._t("footer",(function(){return[e._v("default footer")]}))],2)])]),e._v(" "),a("div",{ref:"backdrop",staticClass:"slds-backdrop"})])}),[],!1,null,"44928138",null).exports},5747:(e,t,s)=>{"use strict";s.d(t,{Z:()=>l});const a={name:"MATab",props:{id:{type:String,required:!0},title:{type:String,required:!0},renderImmediately:{type:Boolean,default:!1},isDisabled:{type:Boolean,default:!1},forceReloadWhenActivated:{type:Boolean,default:!1},isValid:{type:Boolean,default:!0},isSectionHeader:{type:Boolean,default:!1},sectionIsLocked:{type:Boolean,default:!1},link:{type:[String,Function],default:""}},data:()=>({isActive:!1,isVertical:!1,isLoaded:!1}),computed:{tabClass(){return this.isVertical?"slds-vertical-tabs":"slds-tabs_default"}},watch:{isActive(){this.isLoaded||this.forceReloadWhenActivated||(this.isLoaded=!0)}},mounted(){this.isVertical=this.$parent.$el.classList.contains("slds-vertical-tabs")},methods:{getCSSClasses(){const e=[this.isActive?"slds-show":"slds-hide"];return e.push(`${this.tabClass}__content`),e}}},l=(0,s(1900).Z)(a,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.renderImmediately||e.isActive||e.isLoaded?s("div",{class:e.getCSSClasses()},[e._t("default",null,{state:{isActive:e.isActive,isLoaded:e.isLoaded}})],2):e._e()}),[],!1,null,null,null).exports},1595:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var a=s(3826);const l={name:"MATabs",components:{MAIconInline:s(8969).Z},mixins:[a.Z],props:{isVertical:{type:Boolean,default:!1,validation:()=>!(void 0).isScoped},isScoped:{type:Boolean,default:!1,validation:()=>!(void 0).isVertical},activeTabId:{type:[String,Number],default:null},isNavigation:{type:Boolean,default:!1,validation:()=>(void 0).isVertical}},data:()=>({tabs:[],$activeTabId:null}),computed:{tabClass(){let e="slds-tabs_default";return this.isScoped?e="slds-tabs_scoped":this.isVertical&&(e="slds-vertical-tabs"),e}},watch:{tabs(){this.tabs&&this.tabs.length&&this.setActiveTab()},activeTabId(){this.setActiveTab()}},mounted(){this.tabs=this.$children},methods:{setActiveTab(){this.activeTabId?this.selectTab(this.activeTabId):this.selectTab(this.tabs[0].id)},getListItemCSSClasses(e){if(e.isSectionHeader)return[];const t=[];return!this.isNavigation&&this.isVertical?t.push(`${this.tabClass}__nav-item`):this.isNavigation&&this.isVertical?t.push("slds-nav-vertical__item"):t.push(`${this.tabClass}__item`),e.isActive&&t.push("slds-is-active"),e.isValid||t.push("slds-has-error"),t},clickHandler(e,t){t.link?"function"==typeof t.link?t.link():window.open(t.link,"self"):this.selectTab(t.id,e)},selectTab(e){if(this.$activeTabId===e)return;const t=this.tabs.find((t=>t.id===e));t&&!t.isDisabled&&(this.tabs.forEach((e=>{e.isActive=e.id===t.id})),this.$activeTabId=e,this.$emit("changed",t.id),this.$emit("update:activeTabId",e))}}},i=(0,s(1900).Z)(l,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:[e.tabClass]},[a("ul",{class:[e.isNavigation?"navigation-list":e.tabClass+"__nav"],attrs:{role:"tablist"}},[e._l(e.tabs,(function(t,l){return t.$vnode&&t.$vnode.tag.includes("MATab")?a("li",{key:l,class:e.getListItemCSSClasses(t),attrs:{title:e.decodeHtml(t.title),role:"presentation"}},[t.isSectionHeader?a("h2",{staticClass:"slds-nav-vertical__title",class:{"section-disabled":t.sectionIsLocked}},[e._v("\n                "+e._s(e.decodeHtml(t.title))+"\n            ")]):a("a",{class:[e.isNavigation?"slds-nav-vertical__action":e.tabClass+"__link"],attrs:{href:"javascript:void(0);",role:"tab",tabindex:"0"},on:{click:function(s){return e.clickHandler(s,t)}}},[e._v("\n                "+e._s(e.decodeHtml(t.title))+"\n                "),t.isValid?e._e():a("span",{class:[e.isVertical?"slds-vertical-tabs__right-icon":"slds-tabs__right-icon"]},[a("MAIconInline",{staticClass:"slds-icon_container slds-icon-utility-error",attrs:{svg:s(6413),iconClass:["slds-icon","slds-icon_x-small","slds-icon-text-error"],assistiveText:"This item has an error"}})],1)])]):e._e()})),e._v(" "),e._t("additionalContent")],2),e._v(" "),e._t("default")],2)}),[],!1,null,"5ed7b1ff",null).exports},2775:(e,t,s)=>{"use strict";s.d(t,{Z:()=>m});var a=s(2680),l=s.n(a),i=s(1318),o=s.n(i),r=s(5616),n=s.n(r),d=s(7754),u=s.n(d),c=s(623),_=s.n(c);const p={components:{MAPicklist:s(7391).Z},props:{placeholder:{type:String,default:"Set start time..."},isTwentyFourHour:{type:Boolean,default:!1},clearLabel:{type:String,default:"Clear"},noResultsFoundLabel:{type:String,default:"No Results Found"},start:{type:String,required:!0},interval:{type:Object,default:()=>({h:1,m:0}),validator:e=>e&&void 0!==e.h&&void 0!==e.m?0===e.h&&0===e.m?(e.h=1,-1):1:(console.warn("Interval must contain h and m properties"),e.h=1,e.m=0,-1)}},data:()=>({time:"",times:[]}),created(){},mounted(){this.times=[...this.getHours()],this.parseStart()},methods:{getHours(){const e=[];let t=new Date("12/1/1971");for(;u()(t,new Date("12/2/1971"));){let s="";s=this.isTwentyFourHour?n()(t,"HH:mm"):n()(t,"hh:mm a"),e.push({key:s,value:s}),t=n()(l()(t,this.interval.h),"HH:mm DD/MM/YYYY"),t=n()(o()(t,this.interval.m),"HH:mm DD/MM/YYYY")}return e},selectTime(e){if(""!==e)try{const t=this.isTwentyFourHour?"HH:mm":"h:mm a",s=new Date(`1/1/2001 ${e}`);_()(s)?(this.time=n()(s,t),this.$emit("input",this.time)):this.time=this.start}catch(e){console.warn(`Failed to parse start time: ${e}`)}else this.$emit("input",this.time)},parseStart(){try{const e=this.isTwentyFourHour?"HH:mm":"h:mm a",t=new Date(`1/1/2001 ${this.start}`);_()(t)?(this.time=n()(t,e),this.$emit("input",this.time)):this.time=""}catch(e){console.warn(`Failed to parse start time: ${e}`)}}}},m=(0,s(1900).Z)(p,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"slds-grid"},[s("div",{staticClass:"slds-form-element inline slds-p-right_small time-based-start-select-wrap"},[s("MAPicklist",{attrs:{options:e.times,useCombobox:!0,doDetach:!0,hasNoneOption:!1,placeholder:e.placeholder,showLabel:!1,clearLabel:e.clearLabel,noSearchResultsLabel:e.noResultsFoundLabel},on:{input:e.selectTime},model:{value:e.time,callback:function(t){e.time=t},expression:"time"}})],1)])}),[],!1,null,"e212d932",null).exports}}]);