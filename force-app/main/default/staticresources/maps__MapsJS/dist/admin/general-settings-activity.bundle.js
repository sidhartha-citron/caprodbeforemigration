(globalThis.webpackChunkmaps_desktop=globalThis.webpackChunkmaps_desktop||[]).push([[4807],{713:(t,s,e)=>{"use strict";e.d(s,{_:()=>i,a:()=>a});const i=(t,s)=>{if(t&&"object"==typeof t&&Array.isArray(s)){for(;s.length&&t;)t=t[s.shift()];return t}},a=(t,s="maps__")=>{try{const e=new Set(["marker","scatterMarker","clusterMarker","clusterGroup","workers","DeviceHistory","orderedPolyline","distanceLimitCircle","heatmapLayer"]);Object.entries(t).forEach((([i,c])=>{if(!e.has(i))if(i.startsWith(s)){const e=i.replace(s,"");t[e]=c,delete t[i],null!=t[e]&&"object"==typeof t[e]&&a(t[e],s)}else"object"==typeof c&&a(c,s)}))}catch(t){}return t}},8137:t=>{t.exports='<svg xmlns=http://www.w3.org/2000/svg x=0px y=0px width=52px height=52px viewBox="0 0 52 52" enable-background="new 0 0 52 52" xml:space=preserve> <path fill=#FFFFFF d="M31,25.4L44,12.3c0.6-0.6,0.6-1.5,0-2.1L42,8.1c-0.6-0.6-1.5-0.6-2.1,0L26.8,21.2c-0.4,0.4-1,0.4-1.4,0\r\n\tL12.3,8c-0.6-0.6-1.5-0.6-2.1,0l-2.1,2.1c-0.6,0.6-0.6,1.5,0,2.1l13.1,13.1c0.4,0.4,0.4,1,0,1.4L8,39.9c-0.6,0.6-0.6,1.5,0,2.1\r\n\tl2.1,2.1c0.6,0.6,1.5,0.6,2.1,0L25.3,31c0.4-0.4,1-0.4,1.4,0l13.1,13.1c0.6,0.6,1.5,0.6,2.1,0l2.1-2.1c0.6-0.6,0.6-1.5,0-2.1\r\n\tL31,26.8C30.6,26.4,30.6,25.8,31,25.4z"/> </svg> '},8186:t=>{t.exports='<svg xmlns=http://www.w3.org/2000/svg x=0px y=0px width=52px height=52px viewBox="0 0 52 52" enable-background="new 0 0 52 52" xml:space=preserve> <path fill=#FFFFFF d="M26,2C12.7,2,2,12.7,2,26s10.7,24,24,24s24-10.7,24-24S39.3,2,26,2z M26,14.1c1.7,0,3,1.3,3,3s-1.3,3-3,3\r\n\ts-3-1.3-3-3S24.3,14.1,26,14.1z M31,35.1c0,0.5-0.4,0.9-1,0.9h-3c-0.4,0-3,0-3,0h-2c-0.5,0-1-0.3-1-0.9v-2c0-0.5,0.4-1.1,1-1.1l0,0\r\n\tc0.5,0,1-0.3,1-0.9v-4c0-0.5-0.4-1.1-1-1.1l0,0c-0.5,0-1-0.3-1-0.9v-2c0-0.5,0.4-1.1,1-1.1h6c0.5,0,1,0.5,1,1.1v8\r\n\tc0,0.5,0.4,0.9,1,0.9l0,0c0.5,0,1,0.5,1,1.1V35.1z"/> </svg> '},9718:t=>{t.exports='<svg xmlns=http://www.w3.org/2000/svg x=0px y=0px width=52px height=52px viewBox="0 0 52 52" enable-background="new 0 0 52 52" xml:space=preserve> <path fill=#FFFFFF d="M26,2C12.7,2,2,12.7,2,26s10.7,24,24,24s24-10.7,24-24S39.3,2,26,2z M39.4,20L24.1,35.5\r\n\tc-0.6,0.6-1.6,0.6-2.2,0L13.5,27c-0.6-0.6-0.6-1.6,0-2.2l2.2-2.2c0.6-0.6,1.6-0.6,2.2,0l4.4,4.5c0.4,0.4,1.1,0.4,1.5,0L35,15.5\r\n\tc0.6-0.6,1.6-0.6,2.2,0l2.2,2.2C40.1,18.3,40.1,19.3,39.4,20z"/> </svg> '},5953:t=>{t.exports='<svg xmlns=http://www.w3.org/2000/svg width=52 height=52 viewBox="0 0 52 52"><path fill=#fff d="m51.4 42.5l-22.9-37c-1.2-2-3.8-2-5 0l-22.9 37c-1.4 2.3 0 5.5 2.5 5.5h45.8c2.5 0 4-3.2 2.5-5.5z m-25.4-2.5c-1.7 0-3-1.3-3-3s1.3-3 3-3 3 1.3 3 3-1.3 3-3 3z m3-9c0 0.6-0.4 1-1 1h-4c-0.6 0-1-0.4-1-1v-13c0-0.6 0.4-1 1-1h4c0.6 0 1 0.4 1 1v13z"></path></svg>'},3946:(t,s,e)=>{"use strict";e.r(s),e.d(s,{default:()=>d});var i=e(713),a=e(7391),c=e(675),l=e(8607),n=e(5908);const o={components:{MAPicklist:a.Z,MASpinner:c.Z,MAToast:l.Z},data:()=>({test:"",options:[],isLoading:!1,durationOptions:[{label:"0 hr, 30 min",value:"30"},{label:"1 hr, 0 min",value:"60"},{label:"1 hr, 30 min",value:"90"},{label:"2 hr, 0 min",value:"120"},{label:"2 hr, 30 min",value:"150"},{label:"3 hr, 0 min",value:"180"}],duration:"30",createdLatitude:"",createdLocationAccuracy:"",createdLongitude:"",createdLocationVerified:"",createdDistanceFromRecord:"",checkOutLatitude:"",checkOutAccuracy:"",checkOutLongitude:"",checkOutDistanceFromRecord:"",checkOutDate:"",customDisposition:"",fieldSets:[],toast:{message:null,state:"fail"}}),computed:{...(0,n.mapState)({settings__booleanFields:"booleanFields",settings__dateTimeFields:"dateTimeFields",settings__numberFields:"numberFields",settings__settings:"settings"})},created(){this.init()},methods:{...(0,n.mapActions)({settings__getActivityFields:"getActivityFields",settings__getFieldSets:"getFieldSets",settings__saveActivitySettings:"saveActivitySettings",settings__getSettings:"getSettings"}),init(){this.isLoading=!0;const t=this.getSettigns(),s=this.settings__getActivityFields(),e=this.getFieldSets();Promise.all([t,s,e]).finally((()=>{this.isLoading=!1}))},getActivityFields(){this.isLoading=!0,this.settings__getActivityFields().finally((()=>{this.isLoading=!1}))},getSettigns(){return new Promise((t=>{this.settings__getSettings().then((t=>{this.updateSettings(t)})).finally((()=>{t()}))}))},getFieldSets(){return new Promise((t=>{this.settings__getFieldSets().then((t=>{this.fieldSets=t})).finally((()=>{t()}))}))},updateSettings(t){this.duration=(0,i._)(t,["Activity-DefaultDuration","maps__Value__c"])||"30",this.createdLatitude=(0,i._)(t,["Activity-CreatedLatitude","maps__Value__c"])||"",this.createdLocationAccuracy=(0,i._)(t,["Activity-CreatedLocationAccuracy","maps__Value__c"])||"",this.createdLongitude=(0,i._)(t,["Activity-CreatedLongitude","maps__Value__c"])||"",this.createdLocationVerified=(0,i._)(t,["Activity-CreatedLocationVerified","maps__Value__c"])||"",this.createdDistanceFromRecord=(0,i._)(t,["Activity-DistanceFromRecord","maps__Value__c"])||"",this.checkOutLatitude=(0,i._)(t,["Activity-CheckOutLatitude","maps__Value__c"])||"",this.checkOutAccuracy=(0,i._)(t,["Activity-CheckOutAccuracy","maps__Value__c"])||"",this.checkOutLongitude=(0,i._)(t,["Activity-CheckOutLongitude","maps__Value__c"])||"",this.checkOutDistanceFromRecord=(0,i._)(t,["Activity-CheckOutDistanceFromRecord","maps__Value__c"])||"",this.checkOutDate=(0,i._)(t,["Activity-CheckOutDate","maps__Value__c"])||"",this.customDisposition=(0,i._)(t,["Activity-FieldSet","maps__Value__c"])||""},saveActivitySettings(){const t={serializedFields:JSON.stringify({"Activity-DefaultDuration":this.duration,"Activity-CheckOutAccuracy":this.checkOutAccuracy||"","Activity-CheckOutDate":this.checkOutDate||"","Activity-CheckOutDistanceFromRecord":this.checkOutDistanceFromRecord||"","Activity-CreatedLocationAccuracy":this.createdLocationAccuracy||"","Activity-CheckOutLatitude":this.checkOutLatitude||"","Activity-CheckOutLongitude":this.checkOutLongitude||"","Activity-CreatedLatitude":this.createdLatitude||"","Activity-CreatedLongitude":this.createdLongitude||"","Activity-CreatedLocationVerified":this.createdLocationVerified,"Activity-DistanceFromRecord":this.createdDistanceFromRecord,"Activity-FieldSet":this.customDisposition||""})};this.isLoading=!0,this.settings__saveActivitySettings(t).then((()=>{window.MAToastMessages.showSuccess({message:"Success"})})).catch((t=>{window.MAToastMessages.showError({message:"Save Error",subMessage:t.message,timeOut:1e4,closeButton:!0})})).finally((()=>{this.isLoading=!1}))},suggestFields(){let t=!1;for(let s=0;s<this.settings__booleanFields.length;s++){const e=this.settings__booleanFields[s];if(this.createdLocationVerified)break;{const s=e.name.toLowerCase(),i=["location","verified","created"];this.findMatch(s,i)&&(this.createdLocationVerified=e.value,t=!0)}}for(let s=0;s<this.settings__dateTimeFields.length;s++){const e=this.settings__dateTimeFields[s];if(this.checkOutDate)break;{const s=e.name.toLowerCase(),i=["check","out","date"];this.findMatch(s,i)&&(this.checkOutDate=e.value,t=!0)}}for(let s=0;s<this.settings__numberFields.length;s++){const e=this.settings__numberFields[s],i=e.name.toLowerCase();if(!this.checkOutAccuracy){const s=["check","out","accuracy"];this.findMatch(i,s)&&(this.checkOutAccuracy=e.value,t=!0)}if(!this.checkOutDistanceFromRecord){const s=["distance","from","record"];this.findMatch(i,s)&&(this.checkOutDistanceFromRecord=e.value,t=!0)}if(!this.createdLocationAccuracy){const s=["created","location","accuracy"];this.findMatch(i,s)&&(this.createdLocationAccuracy=e.value,t=!0)}if(!this.checkOutLatitude){const s=["check","out","latitude"];this.findMatch(i,s)&&(this.checkOutLatitude=e.value,t=!0)}if(!this.checkOutLongitude){const s=["check","out","longitude"];this.findMatch(i,s)&&(this.checkOutLongitude=e.value,t=!0)}if(!this.createdLatitude){const s=["created","latitude"];this.findMatch(i,s)&&(this.createdLatitude=e.value,t=!0)}if(!this.createdLongitude){const s=["created","longitude"];this.findMatch(i,s)&&(this.createdLongitude=e.value,t=!0)}if(!this.createdDistanceFromRecord){const s=["distance","from","record"];this.findMatch(i,s)&&(this.createdDistanceFromRecord=e.value,t=!0)}}t||(this.toast.state="warning",this.toast.message="Unable to locate fields to suggest. Please continue with manual field mapping.")},findMatch(t="",s=[]){const e=t.split(" "),i=[];for(let t=0;t<e.length;t++){const a=String(e[t]).toLowerCase();for(let t=0;t<s.length;t++){const e=String(s[t]).toLowerCase();if(a.indexOf(e)>-1){i.push(e);break}}}return i.length===s.length}}},d=(0,e(1900).Z)(o,(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{attrs:{id:"TopTabs-ActivitySettings"}},[null!=t.toast.message?e("MAToast",{attrs:{msg:t.toast.message,state:t.toast.state},on:{close:function(s){t.toast.message=null}}}):t._e(),t._v(" "),t.isLoading?e("MASpinner"):t._e(),t._v(" "),e("div",[e("div",{staticClass:"slds-section slds-m-bottom_large slds-is-open activityfielddetails"},[t._m(0),t._v(" "),e("div",{staticClass:"slds-section__content section__content"},[e("div",{staticClass:"slds-grid"},[e("div",{staticClass:"slds-col slds-size_1-of-1 slds-large-size_3-of-4"},[e("div",{staticClass:"slds-form slds-form_compound"},[e("fieldset",{staticClass:"slds-form-element"},[e("div",{staticClass:"slds-form-element__group"},[e("div",{staticClass:"slds-form-element__row"},[e("div",{staticClass:"slds-form-element slds-size_1-of-2"},[e("MAPicklist",{staticClass:"slds-p-vertical_xx-small",attrs:{options:t.settings__numberFields,doDetach:!0,label:t.$Labels.MA_Created_Latitude,keyString:"value",valueString:"name"},model:{value:t.createdLatitude,callback:function(s){t.createdLatitude=s},expression:"createdLatitude"}})],1),t._v(" "),e("div",{staticClass:"slds-form-element slds-size_1-of-2"},[e("MAPicklist",{staticClass:"slds-p-vertical_xx-small",attrs:{options:t.settings__numberFields,doDetach:!0,label:t.$Labels.MA_Created_Location_Accuracy,keyString:"value",valueString:"name"},model:{value:t.createdLocationAccuracy,callback:function(s){t.createdLocationAccuracy=s},expression:"createdLocationAccuracy"}})],1)]),t._v(" "),e("div",{staticClass:"slds-form-element__row"},[e("div",{staticClass:"slds-form-element slds-size_1-of-2"},[e("MAPicklist",{staticClass:"slds-p-vertical_xx-small",attrs:{options:t.settings__numberFields,doDetach:!0,label:t.$Labels.MA_Created_Longitude,keyString:"value",valueString:"name"},model:{value:t.createdLongitude,callback:function(s){t.createdLongitude=s},expression:"createdLongitude"}})],1),t._v(" "),e("div",{staticClass:"slds-form-element slds-size_1-of-2"},[e("MAPicklist",{staticClass:"slds-p-vertical_xx-small",attrs:{options:t.settings__booleanFields,doDetach:!0,label:t.$Labels.MA_Created_Location_Verified,keyString:"value",valueString:"name"},model:{value:t.createdLocationVerified,callback:function(s){t.createdLocationVerified=s},expression:"createdLocationVerified"}})],1)]),t._v(" "),e("div",{staticClass:"slds-form-element__row"},[e("div",{staticClass:"slds-form-element slds-size_1-of-2"},[e("MAPicklist",{staticClass:"slds-p-vertical_xx-small",attrs:{options:t.settings__numberFields,doDetach:!0,label:t.$Labels.MA_Distance_from_Record,keyString:"value",valueString:"name"},model:{value:t.createdDistanceFromRecord,callback:function(s){t.createdDistanceFromRecord=s},expression:"createdDistanceFromRecord"}})],1),t._v(" "),e("div",{staticClass:"slds-form-element slds-size_1-of-2"},[e("MAPicklist",{staticClass:"slds-p-vertical_xx-small",attrs:{options:t.durationOptions,doDetach:!0,hasNoneOption:!1,label:"Default Duration",keyString:"value",valueString:"label"},model:{value:t.duration,callback:function(s){t.duration=s},expression:"duration"}})],1)])])])])])])])]),t._v(" "),e("div",{staticClass:"slds-section slds-m-bottom_large slds-is-open activityfielddetails"},[t._m(1),t._v(" "),e("div",{staticClass:"slds-section__content section__content"},[e("div",{staticClass:"slds-grid"},[e("div",{staticClass:"slds-col slds-size_1-of-1 slds-large-size_3-of-4"},[e("div",{staticClass:"slds-form slds-form_compound"},[e("fieldset",{staticClass:"slds-form-element"},[e("div",{staticClass:"slds-form-element__group"},[e("div",{staticClass:"slds-form-element__row"},[e("div",{staticClass:"slds-form-element slds-size_1-of-2"},[e("MAPicklist",{staticClass:"slds-p-vertical_xx-small",attrs:{options:t.settings__numberFields,doDetach:!0,label:t.$Labels.MA_Check_Out_Latitude,keyString:"value",valueString:"name"},model:{value:t.checkOutLatitude,callback:function(s){t.checkOutLatitude=s},expression:"checkOutLatitude"}})],1),t._v(" "),e("div",{staticClass:"slds-form-element slds-size_1-of-2"},[e("MAPicklist",{staticClass:"slds-p-vertical_xx-small",attrs:{options:t.settings__numberFields,doDetach:!0,label:t.$Labels.MA_Check_Out_Accuracy,keyString:"value",valueString:"name"},model:{value:t.checkOutAccuracy,callback:function(s){t.checkOutAccuracy=s},expression:"checkOutAccuracy"}})],1)]),t._v(" "),e("div",{staticClass:"slds-form-element__row"},[e("div",{staticClass:"slds-form-element slds-size_1-of-2"},[e("MAPicklist",{staticClass:"slds-p-vertical_xx-small",attrs:{options:t.settings__numberFields,doDetach:!0,label:t.$Labels.MA_Check_Out_Longitude,keyString:"value",valueString:"name"},model:{value:t.checkOutLongitude,callback:function(s){t.checkOutLongitude=s},expression:"checkOutLongitude"}})],1),t._v(" "),e("div",{staticClass:"slds-form-element slds-size_1-of-2"},[e("MAPicklist",{staticClass:"slds-p-vertical_xx-small",attrs:{options:t.settings__numberFields,doDetach:!0,label:t.$Labels.MA_Distance_from_Record,keyString:"value",valueString:"name"},model:{value:t.checkOutDistanceFromRecord,callback:function(s){t.checkOutDistanceFromRecord=s},expression:"checkOutDistanceFromRecord"}})],1)]),t._v(" "),e("div",{staticClass:"slds-form-element__row"},[e("div",{staticClass:"slds-form-element slds-size_1-of-2"},[e("MAPicklist",{staticClass:"slds-p-vertical_xx-small",attrs:{options:t.settings__dateTimeFields,doDetach:!0,label:t.$Labels.MA_Check_Out_Date,keyString:"value",valueString:"name"},model:{value:t.checkOutDate,callback:function(s){t.checkOutDate=s},expression:"checkOutDate"}})],1)])])])])])])])]),t._v(" "),e("div",{staticClass:"slds-section slds-m-bottom_large slds-is-open activityfielddetails"},[t._m(2),t._v(" "),e("div",{staticClass:"slds-section__content section__content"},[e("div",{staticClass:"slds-grid"},[e("div",{staticClass:"slds-col slds-size_1-of-1 slds-large-size_3-of-4"},[e("div",{staticClass:"slds-form slds-form_compound"},[e("fieldset",{staticClass:"slds-form-element"},[e("div",{staticClass:"slds-form-element__group"},[e("div",{staticClass:"slds-form-element__row"},[e("div",{staticClass:"slds-form-element slds-size_1-of-2"},[e("MAPicklist",{staticClass:"slds-p-vertical_xx-small",attrs:{options:t.fieldSets,doDetach:!0,label:"Field Set",keyString:"value",valueString:"name"},model:{value:t.customDisposition,callback:function(s){t.customDisposition=s},expression:"customDisposition"}})],1)])])])])])])])])]),t._v(" "),e("div",{staticClass:"ActivityFieldButtons"},[e("button",{staticClass:"slds-button slds-button_brand",on:{click:t.saveActivitySettings}},[t._v("\n            "+t._s(t.$Labels.MA_Save)+"\n        ")]),t._v(" "),e("button",{staticClass:"slds-button slds-button_brand",on:{click:t.suggestFields}},[t._v("\n            Suggest\n        ")]),t._v(" "),e("span",{staticClass:"msgs",staticStyle:{color:"red","font-size":"10px",display:"none"}})])],1)}),[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"slds-section__title slds-theme--shade"},[e("span",{staticClass:"section-header-title slds-p-horizontal--small slds-truncate"},[t._v("Check In Fields")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"slds-section__title slds-theme--shade"},[e("span",{staticClass:"section-header-title slds-p-horizontal--small slds-truncate"},[t._v("Check Out Fields")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"slds-section__title slds-theme--shade"},[e("span",{staticClass:"section-header-title slds-p-horizontal--small slds-truncate"},[t._v("Custom Disposition")])])}],!1,null,null,null).exports},8607:(t,s,e)=>{"use strict";e.d(s,{Z:()=>l});var i=e(8969);const a=new Map;a.set("info",{divClass:"slds-theme_info"}),a.set("success",{divClass:"slds-theme_success"}),a.set("warning",{divClass:"slds-theme_warning"}),a.set("error",{divClass:"slds-theme_error"});const c={name:"MAToast",components:{MAIconInline:i.Z},props:{msg:{type:String,required:!1,default:""},state:{type:String,default:"error",validate:t=>t&&(void 0).stateMap.has(t)},closeLabel:{type:String,default:"Close"}},data:()=>({stateMap:a}),methods:{close(){this.$emit("close")}}},l=(0,e(1900).Z)(c,(function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"slds-grid slds-grid_vertical-align-center ma-wrapper"},[i("div",{staticClass:"slds-spinner_container"}),t._v(" "),i("div",{staticClass:"slds-notify_container slds-is-relative"},[i("div",{staticClass:"slds-notify slds-notify_toast ma-toast",class:t.stateMap.get(t.state).divClass,attrs:{role:"alert"}},[i("span",{staticClass:"slds-assistive-text"},[t._v(t._s(t.state))]),t._v(" "),i("MAIconInline",{directives:[{name:"show",rawName:"v-show",value:"error"===t.state,expression:"state === 'error'"}],staticClass:"slds-icon_container slds-m-right_small slds-no-flex slds-align-top",attrs:{svg:e(6413),iconClass:["slds-button__icon","slds-button__icon_large"]}}),t._v(" "),i("MAIconInline",{directives:[{name:"show",rawName:"v-show",value:"success"===t.state,expression:"state === 'success'"}],staticClass:"slds-icon_container slds-m-right_small slds-no-flex slds-align-top",attrs:{svg:e(9718),iconClass:["slds-button__icon","slds-button__icon_large"]}}),t._v(" "),i("MAIconInline",{directives:[{name:"show",rawName:"v-show",value:"info"===t.state,expression:"state === 'info'"}],staticClass:"slds-icon_container slds-m-right_small slds-no-flex slds-align-top",attrs:{svg:e(8186),iconClass:["slds-button__icon","slds-button__icon_large"]}}),t._v(" "),i("MAIconInline",{directives:[{name:"show",rawName:"v-show",value:"warning"===t.state,expression:"state === 'warning'"}],staticClass:"slds-icon_container slds-m-right_small slds-no-flex slds-align-top",attrs:{svg:e(5953),iconClass:["slds-button__icon","slds-button__icon_large"]}}),t._v(" "),i("div",{staticClass:"slds-notify__content"},[t._t("default",(function(){return[i("div",[t._v(t._s(t.msg))])]}))],2),t._v(" "),i("button",{staticClass:"slds-button slds-button_icon slds-notify__close slds-button_icon-inverse",attrs:{title:t.closeLabel},on:{click:t.close}},[i("MAIconInline",{staticClass:"slds-icon_container",attrs:{svg:e(8137),iconClass:["slds-button__icon","slds-button__icon_large"]}}),t._v(" "),i("span",{staticClass:"slds-assistive-text"},[t._v(t._s(t.closeLabel))])],1)],1)])])}),[],!1,null,"2d0cadea",null).exports}}]);