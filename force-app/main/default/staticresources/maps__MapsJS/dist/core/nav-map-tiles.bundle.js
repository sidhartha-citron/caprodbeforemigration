"use strict";(globalThis.webpackChunkmaps_desktop=globalThis.webpackChunkmaps_desktop||[]).push([[683],{7678:(e,s,t)=>{t.r(s),t.d(s,{default:()=>l});var i=t(2134);const a={props:{numberOfTilesInRow:{type:Number,default:4},visible:{type:Boolean,required:!0}},data(){return{tiles:[{name:"esri_street",label:`ESRI ${this.$Labels.MA_Street}`,imageURL:window.MASystem.Images.streetsTile,isCustom:!0,tileURL:i.Z.getEsriTileUrl("esri_street")},{name:"esri_topography",label:`ESRI ${this.$Labels.MA_TOPOGRAPHY}`,imageURL:window.MASystem.Images.topographyTile,isCustom:!0,tileURL:i.Z.getEsriTileUrl("esri_topography")},{name:"esri_imagery",label:`ESRI ${this.$Labels.MA_IMAGERY}`,imageURL:window.MASystem.Images.imageryTile,isCustom:!0,tileURL:i.Z.getEsriTileUrl("esri_imagery")},{name:"roadmap (Google)",label:`Google ${this.$Labels.MA_ROAD}`,imageURL:window.MASystem.Images.roadmapTile,isCustom:!1,tileURL:""},{name:"terrain",label:`Google ${this.$Labels.MA_TERRAIN}`,imageURL:window.MASystem.Images.terrainTile,isCustom:!1,tileURL:""},{name:"hybrid",label:`Google ${this.$Labels.MA_HYBRID}`,imageURL:window.MASystem.Images.hybridTile,isCustom:!1,tileURL:""},{name:"satellite",label:`Google ${this.$Labels.MA_SATELITTE}`,imageURL:window.MASystem.Images.satelliteTile,isCustom:!1,tileURL:""}],activeTileNameOrId:"esri_street"}},computed:{tileRows(){const e=window.MA.Map.customTiles||[],s=[];for(let t=0;t<e.length;t++){const i=e[t],a=JSON.parse(i.maps__Options__c)||{},l=a&&"object"==typeof a?a.url:"";s.push({name:i.Id,label:i.Name,imageURL:window.MASystem.Images.customMapTile,isCustom:!0,tileURL:l})}const t=[...this.tiles,...s];return window.MA.Util.createBatchable(t,this.numberOfTilesInRow)},tileClassObject(e){return{active:"object"==typeof e&&e.name===this.activeTileNameOrId}}},created(){this.$bus.$on("add-map-tiles",this.addMapTiles),this.$bus.$on("map-type-updated",this.mapTypeUpdated);const e=window.getProperty(window.userSettings||{},"defaultMapSettings.mapType",!1)||"esri_street";this.activeTileNameOrId=e.replace("google_","")},destroyed(){this.$bus.$off("add-map-tiles"),this.$bus.$off("map-type-updated",this.mapTypeUpdated)},methods:{addMapTiles(e){Array.isArray(e)&&(this.tiles=this.tiles.concat(e))},mapTypeTileClick(e){e.isCustom?(this.$bus.$emit("remove-base-esri-attribution"),this.$bus.$emit("add-base-esri-attribution",e.name),window.MA.Map.updateCustomType(null,e.tileURL,e.name)):window.MA.Map.updateMapType({mapTypeId:e.name}),this.activeTileNameOrId=e.name},close(){this.$emit("update:visible",!1)},mapTypeUpdated(e){e&&(this.activeTileNameOrId=e)}}},l=(0,t(1900).Z)(a,(function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("section",{staticClass:"slds-popover popover-act-like-dropdown",attrs:{id:"mapTileDropdownWrap"}},[t("div",{staticClass:"slds-popover__body",attrs:{id:"mapTileDropdownInner"}},[t("div",{staticClass:"map-tile-group slds-grid slds-grid_vertical",attrs:{id:"mapTileDropdownMapWrap"}},[t("div",{staticClass:"map-type-header slds-grid slds-grid slds-grid_vertical-align-center"},[t("div",{staticClass:"slds-col"},[t("h2",{staticClass:"slds-align-middle slds-text-heading_small"},[e._v(e._s(e.$Labels.MA_Map_Types))])]),e._v(" "),t("div",[t("button",{staticClass:"slds-button slds-button_icon slds-button_icon-small",on:{click:e.close}},[t("span",{staticClass:"slds-button__icon ma-icon ma-icon-close"})])])]),e._v(" "),t("div",{staticClass:"map-type-body slds-col"},e._l(e.tileRows,(function(s,i){return t("div",{key:i,staticClass:"slds-grid"},e._l(s,(function(s,i){return t("div",{key:i,staticClass:"map-tile-map-type",class:{active:s.name==e.activeTileNameOrId},on:{click:function(t){return e.mapTypeTileClick(s)}}},[t("div",{staticClass:"map-tile-image-wrap"},[t("img",{attrs:{src:s.imageURL}})]),e._v(" "),t("div",{staticClass:"map-tile-label"},[e._v("\n                            "+e._s(s.label)+"\n                        ")]),e._v(" "),t("div",{staticClass:"active-check"}),e._v(" "),t("span",{staticClass:"active-check-icon ma-icon ma-icon-check"})])})),0)})),0)])])])}),[],!1,null,"0146af59",null).exports}}]);