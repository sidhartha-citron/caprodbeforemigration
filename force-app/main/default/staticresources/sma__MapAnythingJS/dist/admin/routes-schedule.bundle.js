(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{164:function(t,e,o){"use strict";var n=o(3),s=o(16),i=o(0),a=o(101),r=o(102);n(n.P+n.R,"Promise",{finally:function(t){var e=a(this,s.Promise||i.Promise),o="function"==typeof t;return this.then(o?function(o){return r(e,t()).then((function(){return o}))}:t,o?function(o){return r(e,t()).then((function(){throw o}))}:t)}})},186:function(t,e,o){var n=o(207);n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals),(0,o(32).default)("2ae93bf6",n,!0,{})},193:function(t,e,o){"use strict";o(98),o(172);var n=o(196),s=o.n(n),i="slds-nubbin_bottom",a={name:"MATooltip",description:"Renders a SLDS-themed tooltip.",props:{inForm:{type:Boolean,default:!1},showIcon:{type:Boolean,default:!1},bindToParent:{type:Boolean,default:!1},bindTo:{type:HTMLElement|Function,default:function(){}},source:{type:HTMLElement|Function,default:function(){}},forceShow:{type:Boolean,default:!1},nubbinREM:{type:Number,default:1.8},renderDelay:{type:Number,default:0},helpLabel:{type:String,default:"Help"},noWrap:{type:Boolean,default:!1}},data:function(){return{showEl:!1,container:null,el:null,bindToStored:this.bindTo,sourceStored:null,nubbin:i}},computed:{doShow:function(){return this.forceShow||this.showEl}},watch:{showEl:function(t){if(t){var e=this.bindToStored?this.bindToStored:this.$refs.icon,o=this.$refs.popover;this.renderDelay?setTimeout(this.detach.bind(this,e,o),this.renderDelay):this.detach(e,o)}else this.destroy()},source:function(t){this.sourceStored=t},sourceStored:function(t){if(this.bindToStored&&!t)throw new Error("If using a custom binding element for MATooltip, a source element must be provided.");t&&!this.bindToStored&&(this.bindToStored=t),t&&(t.addEventListener("mouseover",this.enter),t.addEventListener("mouseout",this.leave)),this.sourceStored=t},bindTo:function(t){this.bindToStored=t}},mounted:function(){this.bindToParent&&(this.bindToStored=this.$el.parentNode),this.bindTo&&(this.bindToStored="function"==typeof this.bindTo?this.bindTo():this.bindTo),this.source?this.sourceStored="function"==typeof this.source?this.source():this.source:this.sourceStored=this.showIcon?this.$refs.icon:this.$el.parentNode},beforeDestroy:function(){this.destroy(),this.sourceStored&&(this.sourceStored.removeEventListener("mouseover",this.enter),this.sourceStored.removeEventListener("mouseout",this.leave))},methods:{enter:function(){this.showEl=!0},leave:function(t){var e=t.toElement||t.relatedTarget;this.sourceStored&&s.a.contains(this.sourceStored,e)||this.el===e||this.el&&s.a.contains(this.el,e)?t.stopPropagation():this.showEl=!1},overPopup:function(t){t.stopPropagation()},outPopup:function(t){var e=t.toElement||t.relatedTarget;this.sourceStored&&s.a.contains(this.sourceStored,e)||this.el===e||s.a.contains(this.el,e)?t.stopPropagation():this.showEl=!1},detach:function(t,e){var o=this;this.container=document.createElement("div"),this.container.className="slds-scope ".concat(this.$el.className),this.$el.getAttributeNames().forEach((function(t){t.startsWith("data-v")&&o.container.setAttribute(t,o.$el.getAttribute(t))})),this.el=e.cloneNode(!0),this.el.style.display="block",this.el.addEventListener("mouseleave",this.outPopup),this.el.addEventListener("mouseenter",this.overPopup),this.container.appendChild(this.el),document.body.appendChild(this.container),this.setPosition(t)},setPosition:function(t){var e=this.el.scrollHeight,o=this.el.clientWidth,n=Math.ceil(this.nubbinREM*parseFloat(getComputedStyle(this.el).fontSize)),a=parseFloat(window.getComputedStyle(this.el,":before").width),r=Math.floor(Math.sqrt(2*Math.pow(a,2))/2),l=Math.ceil(Math.sqrt(2*Math.pow(a,2))/2),d=s()(document).scrollTop(),c=s()(document).scrollLeft(),u=s()(window).width(),f=this.getParentRect(t),p=f.left+f.width/2-1,b=p-o/2+c,h=f.top-e-1+d,m=this.nubbin;p+n>=u?(m="slds-nubbin_right",b=f.left-o-l+c,(h=f.top+f.height/2-this.el.clientHeight/2+d)-d<0&&(m="slds-nubbin_right-top",h=f.top+d+f.height/2-n)):p+o/2>u?(m="slds-nubbin_bottom-right",b=p-o+n+c,h-d<0&&(m="slds-nubbin_top-right",h=f.bottom+d+r)):p-n<=0?(m="slds-nubbin_left",b=f.right+r+c,(h=f.top+(f.height/2-1)-this.el.clientHeight/2+d)-d<0&&(m="slds-nubbin_left-top",h=f.top+d+f.height/2-n)):p-o/2<0&&(m="slds-nubbin_bottom-left",b=p-n+c,h-d<0&&(m="slds-nubbin_top-left",h=f.bottom+d+r)),m===i&&h-d<0&&(m="slds-nubbin_top",h=f.bottom+d+r),this.nubbin!==m&&s()(this.el).removeClass(this.nubbin).addClass(m),this.el.style.left="".concat(b,"px"),this.el.style.top="".concat(h,"px")},getParentRect:function(t){var e=t.getBoundingClientRect(),o=t.currentStyle||window.getComputedStyle(t),n=parseFloat(o.marginLeft)+parseFloat(o.marginRight);n+=parseFloat(o.paddingLeft)+parseFloat(o.paddingRight),n+=parseFloat(o.borderLeftWidth)+parseFloat(o.borderRightWidth);var s=parseFloat(o.marginTop)+parseFloat(o.marginBottom);return s+=parseFloat(o.paddingTop)+parseFloat(o.paddingBottom),s+=parseFloat(o.borderTopWidth)+parseFloat(o.borderBottomWidth),{top:e.top-s,right:e.right+n,bottom:e.bottom+s,left:e.left-n,width:e.width+n,height:e.height+s}},destroy:function(){this.el&&(this.el.removeEventListener("mouseleave",this.outPopup),this.el.removeEventListener("mouseenter",this.overPopup),this.el.remove()),this.container&&this.container.remove(),this.el=null,this.container=null,this.nubbin=i}}},r=(o(206),o(9)),l=Object(r.a)(a,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{on:{mouseenter:t.enter,mouseleave:t.leave}},[t.showIcon?o("div",{ref:"icon",class:{"slds-form-element__icon":t.inForm}},[t._t("icon",(function(){return[o("button",{staticClass:"slds-button slds-button_icon",attrs:{"aria-describedby":"help"}},[o("span",{staticClass:"slds-icon slds-icon_x-small slds-icon-text-default ma-icon ma-icon-info",attrs:{"aria-hidden":"true"}}),t._v(" "),o("span",{staticClass:"slds-assistive-text"},[t._v(t._s(t.helpLabel))])])]}))],2):t._e(),t._v(" "),o("div",{ref:"popover",staticClass:"slds-popover slds-popover_tooltip",class:[t.nubbin],attrs:{role:"tooltip"}},[o("div",{staticClass:"slds-popover__body",class:{"ma-tooltip-nowrap":t.noWrap}},[t._t("content",(function(){return[t._v("default content")]}))],2)])])}),[],!1,null,"429dacbe",null);e.a=l.exports},206:function(t,e,o){"use strict";o(186)},207:function(t,e,o){(t.exports=o(31)(!1)).push([t.i,".slds-scope .slds-popover_tooltip[data-v-429dacbe]{display:none;position:absolute;visibility:visible;opacity:1;overflow:visible;cursor:default;z-index:9999}.slds-form-element__icon[data-v-429dacbe]{top:-1px;left:2px}.ma-tooltip-nowrap[data-v-429dacbe]{white-space:nowrap}\n",""])},208:function(t,e,o){"use strict";var n=o(78);e.a=function(t){return Object(n.withParams)({type:"not"},(function(){return!t.apply(void 0,arguments)}))}},209:function(t,e,o){window,t.exports=function(t){var e={};function o(n){if(e[n])return e[n].exports;var s=e[n]={i:n,l:!1,exports:{}};return t[n].call(s.exports,s,s.exports,o),s.l=!0,s.exports}return o.m=t,o.c=e,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},o.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/",o(o.s=25)}([function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"withParams",{enumerable:!0,get:function(){return s.default}}),e.regex=e.ref=e.len=e.req=void 0;var n,s=(n=o(23))&&n.__esModule?n:{default:n};function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var a=function(t){if(Array.isArray(t))return!!t.length;if(null==t)return!1;if(!1===t)return!0;if(t instanceof Date)return!isNaN(t.getTime());if("object"===i(t)){for(var e in t)return!0;return!1}return!!String(t).length};e.req=a,e.len=function(t){return Array.isArray(t)?t.length:"object"===i(t)?Object.keys(t).length:String(t).length},e.ref=function(t,e,o){return"function"==typeof t?t.call(e,o):o[t]},e.regex=function(t,e){return(0,s.default)({type:t},(function(t){return!a(t)||e.test(t)}))}},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=(0,o(0).regex)("decimal",/^[-]?\d*(\.\d+)?$/);e.default=n},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=(0,o(0).regex)("integer",/(^[0-9]*$)|(^-[0-9]+$)/);e.default=n},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=o(0);e.default=function(t){return(0,n.withParams)({type:"maxValue",max:t},(function(e){return!(0,n.req)(e)||(!/\s/.test(e)||e instanceof Date)&&+e<=+t}))}},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=o(0);e.default=function(t){return(0,n.withParams)({type:"minValue",min:t},(function(e){return!(0,n.req)(e)||(!/\s/.test(e)||e instanceof Date)&&+e>=+t}))}},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=o(0);e.default=function(t){return(0,n.withParams)({type:"not"},(function(e,o){return!(0,n.req)(e)||!t.call(this,e,o)}))}},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=o(0);e.default=function(){for(var t=arguments.length,e=new Array(t),o=0;o<t;o++)e[o]=arguments[o];return(0,n.withParams)({type:"and"},(function(){for(var t=this,o=arguments.length,n=new Array(o),s=0;s<o;s++)n[s]=arguments[s];return e.length>0&&e.reduce((function(e,o){return e&&o.apply(t,n)}),!0)}))}},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=o(0);e.default=function(){for(var t=arguments.length,e=new Array(t),o=0;o<t;o++)e[o]=arguments[o];return(0,n.withParams)({type:"or"},(function(){for(var t=this,o=arguments.length,n=new Array(o),s=0;s<o;s++)n[s]=arguments[s];return e.length>0&&e.reduce((function(e,o){return e||o.apply(t,n)}),!1)}))}},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=(0,o(0).regex)("url",/^(?:(?:https?|ftp):\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:[/?#]\S*)?$/i);e.default=n},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=o(0);e.default=function(t){return(0,n.withParams)({type:"sameAs",eq:t},(function(e,o){return e===(0,n.ref)(t,this,o)}))}},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=o(0);e.default=function(t){return(0,n.withParams)({type:"requiredUnless",prop:t},(function(e,o){return!!(0,n.ref)(t,this,o)||(0,n.req)(e)}))}},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=o(0);e.default=function(t){return(0,n.withParams)({type:"requiredIf",prop:t},(function(e,o){return!(0,n.ref)(t,this,o)||(0,n.req)(e)}))}},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=o(0),s=(0,n.withParams)({type:"required"},(function(t){return"string"==typeof t?(0,n.req)(t.trim()):(0,n.req)(t)}));e.default=s},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=o(0);e.default=function(t){return(0,n.withParams)({type:"minLength",min:t},(function(e){return!(0,n.req)(e)||(0,n.len)(e)>=t}))}},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=o(0);e.default=function(t){return(0,n.withParams)({type:"maxLength",max:t},(function(e){return!(0,n.req)(e)||(0,n.len)(e)<=t}))}},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=o(0);e.default=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:":";return(0,n.withParams)({type:"macAddress"},(function(e){if(!(0,n.req)(e))return!0;if("string"!=typeof e)return!1;var o="string"==typeof t&&""!==t?e.split(t):12===e.length||16===e.length?e.match(/.{2}/g):null;return null!==o&&(6===o.length||8===o.length)&&o.every(s)}))};var s=function(t){return t.toLowerCase().match(/^[0-9a-f]{2}$/)}},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=o(0),s=(0,n.withParams)({type:"ipAddress"},(function(t){if(!(0,n.req)(t))return!0;if("string"!=typeof t)return!1;var e=t.split(".");return 4===e.length&&e.every(i)}));e.default=s;var i=function(t){if(t.length>3||0===t.length)return!1;if("0"===t[0]&&"0"!==t)return!1;if(!t.match(/^\d+$/))return!1;var e=0|+t;return e>=0&&e<=255}},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=(0,o(0).regex)("email",/^(?:[A-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[A-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9]{2,}(?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])$/);e.default=n},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=o(0);e.default=function(t,e){return(0,n.withParams)({type:"between",min:t,max:e},(function(o){return!(0,n.req)(o)||(!/\s/.test(o)||o instanceof Date)&&+t<=+o&&+e>=+o}))}},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=(0,o(0).regex)("numeric",/^[0-9]*$/);e.default=n},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=(0,o(0).regex)("alphaNum",/^[a-zA-Z0-9]*$/);e.default=n},function(t,e){var o;o=function(){return this}();try{o=o||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(o=window)}t.exports=o},function(t,e,o){"use strict";(function(t){function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.withParams=void 0;var n="undefined"!=typeof window?window:void 0!==t?t:{},s=n.vuelidate?n.vuelidate.withParams:function(t,e){return"object"===o(t)&&void 0!==e?e:t((function(){}))};e.withParams=s}).call(this,o(21))},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=o(22).withParams;e.default=n},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=(0,o(0).regex)("alpha",/^[a-zA-Z]*$/);e.default=n},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"alpha",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(e,"alphaNum",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(e,"numeric",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(e,"between",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(e,"email",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(e,"ipAddress",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(e,"macAddress",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(e,"maxLength",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(e,"minLength",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(e,"required",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(e,"requiredIf",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(e,"requiredUnless",{enumerable:!0,get:function(){return b.default}}),Object.defineProperty(e,"sameAs",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(e,"url",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(e,"or",{enumerable:!0,get:function(){return v.default}}),Object.defineProperty(e,"and",{enumerable:!0,get:function(){return _.default}}),Object.defineProperty(e,"not",{enumerable:!0,get:function(){return g.default}}),Object.defineProperty(e,"minValue",{enumerable:!0,get:function(){return y.default}}),Object.defineProperty(e,"maxValue",{enumerable:!0,get:function(){return j.default}}),Object.defineProperty(e,"integer",{enumerable:!0,get:function(){return C.default}}),Object.defineProperty(e,"decimal",{enumerable:!0,get:function(){return A.default}}),e.helpers=void 0;var n=w(o(24)),s=w(o(20)),i=w(o(19)),a=w(o(18)),r=w(o(17)),l=w(o(16)),d=w(o(15)),c=w(o(14)),u=w(o(13)),f=w(o(12)),p=w(o(11)),b=w(o(10)),h=w(o(9)),m=w(o(8)),v=w(o(7)),_=w(o(6)),g=w(o(5)),y=w(o(4)),j=w(o(3)),C=w(o(2)),A=w(o(1)),O=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,o):{};n.get||n.set?Object.defineProperty(e,o,n):e[o]=t[o]}return e.default=t,e}(o(0));function w(t){return t&&t.__esModule?t:{default:t}}e.helpers=O}])},432:function(t,e,o){var n=o(597);n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals),(0,o(32).default)("d74911f8",n,!0,{})},433:function(t,e,o){var n=o(599);n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals),(0,o(32).default)("66a323cc",n,!0,{})},434:function(t,e,o){var n=o(602);n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals),(0,o(32).default)("7feb612d",n,!0,{})},435:function(t,e,o){var n=o(604);n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals),(0,o(32).default)("23caf48b",n,!0,{})},436:function(t,e,o){var n=o(606);n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals),(0,o(32).default)("239528ee",n,!0,{})},596:function(t,e,o){"use strict";o(432)},597:function(t,e,o){(t.exports=o(31)(!1)).push([t.i,"div.generic-error[data-v-f15451ae]{color:#c23934}.sobject-picklist[data-v-f15451ae]{width:165px}.events-form-input-column[data-v-f15451ae] input,.sobject-picklist[data-v-f15451ae] input{width:100%;min-width:165px}\n",""])},598:function(t,e,o){"use strict";o(433)},599:function(t,e,o){(t.exports=o(31)(!1)).push([t.i,".ma-icon-add{margin-top:8px}.slds-popover__body{white-space:normal !important}.inline-block{display:inline-block}\n",""])},600:function(t,e,o){"use strict";var n=o(111),s=o(77);t.exports=o(112)("Set",(function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(t){return n.def(s(this,"Set"),t=0===t?0:t,t)}},n)},601:function(t,e,o){"use strict";o(434)},602:function(t,e,o){(t.exports=o(31)(!1)).push([t.i,".ma-standard-config-modal[data-v-a9a48afa] .slds-modal__content{min-height:80px}\n",""])},603:function(t,e,o){"use strict";o(435)},604:function(t,e,o){(t.exports=o(31)(!1)).push([t.i,"button.ma-new-custom-event.slds-button_neutral{margin:0 auto}button.ma-new-custom-event.slds-button_neutral .ma-icon{margin-top:8px}.custom-event-button-positioner{padding:12px}.custom-event-button-positioner .slds-button{width:100%}table.custom-events-mapping-table{width:auto}table.custom-events-mapping-table thead tr th{padding:0 12px 4px;font-size:0.75rem;line-height:1.25;color:#706e6b;text-transform:uppercase;letter-spacing:0.0625rem;font-weight:normal}table.custom-events-mapping-table thead tr th:first-child{padding-left:0}table.custom-events-mapping-table thead tr th:last-child{padding-right:0}table.custom-events-mapping-table thead tr th.events-enabled-column{width:70px}table.custom-events-mapping-table thead tr th.events-form-input-column{width:250px}table.custom-events-mapping-table thead tr th.events-primary-column{width:82px}table.custom-events-mapping-table tbody tr td{padding:8px 12px}table.custom-events-mapping-table tbody tr td:first-child{padding-left:0}table.custom-events-mapping-table tbody tr td:last-child{padding-right:0}table.custom-events-mapping-table tbody tr td.events-enabled-column{width:70px}table.custom-events-mapping-table tbody tr td.events-form-input-column{width:250px}table.custom-events-mapping-table tbody tr td.events-primary-column{width:82px}\n",""])},605:function(t,e,o){"use strict";o(436)},606:function(t,e,o){(t.exports=o(31)(!1)).push([t.i,".events-tab-content[data-v-f2479236] .slds-notify_container{position:absolute}.events-tab-content[data-v-f2479236] .slds-vertical-tabs__nav{overflow-y:auto;overflow-x:hidden}\n",""])},620:function(t,e,o){"use strict";o.r(e),o(164),o(33),o(97),o(190),o(65),o(63);var n=o(61),s=o(62),i=(o(98),o(170),o(45),o(34),o(17),o(35),o(21),o(36),o(209)),a=o(208),r=o(168),l={STANDARD:"standard",CUSTOM:"custom"};function d(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var c=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return function(t,e,o){o&&d(t,o)}(t,0,[{key:"getConfigById",value:function(t){var e=this;return new Promise((function(o,n){(new s.a).setAction("sma.MACustomEventConfigController.getConfigById").setErrorHandler(e.handleRemoteActionError.bind(e)).invoke([t],(function(e){e&&e.success?o(e):n(new Error(e.error||"Failed to load config record (".concat(t,").")))}),{escape:!1,buffer:!1})}))}},{key:"getConfigMetadata",value:function(t){var e=this;return new Promise((function(o,n){(new s.a).setAction("sma.MACustomEventConfigController.getConfigMetadata").setErrorHandler(e.handleRemoteActionError.bind(e)).invoke([t],(function(e){e&&e.success?o(e):n(new Error("Failed to load config metadata (".concat(t,").")))}),{escape:!1,buffer:!1})}))}},{key:"getAllowableSObjectsWithActivities",value:function(){var t=this;return new Promise((function(e,o){(new s.a).setAction("sma.MACustomEventConfigController.getAllowableSObjectsWithActivities").setErrorHandler(t.handleRemoteActionError.bind(t)).invoke([],(function(t){t?e(t):o(new Error("Failed to load sObjects with activities."))}))}))}},{key:"save",value:function(t){var e=this;return new Promise((function(o,n){(new s.a).setAction("sma.MACustomEventConfigController.save").setErrorHandler(e.handleRemoteActionError.bind(e)).invoke([t],(function(t){t&&t.success?o(t.Id):n(new Error(t.error))}))}))}},{key:"handleRemoteActionError",value:function(t,e,o){t(new Error("Remote action exception: ".concat(o.message)))}}]),t}(),u=o(167),f={components:{MAModal:u.a},props:{recordId:{type:String,required:!0},isOpen:{type:Boolean,default:!1},isLoading:{type:Boolean,default:!1},title:{type:String,default:"Delete"}},data:function(){return{toast:""}},methods:{deleteRecord:function(){var t=this;this.recordId?(this.$emit("update:isLoading",!0),this.close(),(new s.a).setAction("sma.MACustomEventConfigController.deleteRecord").setErrorHandler(this.handleRemoteActionError.bind(this)).invoke([this.recordId],(function(e){e&&!e.success&&(t.toast=e.error||"Failed to delete config (".concat(t.recordId,").")),t.$emit("update:isLoading",!1),t.$emit("remove")}))):this.$emit("remove")},close:function(){this.$emit("update:isOpen",!1)},handleRemoteActionError:function(t,e,o){t?t(o.message):(this.isLoading&&this.$emit("update:isLoading",!1),this.toast=e.message||o.message)}}},p=o(9),b=Object(p.a)(f,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return t.isOpen?o("MAModal",{attrs:{doDetach:!0,title:t.title},on:{close:t.close}},[o("div",{attrs:{slot:"content"},slot:"content"},[t._v("\n        "+t._s(t.$Labels.MA_Are_You_Sure)+"\n    ")]),t._v(" "),o("div",{attrs:{slot:"footer"},slot:"footer"},[o("button",{staticClass:"slds-button slds-button_neutral",on:{click:t.close}},[t._v("\n            "+t._s(t.$Labels.MA_Cancel)+"\n        ")]),t._v(" "),o("button",{staticClass:"slds-button slds-button_brand",on:{click:t.deleteRecord}},[t._v("\n            "+t._s(t.$Labels.MA_Delete)+"\n        ")])])]):t._e()}),[],!1,null,null,null).exports,h=o(163),m=o(173),v={components:{MAPicklist:h.a,MACheckbox:m.a,ConfigDeleteModal:b},props:{lookup:{type:Object,required:!0,validator:function(t){return t.metadata&&t.record&&Object.keys(t.record).length}},sobjects:{type:Array,default:function(){return[]}},baseObjects:{type:Array,required:!0,default:function(){return[]}},isStandardBaseConfig:{type:Boolean,required:!0},isLoading:{type:Boolean,default:!1},guid:{type:String,required:!0},eventTypes:{type:Array,required:!1,default:function(){return[]}}},data:function(){return{storedBaseObjects:this.baseObjects,type:null,showDeleteModal:!1,record:{Id:null,Name:null,BaseObjectId__c:null,Enabled__c:!0,LookupFieldAPI__c:null,MAEventBaseObj__c:null,LocationSource__c:!1,TypeAPI__c:"Type",TypeDefaultValue__c:null,ObjectAPI__c:null}}},validations:function(){var t={record:{ObjectAPI__c:{},BaseObjectId__c:{}}};return this.disableInputs&&!this.lookup.isRelatedObject||(t.record.ObjectAPI__c={required:i.required},t.record.BaseObjectId__c={required:i.required},this.record.Enabled__c||(t.record.BaseObjectId__c={})),t},computed:{disableInputs:function(){return!this.storedBaseObjects.length},isStandard:function(){return this.type===l.STANDARD},isCustom:function(){return this.type===l.CUSTOM},_isLoading:{get:function(){return this.isLoading},set:function(t){this.$emit("update:isLoading",t)}}},watch:{"record.LocationSource__c":function(t){t&&this.$bus.$emit("set-primary-location-to-false",this.guid)}},created:function(){this.$bus.$on("set-primary-location-to-false",this.setPrimaryToFalse),this.init()},destroyed:function(){this.$bus.$off("set-primary-location-to-false",this.setPrimaryToFalse)},methods:{init:function(){var t=this;Object.keys(this.lookup.record||{}).forEach((function(e){t.record[e]=t.lookup.record[e]})),this.type=l[this.lookup.type.toUpperCase()]},deleteLookup:function(){this.showDeleteModal=!0},removeLookup:function(){this.$emit("remove-lookup",this.guid)},getMABaseObjects:function(t){var e=this;this.record.Enabled__c=!1,this.record.TypeDefaultValue__c=null,t&&t.api?(this.$emit("update:isLoading",!0),(new s.a).setAction("sma.MACustomEventConfigController.getBaseObjectsBySObjectAPIs").setErrorHandler(this.handleRemoteActionError.bind(this)).invoke([t.api,this.lookup.eventObject],(function(o){o?e.storedBaseObjects=o.baseObjects:e.toast=o.error||"Failed to retrieve ma base objects. ".concat(t.api),e.$emit("update:isLoading",!1)}))):this.storedBaseObjects=[]},setPrimaryToFalse:function(t){t!==this.guid&&(this.record.LocationSource__c=!1)},getRecord:function(){return this.record},handleRemoteActionError:function(t,e){this.isLoading&&this.$emit("update:isLoading",!1),this.toast=t.message||e.message}}},_=(o(596),Object(p.a)(v,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("tr",[o("ConfigDeleteModal",{attrs:{recordId:t.record.Id||"",isOpen:t.showDeleteModal,isLoading:t._isLoading,title:t.$Labels.Delete_Custom_Event_Lookup},on:{"update:isOpen":function(e){t.showDeleteModal=e},"update:is-open":function(e){t.showDeleteModal=e},"update:isLoading":function(e){t._isLoading=e},"update:is-loading":function(e){t._isLoading=e},remove:t.removeLookup}}),t._v(" "),o("td",{staticClass:"events-enabled-column"},[o("div",{staticClass:"slds-form-element"},[o("MACheckbox",{class:{"slds-m-bottom_x-small":t.disableInputs},attrs:{isDisabled:t.disableInputs},model:{value:t.record.Enabled__c,callback:function(e){t.$set(t.record,"Enabled__c",e)},expression:"record.Enabled__c"}})],1)]),t._v(" "),t.lookup.isRelatedObject?o("td",[o("MAPicklist",{staticClass:"sobject-picklist",attrs:{showLabel:!1,options:t.sobjects,doDetach:!0,isInvalid:t.$v.record.ObjectAPI__c.$error,keyString:"api",valueString:"label"},on:{change:t.getMABaseObjects,input:t.$v.record.ObjectAPI__c.$touch},model:{value:t.record.ObjectAPI__c,callback:function(e){t.$set(t.record,"ObjectAPI__c",e)},expression:"record.ObjectAPI__c"}})],1):o("td",[t._v("\n        "+t._s(t._f("decode")(t.lookup.label))+"\n    ")]),t._v(" "),o("td",{staticClass:"events-form-input-column"},[t.storedBaseObjects.length?o("MAPicklist",{attrs:{showLabel:!1,options:t.storedBaseObjects,doDetach:!0,isInvalid:t.$v.record.BaseObjectId__c.$error,keyString:"value",valueString:"label"},on:{input:t.$v.record.BaseObjectId__c.$touch},model:{value:t.record.BaseObjectId__c,callback:function(e){t.$set(t.record,"BaseObjectId__c",e)},expression:"record.BaseObjectId__c"}}):o("div",[t._v("\n            "+t._s(t.$Labels.MA_No_Base_Objects)+"\n            "),t.$v.record.BaseObjectId__c.$error?o("div",{staticClass:"generic-error"},[t._v("\n                This field is required.\n            ")]):t._e()])],1),t._v(" "),t.isStandardBaseConfig?o("td",{staticClass:"events-form-input-column"},[o("MAPicklist",{attrs:{showLabel:!1,options:t.eventTypes,doDetach:!0,keyString:"value",valueString:"label"},model:{value:t.record.TypeDefaultValue__c,callback:function(e){t.$set(t.record,"TypeDefaultValue__c",e)},expression:"record.TypeDefaultValue__c"}})],1):t._e(),t._v(" "),t.isStandardBaseConfig||t.disableInputs?t._e():o("td",{staticClass:"events-primary-column slds-text-align_center"},[o("div",{staticClass:"slds-form-element__control"},[o("span",{staticClass:"slds-radio"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.record.LocationSource__c,expression:"record.LocationSource__c"}],attrs:{id:"radio-"+t.guid,type:"radio",name:"options"},domProps:{value:!0,checked:t._q(t.record.LocationSource__c,!0)},on:{change:function(e){return t.$set(t.record,"LocationSource__c",!0)}}}),t._v(" "),o("label",{staticClass:"slds-radio__label",attrs:{for:"radio-"+t.guid}},[o("span",{staticClass:"slds-radio_faux"}),t._v(" "),o("span",{staticClass:"slds-form-element__label"})])])])]),t._v(" "),t.isStandardBaseConfig?o("td",[t.isCustom?o("button",{staticClass:"slds-button slds-button_icon-container has-hover-tooltip",on:{click:t.deleteLookup}},[o("span",{staticClass:"slds-button__icon ma-icon ma-icon-close"})]):o("div")]):t._e()],1)}),[],!1,null,"f15451ae",null).exports),g=o(169),y=o(64),j=o(193),C=o(166),A=o(437);function O(t){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var w={components:{MAInput:g.a,MACheckbox:m.a,MAPicklist:h.a,MASpinner:y.a,MATooltip:j.a,MAToast:C.a,MARadioGroup:A.a,ConfigLookup:_,ConfigDeleteModal:b},props:{bootstrap:{type:Object,required:!0},index:{type:Number,required:!0}},data:function(){return{initialName:this.bootstrap.name,isLoading:!1,toast:null,showDeleteModal:!1,options:{eventNameField:null,startField:null,endField:null,useDuration:!1,durationField:null,durationUnit:null,resourceField:null,trackingField:null,exclusionField:null},record:{Id:null,Name:null,EventObject__c:null,Options__c:null,Type__c:null,Enabled__c:!0},type:null,eventObjectLabel:null,lookups:[],metadata:{resources:[],eventNameFields:[],dateTimeFields:[],numericFields:[],booleanFields:[],durationUnits:["seconds","minutes","hours"],timeFieldOptions:[{label:this.$Labels.MA_Use_DateTime,value:!1},{label:this.$Labels.MA_Use_Duration,value:!0}],eventTypes:[],resourceFieldLabel:null,eventNameFieldLabel:null,startFieldLabel:null,endFieldLabel:null}}},validations:function(){var t={record:{Name:{required:i.required,maxLength:Object(i.maxLength)(80)},EventObject__c:{required:i.required}},options:{eventNameField:{required:i.required},startField:{required:i.required},resourceField:{required:i.required}}};return this.options.useDuration?(t.options.durationField={required:i.required},t.options.durationUnit={required:i.required}):(t.options.endField={required:i.required,notSameAsStart:Object(a.a)(Object(i.sameAs)("startField"))},t.options.startField.notSameAsEnd=Object(a.a)(Object(i.sameAs)("endField"))),t},computed:{isStandard:function(){return this.type===l.STANDARD},isCustom:function(){return this.type===l.CUSTOM},isNew:function(){return this.bootstrap.isNew}},watch:{"record.Name":function(t){t||(t=this.initialName),this.$emit("update:bootstrap",Object.assign(this.bootstrap,{name:t}))}},created:function(){this.init()},methods:{init:function(){this.bootstrap.isNew&&this.bootstrap.sobject?(this.record.Name=this.bootstrap.name,this.record.EventObject__c=this.bootstrap.sobject,this.eventObjectLabel=this.bootstrap.label,this.type=l.CUSTOM,this.loadMetadata(this.bootstrap.sobject)):this.bootstrap.id?(this.record.Id=this.bootstrap.id,this.loadRecord(this.bootstrap.id)):this.toast="Missing bootstrap data. Contact your administrator."},loadMetadata:function(t){var e=this;this.isLoading=!0,c.getConfigMetadata(t).then((function(o){e.type=l.CUSTOM,Object.keys(o).forEach((function(t){e.metadata[t]=o[t]}));var s=!1;o.lookups.forEach((function(o){var i=2===o.objects.length?"User":o.objects[0],a={metadata:{baseObjects:o.baseObjects},type:l.CUSTOM,guid:Object(n.d)(),record:{LookupFieldAPI__c:o.api,ObjectAPI__c:i,Enabled__c:!1},label:o.label};t===i&&(a.metadata.baseObjects=o.eventBaseObjects),!s&&o.baseObjects.length&&(a.record.LocationSource__c=!0,s=!0),e.lookups.push(a)})),e.sortLookups(e.lookups)})).catch((function(t){console.warn(t)})).finally((function(){e.isLoading=!1}))},loadRecord:function(t){var e=this;this.isLoading=!0,c.getConfigById(t).then((function(o){if(o.success){var s=Object(r.b)(o.config,"sma__");if(s.record){Object.keys(s.record).forEach((function(t){e.record[t]=s.record[t]}));var i=JSON.parse(e.record.Options__c)||{};Object.keys(i).forEach((function(t){e.options[t]=i[t]}))}Object.keys(s.metadata).forEach((function(t){e.metadata[t]=s.metadata[t]})),e.type=l[s.type.toUpperCase()],e.eventObjectLabel=s.eventObjectLabel,s.lookups=s.lookups.map((function(t){var e=t.metadata,o=e.baseObjects,i=void 0===o?[]:o,a=e.eventBaseObjects,r=void 0===a?[]:a;return t.metadata.baseObjects=i,t.type=l.STANDARD,t.record.ObjectAPI__c===s.record.EventObject__c&&(t.metadata.baseObjects=r),t.guid=Object(n.d)(),t})),e.sortLookups(s.lookups),e.lookups=s.lookups}else e.toast=o.error||"An error occured while fetching config for ".concat(t,".")})).catch((function(t){console.warn(t.message),e.toast="An error occurred while fetching and processing the config record."})).finally((function(){e.isLoading=!1}))},sortLookups:function(t){t.sort((function(t,e){return"This Object"===t.label?-1:"This Object"===e.label?1:t.metadata&&t.metadata.baseObjects&&t.metadata.baseObjects.length?e.metadata.baseObjects.length?1:-1:1}))},removeConfig:function(){this.$emit("deleteConfig",this.index)},openDeleteModal:function(){this.showDeleteModal=!0},save:function(){var t=this;this.$v.$touch();var e=this.$v.$invalid;if(this.$children.forEach((function(t){t.$v&&"object"===O(t.$v)&&"function"==typeof t.$v.$touch&&(t.$v.$touch(),!e&&t.$v.$invalid&&(e=!0))})),e)this.toast="Please fix validation issues before saving.";else{this.isLoading=!0,this.options.useDuration?this.options.endField=null:(this.options.durationField=null,this.options.durationUnit=null);try{this.record.Options__c=JSON.stringify(this.options);var o=[];this.$children.forEach((function(t){"function"==typeof t.getRecord&&o.push({record:t.getRecord()})}));var n={record:this.record,lookups:o};c.save(n).then((function(e){t.lookups=[],e&&(e!==t.bootstrap.id&&(t.$emit("update:bootstrap",Object.assign(t.bootstrap,{id:e,isNew:!1})),t.$bus.$emit("update-tabid",e)),t.init())})).catch((function(e){t.toast=e.error||"Failed to save config (".concat(t.id,").")})).finally((function(){t.isLoading=!1}))}catch(t){console.warn(t),this.isLoading=!1}}},removeLookup:function(t){this.lookups=this.lookups.filter((function(e){return e.guid!==t}))},addRelatedObject:function(){var t=this;this.isLoading=!0,c.getAllowableSObjectsWithActivities().then((function(e){Array.isArray(e)?t.lookups.push({metadata:{sobjects:t.filterUsedRelatedObjects(e),baseObjects:[]},type:l.CUSTOM,guid:Object(n.d)(),eventObject:t.record.EventObject__c,isRelatedObject:!0}):t.toast=e.error||"Failed to retrieve objects with activity support.",t.isLoading=!1}))},filterUsedRelatedObjects:function(t){var e=this,o=[];return t.forEach((function(t){var n=!1;e.lookups.forEach((function(e){e.record&&e.record.ObjectAPI__c===t.api&&(n=!0)})),n||o.push(t)})),o},closedToast:function(){this.toast=null},handleRemoteActionError:function(t,e,o){t?t(o.message):(this.isLoading&&(this.isLoading=!1),this.toast=e.message||o.message)}}},M=(o(598),Object(p.a)(w,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"slds-is-relative"},[t.isLoading?o("MASpinner"):t._e(),t._v(" "),null!=t.toast?o("MAToast",{attrs:{msg:t.toast},on:{close:t.closedToast}}):t._e(),t._v(" "),o("ConfigDeleteModal",{attrs:{recordId:t.record.Id||"",isOpen:t.showDeleteModal,isLoading:t.isLoading,title:t.$Labels.MA_Delete_Custom_Event},on:{"update:isOpen":function(e){t.showDeleteModal=e},"update:is-open":function(e){t.showDeleteModal=e},"update:isLoading":function(e){t.isLoading=e},"update:is-loading":function(e){t.isLoading=e},remove:t.removeConfig}}),t._v(" "),o("div",{staticClass:"slds-grid"},[o("div",{staticClass:"slds-text-heading_medium"},[t._v("\n            "+t._s(t.$Labels.MA_Event_Obj_Config)+"\n        ")]),t._v(" "),o("div",{staticClass:"slds-col"}),t._v(" "),t.isCustom?o("div",{staticClass:"slds-m-right_small"},[o("button",{staticClass:"slds-button slds-button_icon slds-button_icon-container",on:{click:t.openDeleteModal}},[o("span",{staticClass:"slds-button__icon ma-icon ma-icon-delete"})])]):t._e(),t._v(" "),o("div",{staticClass:"slds-form-element slds-m-right_small"},[o("MACheckbox",{attrs:{showStateLabels:!0},model:{value:t.record.Enabled__c,callback:function(e){t.$set(t.record,"Enabled__c",e)},expression:"record.Enabled__c"}})],1),t._v(" "),o("div",[o("button",{staticClass:"slds-button slds-button_success",on:{click:t.save}},[t._v("\n                "+t._s(t.$Labels.MA_Save)+"\n            ")])])]),t._v(" "),o("div",{staticClass:"slds-grid slds-wrap slds-container_medium slds-m-bottom_large"},[o("div",{staticClass:"slds-has-flexi-truncate slds-p-horizontal_medium slds-size_1-of-2",attrs:{role:"listitem"}},[o("MAInput",{staticClass:"slds-p-vertical_xx-small",attrs:{isRequired:!0,isInvalid:t.$v.record.Name.$error,label:t.$Labels.MA_Name},on:{input:t.$v.record.Name.$touch},model:{value:t.record.Name,callback:function(e){t.$set(t.record,"Name",e)},expression:"record.Name"}},[o("div",{attrs:{slot:"errors"},slot:"errors"},[t.$v.record.Name.maxLength?t._e():o("div",[t._v("\n                        Maximum length of 80 characters allowed.\n                    ")]),t._v(" "),t.$v.record.Name.required?t._e():o("div",[t._v("\n                        This field is required.\n                    ")])])])],1),t._v(" "),o("div",{staticClass:"slds-has-flexi-truncate slds-p-horizontal_medium slds-size_1-of-2",attrs:{role:"listitem"}},[o("div",{staticClass:"slds-form-element slds-p-vertical_xx-small"},[o("label",{staticClass:"slds-form-element__label"},[t._v("Salesforce "+t._s(t.$Labels.MA_OBJECT))]),t._v(" "),o("div",[t._v(t._s(t.eventObjectLabel))])])]),t._v(" "),o("div",{staticClass:"slds-has-flexi-truncate slds-p-horizontal_medium slds-size_1-of-2",attrs:{role:"listitem"}},[t.isCustom?o("MAPicklist",{attrs:{options:t.metadata.resources,doDetach:!0,isRequired:!0,isInvalid:t.$v.options.resourceField.$error,label:t.$Labels.MA_Sched_Resource,keyString:"api",valueString:"label"},on:{input:t.$v.options.resourceField.$touch},model:{value:t.options.resourceField,callback:function(e){t.$set(t.options,"resourceField",e)},expression:"options.resourceField"}}):t._e(),t._v(" "),t.isStandard?o("div",{staticClass:"slds-form-element slds-p-vertical_xx-small"},[o("label",{staticClass:"slds-form-element__label"},[t._v(t._s(t.$Labels.MA_Sched_Resource))]),t._v(" "),o("div",[t._v(t._s(t.metadata.resourceFieldLabel))])]):t._e()],1),t._v(" "),o("div",{staticClass:"slds-has-flexi-truncate slds-p-horizontal_medium slds-size_1-of-2",attrs:{role:"listitem"}},[t.isCustom?o("MAPicklist",{attrs:{options:t.metadata.eventNameFields,doDetach:!0,isRequired:!0,isInvalid:t.$v.options.eventNameField.$error,label:t.$Labels.MA_Event_Name_Field,keyString:"api",valueString:"label"},on:{input:t.$v.options.eventNameField.$touch},model:{value:t.options.eventNameField,callback:function(e){t.$set(t.options,"eventNameField",e)},expression:"options.eventNameField"}}):t._e(),t._v(" "),t.isStandard?o("div",{staticClass:"slds-form-element slds-p-vertical_xx-small"},[o("label",{staticClass:"slds-form-element__label"},[t._v(t._s(t.$Labels.MA_Event_Name_Field))]),t._v(" "),o("div",[t._v(t._s(t.metadata.eventNameFieldLabel))])]):t._e()],1),t._v(" "),t.isCustom?o("div",{staticClass:"slds-has-flexi-truncate slds-p-horizontal_medium slds-size_1-of-1",attrs:{role:"listitem"}},[o("MARadioGroup",{attrs:{name:"time-options",options:t.metadata.timeFieldOptions,label:t.$Labels.MA_Time_Fields},model:{value:t.options.useDuration,callback:function(e){t.$set(t.options,"useDuration",e)},expression:"options.useDuration"}})],1):t._e(),t._v(" "),o("div",{staticClass:"slds-has-flexi-truncate slds-p-horizontal_medium slds-size_1-of-2",attrs:{role:"listitem"}},[t.isCustom?o("MAPicklist",{attrs:{options:t.metadata.dateTimeFields,doDetach:!0,isRequired:!0,isInvalid:t.$v.options.startField.$error,label:t.$Labels.MA_Start_DateTime_Field,keyString:"api",valueString:"label"},on:{input:t.$v.options.startField.$touch},model:{value:t.options.startField,callback:function(e){t.$set(t.options,"startField",e)},expression:"options.startField"}},[o("div",{attrs:{slot:"errors"},slot:"errors"},[t.$v.options.startField.required?t._e():o("div",[t._v("\n                        This field is required.\n                    ")]),t._v(" "),t.$v.options.startField.notSameAsStart?t._e():o("div",[t._v("\n                        This field must be different than the End DateTime Field.\n                    ")])])]):t._e(),t._v(" "),t.isStandard?o("div",{staticClass:"slds-form-element slds-p-vertical_xx-small"},[o("label",{staticClass:"slds-form-element__label"},[t._v(t._s(t.$Labels.MA_Start_DateTime_Field))]),t._v(" "),o("div",[t._v(t._s(t.metadata.startFieldLabel))])]):t._e()],1),t._v(" "),t.isStandard||!t.options.useDuration?o("div",{staticClass:"slds-has-flexi-truncate slds-p-horizontal_medium slds-size_1-of-2",attrs:{role:"listitem"}},[t.isCustom?o("MAPicklist",{attrs:{options:t.metadata.dateTimeFields,doDetach:!0,isRequired:!0,isInvalid:t.$v.options.endField.$error,label:t.$Labels.MA_End_DateTime_Field,keyString:"api",valueString:"label"},on:{input:t.$v.options.endField.$touch},model:{value:t.options.endField,callback:function(e){t.$set(t.options,"endField",e)},expression:"options.endField"}},[o("div",{attrs:{slot:"errors"},slot:"errors"},[t.$v.options.endField.required?t._e():o("div",[t._v("\n                        This field is required.\n                    ")]),t._v(" "),t.$v.options.endField.notSameAsStart?t._e():o("div",[t._v("\n                        This field must be different than the Start DateTime Field.\n                    ")])])]):t._e(),t._v(" "),t.isStandard?o("div",{staticClass:"slds-form-element slds-p-vertical_xx-small"},[o("label",{staticClass:"slds-form-element__label"},[t._v(t._s(t.$Labels.MA_End_DateTime_Field))]),t._v(" "),o("div",[t._v(t._s(t.metadata.endFieldLabel))])]):t._e()],1):t._e(),t._v(" "),t.isCustom&&t.options.useDuration?o("div",{staticClass:"slds-has-flexi-truncate slds-p-horizontal_medium slds-size_1-of-4",attrs:{role:"listitem"}},[o("MAPicklist",{attrs:{options:t.metadata.numericFields,doDetach:!0,isRequired:!0,isInvalid:t.$v.options.durationField.$error,label:t.$Labels.MA_Duration_Field,keyString:"api",valueString:"label"},on:{input:t.$v.options.durationField.$touch},model:{value:t.options.durationField,callback:function(e){t.$set(t.options,"durationField",e)},expression:"options.durationField"}})],1):t._e(),t._v(" "),t.isCustom&&t.options.useDuration?o("div",{staticClass:"slds-has-flexi-truncate slds-p-horizontal_medium slds-size_1-of-4",attrs:{role:"listitem"}},[o("MAPicklist",{attrs:{options:t.metadata.durationUnits,doDetach:!0,isRequired:!0,isInvalid:t.$v.options.durationUnit.$error,label:t.$Labels.MA_UNITS},on:{input:t.$v.options.durationUnit.$touch},model:{value:t.options.durationUnit,callback:function(e){t.$set(t.options,"durationUnit",e)},expression:"options.durationUnit"}})],1):t._e(),t._v(" "),o("div",{staticClass:"slds-has-flexi-truncate slds-p-horizontal_medium slds-size_1-of-2",attrs:{role:"listitem"}},[o("MAPicklist",{attrs:{options:t.metadata.booleanFields,doDetach:!0,label:"Track Schedule Usage",keyString:"api",valueString:"label"},model:{value:t.options.trackingField,callback:function(e){t.$set(t.options,"trackingField",e)},expression:"options.trackingField"}})],1),t._v(" "),o("div",{staticClass:"slds-has-flexi-truncate slds-p-horizontal_medium slds-size_1-of-2",attrs:{role:"listitem"}},[o("label",{staticClass:"slds-form-element__label slds-align-middle"},[t._v("\n                Exclude Specific Records from Schedule\n                "),o("a",{staticClass:"inline-block",attrs:{href:"https://mapanything.force.com/support/s/article/Exclude-Specific-Records-from-Schedule",target:"_blank"}},[o("MATooltip",{staticClass:"slds-p-left_x-small",attrs:{showIcon:!0}},[o("div",{staticClass:"slds-popover__body",attrs:{slot:"content"},slot:"content"},[t._v("\n                            You may use a checkbox field to exclude a record from the MapAnything Schedule. If this checkbox is checked true, the record will not appear in the Schedule.\n                            "),o("br"),t._v(" "),o("br"),t._v("\n                            Click to read the full documentation.\n                        ")])])],1)]),t._v(" "),o("MAPicklist",{attrs:{options:t.metadata.booleanFields,doDetach:!0,label:"",keyString:"api",valueString:"label"},model:{value:t.options.exclusionField,callback:function(e){t.$set(t.options,"exclusionField",e)},expression:"options.exclusionField"}})],1)]),t._v(" "),o("div",{staticClass:"slds-grid slds-m-horizontal_medium"},[o("div",{staticClass:"slds-box slds-theme_shade"},[o("div",{staticClass:"slds-p-bottom_medium slds-text-heading_medium"},[t._v("\n                "+t._s(t.$Labels.MA_Related_Object_Config)+"\n            ")]),t._v(" "),o("div",[o("table",{staticClass:"custom-events-mapping-table"},[o("thead",[o("tr",[o("th",{staticClass:"events-enabled-column"},[t._v("\n                                "+t._s(t.$Labels.ArcGIS_Enabled)+"\n                            ")]),t._v(" "),o("th",[t._v(t._s(t.isStandard?t.$Labels.MA_OBJECT:t.$Labels.MA_Field))]),t._v(" "),o("th",{staticClass:"events-form-input-column"},[t._v("\n                                "+t._s(t.$Labels.MA_Get_Location_From)+"\n                            ")]),t._v(" "),t.isStandard?o("th",{staticClass:"events-form-input-column"},[t._v("\n                                "+t._s(t.$Labels.MA_Event_Type)+"\n                            ")]):t._e(),t._v(" "),t.isCustom?o("th",{staticClass:"events-primary-column"},[o("div",{staticClass:"slds-grid"},[o("div",[t._v("\n                                        "+t._s(t.$Labels.MA_Primary)+"\n                                    ")]),t._v(" "),o("MATooltip",{staticClass:"slds-p-left_x-small",attrs:{showIcon:!0}},[o("div",{staticClass:"slds-popover__body",attrs:{slot:"content"},slot:"content"},[t._v("\n                                            "+t._s(t.$Labels.MA_lookup_source_help)+"\n                                        ")])])],1)]):t._e(),t._v(" "),t.isStandard?o("th"):t._e()])]),t._v(" "),o("tbody",t._l(t.lookups,(function(e){return o("ConfigLookup",{key:e.guid,attrs:{isLoading:t.isLoading,lookup:e,sobjects:e.metadata.sobjects,baseObjects:e.metadata.baseObjects,eventTypes:t.metadata.eventTypes,isStandardBaseConfig:t.isStandard,guid:e.guid},on:{"update:isLoading":function(e){t.isLoading=e},"update:is-loading":function(e){t.isLoading=e},"remove-lookup":t.removeLookup}})})),1)])]),t._v(" "),"standard"===t.type?o("div",[o("button",{staticClass:"slds-button slds-button_neutral slds-grid slds-grid_align-center",on:{click:t.addRelatedObject}},[o("span",{staticClass:"slds-button__icon slds-button__icon_left ma-icon ma-icon-add"}),t._v("\n                    "+t._s(t.$Labels.MA_Add_Related_Object)+"\n                ")])]):t._e()])])],1)}),[],!1,null,null,null).exports),S=(o(600),new Set(["Account","Contact","Case","Lead","Opportunity","Task","Asset","Order","Product","Contract","Campaign","WorkOrder","Asset"])),$={components:{MACheckbox:m.a,MAModal:u.a,MAPicklist:h.a,MAToast:C.a},validations:{sobject:{required:i.required}},data:function(){return{doShow:!1,error:null,sobject:null,sobjectLabel:null,isLoading:!1,showAllSObjects:!1,metadata:{sobjects:[]}}},computed:{filteredSObjects:function(){return this.showAllSObjects?this.metadata.sobjects:this.metadata.sobjects.filter((function(t){return!t.isStandard||t.isStandard&&S.has(t.api)}))}},created:function(){this.$bus.$on("show-new-config-modal",this.showModal)},destroyed:function(){this.$bus.$off("show-new-config-modal")},methods:{objectSelected:function(t){this.sobjectLabel=t.label},showModal:function(){var t=this;this.doShow=!0,this.isLoading=!0,this.getAvailableSObjects().then((function(e){t.metadata.sobjects=e,t.doShow=!0})).catch((function(t){console.warn(t)})).finally((function(){t.isLoading=!1}))},confirm:function(){this.$v.$touch(),this.$v.$invalid?this.error="All fields are required.":(this.$emit("confirm",{name:this.sobject,label:this.sobjectLabel}),this.close())},close:function(){this.$v.$reset(),Object.assign(this.$data,this.$options.data.apply(this))},getAvailableSObjects:function(){var t=this;return new Promise((function(e,o){(new s.a).setAction("sma.MACustomEventConfigController.getAllowableSObjects").setErrorHandler(t.handleRemoteActionError.bind(t)).invoke([],(function(t){Array.isArray(t)?(t=t.filter((function(t){return"Event"!==t.api})),e(t)):o(new Error("Error loading sobjects."))}))}))},handleRemoteActionError:function(t,e,o){t?t(o.message):this.isLoading&&(this.isLoading=!1)}}},x=Object(p.a)($,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return t.doShow?o("MAModal",{attrs:{isLoading:t.isLoading,doDetach:!0,title:"Create Custom Event Config"},on:{"update:isLoading":function(e){t.isLoading=e},"update:is-loading":function(e){t.isLoading=e},close:t.close}},[o("div",{attrs:{slot:"content"},slot:"content"},[t.error?o("MAToast",{attrs:{msg:t.error},on:{close:function(e){t.error=null}}}):t._e(),t._v(" "),o("div",{attrs:{role:"listitem"}},[o("MAPicklist",{staticClass:"slds-p-vertical_xx-small",attrs:{options:t.filteredSObjects,isInvalid:t.$v.sobject.$error,isRequired:!0,doDetach:!0,keyString:"api",valueString:"label",label:"Salesforce Object"},on:{input:t.$v.sobject.$touch,change:t.objectSelected},model:{value:t.sobject,callback:function(e){t.sobject=e},expression:"sobject"}})],1),t._v(" "),o("div",{staticClass:"slds-grid"},[o("div",[o("MACheckbox",{attrs:{toggleBuffer:100,title:"View All Salesforce Objects"},model:{value:t.showAllSObjects,callback:function(e){t.showAllSObjects=e},expression:"showAllSObjects"}})],1)])],1),t._v(" "),o("div",{attrs:{slot:"footer"},slot:"footer"},[o("button",{staticClass:"slds-button slds-button_neutral",on:{click:t.close}},[t._v("\n            Cancel\n        ")]),t._v(" "),o("button",{staticClass:"slds-button slds-button_brand",on:{click:t.confirm}},[t._v("\n            Confirm\n        ")])])]):t._e()}),[],!1,null,null,null).exports,L={components:{MAModal:u.a,MAToast:C.a},props:{doShow:{type:Boolean,required:!0}},data:function(){return{error:null,isLoading:!1}},methods:{no:function(){this.$emit("update:doShow",!1)},yes:function(){var t=this;this.isLoading=!0,(new s.a).setAction("sma.MACustomEventConfigController.setEventDefaults").setErrorHandler(this.handleRemoteActionError.bind(this)).invoke([],(function(e){e.success?(t.$emit("refresh"),t.no()):t.error=e.error,t.isLoading=!1}))},handleRemoteActionError:function(t,e){this.error=e.message,this.isLoading&&(this.isLoading=!1)}}},k=(o(601),Object(p.a)(L,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return t.doShow?o("MAModal",{staticClass:"ma-standard-config-modal",attrs:{errorMsg:t.error,isLoading:t.isLoading,doDetach:!0,title:"Install Standard Configuration"},on:{"update:errorMsg":function(e){t.error=e},"update:error-msg":function(e){t.error=e},"update:isLoading":function(e){t.isLoading=e},"update:is-loading":function(e){t.isLoading=e},close:t.no}},[o("div",{attrs:{slot:"content"},slot:"content"},[t.error?o("MAToast",{attrs:{msg:t.error},on:{close:function(e){t.error=t.nulll}}}):t._e(),t._v(" "),t.isLoading?t._e():o("div",[t._v("\n            We did not detect a standard configuration record. Would you like us to create one for you?\n        ")])],1),t._v(" "),o("div",{attrs:{slot:"footer"},slot:"footer"},[o("button",{staticClass:"slds-button slds-button_neutral",on:{click:t.no}},[t._v("\n            No\n        ")]),t._v(" "),o("button",{staticClass:"slds-button slds-button_brand",on:{click:t.yes}},[t._v("\n            Yes\n        ")])])]):t._e()}),[],!1,null,"a9a48afa",null).exports),P=o(66),E=o(67),T={name:"RoutesScheduleRoot",components:{NewConfigModal:x,InstallStandardConfigModal:k,MASpinner:y.a,MAToast:C.a,MATabs:P.a,MATab:E.a,Config:M},data:function(){return{isLoading:!1,eventsTabError:null,configs:[],defaultTabId:null,doShowInstallStandardConfigModal:!1}},created:function(){this.$bus.$on("update-tabid",this.updateTabIdFromEvent)},mounted:function(){this.init()},destroyed:function(){this.$bus.$off("update-tabid")},methods:{refresh:function(){this.configs=[],this.init()},deleteConfig:function(t){this.configs.splice(t,1),this.defaultTabId=this.configs[0].id},init:function(){var t=this;this.isLoading=!0,this.getAllConfigs().then((function(e){t.configs=e.map((function(t){return{id:t.Id,name:t.Name}})),e.find((function(t){return"Standard"===t.sma__Type__c}))||(t.doShowInstallStandardConfigModal=!0),t.defaultTabId=t.configs.length?t.configs[0].id:null})).catch((function(t){console.warn(t)})).finally((function(){t.isLoading=!1}))},getAllConfigs:function(){var t=this;return new Promise((function(e,o){(new s.a).setAction("sma.MACustomEventConfigController.getAllConfigs").setErrorHandler(t.handleRemoteActionError.bind(t)).invoke([],(function(t){Array.isArray(t)?e(t):o(new Error("Error loading records."))}))}))},confirmCustomEventObject:function(t){this.defaultTabId=this.getTabId(),this.configs.push({id:this.defaultTabId,name:"New Custom Event",isNew:!0,sobject:t.name,label:t.label}),this.activeTabId=this.getTabId()},newCustomEventClick:function(){this.$bus.$emit("show-new-config-modal")},getTabId:function(){return Object(n.d)()},closeEventsTabError:function(){this.eventsTabError=null},handleRemoteActionError:function(t,e,o){t?t(o.message):(this.isLoading&&(this.isLoading=!1),this.toast=e.message||o.message)},updateTabIdFromEvent:function(t){this.defaultTabId=t}}},F=(o(603),o(605),Object(p.a)(T,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("MATabs",{staticClass:"slds-m-bottom_medium"},[o("MATab",{staticClass:"slds-m-around_medium",attrs:{id:t.getTabId(),title:"Events"}},[o("div",{staticClass:"events-tab-content"},[t.isLoading?o("MASpinner"):t._e(),t._v(" "),null!=t.eventsTabError?o("MAToast",{attrs:{msg:t.eventsTabError},on:{close:t.closeEventsTabError}}):t._e(),t._v(" "),o("MATabs",{staticClass:"slds-m-bottom_medium",attrs:{isVertical:!0,activeTabId:t.defaultTabId,defaultTabId:t.defaultTabId}},[t._l(t.configs,(function(e,n){return o("MATab",{key:e.id,attrs:{id:e.id,title:e.name}},[o("Config",{attrs:{bootstrap:e,index:n},on:{"update:bootstrap":function(t){e=t},deleteConfig:t.deleteConfig}})],1)})),t._v(" "),o("li",{staticClass:"slds-p-around_small",attrs:{slot:"additionalContent",role:"presentation"},slot:"additionalContent"},[o("button",{staticClass:"slds-button slds-button_neutral slds-grid slds-grid_align-center ma-new-custom-event",on:{click:t.newCustomEventClick}},[o("span",{staticClass:"slds-button__icon slds-button__icon_left ma-icon ma-icon-add"}),t._v("\n                            "+t._s(t.$Labels.MA_Custom_Event)+"\n                        ")])])],2)],1)])],1),t._v(" "),o("NewConfigModal",{on:{confirm:t.confirmCustomEventObject}}),t._v(" "),o("InstallStandardConfigModal",{attrs:{doShow:t.doShowInstallStandardConfigModal},on:{"update:doShow":function(e){t.doShowInstallStandardConfigModal=e},"update:do-show":function(e){t.doShowInstallStandardConfigModal=e},refresh:t.refresh}})],1)}),[],!1,null,"f2479236",null));e.default=F.exports}}]);