(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{237:function(t,e,s){var a=s(440);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals),(0,s(32).default)("19934f7c",a,!0,{})},240:function(t,e,s){var a=s(447);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals),(0,s(32).default)("b3b61758",a,!0,{})},243:function(t,e,s){var a=s(452);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals),(0,s(32).default)("520769ec",a,!0,{})},244:function(t,e,s){var a=s(454);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals),(0,s(32).default)("228bc826",a,!0,{})},245:function(t,e,s){var a=s(456);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals),(0,s(32).default)("04bae99b",a,!0,{})},246:function(t,e,s){var a=s(458);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals),(0,s(32).default)("3f569902",a,!0,{})},247:function(t,e,s){var a=s(460);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals),(0,s(32).default)("5a780a7a",a,!0,{})},439:function(t,e,s){"use strict";s(237)},440:function(t,e,s){(t.exports=s(31)(!1)).push([t.i,"#permissions-grid a,#permissions-grid .link{color:#006dcc !important;text-decoration:none;transition:color .1s linear;background-color:transparent;cursor:pointer}\n",""])},446:function(t,e,s){"use strict";s(240)},447:function(t,e,s){(t.exports=s(31)(!1)).push([t.i,".slds-form-element_compound .slds-form-element__row[data-v-2c77d1c3]{display:-webkit-box;display:-ms-flexbox;display:flex;margin-bottom:0.25rem;margin-left:-0.25rem;margin-right:-0.25rem}.slds-form-element_compound .slds-form-element[data-v-2c77d1c3]{padding-left:0.25rem;padding-right:0.25rem}.slds-form-element_horizontal[data-v-2c77d1c3]:not(.slds-is-editing){padding:0.25rem 0.25rem;width:100%;flex-basis:100%;margin-bottom:0.5rem}.slds-form-element_horizontal:not(.slds-is-editing) .slds-form-element__label[data-v-2c77d1c3]{float:left;max-width:calc(33% - 1.25rem);-ms-flex-preferred-size:calc(33% - 1.25rem);flex-basis:calc(33% - 1.25rem);margin-bottom:0;position:relative;z-index:1}.slds-form-element_horizontal:not(.slds-is-editing) .slds-form-element__control[data-v-2c77d1c3]{padding-left:33%;clear:none}@media (min-width: 80em){.slds-scope .slds-xlarge-size_1-of-2[data-v-2c77d1c3],.slds-scope .slds-xlarge-size--1-of-2[data-v-2c77d1c3]{width:50%}}\n",""])},451:function(t,e,s){"use strict";s(243)},452:function(t,e,s){(t.exports=s(31)(!1)).push([t.i,'.slds-scope .actionbutton{height:auto;max-width:100%;text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.buttoncolumn .actionbutton,.layout-availablebuttons .actionbutton{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;max-width:100%;padding:0 0.125rem;border:1px solid #dddbda;border-radius:0.25rem;background-color:white;position:relative;width:110px;margin-right:10px;cursor:move;margin-bottom:1px}.buttoncolumn .actionbutton .buttonText,.layout-availablebuttons .actionbutton .buttonText{padding:0.125rem;border-radius:0.25rem;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;font-size:10px;color:#006dcc}.layout-massaction .buttonset-button{position:relative;padding:6px 10px 6px 15px;color:#555;font-family:"Helvetica Neue", Helvetica, arial, sans-serif;font-size:10px;font-weight:normal;cursor:move}\n',""])},453:function(t,e,s){"use strict";s(244)},454:function(t,e,s){(t.exports=s(31)(!1)).push([t.i,'.layout-wrapper{width:370px;min-height:50px}.layout-wrapper.layout-massaction-wrapper{width:auto}.layout-wrapper>.layout .actionbutton[data-type="Blank"]{height:10px;line-height:10px;font-weight:normal;font-style:italic;color:#C0C0C0;text-align:center;-moz-box-shadow:none;-webkit-box-shadow:none;box-shadow:none;background:none}\n',""])},455:function(t,e,s){"use strict";s(245)},456:function(t,e,s){(t.exports=s(31)(!1)).push([t.i,'.layout-massaction .buttonset-section-header{padding:2px 7px;background:#E6E6E6;border:none;text-align:left}.layout-massaction .buttonset-section-header{padding:2px 7px;background:#E6E6E6;border:none;text-align:left}.layout-massaction .button-dropzone-handle{width:100%}.layout-massaction .buttonset-button{position:relative;padding:6px 10px 6px 15px;color:#555;font-family:"Helvetica Neue", Helvetica, arial, sans-serif;font-size:10px;font-weight:normal;cursor:move}.layout-massaction .buttonset-button .arrow-right{position:absolute;top:8px;border-left-width:4px;border-top-width:4px;border-bottom-width:4px}.layout-massaction .buttonset-button .actionbutton[data-type="Blank"]{font-style:italic;color:#C0C0C0}.layout-massaction .buttonset-button .actionbutton[data-type="Blank"] ~ .arrow-right{display:none}.buttonset-button .ui-draggable.ui-draggable-dragging{z-index:999;background:#fff !important;box-shadow:0 2px 4px 0 rgba(0,0,0,0.4);opacity:1 !important}.buttonset-button .ui-draggable.ui-draggable-dragging .buttonText{background:#fff}.buttonset-button.ui-draggable-dragging{background:transparent;z-index:999999;opacity:1 !important}.buttonset-button.ui-draggable-dragging .actionbutton{background:white !important;box-shadow:0 2px 4px 0 rgba(0,0,0,0.4)}\n',""])},457:function(t,e,s){"use strict";s(246)},458:function(t,e,s){(t.exports=s(31)(!1)).push([t.i,".button-layouts-label td[data-v-56aec4d6]{vertical-align:top}.slds-pill_container[data-v-56aec4d6]{padding:0;border:none}\n",""])},459:function(t,e,s){"use strict";s(247)},460:function(t,e,s){(t.exports=s(31)(!1)).push([t.i,'.layout-wrapper.canDrop{background:#EAF2F5 !important}.section-dropzone{width:100%;height:2px}.button-dropzone{width:100%;height:2px}.button-dropzone-handle{width:1px;height:1px;margin:0 auto}.section-dropzone.hovering,.button-dropzone.hovering{background:green}.layout-availablebuttons.hovering{-moz-box-shadow:inset 0px 0px 6px #000000;-webkit-box-shadow:inset 0px 0px 6px #000000;box-shadow:inset 0px 0px 6px #000000}.layout-marker .buttonset-section-columns,.layout-marker .buttonset-section{padding:0;width:calc(100% + 4px);overflow:visible}.layout-marker .buttonset-section-columns:after,.layout-marker .buttonset-section:after{content:"";display:table;clear:both}.layout-marker .buttonset-section-columns .buttoncolumn,.layout-marker .buttonset-section .buttoncolumn{box-sizing:border-box;width:33.3%;float:left;margin:0;padding:0}\n',""])},614:function(t,e,s){"use strict";s.r(e);var a=s(61),o=s(66),n=s(67),i=(s(164),s(33),s(97),s(45),s(17),s(34),s(46),s(47),s(168)),r=s(64),l=s(60),c=s.n(l),d={components:{MAModal:s(167).a},data:function(){return{}},methods:{close:function(){this.$emit("close",!1)},confirm:function(){this.$emit("confirm"),this.close()}}},u=s(9),_=Object(u.a)(d,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("MAModal",{attrs:{doDetach:!0,title:"MapAnything"},on:{close:t.close}},[s("div",{attrs:{slot:"content"},slot:"content"},[t._v("\n        "+t._s(t.$Labels.MA_Are_You_Sure)+"\n    ")]),t._v(" "),s("div",{attrs:{slot:"footer"},slot:"footer"},[s("button",{staticClass:"slds-button slds-button_neutral",on:{click:t.close}},[t._v("\n            "+t._s(t.$Labels.MA_Cancel)+"\n        ")]),t._v(" "),s("button",{staticClass:"slds-button slds-button_brand",on:{click:t.confirm}},[t._v("\n            "+t._s(t.$Labels.MA_Yes)+"\n        ")])])])}),[],!1,null,null,null).exports;function m(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}function p(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?m(Object(s),!0).forEach((function(e){b(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):m(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}function b(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var f={components:{MASpinner:r.a,ConfirmModal:_},data:function(){return{isLoading:!1,apiKey:"",liveKey:"",folderPermissions:!1,showProfileWithUser:!1,visibleAreaMobileEnabled:!1,routingRoleSecurity:!1,autoCheckOutEnabled:!1,debugLogsEnabled:!1,showConfirmModal:!1}},created:function(){this.getSettings()},methods:p(p({},Object(l.mapActions)({settings__getSettings:"getSettings",settings__saveGeneralSettings:"saveGeneralSettings",settings__clearDebugLogs:"clearDebugLogs"})),{},{processSettings:function(t){this.apiKey=Object(i.a)(t,["APIKey","sma__Value__c"])||"",this.liveKey=Object(i.a)(t,["LiveAPIKey","sma__Value__c"])||"",this.folderPermissions="true"===Object(i.a)(t,["FolderPermissionsEnabled","sma__Value__c"]),this.showProfileWithUser="true"===Object(i.a)(t,["ShowProfileWithUserEnabled","sma__Value__c"]),this.visibleAreaMobileEnabled="true"===Object(i.a)(t,["VisibleAreaMobileEnabled","sma__Value__c"]),this.routingRoleSecurity="true"===Object(i.a)(t,["RoutingRoleSecurity","sma__Value__c"]),this.autoCheckOutEnabled="true"===Object(i.a)(t,["AutoCheckOutEnabled","sma__Value__c"]),this.debugLogsEnabled="true"===Object(i.a)(t,["DebugLogsEnabled","sma__Value__c"])},getSettings:function(){var t=this;this.isLoading=!0,this.settings__getSettings().then((function(e){t.processSettings(e)})).finally((function(){t.isLoading=!1}))},saveGeneralSettings:function(){var t=this;this.isLoading=!0;var e={APIKey:this.apiKey,LiveAPIKey:this.liveKey,FolderPermissionsEnabled:this.folderPermissions,ShowProfileWithUserEnabled:this.showProfileWithUser,VisibleAreaMobileEnabled:this.visibleAreaMobileEnabled,RoutingRoleSecurity:this.routingRoleSecurity,AutoCheckOutEnabled:this.autoCheckOutEnabled,DebugLogsEnabled:this.debugLogsEnabled};this.settings__saveGeneralSettings(e).then((function(){t.showSuccessMessage()})).catch((function(t){console.log(t),window.MAToastMessages.showError({message:"Unable to save settings.",subMessage:t.message,timeOut:7e3,closeButton:!0})})).finally((function(){t.isLoading=!1}))},confirmDebugDeletion:function(){this.showConfirmModal=!0},showSuccessMessage:function(){window.MAToastMessages.showSuccess({message:this.$Labels.MA_Success})},clearDebugLogs:function(){var t=this;this.isLoading=!0,this.settings__clearDebugLogs().then((function(){t.showSuccessMessage()})).catch((function(t){window.MAToastMessages.showError({message:"Unable to save settings.",subMessage:t.message,timeOut:7e3,closeButton:!0})})).finally((function(){t.isLoading=!1}))}})},v=Object(u.a)(f,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{attrs:{id:"TopTabs-General"}},[t.isLoading?s("MASpinner"):t._e(),t._v(" "),s("div",{staticClass:"slds-section slds-m-bottom_large slds-is-open"},[t._m(0),t._v(" "),s("div",{staticClass:"slds-section__content section__content"},[s("div",{staticClass:"slds-grid"},[s("div",{staticClass:"slds-col slds-size_1-of-1 slds-large-size_4-of-12 slds-has-flexi-truncate slds-p-horizontal_x-small"},[s("div",{staticClass:"slds-form-element"},[s("label",{staticClass:"slds-form-element__label"},[t._v("API Key")]),t._v(" "),s("div",{staticClass:"slds-form-element__control"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.apiKey,expression:"apiKey"}],staticClass:"apikey slds-input",attrs:{type:"text"},domProps:{value:t.apiKey},on:{input:function(e){e.target.composing||(t.apiKey=e.target.value)}}})])])])]),t._v(" "),s("div",{staticClass:"slds-grid"},[s("div",{staticClass:"slds-col slds-size_1-of-1 slds-large-size_4-of-12 slds-has-flexi-truncate slds-p-horizontal_x-small slds-p-top_small"},[s("div",{staticClass:"slds-form-element"},[s("label",{staticClass:"slds-form-element__label"},[t._v("Live API Key")]),t._v(" "),s("div",{staticClass:"slds-form-element__control"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.liveKey,expression:"liveKey"}],staticClass:"liveapikey slds-input",attrs:{type:"text"},domProps:{value:t.liveKey},on:{input:function(e){e.target.composing||(t.liveKey=e.target.value)}}})])])])])])]),t._v(" "),s("div",{staticClass:"slds-section slds-m-bottom_large slds-is-open"},[s("div",{staticClass:"slds-section__title slds-theme--shade"},[s("span",{staticClass:"section-header-title slds-p-horizontal--small slds-truncate"},[t._v(t._s(t.$Labels.MA_Enabled_Features))])]),t._v(" "),s("div",{staticClass:"slds-section__content section__content"},[s("div",{staticClass:"slds-has-flexi-truncate slds-p-horizontal_x-small"},[s("fieldset",{staticClass:"slds-form-element"},[s("div",{staticClass:"slds-form-element__control"},[s("span",{staticClass:"slds-checkbox"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.folderPermissions,expression:"folderPermissions"}],staticClass:"feature-folderpermissions",attrs:{id:"feature-folderpermissions",type:"checkbox",name:"options"},domProps:{checked:Array.isArray(t.folderPermissions)?t._i(t.folderPermissions,null)>-1:t.folderPermissions},on:{change:function(e){var s=t.folderPermissions,a=e.target,o=!!a.checked;if(Array.isArray(s)){var n=t._i(s,null);a.checked?n<0&&(t.folderPermissions=s.concat([null])):n>-1&&(t.folderPermissions=s.slice(0,n).concat(s.slice(n+1)))}else t.folderPermissions=o}}}),t._v(" "),s("label",{staticClass:"slds-checkbox__label",attrs:{for:"feature-folderpermissions"}},[s("span",{staticClass:"slds-checkbox_faux"}),t._v(" "),s("span",{staticClass:"slds-form-element__label"},[t._v(t._s(t.$Labels.MA_Folder_Permissions))])])]),t._v(" "),s("span",{staticClass:"slds-checkbox"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.showProfileWithUser,expression:"showProfileWithUser"}],staticClass:"feature-showprofilewithuser",attrs:{id:"feature-showprofilewithuser",type:"checkbox",name:"options"},domProps:{checked:Array.isArray(t.showProfileWithUser)?t._i(t.showProfileWithUser,null)>-1:t.showProfileWithUser},on:{change:function(e){var s=t.showProfileWithUser,a=e.target,o=!!a.checked;if(Array.isArray(s)){var n=t._i(s,null);a.checked?n<0&&(t.showProfileWithUser=s.concat([null])):n>-1&&(t.showProfileWithUser=s.slice(0,n).concat(s.slice(n+1)))}else t.showProfileWithUser=o}}}),t._v(" "),t._m(1)]),t._v(" "),s("span",{staticClass:"slds-checkbox"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.visibleAreaMobileEnabled,expression:"visibleAreaMobileEnabled"}],staticClass:"feature-visibleareamobile",attrs:{id:"feature-visibleareamobile",type:"checkbox",name:"options"},domProps:{checked:Array.isArray(t.visibleAreaMobileEnabled)?t._i(t.visibleAreaMobileEnabled,null)>-1:t.visibleAreaMobileEnabled},on:{change:function(e){var s=t.visibleAreaMobileEnabled,a=e.target,o=!!a.checked;if(Array.isArray(s)){var n=t._i(s,null);a.checked?n<0&&(t.visibleAreaMobileEnabled=s.concat([null])):n>-1&&(t.visibleAreaMobileEnabled=s.slice(0,n).concat(s.slice(n+1)))}else t.visibleAreaMobileEnabled=o}}}),t._v(" "),t._m(2)]),t._v(" "),s("span",{staticClass:"slds-checkbox"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.routingRoleSecurity,expression:"routingRoleSecurity"}],staticClass:"feature-routingrolesecurity",attrs:{id:"feature-routingrolesecurity",type:"checkbox",name:"options"},domProps:{checked:Array.isArray(t.routingRoleSecurity)?t._i(t.routingRoleSecurity,null)>-1:t.routingRoleSecurity},on:{change:function(e){var s=t.routingRoleSecurity,a=e.target,o=!!a.checked;if(Array.isArray(s)){var n=t._i(s,null);a.checked?n<0&&(t.routingRoleSecurity=s.concat([null])):n>-1&&(t.routingRoleSecurity=s.slice(0,n).concat(s.slice(n+1)))}else t.routingRoleSecurity=o}}}),t._v(" "),s("label",{staticClass:"slds-checkbox__label",attrs:{for:"feature-routingrolesecurity"}},[s("span",{staticClass:"slds-checkbox_faux"}),t._v(" "),s("span",{staticClass:"slds-form-element__label"},[t._v(t._s(t.$Labels.MA_Routing_Role_Security))])])]),t._v(" "),s("span",{staticClass:"slds-checkbox"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.autoCheckOutEnabled,expression:"autoCheckOutEnabled"}],staticClass:"feature-autocheckout",attrs:{id:"feature-autocheckout",type:"checkbox",name:"options"},domProps:{checked:Array.isArray(t.autoCheckOutEnabled)?t._i(t.autoCheckOutEnabled,null)>-1:t.autoCheckOutEnabled},on:{change:function(e){var s=t.autoCheckOutEnabled,a=e.target,o=!!a.checked;if(Array.isArray(s)){var n=t._i(s,null);a.checked?n<0&&(t.autoCheckOutEnabled=s.concat([null])):n>-1&&(t.autoCheckOutEnabled=s.slice(0,n).concat(s.slice(n+1)))}else t.autoCheckOutEnabled=o}}}),t._v(" "),t._m(3)]),t._v(" "),s("span",{staticClass:"slds-checkbox"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.debugLogsEnabled,expression:"debugLogsEnabled"}],staticClass:"feature-debuglogs",attrs:{id:"feature-debuglogs",type:"checkbox",name:"options"},domProps:{checked:Array.isArray(t.debugLogsEnabled)?t._i(t.debugLogsEnabled,null)>-1:t.debugLogsEnabled},on:{change:function(e){var s=t.debugLogsEnabled,a=e.target,o=!!a.checked;if(Array.isArray(s)){var n=t._i(s,null);a.checked?n<0&&(t.debugLogsEnabled=s.concat([null])):n>-1&&(t.debugLogsEnabled=s.slice(0,n).concat(s.slice(n+1)))}else t.debugLogsEnabled=o}}}),t._v(" "),s("label",{staticClass:"slds-checkbox__label",attrs:{for:"feature-debuglogs"}},[s("span",{staticClass:"slds-checkbox_faux"}),t._v(" "),s("span",{staticClass:"slds-form-element__label"},[t._v(t._s(t.$Labels.MA_Debug_Logs))])]),t._v(" "),s("span",{staticClass:"slds-text-body_small",staticStyle:{cursor:"pointer",color:"#2265BB"},attrs:{id:"ClearDebugLogs"},on:{click:t.confirmDebugDeletion}},[t._v("\n                                    "+t._s(t.$Labels.MA_Clear)+"\n                                ")]),t._v(" "),s("img",{staticStyle:{height:"10px",display:"none"},attrs:{src:"{!URLFOR($Resource.MapAnything, 'images/chatterstatus-loader.gif')}"}})])])])])])]),t._v(" "),s("div",{staticClass:"buttons"},[s("button",{staticClass:"slds-button slds-button_brand",attrs:{type:"button"},on:{click:t.saveGeneralSettings}},[t._v("\n                "+t._s(t.$Labels.MA_Save)+"\n            ")]),t._v(" "),s("span",{staticClass:"msgs",staticStyle:{color:"red","font-size":"10px",display:"none"}})])],1),t._v(" "),t.showConfirmModal?s("ConfirmModal",{on:{confirm:t.clearDebugLogs,close:function(e){t.showConfirmModal=!1}}}):t._e()],1)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"slds-section__title slds-theme--shade"},[e("span",{staticClass:"section-header-title slds-p-horizontal--small slds-truncate"},[this._v("Licensing")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"slds-checkbox__label",attrs:{for:"feature-showprofilewithuser"}},[e("span",{staticClass:"slds-checkbox_faux"}),this._v(" "),e("span",{staticClass:"slds-form-element__label"},[this._v("Display Profile Name with User Lookup (On Tooltips)")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"slds-checkbox__label",attrs:{for:"feature-visibleareamobile"}},[e("span",{staticClass:"slds-checkbox_faux"}),this._v(" "),e("span",{staticClass:"slds-form-element__label"},[this._v("Visible Area Enabled on Mobile by Default")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"slds-checkbox__label",attrs:{for:"feature-autocheckout"}},[e("span",{staticClass:"slds-checkbox_faux"}),this._v(" "),e("span",{staticClass:"slds-form-element__label"},[this._v("Auto Check Out")])])}],!1,null,null,null).exports;function h(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}function g(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?h(Object(s),!0).forEach((function(e){y(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):h(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}function y(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}s(65),s(98);var A={props:{user:{type:Object,required:!0},index:{type:Number,required:!0},isLoading:{type:Boolean,default:!1}},data:function(){return{searchTimeout:null}},computed:g({},Object(l.mapGetters)({settings__buttonSets:"buttonSets"})),methods:g(g({},Object(l.mapActions)({settings__updateUserPermission:"updateUserPermission"})),{},{updatePermission:function(t){var e,s,a,o=this,n=this.user[t],i=window.getProperty(window.MASystem||{},"Organization.SFDCMarkerLimit",!1)||5e4;switch(t){case"FolderAdmin":a="sma__EditMapAnythingOrgWirdeQueries__c",e="boolean";break;case"AllowExports":a="sma__AllowMapAnythingExports__c",e="boolean";break;case"EditableTooltips":case"ShowPersonalFolders":case"DisableGeolocation":case"ShowWeather":case"HidePersonalFolder":case"SelfHostedDataUser":case"TerritoryLayerCreation":case"ButtonSetId":case"mobilePlotLimit":s=t,a="sma__MapAnythingSettings__c",e="setting";break;case"MaxQuerySize":if(""===n||n>i||n<0)return void window.MAToastMessages.showWarning({message:"Validation Error",subMessage:"Max Query Size must be a number between 0 and ".concat(i),timeOut:4e3});a="sma__MAMaxQuerySize__c",e="number";break;case"MaxExportSize":if(""===n||n<0)return void window.MAToastMessages.showWarning({message:"Validation Error",subMessage:"Max Export Size must be a number greater than 0",timeOut:4e3});a="sma__MAMaxExportSize__c",e="number";break;default:return}var r={userIds:JSON.stringify([this.user.userId]),field:a,type:e,value:n};s&&(r.setting=s),this.$emit("update:isLoading",!0),this.settings__updateUserPermission(r).catch((function(){"boolean"===e&&(o.user[t]=!o.user[t])})).finally((function(){o.$emit("update:isLoading",!1)}))},debounceUpdate:function(t){var e=this;null!==this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout((function(){e.searchTimeout=null,e.updatePermission(t)}),500)}})},C=(s(439),Object(u.a)(A,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("tr",{staticClass:"slds-line-height_reset"},[s("td",[s("a",{attrs:{href:"\\"+t.user.userId,target:"_blank"}},[t._v(t._s(t.user.userName))])]),t._v(" "),s("td",[s("a",{attrs:{href:"\\"+t.user.profileId,target:"_blank"}},[t._v(t._s(t.user.profileName))])]),t._v(" "),s("td",[s("div",{staticClass:"slds-form-element slds-text-align_center"},[s("div",{staticClass:"slds-form-element__control"},[s("span",{staticClass:"slds-checkbox"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.FolderAdmin,expression:"user.FolderAdmin"}],staticClass:"autosave",attrs:{id:"corporateadmin__"+t.index,type:"checkbox"},domProps:{checked:Array.isArray(t.user.FolderAdmin)?t._i(t.user.FolderAdmin,null)>-1:t.user.FolderAdmin},on:{change:[function(e){var s=t.user.FolderAdmin,a=e.target,o=!!a.checked;if(Array.isArray(s)){var n=t._i(s,null);a.checked?n<0&&t.$set(t.user,"FolderAdmin",s.concat([null])):n>-1&&t.$set(t.user,"FolderAdmin",s.slice(0,n).concat(s.slice(n+1)))}else t.$set(t.user,"FolderAdmin",o)},function(e){return t.updatePermission("FolderAdmin")}]}}),t._v(" "),s("label",{staticClass:"slds-checkbox__label",attrs:{for:"corporateadmin__"+t.index}},[s("span",{staticClass:"slds-checkbox_faux"})])])])])]),t._v(" "),s("td",[s("div",{staticClass:"slds-form-element slds-text-align_center"},[s("div",{staticClass:"slds-form-element__control"},[s("span",{staticClass:"slds-checkbox"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.ShowPersonalFolders,expression:"user.ShowPersonalFolders"}],staticClass:"autosave",attrs:{id:"ShowPersonalFolders__"+t.index,type:"checkbox"},domProps:{checked:Array.isArray(t.user.ShowPersonalFolders)?t._i(t.user.ShowPersonalFolders,null)>-1:t.user.ShowPersonalFolders},on:{change:[function(e){var s=t.user.ShowPersonalFolders,a=e.target,o=!!a.checked;if(Array.isArray(s)){var n=t._i(s,null);a.checked?n<0&&t.$set(t.user,"ShowPersonalFolders",s.concat([null])):n>-1&&t.$set(t.user,"ShowPersonalFolders",s.slice(0,n).concat(s.slice(n+1)))}else t.$set(t.user,"ShowPersonalFolders",o)},function(e){return t.updatePermission("ShowPersonalFolders")}]}}),t._v(" "),s("label",{staticClass:"slds-checkbox__label",attrs:{for:"ShowPersonalFolders__"+t.index}},[s("span",{staticClass:"slds-checkbox_faux"})])])])])]),t._v(" "),s("td",[s("div",{staticClass:"slds-form-element slds-text-align_center"},[s("div",{staticClass:"slds-form-element__control"},[s("span",{staticClass:"slds-checkbox"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.AllowExports,expression:"user.AllowExports"}],staticClass:"autosave",attrs:{id:"allowExports__"+t.index,type:"checkbox"},domProps:{checked:Array.isArray(t.user.AllowExports)?t._i(t.user.AllowExports,null)>-1:t.user.AllowExports},on:{change:[function(e){var s=t.user.AllowExports,a=e.target,o=!!a.checked;if(Array.isArray(s)){var n=t._i(s,null);a.checked?n<0&&t.$set(t.user,"AllowExports",s.concat([null])):n>-1&&t.$set(t.user,"AllowExports",s.slice(0,n).concat(s.slice(n+1)))}else t.$set(t.user,"AllowExports",o)},function(e){return t.updatePermission("AllowExports")}]}}),t._v(" "),s("label",{staticClass:"slds-checkbox__label",attrs:{for:"allowExports__"+t.index}},[s("span",{staticClass:"slds-checkbox_faux"})])])])])]),t._v(" "),s("td",[s("div",{staticClass:"slds-form-element slds-text-align_center"},[s("div",{staticClass:"slds-form-element__control"},[s("span",{staticClass:"slds-checkbox"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.EditableTooltips,expression:"user.EditableTooltips"}],staticClass:"autosave",attrs:{id:"editableTooltips__"+t.index,type:"checkbox"},domProps:{checked:Array.isArray(t.user.EditableTooltips)?t._i(t.user.EditableTooltips,null)>-1:t.user.EditableTooltips},on:{change:[function(e){var s=t.user.EditableTooltips,a=e.target,o=!!a.checked;if(Array.isArray(s)){var n=t._i(s,null);a.checked?n<0&&t.$set(t.user,"EditableTooltips",s.concat([null])):n>-1&&t.$set(t.user,"EditableTooltips",s.slice(0,n).concat(s.slice(n+1)))}else t.$set(t.user,"EditableTooltips",o)},function(e){return t.updatePermission("EditableTooltips")}]}}),t._v(" "),s("label",{staticClass:"slds-checkbox__label",attrs:{for:"editableTooltips__"+t.index}},[s("span",{staticClass:"slds-checkbox_faux"})])])])])]),t._v(" "),s("td",[s("div",{staticClass:"slds-form-element slds-text-align_center"},[s("div",{staticClass:"slds-form-element__control"},[s("span",{staticClass:"slds-checkbox"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.DisableGeolocation,expression:"user.DisableGeolocation"}],staticClass:"autosave",attrs:{id:"disableGeoLocation__"+t.index,type:"checkbox"},domProps:{checked:Array.isArray(t.user.DisableGeolocation)?t._i(t.user.DisableGeolocation,null)>-1:t.user.DisableGeolocation},on:{change:[function(e){var s=t.user.DisableGeolocation,a=e.target,o=!!a.checked;if(Array.isArray(s)){var n=t._i(s,null);a.checked?n<0&&t.$set(t.user,"DisableGeolocation",s.concat([null])):n>-1&&t.$set(t.user,"DisableGeolocation",s.slice(0,n).concat(s.slice(n+1)))}else t.$set(t.user,"DisableGeolocation",o)},function(e){return t.updatePermission("DisableGeolocation")}]}}),t._v(" "),s("label",{staticClass:"slds-checkbox__label",attrs:{for:"disableGeoLocation__"+t.index}},[s("span",{staticClass:"slds-checkbox_faux"})])])])])]),t._v(" "),s("td",[s("div",{staticClass:"slds-form-element slds-text-align_center"},[s("div",{staticClass:"slds-form-element__control"},[s("span",{staticClass:"slds-checkbox"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.ShowWeather,expression:"user.ShowWeather"}],staticClass:"autosave",attrs:{id:"showWeather__"+t.index,type:"checkbox"},domProps:{checked:Array.isArray(t.user.ShowWeather)?t._i(t.user.ShowWeather,null)>-1:t.user.ShowWeather},on:{change:[function(e){var s=t.user.ShowWeather,a=e.target,o=!!a.checked;if(Array.isArray(s)){var n=t._i(s,null);a.checked?n<0&&t.$set(t.user,"ShowWeather",s.concat([null])):n>-1&&t.$set(t.user,"ShowWeather",s.slice(0,n).concat(s.slice(n+1)))}else t.$set(t.user,"ShowWeather",o)},function(e){return t.updatePermission("ShowWeather")}]}}),t._v(" "),s("label",{staticClass:"slds-checkbox__label",attrs:{for:"showWeather__"+t.index}},[s("span",{staticClass:"slds-checkbox_faux"})])])])])]),t._v(" "),s("td",[s("div",{staticClass:"slds-form-element slds-text-align_center"},[s("div",{staticClass:"slds-form-element__control"},[s("span",{staticClass:"slds-checkbox"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.HidePersonalFolder,expression:"user.HidePersonalFolder"}],staticClass:"autosave",attrs:{id:"hidePersonalFolder__"+t.index,type:"checkbox"},domProps:{checked:Array.isArray(t.user.HidePersonalFolder)?t._i(t.user.HidePersonalFolder,null)>-1:t.user.HidePersonalFolder},on:{change:[function(e){var s=t.user.HidePersonalFolder,a=e.target,o=!!a.checked;if(Array.isArray(s)){var n=t._i(s,null);a.checked?n<0&&t.$set(t.user,"HidePersonalFolder",s.concat([null])):n>-1&&t.$set(t.user,"HidePersonalFolder",s.slice(0,n).concat(s.slice(n+1)))}else t.$set(t.user,"HidePersonalFolder",o)},function(e){return t.updatePermission("HidePersonalFolder")}]}}),t._v(" "),s("label",{staticClass:"slds-checkbox__label",attrs:{for:"hidePersonalFolder__"+t.index}},[s("span",{staticClass:"slds-checkbox_faux"})])])])])]),t._v(" "),s("td",[s("div",{staticClass:"slds-form-element slds-text-align_center"},[s("div",{staticClass:"slds-form-element__control"},[s("span",{staticClass:"slds-checkbox"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.SelfHostedDataUser,expression:"user.SelfHostedDataUser"}],staticClass:"autosave",attrs:{id:"SelfHostedDataUser__"+t.index,type:"checkbox"},domProps:{checked:Array.isArray(t.user.SelfHostedDataUser)?t._i(t.user.SelfHostedDataUser,null)>-1:t.user.SelfHostedDataUser},on:{change:[function(e){var s=t.user.SelfHostedDataUser,a=e.target,o=!!a.checked;if(Array.isArray(s)){var n=t._i(s,null);a.checked?n<0&&t.$set(t.user,"SelfHostedDataUser",s.concat([null])):n>-1&&t.$set(t.user,"SelfHostedDataUser",s.slice(0,n).concat(s.slice(n+1)))}else t.$set(t.user,"SelfHostedDataUser",o)},function(e){return t.updatePermission("SelfHostedDataUser")}]}}),t._v(" "),s("label",{staticClass:"slds-checkbox__label",attrs:{for:"SelfHostedDataUser__"+t.index}},[s("span",{staticClass:"slds-checkbox_faux"})])])])])]),t._v(" "),s("td",[s("div",{staticClass:"slds-form-element slds-text-align_center"},[s("div",{staticClass:"slds-form-element__control"},[s("span",{staticClass:"slds-checkbox"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.TerritoryLayerCreation,expression:"user.TerritoryLayerCreation"}],staticClass:"autosave",attrs:{id:"TerritoryLayerCreation__"+t.index,type:"checkbox"},domProps:{checked:Array.isArray(t.user.TerritoryLayerCreation)?t._i(t.user.TerritoryLayerCreation,null)>-1:t.user.TerritoryLayerCreation},on:{change:[function(e){var s=t.user.TerritoryLayerCreation,a=e.target,o=!!a.checked;if(Array.isArray(s)){var n=t._i(s,null);a.checked?n<0&&t.$set(t.user,"TerritoryLayerCreation",s.concat([null])):n>-1&&t.$set(t.user,"TerritoryLayerCreation",s.slice(0,n).concat(s.slice(n+1)))}else t.$set(t.user,"TerritoryLayerCreation",o)},function(e){return t.updatePermission("TerritoryLayerCreation")}]}}),t._v(" "),s("label",{staticClass:"slds-checkbox__label",attrs:{for:"TerritoryLayerCreation__"+t.index}},[s("span",{staticClass:"slds-checkbox_faux"})])])])])]),t._v(" "),s("td",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.MaxQuerySize,expression:"user.MaxQuerySize"}],staticClass:"autosave slds-input",staticStyle:{"line-height":"2",width:"100%",padding:"0 0 0 .75rem"},attrs:{"data-field":"MAMaxQuerySize__c",type:"number"},domProps:{value:t.user.MaxQuerySize},on:{input:[function(e){e.target.composing||t.$set(t.user,"MaxQuerySize",e.target.value)},function(e){return t.debounceUpdate("MaxQuerySize")}]}})]),t._v(" "),s("td",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.MaxExportSize,expression:"user.MaxExportSize"}],staticClass:"autosave slds-input",staticStyle:{"line-height":"2",width:"100%",padding:"0 0 0 .75rem"},attrs:{"data-field":"MAMaxExportSize__c",type:"number"},domProps:{value:t.user.MaxExportSize},on:{input:[function(e){e.target.composing||t.$set(t.user,"MaxExportSize",e.target.value)},function(e){return t.debounceUpdate("MaxExportSize")}]}})]),t._v(" "),s("td",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.mobilePlotLimit,expression:"user.mobilePlotLimit"}],staticClass:"autosave slds-input",staticStyle:{"line-height":"2",width:"100%",padding:"0 0 0 .75rem"},attrs:{"data-field":"mobilePlotLimit",type:"number"},domProps:{value:t.user.mobilePlotLimit},on:{input:[function(e){e.target.composing||t.$set(t.user,"mobilePlotLimit",e.target.value)},function(e){return t.debounceUpdate("mobilePlotLimit")}]}})]),t._v(" "),s("td",[s("select",{directives:[{name:"model",rawName:"v-model",value:t.user.ButtonSetId,expression:"user.ButtonSetId"}],staticClass:"massaction slds-input slds-select setting",staticStyle:{width:"100px"},attrs:{"data-field":"ButtonSetId"},on:{change:[function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.user,"ButtonSetId",e.target.multiple?s:s[0])},function(e){return t.debounceUpdate("ButtonSetId")}]}},[s("option",{attrs:{value:""}},[t._v("\n                --Select--\n            ")]),t._v(" "),t._l(t.settings__buttonSets,(function(e,a){return s("option",{key:a,domProps:{value:e.Id}},[t._v("\n                "+t._s(e.Name)+"\n            ")])}))],2)])])}),[],!1,null,null,null).exports),S=s(609),w=s(62),x=s(445),k=s.n(x),L=s(214),P=s.n(L);function M(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}function O(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?M(Object(s),!0).forEach((function(e){E(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):M(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}function E(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var T={components:{MASpinner:r.a,PermissionGridRow:C,MASearch:S.a,Paginate:k.a},data:function(){var t=this;return{isLoading:!1,includeInactive:!1,includePortal:!1,includeChatter:!1,onlyMAUsers:!0,userSearch:"",profileSearch:"",searchTimeout:null,searchIsLoading:!1,allUsers:[],userPages:[],defaultUserGroup:null,profileSearchParam:"contains",userSearchParam:"contains",searchOptions:[{label:this.$Labels.MA_Contains,value:"contains"},{label:this.$Labels.MA_Equals,value:"equals"}],userQuery:"",tableColumns:[{label:this.$Labels.MA_Name,type:"string"},{label:this.$Labels.MA_Profile,type:"string"},{label:this.$Labels.MA_Folder_Admin,type:"boolean",field:"FolderAdmin"},{label:this.$Labels.MA_Show_Personal_Folders,type:"boolean",field:"ShowPersonalFolders"},{label:this.$Labels.MA_Allow_Exports,type:"boolean",field:"AllowExports"},{label:this.$Labels.MA_Editable_Tooltips,type:"boolean",field:"EditableTooltips"},{label:"Disable Geolocation",type:"boolean",field:"DisableGeolocation"},{label:this.$Labels.MA_Show_Weather,type:"boolean",field:"ShowWeather"},{label:this.$Labels.MA_Hide_Personal_Folder,type:"boolean",field:"HidePersonalFolder"},{label:"Allow Self Hosted Data Creation",type:"boolean",field:"SelfHostedDataUser"},{label:"Manage Territory Layer",type:"boolean",field:"TerritoryLayerCreation"},{label:this.$Labels.MA_Max_Query_Size,type:"input",field:"MaxQuerySize",value:""},{label:this.$Labels.MA_Max_Export_Size,type:"input",field:"MaxExportSize",value:""},{label:"Mobile Query Size",type:"input",field:"mobilePlotLimit",value:""},{label:this.$Labels.MA_Button_Set,type:"select",field:"ButtonSetId",value:""}],currentPageUsers:[],buttonSetOptions:[],page:1,usersPerPage:30,totalUsers:0,searches:[{id:Object(a.d)(),onSearch:function(e,s){return t.searchProfiles(e,s)},label:"Name"}]}},computed:O(O({},Object(l.mapGetters)({settings__buttonSets:"buttonSets"})),{},{totalPages:function(){return this.userPages.length},startingRecord:function(){var t=0;return 0!==this.totalUsers&&(t=(this.page-1)*this.usersPerPage+1),t},endingRecord:function(){var t=0;if(Array.isArray(this.currentPageUsers)&&this.currentPageUsers.length>0){var e=this.currentPageUsers.length;t=this.startingRecord+e-1}return t},computedTotal:function(){return this.totalUsers}}),watch:{userSearch:function(t,e){this.searchIsLoading=!0,t!==e&&this.debounceSearch()},profileSearch:function(t,e){this.searchIsLoading=!0,t!==e&&""===t&&this.clearProfiles()},page:function(){this.getExtendedUserInfoPerPage()}},created:function(){this.getUsers(),this.settings__getButtonSetInfo()},methods:O(O({},Object(l.mapActions)({settings__getUsers:"getUsers",settings__updateUserPermission:"updateUserPermission",settings__getButtonSetInfo:"getButtonSetInfo",settings__getUsersPhase2:"getUsersPhase2"})),{},{searchProfiles:function(t,e){var s=this;return new Promise((function(a){var o={action:"searchProfileNames",term:t};(new w.a).setAction(s.$Remoting.AdminStartUpAction).setErrorHandler((function(){a({results:[{Id:"",Name:t}],searchIndex:e})})).invoke([o],(function(s){if(s.success){var o=s.profiles,n=void 0===o?[]:o;n.unshift({Id:"",Name:t}),a({results:n,searchIndex:e})}else a({results:[{Id:"",Name:t}],searchIndex:e})}),{escape:!1,buffer:!1})}))},clearProfiles:function(){this.profileSearch="",this.debounceSearch()},getUsers:function(){var t=this;this.isLoading=!0,this.userPages=[],this.currentPageUsers=[],this.resetPageInfo();var e={includeInactive:this.includeInactive,includePortal:this.includePortal,includeChatter:this.includeChatter,onlyMAUsers:this.onlyMAUsers,userSearch:this.userSearch,profileSearch:this.profileSearch,profileParam:this.profileSearchParam,userParam:this.userSearchParam};this.settings__getUsers(e).then((function(e){t.userQuery=e.userQuery,t.userPages=t.createPagedUsers(e.users,t.usersPerPage),t.getExtendedUserInfoPerPage()})).catch((function(t){console.warn(t)})).finally((function(){t.isLoading=!1}))},getExtendedUserInfoPerPage:function(){var t=this,e=this.page-1,s=this.userPages[e];s&&s.length>0&&(this.isLoading=!0,this.settings__getUsersPhase2(s).then((function(e){t.normalizeUsers(e)})).finally((function(){t.isLoading=!1})))},debounceSearch:function(){var t=this;null!==this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout((function(){t.searchTimeout=null,t.getUsers()}),500)},resetPageInfo:function(){this.page=1},normalizeUsers:function(t){var e=[];t.forEach((function(t){var s,a;try{a=(s=JSON.parse(t.sma__MapAnythingSettings__c)).ButtonSetSettings||{}}catch(t){s={},a={}}e.push({userId:t.Id,userName:t.Name,profileName:t.Profile.Name,profileId:t.Profile.Id,FolderAdmin:t.sma__EditMapAnythingOrgWirdeQueries__c||!1,ShowPersonalFolders:s.ShowPersonalFolders||!1,AllowExports:t.sma__AllowMapAnythingExports__c||!1,EditableTooltips:s.EditableTooltips||!1,DisableGeolocation:s.DisableGeolocation||!1,ShowWeather:s.ShowWeather||!1,HidePersonalFolder:s.HidePersonalFolder||!1,SelfHostedDataUser:s.SelfHostedDataUser||!1,TerritoryLayerCreation:s.TerritoryLayerCreation||!1,MaxQuerySize:t.sma__MAMaxQuerySize__c||"",MaxExportSize:t.sma__MAMaxExportSize__c||"",ButtonSetId:a.Id||"",mobilePlotLimit:s.mobilePlotLimit||"1000"})})),this.currentPageUsers=e},createPagedUsers:function(t,e){this.totalUsers=t.length;for(var s=[],a=[],o=0;o<t.length;o++)a.push(t[o]),a.length===e&&(s.push(a),a=[]);return a.length>0&&s.push(a),s},refreshUsers:function(){this.getUsers()},updateAll:function(t,e){var s=this;if(0!==this.userPages.length){var a,o,n,i=window.getProperty(window.MASystem||{},"Organization.SFDCMarkerLimit",!1)||5e4;switch(t){case"FolderAdmin":n="sma__EditMapAnythingOrgWirdeQueries__c",a="boolean";break;case"AllowExports":n="sma__AllowMapAnythingExports__c",a="boolean";break;case"EditableTooltips":case"ShowPersonalFolders":case"DisableGeolocation":case"ShowWeather":case"HidePersonalFolder":case"SelfHostedDataUser":case"TerritoryLayerCreation":case"ButtonSetId":case"mobilePlotLimit":o=t,n="sma__MapAnythingSettings__c",a="setting";break;case"MaxQuerySize":if(""===e||e>i||e<0)return void window.MAToastMessages.showWarning({message:"Validation Error",subMessage:"Max Query Size must be a number between 0 and ".concat(i),timeOut:4e3});n="sma__MAMaxQuerySize__c",a="number";break;case"MaxExportSize":if(""===e||e<0)return void window.MAToastMessages.showWarning({message:"Validation Error",subMessage:"Max Export Size must be a number greater than 0",timeOut:4e3});n="sma__MAMaxExportSize__c",a="number";break;default:return void console.warn("Field not found: ",n)}var r={field:n,type:a,value:e,isMassAction:"true"};o&&(r.setting=o),this.isLoading=!0,this.getUserIdList().then((function(t){s.updatePermissionBatch(t,r).then((function(){s.getExtendedUserInfoPerPage()})).catch((function(){s.isLoading=!1}))})).catch((function(t){console.warn(t),s.isLoading=!1}))}},updatePermissionBatch:function(t,e){var s=this;return new Promise((function(a,o){var n=[],i={success:0,fail:0,total:t.length,done:0},r=window.MAToastMessages.showLoading({message:"Updating",subMessage:"0 batches of ".concat(i.total),timeOut:0,extendedTimeOut:0}),l=P()((function(t,a){var o=O(O({},e),{userIds:JSON.stringify(t.users)});s.settings__updateUserPermission(o).then((function(){i.success+=t.users.length})).catch((function(e){i.fail+=t.users.length,n.push(e.message),console.warn(e)})).finally((function(){i.done++,r.find(".toast-message").text("".concat(i.done," batches of ").concat(i.total)),a()}))}));l.concurrency=3,t.forEach((function(t){l.push({users:t},(function(){}))})),l.drain=function(){window.MAToastMessages.hideMessage(r),n.length>0?(window.MAToastMessages.showError({message:"Update Complete",subMessage:"".concat(i.success," records updated successfully, ").concat(i.fail," records failed."),timeOut:0,closeButton:!0}),o(n)):(window.MAToastMessages.showSuccess({message:"Update Complete",subMessage:"".concat(i.success," records updated successfully.")}),a())}}))},getUserIdList:function(){var t=this;return new Promise((function(e){var s=[];t.userPages.forEach((function(t){t.forEach((function(t){s.push(t)}))})),e(t.createPagedUsers(s,100))}))},debounceMassUpdate:function(t){var e=this;null!==this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout((function(){e.searchTimeout=null;var s=t.field,a=t.value;e.updateAll(s,a)}),500)}})},I=(s(446),Object(u.a)(T,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"TopTabs-Permissions"}},[t.isLoading?s("MASpinner"):t._e(),t._v(" "),s("div",[s("div",{staticClass:"permission-filter-table"},[s("fieldset",{staticClass:"slds-form-element slds-form-element_compound slds-form-element_address",attrs:{id:"permissions-filters"}},[s("legend",{staticClass:"slds-form-element__legend slds-form-element__label"},[t._v("\n                    Filters\n                ")]),t._v(" "),s("div",{staticClass:"slds-form-element__control slds-grid slds-wrap slds-p-bottom_small"},[s("div",{staticClass:"slds-grid slds-size_1-of-1 slds-xlarge-size_1-of-2"},[s("div",{staticClass:"slds-form-element__row slds-size_1-of-2"},[s("div",{staticClass:"slds-size_1-of-2"},[s("div",{staticClass:"slds-form-element"},[s("label",{staticClass:"slds-form-element__label"},[t._v(t._s(t.$Labels.MA_Name))]),t._v(" "),s("div",{staticClass:"slds-form-element__control"},[s("div",{staticClass:"slds-select_container"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.userSearchParam,expression:"userSearchParam"}],staticClass:"slds-select",on:{change:[function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.userSearchParam=e.target.multiple?s:s[0]},t.debounceSearch]}},t._l(t.searchOptions,(function(e,a){return s("option",{key:a,domProps:{value:e.value}},[t._v("\n                                                    "+t._s(e.label)+"\n                                                ")])})),0)])])])]),t._v(" "),s("div",{staticClass:"slds-size_1-of-2"},[s("div",{staticClass:"slds-form-element"},[s("div",{staticClass:"slds-form-element__control"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.userSearch,expression:"userSearch"}],staticClass:"slds-input",staticStyle:{"line-height":"1.875rem","min-height":"calc(1.875rem + (1px * 2))"},attrs:{id:"permissionsfilter-name",placeholder:t.$Labels.MA_User,type:"text"},domProps:{value:t.userSearch},on:{input:function(e){e.target.composing||(t.userSearch=e.target.value)}}})])])])]),t._v(" "),s("div",{staticClass:"slds-form-element__row slds-size_1-of-2 slds-p-left_small"},[s("div",{staticClass:"slds-size_1-of-2"},[s("div",{staticClass:"slds-form-element"},[s("label",{staticClass:"slds-form-element__label slds-m-right_xx-small"},[t._v(t._s(t.$Labels.MA_Profile))]),t._v(" "),s("div",{staticClass:"slds-form-element__control"},[s("div",{staticClass:"slds-select_container"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.profileSearchParam,expression:"profileSearchParam"}],staticClass:"slds-select",on:{change:[function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.profileSearchParam=e.target.multiple?s:s[0]},t.debounceSearch]}},t._l(t.searchOptions,(function(e,a){return s("option",{key:a,domProps:{value:e.value}},[t._v("\n                                                    "+t._s(e.label)+"\n                                                ")])})),0)])])])]),t._v(" "),s("div",{staticClass:"slds-size_1-of-2"},[s("MASearch",{ref:"addStopMASearch",staticClass:"slds-form-element",attrs:{searches:t.searches,placeholder:t.$Labels.MA_Profile,doDetach:!0},on:{clear:t.clearProfiles,selected:t.debounceSearch},scopedSlots:t._u([{key:"result",fn:function(e){return e.result?s("span",{staticClass:"slds-listbox__option-text_entity slds-listbox__option slds-listbox__option_plain",attrs:{id:"listbox-option-unique-id-01"}},[t._v("\n                                        "+t._s(t._f("decode")(e.result.Name))+"\n                                    ")]):t._e()}}],null,!0),model:{value:t.profileSearch,callback:function(e){t.profileSearch=e},expression:"profileSearch"}})],1)])]),t._v(" "),s("div",{staticClass:"slds-grid slds-size_1-of-1 slds-xlarge-size_1-of-2"},[s("div",[s("div",{staticClass:"slds-form-element"},[s("div",{staticClass:"slds-form-element__control"},[s("span",{staticClass:"slds-checkbox slds-checkbox_stacked"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.onlyMAUsers,expression:"onlyMAUsers"}],attrs:{id:"onlyMAUsers",type:"checkbox"},domProps:{checked:Array.isArray(t.onlyMAUsers)?t._i(t.onlyMAUsers,null)>-1:t.onlyMAUsers},on:{change:[function(e){var s=t.onlyMAUsers,a=e.target,o=!!a.checked;if(Array.isArray(s)){var n=t._i(s,null);a.checked?n<0&&(t.onlyMAUsers=s.concat([null])):n>-1&&(t.onlyMAUsers=s.slice(0,n).concat(s.slice(n+1)))}else t.onlyMAUsers=o},t.refreshUsers]}}),t._v(" "),t._m(0)])])])]),t._v(" "),s("div",[s("div",{staticClass:"slds-form-element"},[s("div",{staticClass:"slds-form-element__control"},[s("span",{staticClass:"slds-checkbox slds-checkbox_stacked"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.includeInactive,expression:"includeInactive"}],attrs:{id:"includeinactive",type:"checkbox"},domProps:{checked:Array.isArray(t.includeInactive)?t._i(t.includeInactive,null)>-1:t.includeInactive},on:{change:[function(e){var s=t.includeInactive,a=e.target,o=!!a.checked;if(Array.isArray(s)){var n=t._i(s,null);a.checked?n<0&&(t.includeInactive=s.concat([null])):n>-1&&(t.includeInactive=s.slice(0,n).concat(s.slice(n+1)))}else t.includeInactive=o},t.refreshUsers]}}),t._v(" "),s("label",{staticClass:"slds-checkbox__label",attrs:{for:"includeinactive"}},[s("span",{staticClass:"slds-checkbox_faux"}),t._v(" "),s("span",{staticClass:"slds-form-element__label"},[t._v(t._s(t.$Labels.MA_Include_Inactive_Users))])])])])])]),t._v(" "),s("div",[s("div",{staticClass:"slds-form-element"},[s("div",{staticClass:"slds-form-element__control"},[s("span",{staticClass:"slds-checkbox slds-checkbox_stacked"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.includeChatter,expression:"includeChatter"}],attrs:{id:"chatterCheckBox",type:"checkbox"},domProps:{checked:Array.isArray(t.includeChatter)?t._i(t.includeChatter,null)>-1:t.includeChatter},on:{change:[function(e){var s=t.includeChatter,a=e.target,o=!!a.checked;if(Array.isArray(s)){var n=t._i(s,null);a.checked?n<0&&(t.includeChatter=s.concat([null])):n>-1&&(t.includeChatter=s.slice(0,n).concat(s.slice(n+1)))}else t.includeChatter=o},t.refreshUsers]}}),t._v(" "),s("label",{staticClass:"slds-checkbox__label",attrs:{for:"chatterCheckBox"}},[s("span",{staticClass:"slds-checkbox_faux"}),t._v(" "),s("span",{staticClass:"slds-form-element__label"},[t._v(t._s(t.$Labels.MA_Include_Chatter_Users))])])])])])]),t._v(" "),s("div",[s("div",{staticClass:"slds-form-element"},[s("div",{staticClass:"slds-form-element__control"},[s("span",{staticClass:"slds-checkbox slds-checkbox_stacked"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.includePortal,expression:"includePortal"}],attrs:{id:"includeportal",type:"checkbox"},domProps:{checked:Array.isArray(t.includePortal)?t._i(t.includePortal,null)>-1:t.includePortal},on:{change:[function(e){var s=t.includePortal,a=e.target,o=!!a.checked;if(Array.isArray(s)){var n=t._i(s,null);a.checked?n<0&&(t.includePortal=s.concat([null])):n>-1&&(t.includePortal=s.slice(0,n).concat(s.slice(n+1)))}else t.includePortal=o},t.refreshUsers]}}),t._v(" "),s("label",{staticClass:"slds-checkbox__label",attrs:{for:"includeportal"}},[s("span",{staticClass:"slds-checkbox_faux"}),t._v(" "),s("span",{staticClass:"slds-form-element__label"},[t._v(t._s(t.$Labels.MA_Include_Portal_Users))])])])])])])])])])])]),t._v(" "),s("div",{staticClass:"slds-scrollable",attrs:{id:"permissions-grid-wrapper"}},[s("table",{staticClass:"slds-table slds-table_bordered slds-table_col-bordered slds-table_striped",attrs:{id:"permissions-grid"}},[s("thead",[s("tr",{staticClass:"slds-line-height_reset"},t._l(t.tableColumns,(function(e,a){return s("th",{key:a,staticClass:"slds-text-align_center"},["string"===e.type?s("div",[t._v("\n                            "+t._s(e.label)+"\n                        ")]):"boolean"===e.type?s("div",{attrs:{"data-field":e.field}},[s("div",{staticClass:"slds-p-bottom_x-small"},[t._v("\n                                "+t._s(e.label)+"\n                            ")]),t._v(" "),s("div",[s("span",{staticClass:"link massaction",on:{click:function(s){return t.updateAll(e.field,!0)}}},[t._v("\n                                    All\n                                ")]),t._v("\n                                |\n                                "),s("span",{staticClass:"link massaction",on:{click:function(s){return t.updateAll(e.field,!1)}}},[t._v("\n                                    None\n                                ")])])]):"input"===e.type?s("div",[s("div",{staticClass:"slds-p-bottom_x-small"},[t._v("\n                                "+t._s(e.label)+"\n                            ")]),t._v(" "),s("div",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"row.value"}],staticClass:"slds-input",staticStyle:{"margin-right":"0px","line-height":"2",width:"100px"},attrs:{"data-field":e.field,type:"number"},domProps:{value:e.value},on:{input:[function(s){s.target.composing||t.$set(e,"value",s.target.value)},function(s){return t.debounceMassUpdate(e)}]}})])]):"select"===e.type?s("div",[s("div",{staticClass:"slds-p-bottom_x-small"},[t._v("\n                                "+t._s(e.label)+"\n                            ")]),t._v(" "),s("div",[s("select",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"row.value"}],staticClass:"massaction slds-input slds-select setting",staticStyle:{width:"100px"},attrs:{"data-field":e.field},on:{change:[function(s){var a=Array.prototype.filter.call(s.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(e,"value",s.target.multiple?a:a[0])},function(s){return t.debounceMassUpdate(e)}]}},[s("option",{attrs:{value:""}},[t._v("\n                                        --Select--\n                                    ")]),t._v(" "),t._l(t.settings__buttonSets,(function(e,a){return s("option",{key:a,domProps:{value:e.Id}},[t._v("\n                                        "+t._s(e.Name)+"\n                                    ")])}))],2)])]):t._e()])})),0)]),t._v(" "),s("tbody",t._l(t.currentPageUsers,(function(e,a){return s("PermissionGridRow",{key:a,attrs:{index:a,user:e,isLoading:t.isLoading},on:{"update:isLoading":function(e){t.isLoading=e},"update:is-loading":function(e){t.isLoading=e}}})})),1)])]),t._v(" "),s("div",{staticClass:"slds-grid slds-p-vertical_small slds-grid_vertical-align-center",attrs:{id:"permissions-buttons",role:"group"}},[s("paginate",{attrs:{pageCount:t.totalPages,marginPages:2,pageRange:5,activeClass:"slds-is-selected",containerClass:"slds-button-group",pageLinkClass:"slds-button slds-button_neutral permissions-pagenum",prevLinkClass:"slds-button slds-button_neutral permissions-pagenum",nextLinkClass:"slds-button slds-button_neutral permissions-pagenum",firstLastButton:!0,noLiSurround:!0},model:{value:t.page,callback:function(e){t.page=e},expression:"page"}}),t._v(" "),s("div",{staticClass:"slds-p-left_small"},[s("div",{attrs:{id:"permissions-pageinfo"}},[t._v("\n                Displaying users "+t._s(t.startingRecord)+" - "+t._s(t.endingRecord)+" of "+t._s(t.totalUsers)+"\n            ")])])],1)],1)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"slds-checkbox__label",attrs:{for:"onlyMAUsers"}},[e("span",{staticClass:"slds-checkbox_faux"}),this._v(" "),e("span",{staticClass:"slds-form-element__label"},[this._v("Only Show MapAnything"),e("sup",[this._v("TM")]),this._v(" Licensed Users")])])}],!1,null,"2c77d1c3",null).exports),B=(s(99),s(35),s(21),s(36),s(100),s(176),s(63),s(163)),z=s(169);function D(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var s=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=s){var a,o,n=[],i=!0,r=!1;try{for(s=s.call(t);!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return n}}(t,e)||function(t,e){if(t){if("string"==typeof t)return $(t,e);var s=Object.prototype.toString.call(t).slice(8,-1);return"Object"===s&&t.constructor&&(s=t.constructor.name),"Map"===s||"Set"===s?Array.from(t):"Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?$(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $(t,e){(null==e||e>t.length)&&(e=t.length);for(var s=0,a=new Array(e);s<e;s++)a[s]=t[s];return a}function F(t,e){for(var s=0;s<e.length;s++){var a=e[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}var j=window.MARemoting,N={TooltipLayout:[{Label:"Actions",Columns:[[{Label:"Add to Trip",Type:"Standard Action"},{Label:"Take Me There",Type:"Standard Action"}],[{Label:"Set Proximity Center",Type:"Standard Action"},{Label:"Add to Schedule",Type:"Standard Action"}],[{Label:"Remove Marker",Type:"Standard Action"},{Label:"Check In",Type:"Standard Action"}]]},{Label:"Admin",Columns:[[{Label:"Set Verified Location",Type:"Standard Action"}],[{Label:"Clear Coordinates",Type:"Standard Action"}],[{Label:"Change Owner",Type:"Standard Action"}]]},{Label:"Activities",Columns:[[{Label:"Log a Call",Type:"Standard Action"}],[{Label:"Send Email",Type:"Standard Action"}],[{Label:"New Event",Type:"Standard Action"},{Label:"Add to Campaign",Type:"Standard Action"}]]}],MyPositionLayout:[{Label:"Actions",Columns:[[{Label:"Add to Trip",Type:"Standard Action"}],[{Label:"Set Proximity Center",Type:"Standard Action"}]]}],PoiLayout:[{Label:"Actions",Columns:[[{Label:"Add to Trip",Type:"Standard Action"}],[{Label:"Take Me There",Type:"Standard Action"}]]}],MassActionLayout:[{Label:"Mass Actions",Buttons:[{Label:"Add to Campaign",Type:"Standard Action"},{Label:"Change Owner",Type:"Standard Action"},{Label:"Update Field",Type:"Standard Action"},{Label:"Clear Coordinates",Type:"Standard Action"},{Label:"Remove Marker",Type:"Standard Action"},{Label:"Add to Trip",Type:"Standard Action"}]},{Label:"Activities",Buttons:[{Label:"Log a Call",Type:"Standard Action"},{Label:"Send Email",Type:"Standard Action"},{Label:"New Task",Type:"Standard Action"},{Label:"New Event",Type:"Standard Action"}]},{Label:"Chatter",Buttons:[{Label:"Follow",Type:"Standard Action"},{Label:"Unfollow",Type:"Standard Action"}]}],DataLayerLayout:[{Label:"Actions",Columns:[[{Label:"Add to Trip",Type:"Standard Action"}],[{Label:"Set Proximity Center",Type:"Standard Action"},{Label:"Street View",Type:"Standard Action"}],[{Label:"Create Record",Type:"Standard Action"}]]}],ArcGISLayerLayout:[{Label:"Actions",Columns:[[{Label:"Add to Trip",Type:"Standard Action"}],[{Label:"Set Proximity Center",Type:"Standard Action"},{Label:"Street View",Type:"Standard Action"}],[{Label:"Click2Create&trade;",Type:"Standard Action"}],[{Label:"Set Reference Point",Type:"Standard Action"}]]}],FavoriteMarkerLayout:[{Label:"Actions",Columns:[[{Label:"Add to Trip",Type:"Standard Action"},{Label:"Set Proximity Center",Type:"Standard Action"}],[{Label:"Remove Marker",Type:"Standard Action"},{Label:"Set Verified Location",Type:"Standard Action"}],[{Label:"Set Reference Point",Type:"Standard Action"}]]}]},U=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return function(t,e,s){s&&F(t,s)}(t,0,[{key:"getDefaultSet",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return N[t]}},{key:"getSavedButtonSet",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return new Promise((function(s){var a={action:"get_buttonset_info",buttonSetId:e};(new w.a).setAction(j.AdminStartUpAction).setErrorHandler((function(e){console.warn("Unable to get button set info, falling back to defaults",e);var a=t.getAllDefaultButtons();s(a)})).invoke([a],(function(a){var o=a.success,n=void 0!==o&&o,i=a.results,r=void 0===i?{}:i;if(n)if(r.length>0){var l,c,d,u,_,m,p,b=D(r,1)[0];try{l=JSON.parse(b.sma__TooltipLayout__c)}catch(t){l=N.TooltipLayout}try{c=JSON.parse(b.sma__MyPositionLayout__c)}catch(t){c=N.MyPositionLayout}try{d=JSON.parse(b.sma__POILayout__c)}catch(t){d=N.PoiLayout}try{u=JSON.parse(b.sma__MassActionLayout__c)}catch(t){u=N.MassActionLayout}try{_=JSON.parse(b.sma__DataLayerLayout__c)}catch(t){_=N.DataLayerLayout}try{m=JSON.parse(b.sma__FavoriteMarkerLayout__c)}catch(t){m=N.FavoriteMarkerLayout}try{p=JSON.parse(b.sma__ArcGISLayerLayout__c)}catch(t){p=N.ArcGISLayerLayout}s({tooltipLayout:l,myPositionLayout:c,poiLayout:d,massActionLayout:u,dataLayerLayout:_,ArcGISLayerLayout:p,FavoriteMarkerLayout:m})}else{console.warn("No button set info found for id, falling back to defaults",e);var f=t.getAllDefaultButtons();s(f)}}),{escape:!1,buffer:!1})}))}},{key:"getAllDefaultButtons",value:function(){return{tooltipLayout:N.TooltipLayout,myPositionLayout:N.MyPositionLayout,poiLayout:N.PoiLayout,massActionLayout:N.MassActionLayout,dataLayerLayout:N.DataLayerLayout,ArcGISLayerLayout:N.ArcGISLayerLayout,FavoriteMarkerLayout:N.FavoriteMarkerLayout}}}]),t}(),R={props:{button:{type:Object,required:!0}}},q=(s(451),Object(u.a)(R,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"buttonset-button"},[s("div",{staticClass:"actionbutton",class:t.button.Layouts,attrs:{"data-type":t.button.Type,"data-action":t.button.dataAction}},[s("span",{staticClass:"buttonText",attrs:{title:t.button.Label}},[t._v(t._s(t._f("decode")(t.button.Label)))])]),t._v(" "),t._m(0)])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"button-dropzone"},[e("div",{staticClass:"button-dropzone-handle ui-droppable"})])}],!1,null,null,null).exports),H={components:{ButtonPill:q},props:{buttonSet:{type:Array,required:!0},sectionTitle:{type:String,default:"Section"},type:{type:String,default:""}},data:function(){return{doShow:!0,columns:[0,1,2]}},computed:{dropType:function(){var t="";switch(this.type){case"poi":t="POI";break;case"myposition":t="MyPosition";break;case"tooltip":t="Tooltip"}return t},showIcon:function(){var t=this.doShow?"chevrondown":"chevronright";return"ma-icon-".concat(t)}},methods:{toggleSection:function(){this.doShow=!this.doShow}}},V=(s(453),Object(u.a)(H,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"slds-card slds-card_boundary"},[s("div",{staticClass:"slds-card__header slds-grid"},[s("header",{staticClass:"slds-media slds-media_center slds-has-flexi-truncate"},[s("div",{staticClass:"slds-media__body"},[s("h2",{staticClass:"slds-p-top_small slds-card__header-title",staticStyle:{cursor:"pointer"},on:{click:t.toggleSection}},[s("span",{staticClass:"ma-icon",class:t.showIcon,staticStyle:{color:"#7b7b7b","font-size":"12px","vertical-align":"top"},attrs:{title:"Show/Hide this section for easier button managment"}}),t._v("\n                    "+t._s(t._f("decode")(t.sectionTitle))+"\n                ")])])])]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.doShow,expression:"doShow"}],staticClass:"layout-wrapper slds-card__body slds-card__body_inner button-style",class:"layout-"+t.type+"-wrapper"},[s("div",{staticClass:"layout layout-marker",class:"layout-"+t.type+" js-layout-"+t.type,attrs:{"data-layout":t.dropType}},[s("div",{staticClass:"section-dropzone"}),t._v(" "),t._l(t.buttonSet,(function(e,a){return s("div",{key:a,staticClass:"buttonset-section"},[s("div",{staticClass:"buttonset-section-header"},[s("div",{staticClass:"buttonset-section-name editable slds-text-title_caps slds-border_bottom slds-m-vertical_xx-small"},[t._v("\n                        "+t._s(t._f("decode")(e.Label))+"\n                    ")])]),t._v(" "),s("div",{staticClass:"buttonset-section-columns"},t._l(t.columns,(function(a){return s("div",{key:a,staticClass:"buttoncolumn"},[t._m(0,!0),t._v(" "),t._l(e.Columns[a],(function(t,e){return s("ButtonPill",{key:e,attrs:{button:t}})}))],2)})),0),t._v(" "),s("div",{staticClass:"section-dropzone"})])}))],2)])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"button-dropzone"},[e("div",{staticClass:"button-dropzone-handle"})])}],!1,null,null,null).exports),G={props:{buttonSet:{type:Array,required:!0}},data:function(){return{doShow:!0}},computed:{showIcon:function(){var t=this.doShow?"chevrondown":"chevronright";return"ma-icon-".concat(t)}},methods:{toggleSection:function(){this.doShow=!this.doShow}}},W=(s(455),Object(u.a)(G,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"slds-m-left_small slds-card slds-card_boundary"},[s("div",{staticClass:"slds-card__header slds-grid"},[s("header",{staticClass:"slds-media slds-media_center slds-has-flexi-truncate"},[s("div",{staticClass:"slds-media__body"},[s("h2",{staticClass:"slds-p-top_small slds-card__header-title",staticStyle:{cursor:"pointer"},on:{click:t.toggleSection}},[s("span",{staticClass:"ma-icon",class:t.showIcon,staticStyle:{color:"#7b7b7b","font-size":"12px","vertical-align":"top"},attrs:{title:"Show/Hide this section for easier button managment"}}),t._v("\n                    "+t._s(t.$Labels.MA_Mass_Action_Layout)+"\n                ")])])])]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.doShow,expression:"doShow"}],staticClass:"layout-massaction-wrapper layout-wrapper slds-card__body slds-card__body_inner"},[s("div",{staticClass:"layout-massaction js-layout-massaction layout",attrs:{"data-layout":"Mass"}},[s("div",{staticClass:"section-dropzone"}),t._v(" "),t._l(t.buttonSet,(function(e,a){return s("div",{key:a,staticClass:"buttonset-section"},[s("div",{staticClass:"buttonset-section-header ui-draggable"},[s("div",{staticClass:"buttonset-section-name editable slds-text-title_caps"},[t._v("\n                        "+t._s(t._f("decode")(e.Label))+"\n                    ")])]),t._v(" "),s("div",{staticClass:"buttonset-section-columns"},[t._m(0,!0),t._v(" "),t._l(e.Buttons,(function(e,a){return s("div",{key:a,staticClass:"buttonset-button ui-draggable"},[s("div",{staticClass:"actionbutton",class:e.Layouts,attrs:{"data-type":e.Type,"data-action":e.dataAction}},[s("span",{staticClass:"ma-icon ma-icon-chevronright"}),t._v(" "+t._s(t._f("decode")(e.Label))+"\n                        ")]),t._v(" "),t._m(1,!0)])}))],2),t._v(" "),s("div",{staticClass:"section-dropzone"})])}))],2)])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"button-dropzone"},[e("div",{staticClass:"button-dropzone-handle"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"button-dropzone"},[e("div",{staticClass:"button-dropzone-handle"})])}],!1,null,null,null).exports);function J(t){return(J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Q(t,e){(null==e||e>t.length)&&(e=t.length);for(var s=0,a=new Array(e);s<e;s++)a[s]=t[s];return a}function K(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}function Z(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?K(Object(s),!0).forEach((function(e){Y(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):K(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}function Y(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var X=window.$,tt={components:{MAPicklist:B.a,MAInput:z.a,ButtonPill:q,ButtonSetLayoutDropZone:V,MassActionDropZone:W,MASpinner:r.a},data:function(){return{isLoading:!1,buttonSet:"new",buttonSetInfo:{Id:"",Name:"",sma__MassActionLayout__c:"[]",sma__MyPositionLayout__c:"[]",sma__POILayout__c:"[]",sma__TooltipLayout__c:"[]"},availableButtons:[],tooltipSections:[],showFilter:!1,buttonFilter:""}},computed:Z(Z({},Object(l.mapGetters)({settings__buttonSets:"buttonSets"})),{},{combinedButtons:function(){return[{Id:"new",Name:"--".concat(this.$Labels.MA_Create_New,"--")}].concat(function(t){return function(t){if(Array.isArray(t))return Q(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return Q(t,e);var s=Object.prototype.toString.call(t).slice(8,-1);return"Object"===s&&t.constructor&&(s=t.constructor.name),"Map"===s||"Set"===s?Array.from(t):"Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?Q(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(this.settings__buttonSets))},showExtendedSaveButtons:function(){return""!==this.buttonSetInfo.Id}}),created:function(){this.settings__getButtonSetInfo(),this.setDefaultButtonInfo(),this.$bus.$on("refresh-available-buttons",this.refreshAvailableButtons)},mounted:function(){this.refreshAvailableButtons()},methods:Z(Z({},Object(l.mapActions)({settings__getButtonSetInfo:"getButtonSetInfo",settings__saveButtonSetInfo:"saveButtonSetInfo",settings__deleteButtonSet:"deleteButtonSet"})),{},{attachAvailableButtonsListeners:function(){var t=this;try{X(".layout-availablebuttons .actionbutton").draggable("destroy")}catch(t){}X(".layout-availablebuttons .actionbutton").draggable({opacity:.7,helper:"clone",start:function(){var t=X(this),e=!1;try{"Custom Action"===t.attr("data-type")&&"Iframe"===window.MAActionFramework.customActions[t.attr("data-action")].Action&&(e=!0)}catch(t){}t.hasClass("Tooltip")&&X(".layout-tooltip-wrapper").addClass("canDrop"),t.hasClass("Mass")&&!1===e&&X(".layout-massaction-wrapper").addClass("canDrop"),t.hasClass("POI")&&X(".layout-poi-wrapper").addClass("canDrop"),t.hasClass("MyPosition")&&X(".layout-myposition-wrapper").addClass("canDrop"),X(".actionbutton").each((function(e,s){X(s).attr("data-action")===t.attr("data-action")&&X(s).css("background","#D3A7A7")}))},stop:function(){X(".layout-wrapper").removeClass("canDrop"),X(".actionbutton").each((function(t,e){X(e).css("background","white")}))}});try{X(".layout-availablebuttons").droppable("destroy")}catch(t){}X(".layout-availablebuttons").droppable({accept:".buttonset-button, .buttonset-section-header",tolerance:"fit",hoverClass:"hovering",drop:function(t,e){e.draggable.is(".buttonset-button")?e.draggable.remove():e.draggable.is(".buttonset-section-header")&&e.draggable.closest(".buttonset-section").remove()}}),setTimeout((function(){t.ButtonSet_AddHandlers()}),1e3)},resetFilter:function(){this.buttonFilter=""},setDefaultButtonInfo:function(){var t=this,e=U.getAllDefaultButtons();this.buttonSetInfo={Id:"",Name:"",sma__MassActionLayout__c:[],sma__MyPositionLayout__c:[],sma__POILayout__c:[],sma__TooltipLayout__c:[]},this.$nextTick((function(){t.buttonSetInfo={Id:"",Name:"",sma__MassActionLayout__c:t.extendMassActionButtonInfo(e.massActionLayout)||[],sma__MyPositionLayout__c:t.extendActionButtonInfo(e.myPositionLayout)||[],sma__POILayout__c:t.extendActionButtonInfo(e.poiLayout)||[],sma__TooltipLayout__c:t.extendActionButtonInfo(e.tooltipLayout)||[]}}))},extendActionButtonInfo:function(t){var e=window.MAActionFramework,s=e.standardActions,a=void 0===s?{}:s,o=e.customActions,n=void 0===o?{}:o,i=JSON.parse(JSON.stringify(t));return i.forEach((function(t){var e=t.Columns;(void 0===e?[]:e).forEach((function(t){t.forEach((function(t){var e,s=(e="Standard Action"===t.Type||"Blank"===t.Type?a[t.Label]:n[t.Label]).Modes,o=void 0===s?[]:s;Array.isArray(o)&&o.length>0&&(t.Modes=o,t.dataAction=t.Label,t.Label=e.Label,t.Layouts=e.Layouts)}))}))})),i},extendMassActionButtonInfo:function(t){var e=window.MAActionFramework,s=e.standardActions,a=void 0===s?{}:s,o=e.customActions,n=void 0===o?{}:o,i=JSON.parse(JSON.stringify(t));return i.forEach((function(t){var e=t.Buttons;(void 0===e?[]:e).forEach((function(t){var e,s=(e="Standard Action"===t.Type?a[t.Label]:n[t.Label]).Modes,o=void 0===s?[]:s;Array.isArray(o)&&o.length>0&&(t.Modes=o,t.dataAction=t.Label,t.Label=e.Label,t.Layouts=e.Layouts)}))})),i},updateButtonSetInfo:function(){var t=this,e=this.buttonSet;if("new"===e)this.setDefaultButtonInfo();else{var s=this.settings__buttonSets.find((function(t){return t.Id===e}));if("string"==typeof s.sma__MassActionLayout__c)try{var a=JSON.parse(s.sma__MassActionLayout__c);s.sma__MassActionLayout__c=this.extendMassActionButtonInfo(a)}catch(t){window.MAToastMessages.showError({message:"Error Loading Buttonset for Mass Actions",timeOut:1e4,closeButton:!0}),console.error(t.message),s.sma__MassActionLayout__c=[]}if("string"==typeof s.sma__MyPositionLayout__c)try{var o=JSON.parse(s.sma__MyPositionLayout__c);s.sma__MyPositionLayout__c=this.extendActionButtonInfo(o)}catch(t){window.MAToastMessages.showError({message:"Error Loading Buttonset for My Position",timeOut:1e4,closeButton:!0}),console.error(t.message),s.sma__MyPositionLayout__c=[]}if("string"==typeof s.sma__POILayout__c)try{var n=JSON.parse(s.sma__POILayout__c);s.sma__POILayout__c=this.extendActionButtonInfo(n)}catch(t){window.MAToastMessages.showError({message:"Error Loading Buttonset for POI",timeOut:1e4,closeButton:!0}),console.error(t.message),s.sma__POILayout__c=[]}if("string"==typeof s.sma__TooltipLayout__c)try{var i=JSON.parse(s.sma__TooltipLayout__c);s.sma__TooltipLayout__c=this.extendActionButtonInfo(i)}catch(t){window.MAToastMessages.showError({message:"Error Loading Buttonset for Tooltips",timeOut:1e4,closeButton:!0}),console.error(t.message),s.sma__TooltipLayout__c=[]}this.buttonSetInfo=Z(Z({},{Id:"",Name:"",sma__MassActionLayout__c:[],sma__MyPositionLayout__c:[],sma__POILayout__c:[],sma__TooltipLayout__c:[]}),s)}setTimeout((function(){t.ButtonSet_AddHandlers()}),1e3)},refreshAvailableButtons:function(){var t=this;this.availableButtons=[];var e=window.MAActionFramework,s=e.standardActions,a=void 0===s?{}:s,o=e.customActions,n=void 0===o?{}:o;Object.keys(a).forEach((function(e){var s=a[e],o=s.Modes,n=void 0===o?[]:o;if(Array.isArray(n)&&n.length>0){var i=window.MAActionFramework.getAction(s.Type,e)||{};i.dataAction=e,t.availableButtons.push(i)}})),Object.keys(n).forEach((function(e){var s=n[e],a=s.Modes,o=void 0===a?[]:a;if(Array.isArray(o)&&o.length>0){var i=window.MAActionFramework.getAction(s.Type,e)||{};i.dataAction=e,t.availableButtons.push(i)}})),setTimeout((function(){t.attachAvailableButtonsListeners()}),1e3)},ButtonSet_AddHandlers:function(){var t=this;try{X(".layout .buttonset-button").draggable("destroy")}catch(t){}X(".layout .buttonset-button").draggable({opacity:.7,helper:"clone"});try{X(".layout .buttonset-section-header").draggable("destroy")}catch(t){}X(".layout .buttonset-section-header").draggable({opacity:.7,helper:"clone"}),X(".layout .buttonset-section-name.editable").click((function(t){var e=X(t.target);e.removeClass("editable").addClass("editing").html(X('<input type="text" />').val(X(t.target).text())).find("input").focus().select().blur((function(){e.removeClass("editing").addClass("editable").text(e.find("input").val())}))}));try{X(".layout > .section-dropzone").droppable("destroy")}catch(t){}X(".layout > .section-dropzone").droppable({accept:function(t){var e=!1;return t.is('.actionbutton[data-type="Section"]')?e=!0:t.is(".buttonset-section-header")&&(e=t.closest(".layout").get(0)===X(this).closest(".layout").get(0)),e},tolerance:"touch",hoverClass:"hovering",drop:t.ButtonSet_InsertSection});try{X(".layout .buttonset-section .section-dropzone").droppable("destroy")}catch(t){}X(".layout .buttonset-section .section-dropzone").droppable({accept:function(t){var e=!1;return t.is('.actionbutton[data-type="Section"]')?e=!0:t.is(".buttonset-section-header")&&(e=t.closest(".layout").get(0)===X(this).closest(".layout").get(0)),e},tolerance:"touch",hoverClass:"hovering",drop:t.ButtonSet_InsertSectionAfterSection});try{X(".layout-marker .buttoncolumn > .button-dropzone .button-dropzone-handle, .js-layout-massaction .buttonset-section-columns > .button-dropzone .button-dropzone-handle").droppable("destroy")}catch(t){}X(".layout-marker .buttoncolumn > .button-dropzone .button-dropzone-handle, .js-layout-massaction .buttonset-section-columns > .button-dropzone .button-dropzone-handle").droppable({accept:function(t){var e=!1;if(t.is('.actionbutton[data-type="Blank"], .buttonset-button'))e=!0;else{var s=X(this).closest(".layout").attr("data-layout");e=t.is(".actionbutton.".concat(s,'[data-type="Standard Action"], .actionbutton.').concat(s,'[data-type="Custom Action"]'))}return e},tolerance:"touch",hoverClass:"hovering",drop:t.ButtonSet_InsertButton,over:t.ButtonSet_OverButton,out:t.ButtonSet_OutButton});try{X(".layout-marker .buttoncolumn .buttonset-button .button-dropzone-handle, .js-layout-massaction .buttonset-button .button-dropzone-handle").droppable("destroy")}catch(t){}X(".layout-marker .buttoncolumn .buttonset-button .button-dropzone-handle, .js-layout-massaction .buttonset-button .button-dropzone-handle").droppable({accept:function(t){if(t.is('.actionbutton[data-type="Blank"], .buttonset-button'))return!0;var e=X(this).closest(".layout").attr("data-layout");return t.is(".actionbutton.".concat(e,'[data-type="Standard Action"], .actionbutton.').concat(e,'[data-type="Custom Action"]'))},tolerance:"touch",hoverClass:"hovering",drop:t.ButtonSet_InsertButtonAfterButton,over:t.ButtonSet_OverButton,out:t.ButtonSet_OutButton})},ButtonSet_InsertSection:function(t,e){var s=t.target;if(e.draggable.is(".buttonset-section-header")){if(X.contains(e.draggable.closest(".buttonset-section").get(0),s))return void X(s).removeClass("hovering");X(s).after(e.draggable.closest(".buttonset-section"))}else{var a=X(".templates .buttonset-section").clone();X(s).closest(".layout").is(".js-layout-massaction")&&a.find(".buttonset-section-columns").html('<div class="button-dropzone"><div class="button-dropzone-handle"></div></div>'),X(s).after(a),a.on("click",".buttonset-section-name.editable",(function(t){var e=X(t.target);e.removeClass("editable").addClass("editing").html(X('<input type="text" />').val(X(t.target).text())).find("input").focus().select().blur((function(){e.removeClass("editing").addClass("editable").text(e.find("input").val())}))})),a.find(".buttonset-section-header").draggable({opacity:.7,helper:"clone"}),a.find(".section-dropzone").droppable({accept:function(t){var e=!1;return t.is('.actionbutton[data-type="Section"]')?e=!0:t.is(".buttonset-section-header")&&(e=t.closest(".layout").get(0)===X(s).closest(".layout").get(0)),e},tolerance:"touch",hoverClass:"hovering",drop:this.ButtonSet_InsertSectionAfterSection}),a.find(".button-dropzone-handle").droppable({accept:function(t){if(t.is('.actionbutton[data-type="Blank"], .buttonset-button'))return!0;var e=X(s).closest(".layout").attr("data-layout");return t.is(".actionbutton.".concat(e,'[data-type="Standard Action"], .actionbutton.').concat(e,'[data-type="Custom Action"]'))},tolerance:"touch",hoverClass:"hovering",drop:this.ButtonSet_InsertButton,over:this.ButtonSet_OverButton,out:this.ButtonSet_OutButton})}},ButtonSet_InsertSectionAfterSection:function(t,e){var s=t.target;if(e.draggable.is(".buttonset-section-header")){if(X.contains(e.draggable.closest(".buttonset-section").get(0),s))return void X(s).removeClass("hovering");X(s).closest(".buttonset-section").after(e.draggable.closest(".buttonset-section"))}else{var a=X(".templates .buttonset-section").clone();X(s).closest(".layout").is(".js-layout-massaction")&&a.find(".buttonset-section-columns").html('<div class="button-dropzone"><div class="button-dropzone-handle"></div></div>'),X(s).closest(".buttonset-section").after(a),a.on("click",".buttonset-section-name.editable",(function(t){var e=X(t.target);e.removeClass("editable").addClass("editing").html(X('<input type="text" />').val(X(t.target).text())).find("input").focus().select().blur((function(){e.removeClass("editing").addClass("editable").text(e.find("input").val())}))})),a.find(".buttonset-section-header").draggable({opacity:.7,helper:"clone"}),a.find(".section-dropzone").droppable({accept:function(t){var e=!1;return t.is('.actionbutton[data-type="Section"]')?e=!0:t.is(".buttonset-section-header")&&(e=t.closest(".layout").get(0)===X(s).closest(".layout").get(0)),e},tolerance:"touch",hoverClass:"hovering",drop:this.ButtonSet_InsertSectionAfterSection}),a.find(".button-dropzone-handle").droppable({accept:function(t){var e=!1;if(t.is('.actionbutton[data-type="Blank"], .buttonset-button'))e=!0;else{var a=X(s).closest(".layout").attr("data-layout");e=t.is(".actionbutton.".concat(a,'[data-type="Standard Action"], .actionbutton.').concat(a,'[data-type="Custom Action"]'))}return e},tolerance:"touch",hoverClass:"hovering",drop:this.ButtonSet_InsertButton,over:this.ButtonSet_OverButton,out:this.ButtonSet_OutButton})}},ButtonSet_InsertButton:function(t,e){var s,a=t.target;if(e.draggable.is(".buttonset-button")){if(X.contains(e.draggable.get(0),a))return void X(a).closest(".button-dropzone").removeClass("hovering");s=e.draggable}else if(s=X(".templates .buttonset-button").clone().prepend(e.draggable.clone()),X(a).closest(".layout").is(".js-layout-massaction")){var o=this.htmlEncode(s.text());s.find(".actionbutton").html('<span class="ma-icon ma-icon-chevronright"></span> '.concat(o))}X(a).closest(".button-dropzone").removeClass("hovering").after(s).next().find(".button-dropzone-handle").droppable({accept:function(t){if(t.is('.actionbutton[data-type="Blank"], .buttonset-button'))return!0;var e=X(a).closest(".layout").attr("data-layout");return t.is(".actionbutton.".concat(e,'[data-type="Standard Action"], .actionbutton.').concat(e,'[data-type="Custom Action"]'))},tolerance:"touch",hoverClass:"hovering",drop:this.ButtonSet_InsertButtonAfterButton,over:this.ButtonSet_OverButton,out:this.ButtonSet_OutButton}),s.draggable({opacity:.7,helper:"clone"})},htmlEncode:function(t){return t=this.htmlDecode(t),String(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},htmlDecode:function(t){var e=t;if("string"==typeof t)if("object"===("undefined"==typeof document?"undefined":J(document))){var s=document.createElement("textarea");s.innerHTML=t,e=s.value}else e=String(t).replace(/&amp;/g,"&").replace(/&quot;/g,'"').replace(/&#39;/g,"'").replace(/&lt;/g,"<").replace(/&gt;/g,">");return e},ButtonSet_InsertButtonAfterButton:function(t,e){var s,a=t.target;if(e.draggable.is(".buttonset-button")){if(X.contains(e.draggable.get(0),a))return void X(a).closest(".button-dropzone").removeClass("hovering");s=e.draggable}else if(s=X(".templates .buttonset-button").clone().prepend(e.draggable.clone()),X(a).closest(".layout").is(".js-layout-massaction")){var o=this.htmlEncode(s.text());s.find(".actionbutton").html('<span class="ma-icon ma-icon-chevronright"></span> '.concat(o))}X(a).closest(".button-dropzone").removeClass("hovering").closest(".buttonset-button").after(s).next().find(".button-dropzone-handle").droppable({accept:function(t){if(t.is('.actionbutton[data-type="Blank"], .buttonset-button'))return!0;var e=X(a).closest(".layout").attr("data-layout");return t.is(".actionbutton.".concat(e,'[data-type="Standard Action"], .actionbutton.').concat(e,'[data-type="Custom Action"]'))},tolerance:"touch",hoverClass:"hovering",drop:this.ButtonSet_InsertButtonAfterButton,over:this.ButtonSet_OverButton,out:this.ButtonSet_OutButton}),s.draggable({opacity:.7,helper:"clone"})},ButtonSet_OverButton:function(t){var e=t.target;X(e).closest(".button-dropzone").addClass("hovering")},ButtonSet_OutButton:function(t){var e=t.target;X(e).closest(".button-dropzone").removeClass("hovering")},ButtonSet_BuildLayout:function(t){var e=[];return t.find(".buttonset-section").each((function(s,a){if(t.is(".js-layout-massaction")){var o={Label:X(a).find(".buttonset-section-name").text(),Buttons:[]};e.push(o),X(a).find(".buttonset-section-columns .buttonset-button").each((function(t,e){o.Buttons.push({Label:X(e).find(".actionbutton").attr("data-action"),Type:X(e).find(".actionbutton").attr("data-type")})}))}else{var n={Label:X(a).find(".buttonset-section-name").text(),Columns:[]};e.push(n),X(a).find(".buttonset-section-columns .buttoncolumn").each((function(t,e){var s=[];n.Columns.push(s),X(e).find(".buttonset-button").each((function(t,e){s.push({Label:X(e).find(".actionbutton").attr("data-action"),Type:X(e).find(".actionbutton").attr("data-type")})}))}))}})),e},ButtonSet_Save:function(t){var e=this;if(""!==this.buttonSetInfo.Name){this.isLoading=!0;var s={Name:this.buttonSetInfo.Name,sma__TooltipLayout__c:JSON.stringify(this.ButtonSet_BuildLayout(X(".js-layout-tooltip"))),sma__MyPositionLayout__c:JSON.stringify(this.ButtonSet_BuildLayout(X(".js-layout-myposition"))),sma__POILayout__c:JSON.stringify(this.ButtonSet_BuildLayout(X(".js-layout-poi"))),sma__MassActionLayout__c:JSON.stringify(this.ButtonSet_BuildLayout(X(".js-layout-massaction")))};t||""===this.buttonSetInfo.Id||(console.log("add button id"),s.Id=this.buttonSetInfo.Id);var a={action:"save_buttonset",serializedButtonSet:JSON.stringify(s)};this.settings__saveButtonSetInfo(a).then((function(t){var s=t.Id;e.buttonSetInfo.sma__MassActionLayout__c=[],e.buttonSetInfo.sma__MyPositionLayout__c=[],e.buttonSetInfo.sma__POILayout__c=[],e.buttonSetInfo.sma__TooltipLayout__c=[],e.settings__getButtonSetInfo().then((function(){e.buttonSet=s,e.updateButtonSetInfo(),setTimeout((function(){e.ButtonSet_AddHandlers(),e.resetFilter()}),1e3)})),window.MAToastMessages.showSuccess({message:e.$Labels.MA_Saved})})).catch((function(t){window.MAToastMessages.showError({message:"Save Error",subMessage:t.message,timeOut:1e4,closeButton:!0})})).finally((function(){e.isLoading=!1}))}else window.MAToastMessages.showError({message:"Validation Error",subMessage:"A name is required",timeOut:1e4,closeButton:!0})},ButtonSet_Delete:function(){var t=this;this.isLoading=!0,this.settings__deleteButtonSet(this.buttonSetInfo.Id).then((function(){t.buttonSet="new",t.updateButtonSetInfo(),setTimeout((function(){t.ButtonSet_AddHandlers(),t.resetFilter()}),1e3),window.MAToastMessages.showSuccess({message:t.$Labels.MA_Saved})})).catch((function(t){console.warn(t),window.MAToastMessages.showError({message:"Save Error",subMessage:t.message,timeOut:1e4,closeButton:!0})})).finally((function(){t.isLoading=!1}))},filterButtons:function(){var t=this,e=!1;""===this.buttonFilter&&(e=!0),X(".layout-availablebuttons .actionbutton").each((function(s,a){var o=X(a).find(".buttonText").text();o=o.toLowerCase();var n=t.buttonFilter.toLowerCase();e||-1!==o.indexOf(n)?X(a).show():-1===o.indexOf(n)&&X(a).hide()}))}})},et=(s(457),s(459),Object(u.a)(tt,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"TopTabs-ButtonSets"}},[t.isLoading?s("MASpinner"):t._e(),t._v(" "),s("div",{staticClass:"slds-grid"},[s("div",{staticClass:"slds-col slds-size_1-of-1 slds-medium-size_1-of-3"},[s("MAPicklist",{staticClass:"slds-p-vertical_xx-small",attrs:{options:t.combinedButtons,doDetach:!0,label:t.$Labels.MA_Button_Set,hasNoneOption:!1,keyString:"Id",valueString:"Name"},on:{change:t.updateButtonSetInfo},model:{value:t.buttonSet,callback:function(e){t.buttonSet=e},expression:"buttonSet"}})],1)]),t._v(" "),s("div",{staticClass:"slds-section slds-m-bottom_large slds-is-open basicinfo"},[s("div",{staticClass:"slds-section__title slds-theme--shade"},[s("span",{staticClass:"section-header-title slds-p-horizontal--small slds-truncate"},[t._v(t._s(t.$Labels.MATutorial_Basic_Info))])]),t._v(" "),s("div",{staticClass:"slds-section__content section__content"},[s("div",{staticClass:"slds-grid"},[s("div",{staticClass:"slds-col slds-size_1-of-1 slds-medium-size_1-of-3"},[s("MAInput",{staticClass:"slds-form-element slds-m-bottom_small",attrs:{isRequired:!0,label:t.$Labels.MA_Name},model:{value:t.buttonSetInfo.Name,callback:function(e){t.$set(t.buttonSetInfo,"Name",e)},expression:"buttonSetInfo.Name"}})],1)])])]),t._v(" "),s("div",{staticClass:"slds-section slds-m-bottom_large slds-is-open basicinfo layout"},[s("div",{staticClass:"slds-section__title slds-theme--shade"},[s("span",{staticClass:"section-header-title slds-p-horizontal--small slds-truncate"},[t._v(t._s(t.$Labels.MA_Layout))])]),t._v(" "),s("div",{staticClass:"slds-section__content section__content"},[s("div",{staticClass:"slds-grid"},[s("div",{staticClass:"slds-col slds-size_1-of-1 slds-large-size_3-of-4"},[s("div",{staticClass:"slds-card slds-card_boundary"},[s("div",{staticClass:"slds-card__header slds-grid"},[s("header",{staticClass:"slds-media slds-media_center slds-has-flexi-truncate"},[s("div",{staticClass:"slds-media__body"},[s("h2",{staticClass:"slds-card__header-title"},[t._v("\n                                        "+t._s(t._f("decode")(t.$Labels.MA_Available_Buttons))+"\n                                        "),t.showFilter?t._e():s("span",{staticClass:"ma-icon ma-icon-filterlist",staticStyle:{color:"rgb(123, 123, 123)","font-size":"12px","vertical-align":"top",cursor:"pointer"},attrs:{title:"Filter buttons based on a search term"},on:{click:function(e){t.showFilter=!0}}}),t._v(" "),t.showFilter?s("span",[s("MAInput",{staticClass:"slds-form-element slds-m-bottom_small",attrs:{placeholder:"Filter Buttons..."},on:{input:t.filterButtons},model:{value:t.buttonFilter,callback:function(e){t.buttonFilter=e},expression:"buttonFilter"}})],1):t._e()])])])]),t._v(" "),s("div",{staticClass:"slds-card__body slds-card__body_inner"},[s("div",{staticClass:"layout-availablebuttons slds-pill_container slds-grid slds-wrap"},t._l(t.availableButtons,(function(t,e){return s("ButtonPill",{key:e,attrs:{button:t}})})),1)])]),t._v(" "),s("table",{staticClass:"button-layouts-label slds-m-top_small",staticStyle:{"z-index":"1"}},[s("tr",[s("td",[s("ButtonSetLayoutDropZone",{attrs:{buttonSet:t.buttonSetInfo.sma__TooltipLayout__c,sectionTitle:t.$Labels.MA_Tooltip_Layout,type:"tooltip"}}),t._v(" "),s("ButtonSetLayoutDropZone",{staticClass:"slds-m-top_small",attrs:{buttonSet:t.buttonSetInfo.sma__MyPositionLayout__c,sectionTitle:"My Position Layout",type:"myposition"}}),t._v(" "),s("ButtonSetLayoutDropZone",{staticClass:"slds-m-top_small",attrs:{buttonSet:t.buttonSetInfo.sma__POILayout__c,sectionTitle:"POI Layout",type:"poi"}})],1),t._v(" "),s("td",{staticStyle:{width:"375px"}},[s("MassActionDropZone",{attrs:{buttonSet:t.buttonSetInfo.sma__MassActionLayout__c}})],1)])])])])])]),t._v(" "),s("div",{staticClass:"buttons"},[s("input",{staticClass:"buttonset-savebtn MAbutton button-blue slds-button slds-button_brand",attrs:{type:"button",value:"Save"},on:{click:function(e){return t.ButtonSet_Save()}}}),t._v(" "),s("input",{directives:[{name:"show",rawName:"v-show",value:t.showExtendedSaveButtons,expression:"showExtendedSaveButtons"}],staticClass:"buttonset-saveasbtn MAbutton button-blue slds-button slds-button_brand",attrs:{type:"button",value:"Save As"},on:{click:function(e){return t.ButtonSet_Save(!0)}}}),t._v(" "),s("input",{directives:[{name:"show",rawName:"v-show",value:t.showExtendedSaveButtons,expression:"showExtendedSaveButtons"}],staticClass:"buttonset-deletebtn MAbutton button-red slds-button slds-button_destructive",attrs:{type:"button",value:"Delete"},on:{click:function(e){return t.ButtonSet_Delete()}}}),t._v(" "),s("span",{staticClass:"msgs",staticStyle:{color:"red","font-size":"10px",display:"none"}})]),t._v(" "),s("div",{staticClass:"templates",staticStyle:{display:"none"}},[s("div",{staticClass:"buttonset-section"},[s("div",{staticClass:"buttonset-section-header"},[s("div",{staticClass:"buttonset-section-name editable"},[t._v("\n                    "+t._s(t.$Labels.MA_New_Section)+"\n                ")])]),t._v(" "),t._m(0),t._v(" "),s("div",{staticClass:"section-dropzone"})]),t._v(" "),t._m(1)])],1)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"buttonset-section-columns"},[e("div",{staticClass:"buttoncolumn"},[e("div",{staticClass:"button-dropzone"},[e("div",{staticClass:"button-dropzone-handle"})])]),this._v(" "),e("div",{staticClass:"buttoncolumn"},[e("div",{staticClass:"button-dropzone"},[e("div",{staticClass:"button-dropzone-handle"})])]),this._v(" "),e("div",{staticClass:"buttoncolumn"},[e("div",{staticClass:"button-dropzone"},[e("div",{staticClass:"button-dropzone-handle"})])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"buttonset-button"},[e("div",{staticClass:"button-dropzone"},[e("div",{staticClass:"button-dropzone-handle"})])])}],!1,null,"56aec4d6",null).exports);function st(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}function at(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?st(Object(s),!0).forEach((function(e){ot(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):st(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}function ot(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}function nt(t,e){if(t){if("string"==typeof t)return it(t,e);var s=Object.prototype.toString.call(t).slice(8,-1);return"Object"===s&&t.constructor&&(s=t.constructor.name),"Map"===s||"Set"===s?Array.from(t):"Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?it(t,e):void 0}}function it(t,e){(null==e||e>t.length)&&(e=t.length);for(var s=0,a=new Array(e);s<e;s++)a[s]=t[s];return a}var rt={components:{MAInput:z.a,MAPicklist:B.a,MASpinner:r.a},data:function(){return{isLoading:!1,selectedAction:"new",actionName:"",allActions:[],modes:{desktop:!0,mobile:!0},requirements:{contactLead:!1,activities:!1,location:!1},routine:{action:"NewWindow",method:"GET",shapeInfo:"",addRecords:"",paramName:"",value:""},defaultAction:{Id:"",Name:"",sma__ActionValue__c:"",sma__Action__c:"NewWindow",sma__Layouts__c:"Tooltip;MyPosition;POI",sma__Modes__c:"Desktop;Mobile",sma__Options__c:'{"method":"GET","addRecords":false,"paramName":""}',sma__Requirements__c:"",sma__Type__c:"Custom Action"},action:{Id:"",Name:"",sma__ActionValue__c:"",sma__Action__c:"NewWindow",sma__Layouts__c:"Tooltip;MyPosition;POI",sma__Modes__c:"Desktop;Mobile",sma__Options__c:'{"method":"GET","addRecords":false,"paramName":""}',sma__Requirements__c:"",sma__Type__c:"Custom Action"}}},computed:{customActions:function(){var t=[{Name:"--".concat(this.$Labels.MA_Create_New,"--"),Id:"new"}];return[].concat(t,function(t){return function(t){if(Array.isArray(t))return it(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||nt(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(this.allActions))},isSavedAction:function(){return"new"!==this.selectedAction}},created:function(){this.getAllActions()},methods:at(at({},Object(l.mapActions)({settings__getCustomActions:"getCustomActions",settings__saveCustomAction:"saveCustomAction",settings__deleteCustomAction:"deleteCustomAction"})),{},{getAllActions:function(){var t=this;return new Promise((function(e,s){t.isLoading=!0,t.settings__getCustomActions().then((function(s){t.allActions=s,e()})).catch((function(t){s(),console.warn(t.message)})).finally((function(){t.isLoading=!1}))}))},getButtonSet:function(){var t=this;"new"===this.selectedAction?this.parseCustomAction(this.defaultAction):this.settings__getCustomActions(this.selectedAction).then((function(e){var s=function(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var s=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=s){var a,o,n=[],i=!0,r=!1;try{for(s=s.call(t);!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return n}}(t,e)||nt(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e,1)[0];t.parseCustomAction(s)}))},parseCustomAction:function(t){var e;try{e=JSON.parse(t.sma__Options__c)}catch(t){e={method:"GET",addRecords:!1,paramName:""}}this.routine={action:t.sma__Action__c||"NewWindow",method:e.method||"GET",shapeInfo:"true"===String(e.includeShapeInfo),addRecords:"true"===String(e.addRecords),paramName:e.paramName||"",value:t.sma__ActionValue__c||""};var s=t.sma__Modes__c||"Desktop;Mobile";this.modes={desktop:s.indexOf("Desktop")>-1,mobile:s.indexOf("Mobile")>-1};var a=t.sma__Requirements__c||"";this.requirements={contactLead:a.indexOf("Contact Or Lead")>-1,activities:a.indexOf("Activity Support")>-1,location:a.indexOf("Verified Location Support")>-1},this.actionName=t.Name,this.selectedAction=t.Id||"new",this.action=t},buildCustomAciton:function(t){var e=[];this.modes.desktop&&e.push("Desktop"),this.modes.mobile&&e.push("Mobile");var s=[];this.requirements.contactLead&&s.push("Contact Or Lead"),this.requirements.activities&&s.push("Activity Support"),this.requirements.location&&s.push("Verified Location Support");var a={method:this.routine.method,addRecords:this.routine.addRecords,paramName:this.routine.paramName,includeShapeInfo:this.routine.shapeInfo},o={Name:this.actionName,sma__Type__c:"Custom Action",sma__Modes__c:e.join(";"),sma__Layouts__c:"Tooltip;MyPosition;POI",sma__Requirements__c:s.join(";"),sma__Action__c:this.routine.action||"NewWindow",sma__ActionValue__c:this.routine.value,sma__Options__c:JSON.stringify(a)};return"new"===this.selectedAction||t||(o.Id=this.selectedAction),o},saveCustomAction:function(t){var e=this;if(""!==this.actionName){this.isLoading=!0;var s=this.buildCustomAciton(t);this.settings__saveCustomAction(s).then((function(t){e.getAllActions().then((function(){e.selectedAction=t.Id||"new"})),window.MAActionFramework.refresh().then((function(){e.isLoading=!1,e.$bus.$emit("refresh-available-buttons")}))})).catch((function(t){console.warn(t.message),e.isLoading=!1}))}else window.MAToastMessages.showError({message:"Validation Error",subMessage:"A name is required",timeOut:1e4,closeButton:!0})},deleteCustomAction:function(){var t=this;this.isLoading=!0,this.settings__deleteCustomAction(this.selectedAction).then((function(){t.allActions=t.allActions.filter((function(e){return e.Id!==t.selectedAction})),t.selectedAction="new",t.getButtonSet(),window.MAActionFramework.refresh().then((function(){t.isLoading=!1,t.$bus.$emit("refresh-available-buttons")}))})).catch((function(e){console.warn(e.message),t.isLoading=!1}))}})},lt=Object(u.a)(rt,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"TopTabs-CustomActions"}},[t.isLoading?s("MASpinner"):t._e(),t._v(" "),s("div",{staticClass:"slds-grid"},[s("div",{staticClass:"slds-col slds-size_1-of-1 slds-medium-size_1-of-3"},[s("MAPicklist",{staticClass:"slds-p-vertical_xx-small",attrs:{options:t.customActions,doDetach:!0,isRequired:!0,hasNoneOption:!1,label:t.$Labels.MA_Custom_Actions,keyString:"Id",valueString:"Name"},on:{change:t.getButtonSet},model:{value:t.selectedAction,callback:function(e){t.selectedAction=e},expression:"selectedAction"}})],1)]),t._v(" "),s("div",{staticClass:"slds-section slds-m-bottom_large slds-is-open basicinfo"},[s("div",{staticClass:"slds-section__title slds-theme--shade"},[s("span",{staticClass:"section-header-title slds-p-horizontal--small slds-truncate"},[t._v(t._s(t.$Labels.MATutorial_Basic_Info))])]),t._v(" "),s("div",{staticClass:"slds-section__content section__content"},[s("div",{staticClass:"slds-grid"},[s("div",{staticClass:"slds-col slds-size_1-of-1 slds-medium-size_1-of-3"},[s("MAInput",{staticClass:"slds-p-vertical_xx-small",attrs:{isRequired:!0,label:t.$Labels.MA_Name},model:{value:t.actionName,callback:function(e){t.actionName=e},expression:"actionName"}})],1)])])]),t._v(" "),s("div",{staticClass:"slds-section slds-m-bottom_large slds-is-open modes"},[s("div",{staticClass:"slds-section__title slds-theme--shade"},[s("span",{staticClass:"section-header-title slds-p-horizontal--small slds-truncate"},[t._v(t._s(t.$Labels.MA_Modes))])]),t._v(" "),s("div",{staticClass:"slds-section__content section__content"},[s("div",{staticClass:"slds-grid"},[s("div",{staticClass:"slds-col slds-size_1-of-1 slds-medium-size_1-of-3"},[s("div",{staticClass:"slds-form-element"},[s("div",{staticClass:"slds-form-element__control"},[s("span",{staticClass:"slds-checkbox"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.modes.desktop,expression:"modes.desktop"}],staticClass:"mode",attrs:{id:"mode-desktop",type:"checkbox","data-value":"Desktop",checked:"checked"},domProps:{checked:Array.isArray(t.modes.desktop)?t._i(t.modes.desktop,null)>-1:t.modes.desktop},on:{change:function(e){var s=t.modes.desktop,a=e.target,o=!!a.checked;if(Array.isArray(s)){var n=t._i(s,null);a.checked?n<0&&t.$set(t.modes,"desktop",s.concat([null])):n>-1&&t.$set(t.modes,"desktop",s.slice(0,n).concat(s.slice(n+1)))}else t.$set(t.modes,"desktop",o)}}}),t._v(" "),s("label",{staticClass:"slds-checkbox__label",attrs:{for:"mode-desktop"}},[s("span",{staticClass:"slds-checkbox_faux"}),t._v(" "),s("span",{staticClass:"slds-form-element__label"},[t._v(t._s(t.$Labels.MA_Desktop))])])])])]),t._v(" "),s("div",{staticClass:"slds-form-element"},[s("div",{staticClass:"slds-form-element__control"},[s("span",{staticClass:"slds-checkbox"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.modes.mobile,expression:"modes.mobile"}],staticClass:"mode",attrs:{id:"mode-mobile",type:"checkbox","data-value":"Mobile",checked:"checked"},domProps:{checked:Array.isArray(t.modes.mobile)?t._i(t.modes.mobile,null)>-1:t.modes.mobile},on:{change:function(e){var s=t.modes.mobile,a=e.target,o=!!a.checked;if(Array.isArray(s)){var n=t._i(s,null);a.checked?n<0&&t.$set(t.modes,"mobile",s.concat([null])):n>-1&&t.$set(t.modes,"mobile",s.slice(0,n).concat(s.slice(n+1)))}else t.$set(t.modes,"mobile",o)}}}),t._v(" "),s("label",{staticClass:"slds-checkbox__label",attrs:{for:"mode-mobile"}},[s("span",{staticClass:"slds-checkbox_faux"}),t._v(" "),s("span",{staticClass:"slds-form-element__label"},[t._v(t._s(t.$Labels.MA_Mobile))])])])])])])])])]),t._v(" "),s("div",{staticClass:"slds-section slds-m-bottom_large slds-is-open requirements"},[s("div",{staticClass:"slds-section__title slds-theme--shade"},[s("span",{staticClass:"section-header-title slds-p-horizontal--small slds-truncate"},[t._v(t._s(t.$Labels.MA_Requirements))])]),t._v(" "),s("div",{staticClass:"slds-section__content section__content"},[s("div",{staticClass:"slds-grid"},[s("div",{staticClass:"slds-col slds-size_1-of-1 slds-medium-size_1-of-3"},[s("div",{staticClass:"slds-form-element"},[s("div",{staticClass:"slds-form-element__control"},[s("span",{staticClass:"slds-checkbox"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.requirements.activities,expression:"requirements.activities"}],staticClass:"requirement",attrs:{id:"requirements-support",type:"checkbox","data-value":"Activity Support"},domProps:{checked:Array.isArray(t.requirements.activities)?t._i(t.requirements.activities,null)>-1:t.requirements.activities},on:{change:function(e){var s=t.requirements.activities,a=e.target,o=!!a.checked;if(Array.isArray(s)){var n=t._i(s,null);a.checked?n<0&&t.$set(t.requirements,"activities",s.concat([null])):n>-1&&t.$set(t.requirements,"activities",s.slice(0,n).concat(s.slice(n+1)))}else t.$set(t.requirements,"activities",o)}}}),t._v(" "),s("label",{staticClass:"slds-checkbox__label",attrs:{for:"requirements-support"}},[s("span",{staticClass:"slds-checkbox_faux"}),t._v(" "),s("span",{staticClass:"slds-form-element__label"},[t._v(t._s(t.$Labels.MA_Activity_Support))])])])])]),t._v(" "),s("div",{staticClass:"slds-form-element"},[s("div",{staticClass:"slds-form-element__control"},[s("span",{staticClass:"slds-checkbox"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.requirements.location,expression:"requirements.location"}],staticClass:"requirement",attrs:{id:"requirements-location",type:"checkbox","data-value":"Verified Location Support"},domProps:{checked:Array.isArray(t.requirements.location)?t._i(t.requirements.location,null)>-1:t.requirements.location},on:{change:function(e){var s=t.requirements.location,a=e.target,o=!!a.checked;if(Array.isArray(s)){var n=t._i(s,null);a.checked?n<0&&t.$set(t.requirements,"location",s.concat([null])):n>-1&&t.$set(t.requirements,"location",s.slice(0,n).concat(s.slice(n+1)))}else t.$set(t.requirements,"location",o)}}}),t._v(" "),s("label",{staticClass:"slds-checkbox__label",attrs:{for:"requirements-location"}},[s("span",{staticClass:"slds-checkbox_faux"}),t._v(" "),s("span",{staticClass:"slds-form-element__label"},[t._v(t._s(t.$Labels.MA_Verified_Location_Support))])])])])]),t._v(" "),s("div",{staticClass:"slds-form-element"},[s("div",{staticClass:"slds-form-element__control"},[s("span",{staticClass:"slds-checkbox"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.requirements.contactLead,expression:"requirements.contactLead"}],staticClass:"requirement",attrs:{id:"requirements-contact",type:"checkbox","data-value":"Contact Or Lead"},domProps:{checked:Array.isArray(t.requirements.contactLead)?t._i(t.requirements.contactLead,null)>-1:t.requirements.contactLead},on:{change:function(e){var s=t.requirements.contactLead,a=e.target,o=!!a.checked;if(Array.isArray(s)){var n=t._i(s,null);a.checked?n<0&&t.$set(t.requirements,"contactLead",s.concat([null])):n>-1&&t.$set(t.requirements,"contactLead",s.slice(0,n).concat(s.slice(n+1)))}else t.$set(t.requirements,"contactLead",o)}}}),t._v(" "),s("label",{staticClass:"slds-checkbox__label",attrs:{for:"requirements-contact"}},[s("span",{staticClass:"slds-checkbox_faux"}),t._v(" "),s("span",{staticClass:"slds-form-element__label"},[t._v(t._s(t.$Labels.MA_Contact_or_Lead))])])])])])])])])]),t._v(" "),s("div",{staticClass:"slds-section slds-m-bottom_large slds-is-open requirements"},[s("div",{staticClass:"slds-section__title slds-theme--shade"},[s("span",{staticClass:"section-header-title slds-p-horizontal--small slds-truncate"},[t._v(t._s(t.$Labels.MA_Routine))])]),t._v(" "),s("div",{staticClass:"slds-section__content section__content"},[s("div",{staticClass:"slds-grid"},[s("div",{staticClass:"slds-col slds-size_1-of-1 slds-medium-size_1-of-3"},[s("div",{staticClass:"slds-form slds-form_stacked"},[s("div",{staticClass:"slds-form-element"},[s("label",{staticClass:"slds-form-element__label"},[t._v("Action")]),t._v(" "),s("div",{staticClass:"slds-form-element__control"},[s("div",{staticClass:"slds-select_container"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.routine.action,expression:"routine.action"}],staticClass:"slds-select routine-action",on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.routine,"action",e.target.multiple?s:s[0])}}},[s("option",{attrs:{value:"NewWindow"}},[t._v("\n                                            "+t._s(t.$Labels.MA_Load_new_window)+"\n                                        ")])])])])]),t._v(" "),s("div",{staticClass:"slds-form-element post-info",attrs:{id:"type-selection"}},[s("label",{staticClass:"slds-form-element__label"},[t._v("Request Type")]),t._v(" "),s("div",{staticClass:"slds-form-element__control"},[s("div",{staticClass:"slds-select_container"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.routine.method,expression:"routine.method"}],staticClass:"slds-select type-action",staticStyle:{width:"100%"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.routine,"method",e.target.multiple?s:s[0])}}},[s("option",{attrs:{value:"GET"}},[t._v("\n                                            GET\n                                        ")]),t._v(" "),s("option",{attrs:{value:"POST"}},[t._v("\n                                            POST\n                                        ")])])])])]),t._v(" "),s("div",{staticClass:"slds-form-element post-info"},[s("div",{staticClass:"slds-form-element__control"},[s("span",{staticClass:"slds-checkbox"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.routine.shapeInfo,expression:"routine.shapeInfo"}],staticClass:"include-shape-info",staticStyle:{float:"right"},attrs:{id:"routine-add-shapeInfo",type:"checkbox","data-value":"include-shape-info"},domProps:{checked:Array.isArray(t.routine.shapeInfo)?t._i(t.routine.shapeInfo,null)>-1:t.routine.shapeInfo},on:{change:function(e){var s=t.routine.shapeInfo,a=e.target,o=!!a.checked;if(Array.isArray(s)){var n=t._i(s,null);a.checked?n<0&&t.$set(t.routine,"shapeInfo",s.concat([null])):n>-1&&t.$set(t.routine,"shapeInfo",s.slice(0,n).concat(s.slice(n+1)))}else t.$set(t.routine,"shapeInfo",o)}}}),t._v(" "),t._m(0)])])]),t._v(" "),s("div",{staticClass:"slds-form-element post-info"},[s("div",{staticClass:"slds-form-element__control slds-grid"},[s("span",{staticClass:"slds-checkbox"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.routine.addRecords,expression:"routine.addRecords"}],staticClass:"includeRecords",staticStyle:{float:"right"},attrs:{id:"routine-add-records",type:"checkbox","data-value":"include-Records"},domProps:{checked:Array.isArray(t.routine.addRecords)?t._i(t.routine.addRecords,null)>-1:t.routine.addRecords},on:{change:function(e){var s=t.routine.addRecords,a=e.target,o=!!a.checked;if(Array.isArray(s)){var n=t._i(s,null);a.checked?n<0&&t.$set(t.routine,"addRecords",s.concat([null])):n>-1&&t.$set(t.routine,"addRecords",s.slice(0,n).concat(s.slice(n+1)))}else t.$set(t.routine,"addRecords",o)}}}),t._v(" "),t._m(1)]),t._v(" "),t._m(2)])]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.routine.addRecords,expression:"routine.addRecords"}],staticClass:"slds-form-element param-info"},[t._m(3),t._v(" "),s("div",{staticClass:"slds-form-element__control"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.routine.paramName,expression:"routine.paramName"}],staticClass:"parameterName slds-input",attrs:{type:"text"},domProps:{value:t.routine.paramName},on:{input:function(e){e.target.composing||t.$set(t.routine,"paramName",e.target.value)}}})])]),t._v(" "),s("div",{staticClass:"slds-form-element"},[s("label",{staticClass:"slds-form-element__label"}),t._v(" "),s("div",{staticClass:"slds-form-element__control"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.routine.value,expression:"routine.value"}],staticClass:"slds-textarea routine-value",domProps:{value:t.routine.value},on:{input:function(e){e.target.composing||t.$set(t.routine,"value",e.target.value)}}})])])])])])])]),t._v(" "),s("div",{staticClass:"buttons"},[s("input",{staticClass:"MAbutton button-blue slds-button slds-button_brand",attrs:{type:"button",value:"Save"},on:{click:function(e){return t.saveCustomAction(!1)}}}),t._v(" "),s("input",{directives:[{name:"show",rawName:"v-show",value:t.isSavedAction,expression:"isSavedAction"}],staticClass:"customaction-saveasbtn MAbutton button-blue slds-button slds-button_brand",attrs:{type:"button",value:"Save As"},on:{click:function(e){return t.saveCustomAction(!0)}}}),t._v(" "),s("input",{directives:[{name:"show",rawName:"v-show",value:t.isSavedAction,expression:"isSavedAction"}],staticClass:"customaction-deletebtn MAbutton button-red slds-button slds-button_destructive",attrs:{type:"button",value:"Delete"},on:{click:t.deleteCustomAction}}),t._v(" "),s("span",{staticClass:"msgs",staticStyle:{color:"red","font-size":"10px",display:"none"}})])],1)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"slds-checkbox__label",attrs:{for:"routine-add-shapeInfo"}},[e("span",{staticClass:"slds-checkbox_faux"}),this._v(" "),e("span",{staticClass:"slds-form-element__label"},[this._v("Include Shape Info?")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"slds-checkbox__label",attrs:{for:"routine-add-records"}},[e("span",{staticClass:"slds-checkbox_faux"}),this._v(" "),e("span",{staticClass:"slds-form-element__label"},[this._v("Add Records?")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"ma-settings-tooltip"},[e("div",{staticClass:"slds-form-element"},[e("div",{staticClass:"slds-form-element__icon slds-align-middle",staticStyle:{"padding-top":"0"}},[e("button",{staticClass:"slds-button slds-button_icon slds-button slds-button_icon",attrs:{"aria-describedby":"add-records-tooltip",title:""}},[e("span",{staticClass:"ma-icon ma-icon-info"}),this._v(" "),e("span",{staticClass:"slds-assistive-text"},[this._v("Help")])])])]),this._v(" "),e("div",{staticClass:"slds-popover slds-popover_tooltip slds-nubbin_left in",staticStyle:{position:"absolute",top:"-15px",left:"35px"},attrs:{id:"add-records-tooltip",role:"tooltip"}},[e("div",{staticClass:"slds-popover__body"},[this._v("\n                                            Adds a parameter you choose for the selected records, i.e., When right click events are triggered.\n                                        ")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"slds-form-element__label slds-grid"},[this._v("Parameter Name\n                                "),e("div",{staticClass:"ma-settings-tooltip"},[e("div",{staticClass:"slds-form-element"},[e("div",{staticClass:"slds-form-element__icon slds-align-middle"},[e("button",{staticClass:"slds-button slds-button_icon slds-button slds-button_icon",attrs:{"aria-describedby":"http-request-tooltip",title:""}},[e("span",{staticClass:"ma-icon ma-icon-info"}),this._v(" "),e("span",{staticClass:"slds-assistive-text"},[this._v("Help")])])])]),this._v(" "),e("div",{staticClass:"slds-popover slds-popover_tooltip slds-nubbin_left in",staticStyle:{position:"absolute",top:"-15px",left:"35px"},attrs:{id:"http-request-tooltip",role:"tooltip"}},[e("div",{staticClass:"slds-popover__body"},[this._v("This name will be used to specify how the records will be labeled in the HTTP request.")])])])])}],!1,null,null,null).exports;function ct(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}function dt(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?ct(Object(s),!0).forEach((function(e){ut(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):ct(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}function ut(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var _t={components:{MAPicklist:B.a},data:function(){return{options:[],isLoading:!1,durationOptions:[{label:"0 hr, 30 min",value:"30"},{label:"1 hr, 0 min",value:"60"},{label:"1 hr, 30 min",value:"90"},{label:"2 hr, 0 min",value:"120"},{label:"2 hr, 30 min",value:"150"},{label:"3 hr, 0 min",value:"180"}],duration:"30",createdLatitude:"",createdLocationAccuracy:"",createdLongitude:"",createdLocationVerified:"",createdDistanceFromRecord:"",checkOutLatitude:"",checkOutAccuracy:"",checkOutLongitude:"",checkOutDistanceFromRecord:"",checkOutDate:"",customDisposition:"",fieldSets:[]}},computed:dt({},Object(l.mapState)({settings__booleanFields:"booleanFields",settings__dateTimeFields:"dateTimeFields",settings__numberFields:"numberFields",settings__settings:"settings"})),created:function(){this.init()},methods:dt(dt({},Object(l.mapActions)({settings__getActivityFields:"getActivityFields",settings__getFieldSets:"getFieldSets",settings__saveActivitySettings:"saveActivitySettings",settings__getSettings:"getSettings"})),{},{init:function(){var t=this;this.isLoading=!0;var e=this.getSettigns(),s=this.settings__getActivityFields(),a=this.getFieldSets();Promise.all([e,s,a]).finally((function(){t.isLoading=!1}))},getActivityFields:function(){var t=this;this.isLoading=!0,this.settings__getActivityFields().finally((function(){t.isLoading=!1}))},getSettigns:function(){var t=this;return new Promise((function(e){t.settings__getSettings().then((function(e){t.updateSettings(e)})).finally((function(){e()}))}))},getFieldSets:function(){var t=this;return new Promise((function(e){t.settings__getFieldSets().then((function(e){t.fieldSets=e})).finally((function(){e()}))}))},updateSettings:function(t){this.duration=Object(i.a)(t,["Activity-DefaultDuration","sma__Value__c"])||"30",this.createdLatitude=Object(i.a)(t,["Activity-CreatedLatitude","sma__Value__c"])||"",this.createdLocationAccuracy=Object(i.a)(t,["Activity-CreatedLocationAccuracy","sma__Value__c"])||"",this.createdLongitude=Object(i.a)(t,["Activity-CreatedLongitude","sma__Value__c"])||"",this.createdLocationVerified=Object(i.a)(t,["Activity-CreatedLocationVerified","sma__Value__c"])||"",this.createdDistanceFromRecord=Object(i.a)(t,["Activity-DistanceFromRecord","sma__Value__c"])||"",this.checkOutLatitude=Object(i.a)(t,["Activity-CheckOutLatitude","sma__Value__c"])||"",this.checkOutAccuracy=Object(i.a)(t,["Activity-CheckOutAccuracy","sma__Value__c"])||"",this.checkOutLongitude=Object(i.a)(t,["Activity-CheckOutLongitude","sma__Value__c"])||"",this.checkOutDistanceFromRecord=Object(i.a)(t,["Activity-CheckOutDistanceFromRecord","sma__Value__c"])||"",this.checkOutDate=Object(i.a)(t,["Activity-CheckOutDate","sma__Value__c"])||"",this.customDisposition=Object(i.a)(t,["Activity-FieldSet","sma__Value__c"])||""},saveActivitySettings:function(){var t=this,e={serializedFields:JSON.stringify({"Activity-DefaultDuration":this.duration,"Activity-CheckOutAccuracy":this.checkOutAccuracy||"","Activity-CheckOutDate":this.checkOutDate||"","Activity-CheckOutDistanceFromRecord":this.checkOutDistanceFromRecord||"","Activity-CreatedLocationAccuracy":this.createdLocationAccuracy||"","Activity-CheckOutLatitude":this.checkOutLatitude||"","Activity-CheckOutLongitude":this.checkOutLongitude||"","Activity-CreatedLatitude":this.createdLatitude||"","Activity-CreatedLongitude":this.createdLongitude||"","Activity-CreatedLocationVerified":this.createdLocationVerified,"Activity-DistanceFromRecord":this.createdDistanceFromRecord,"Activity-FieldSet":this.customDisposition||""})};this.isLoading=!0,this.settings__saveActivitySettings(e).then((function(){window.MAToastMessages.showSuccess({message:"Success"})})).catch((function(t){window.MAToastMessages.showError({message:"Save Error",subMessage:t.message,timeOut:1e4,closeButton:!0})})).finally((function(){t.isLoading=!1}))},suggestFields:function(){var t=this;this.settings__booleanFields.forEach((function(e){-1===e.value.toLowerCase().indexOf("locationverified__c")||""!==t.createdLocationVerified&&null!==t.createdLocationVerified||(t.createdLocationVerified=e.value)})),this.settings__dateTimeFields.forEach((function(e){-1===e.value.toLowerCase().indexOf("checkoutdate__c")||""!==t.checkOutDate&&null!==t.checkOutDate||(t.checkOutDate=e.value)})),this.settings__numberFields.forEach((function(e){var s=e.value.toLowerCase();-1===s.indexOf("checkoutaccuracy__c")||""!==t.checkOutAccuracy&&null!==t.checkOutAccuracy||(t.checkOutAccuracy=e.value),-1===s.indexOf("checkoutdistancefromrecordmi__c")||""!==t.checkOutDistanceFromRecord&&null!==t.checkOutDistanceFromRecord||(t.checkOutDistanceFromRecord=e.value),-1===s.indexOf("createdlocationaccuracy__c")||""!==t.createdLocationAccuracy&&null!==t.createdLocationAccuracy||(t.createdLocationAccuracy=e.value),-1===s.indexOf("checkoutlatitude__c")||""!==t.checkOutLatitude&&null!==t.checkOutLatitude||(t.checkOutLatitude=e.value),-1===s.indexOf("checkoutlongitude__c")||""!==t.checkOutLongitude&&null!==t.checkOutLongitude||(t.checkOutLongitude=e.value),-1===s.indexOf("createdlatitude__c")||""!==t.createdLatitude&&null!==t.createdLatitude||(t.createdLatitude=e.value),-1===s.indexOf("createdlongitude__c")||""!==t.createdLongitude&&null!==t.createdLongitude||(t.createdLongitude=e.value),-1===s.indexOf("distancefromrecordmi__c")||""!==t.createdDistanceFromRecord&&null!==t.createdDistanceFromRecord||(t.createdDistanceFromRecord=e.value)}))}})},mt=Object(u.a)(_t,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"TopTabs-ActivitySettings"}},[t.isLoading?s("MASpinner"):t._e(),t._v(" "),s("div",[s("div",{staticClass:"slds-section slds-m-bottom_large slds-is-open activityfielddetails"},[t._m(0),t._v(" "),s("div",{staticClass:"slds-section__content section__content"},[s("div",{staticClass:"slds-grid"},[s("div",{staticClass:"slds-col slds-size_1-of-1 slds-large-size_3-of-4"},[s("div",{staticClass:"slds-form slds-form_compound"},[s("fieldset",{staticClass:"slds-form-element"},[s("div",{staticClass:"slds-form-element__group"},[s("div",{staticClass:"slds-form-element__row"},[s("div",{staticClass:"slds-form-element slds-size_1-of-2"},[s("MAPicklist",{staticClass:"slds-p-vertical_xx-small",attrs:{options:t.settings__numberFields,doDetach:!0,label:t.$Labels.MA_Created_Latitude,keyString:"value",valueString:"name"},model:{value:t.createdLatitude,callback:function(e){t.createdLatitude=e},expression:"createdLatitude"}})],1),t._v(" "),s("div",{staticClass:"slds-form-element slds-size_1-of-2"},[s("MAPicklist",{staticClass:"slds-p-vertical_xx-small",attrs:{options:t.settings__numberFields,doDetach:!0,label:t.$Labels.MA_Created_Location_Accuracy,keyString:"value",valueString:"name"},model:{value:t.createdLocationAccuracy,callback:function(e){t.createdLocationAccuracy=e},expression:"createdLocationAccuracy"}})],1)]),t._v(" "),s("div",{staticClass:"slds-form-element__row"},[s("div",{staticClass:"slds-form-element slds-size_1-of-2"},[s("MAPicklist",{staticClass:"slds-p-vertical_xx-small",attrs:{options:t.settings__numberFields,doDetach:!0,label:t.$Labels.MA_Created_Longitude,keyString:"value",valueString:"name"},model:{value:t.createdLongitude,callback:function(e){t.createdLongitude=e},expression:"createdLongitude"}})],1),t._v(" "),s("div",{staticClass:"slds-form-element slds-size_1-of-2"},[s("MAPicklist",{staticClass:"slds-p-vertical_xx-small",attrs:{options:t.settings__booleanFields,doDetach:!0,label:t.$Labels.MA_Created_Location_Verified,keyString:"value",valueString:"name"},model:{value:t.createdLocationVerified,callback:function(e){t.createdLocationVerified=e},expression:"createdLocationVerified"}})],1)]),t._v(" "),s("div",{staticClass:"slds-form-element__row"},[s("div",{staticClass:"slds-form-element slds-size_1-of-2"},[s("MAPicklist",{staticClass:"slds-p-vertical_xx-small",attrs:{options:t.settings__numberFields,doDetach:!0,label:t.$Labels.MA_Distance_from_Record,keyString:"value",valueString:"name"},model:{value:t.createdDistanceFromRecord,callback:function(e){t.createdDistanceFromRecord=e},expression:"createdDistanceFromRecord"}})],1),t._v(" "),s("div",{staticClass:"slds-form-element slds-size_1-of-2"},[s("MAPicklist",{staticClass:"slds-p-vertical_xx-small",attrs:{options:t.durationOptions,doDetach:!0,hasNoneOption:!1,label:"Default Duration",keyString:"value",valueString:"label"},model:{value:t.duration,callback:function(e){t.duration=e},expression:"duration"}})],1)])])])])])])])]),t._v(" "),s("div",{staticClass:"slds-section slds-m-bottom_large slds-is-open activityfielddetails"},[t._m(1),t._v(" "),s("div",{staticClass:"slds-section__content section__content"},[s("div",{staticClass:"slds-grid"},[s("div",{staticClass:"slds-col slds-size_1-of-1 slds-large-size_3-of-4"},[s("div",{staticClass:"slds-form slds-form_compound"},[s("fieldset",{staticClass:"slds-form-element"},[s("div",{staticClass:"slds-form-element__group"},[s("div",{staticClass:"slds-form-element__row"},[s("div",{staticClass:"slds-form-element slds-size_1-of-2"},[s("MAPicklist",{staticClass:"slds-p-vertical_xx-small",attrs:{options:t.settings__numberFields,doDetach:!0,label:t.$Labels.MA_Check_Out_Latitude,keyString:"value",valueString:"name"},model:{value:t.checkOutLatitude,callback:function(e){t.checkOutLatitude=e},expression:"checkOutLatitude"}})],1),t._v(" "),s("div",{staticClass:"slds-form-element slds-size_1-of-2"},[s("MAPicklist",{staticClass:"slds-p-vertical_xx-small",attrs:{options:t.settings__numberFields,doDetach:!0,label:t.$Labels.MA_Check_Out_Accuracy,keyString:"value",valueString:"name"},model:{value:t.checkOutAccuracy,callback:function(e){t.checkOutAccuracy=e},expression:"checkOutAccuracy"}})],1)]),t._v(" "),s("div",{staticClass:"slds-form-element__row"},[s("div",{staticClass:"slds-form-element slds-size_1-of-2"},[s("MAPicklist",{staticClass:"slds-p-vertical_xx-small",attrs:{options:t.settings__numberFields,doDetach:!0,label:t.$Labels.MA_Check_Out_Longitude,keyString:"value",valueString:"name"},model:{value:t.checkOutLongitude,callback:function(e){t.checkOutLongitude=e},expression:"checkOutLongitude"}})],1),t._v(" "),s("div",{staticClass:"slds-form-element slds-size_1-of-2"},[s("MAPicklist",{staticClass:"slds-p-vertical_xx-small",attrs:{options:t.settings__numberFields,doDetach:!0,label:t.$Labels.MA_Distance_from_Record,keyString:"value",valueString:"name"},model:{value:t.checkOutDistanceFromRecord,callback:function(e){t.checkOutDistanceFromRecord=e},expression:"checkOutDistanceFromRecord"}})],1)]),t._v(" "),s("div",{staticClass:"slds-form-element__row"},[s("div",{staticClass:"slds-form-element slds-size_1-of-2"},[s("MAPicklist",{staticClass:"slds-p-vertical_xx-small",attrs:{options:t.settings__dateTimeFields,doDetach:!0,label:t.$Labels.MA_Check_Out_Date,keyString:"value",valueString:"name"},model:{value:t.checkOutDate,callback:function(e){t.checkOutDate=e},expression:"checkOutDate"}})],1)])])])])])])])]),t._v(" "),s("div",{staticClass:"slds-section slds-m-bottom_large slds-is-open activityfielddetails"},[t._m(2),t._v(" "),s("div",{staticClass:"slds-section__content section__content"},[s("div",{staticClass:"slds-grid"},[s("div",{staticClass:"slds-col slds-size_1-of-1 slds-large-size_3-of-4"},[s("div",{staticClass:"slds-form slds-form_compound"},[s("fieldset",{staticClass:"slds-form-element"},[s("div",{staticClass:"slds-form-element__group"},[s("div",{staticClass:"slds-form-element__row"},[s("div",{staticClass:"slds-form-element slds-size_1-of-2"},[s("MAPicklist",{staticClass:"slds-p-vertical_xx-small",attrs:{options:t.fieldSets,doDetach:!0,label:"Field Set",keyString:"value",valueString:"name"},model:{value:t.customDisposition,callback:function(e){t.customDisposition=e},expression:"customDisposition"}})],1)])])])])])])])])]),t._v(" "),s("div",{staticClass:"ActivityFieldButtons"},[s("button",{staticClass:"slds-button slds-button_brand",on:{click:t.saveActivitySettings}},[t._v("\n            "+t._s(t.$Labels.MA_Save)+"\n        ")]),t._v(" "),s("button",{staticClass:"slds-button slds-button_brand",on:{click:t.suggestFields}},[t._v("\n            Suggest\n        ")]),t._v(" "),s("span",{staticClass:"msgs",staticStyle:{color:"red","font-size":"10px",display:"none"}})])],1)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"slds-section__title slds-theme--shade"},[e("span",{staticClass:"section-header-title slds-p-horizontal--small slds-truncate"},[this._v("Check In Fields")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"slds-section__title slds-theme--shade"},[e("span",{staticClass:"section-header-title slds-p-horizontal--small slds-truncate"},[this._v("Check Out Fields")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"slds-section__title slds-theme--shade"},[e("span",{staticClass:"section-header-title slds-p-horizontal--small slds-truncate"},[this._v("Custom Disposition")])])}],!1,null,null,null).exports;function pt(t,e){(null==e||e>t.length)&&(e=t.length);for(var s=0,a=new Array(e);s<e;s++)a[s]=t[s];return a}var bt=window.MARemoting,ft={state:{callouts:0,mapTiles:[],booleanFields:[],dateTimeFields:[],numberFields:[],buttonSets:[],settings:[],isLoading:!1},mutations:{loadingToggle:function(t,e){"boolean"==typeof e?e?(t.callouts+=1,t.isLoading=!0):(t.callouts-=1,t.callouts<=0&&(t.isLoading=!1,t.callouts=0)):(t.callouts-=1,t.isLoading=!1)},updateSettings:function(t,e){t.settings=e},updateActivityFields:function(t,e){t.booleanFields=e.Boolean||[],t.dateTimeFields=e.DateTime||[],t.numberFields=e.Number||[]},updateMapTiles:function(t,e){t.mapTiles=e},updateButtonSets:function(t,e){t.buttonSets=e},removeButtonSet:function(t,e){t.buttonSets=t.buttonSets.filter((function(t){return t.Id!==e}))}},getters:{buttonSets:function(t){return t.buttonSets}},actions:{getSettings:function(t){var e=this,s=t.commit;return new Promise((function(t,a){(new w.a).setAction(bt.AdminStartUpAction).setErrorHandler((function(t){a(new Error(t)),console.warn(t)})).invoke([{action:"get_settings"}],(function(o){if(e.isLoading=!1,o.success){var n=o.mapTiles,i=void 0===n?[]:n,r=o.data,l=void 0===r?{}:r;s("updateMapTiles",i),s("updateSettings",l),t(l)}else a(new Error("Unable to get users.")),console.warn(o)}),{escape:!1,buffer:!1})}))},getUsers:function(t,e){return new Promise((function(t,s){e.ajaxResource="getPermissioRows",(new w.a).setAction(bt.getPermissioRows).setErrorHandler((function(t){s(new Error(t)),console.warn(t)})).invoke([e],(function(e){if(e.success){var a=e.users,o=void 0===a?[]:a,n=e.userQuery;t({users:o,userQuery:void 0===n?"":n})}else s(new Error("Unable to get users.")),console.warn(e)}),{escape:!1,buffer:!1})}))},getUsersPhase2:function(t,e){return new Promise((function(t,s){var a={action:"get_user_permissions_batch_phase2",userIds:JSON.stringify(e)};(new w.a).setAction(bt.AdminStartUpAction).setErrorHandler((function(t){s(new Error(t)),console.warn(t)})).invoke([a],(function(e){if(e.success){var a=e.users;t(void 0===a?[]:a)}else s(new Error("Unable to get users.")),console.warn(e)}),{escape:!1,buffer:!1})}))},saveGeneralSettings:function(t,e){return new Promise((function(t,s){try{var a={action:"save_settings",settings:JSON.stringify(e)};(new w.a).setAction(bt.AdminStartUpAction).setErrorHandler((function(t){s(new Error(t)),console.warn(t)})).invoke([a],(function(e){if(e.success)t();else{var a=e.error;s(new Error(void 0===a?"":a))}}),{escape:!1,buffer:!1})}catch(t){console.warn(t),s(t)}}))},clearDebugLogs:function(){return new Promise((function(t,e){(new w.a).setAction(bt.AdminStartUpAction).setErrorHandler((function(t){e(new Error(t)),console.warn(t)})).invoke([{action:"clear_debuglogs"}],(function(s){if(s.success)t();else{var a=s.error;e(new Error(void 0===a?"":a))}}),{escape:!1,buffer:!1})}))},updateUserPermission:function(t,e){return new Promise((function(t,s){e.action="save_permissions_mass",(new w.a).setAction(bt.AdminStartUpAction).setErrorHandler((function(t,e){s(new Error(e.message)),console.warn(e)})).invoke([e],(function(e){if(e.success)t();else{var a=e.error;s(new Error(void 0===a?"":a))}}),{escape:!1,buffer:!1})}))},getButtonSetInfo:function(t,e){var s=t.commit;return new Promise((function(t,a){var o={action:"get_buttonset_info"};e&&""!==e&&(o.buttonSetId=e),(new w.a).setAction(bt.AdminStartUpAction).setErrorHandler((function(t,e){a(new Error(e.message))})).invoke([o],(function(e){var o=e.success,n=void 0!==o&&o,i=e.results;if(n)s("updateButtonSets",void 0===i?[]:i),t();else{var r=e.error;a(new Error(void 0===r?"":r))}}),{escape:!1,buffer:!1})}))},saveButtonSetInfo:function(t,e){return new Promise((function(t,s){(new w.a).setAction(bt.AdminStartUpAction).setErrorHandler((function(t,e){s(new Error(e.message)),console.warn(e)})).invoke([e],(function(e){if(e.success){var a=e.result;t(void 0===a?{}:a)}else{var o=e.error;s(new Error(void 0===o?"":o))}}),{escape:!1,buffer:!1})}))},deleteButtonSet:function(t,e){var s=t.commit;return new Promise((function(t,a){var o={action:"delete_record",id:e};(new w.a).setAction(bt.AdminStartUpAction).setErrorHandler((function(t,e){a(new Error(e.message)),console.warn(e)})).invoke([o],(function(o){if(o.success)s("removeButtonSet",e),t();else{var n=o.error;a(new Error(void 0===n?"":n))}}),{escape:!1,buffer:!1})}))},getCustomActions:function(t,e){return new Promise((function(t,s){var a={action:"get_customactions"};e&&(a.id=e),(new w.a).setAction(bt.AdminStartUpAction).setErrorHandler((function(t,e){s(new Error(e.message)),console.warn(e)})).invoke([a],(function(e){if(e.success){var a=e.results;t(void 0===a?[]:a)}else{var o=e.error;s(new Error(void 0===o?"":o))}}),{escape:!1,buffer:!1})}))},saveCustomAction:function(t,e){return new Promise((function(t,s){var a={action:"save_customaction",serializedCustomAction:JSON.stringify(e)};(new w.a).setAction(bt.AdminStartUpAction).setErrorHandler((function(t,e){s(new Error(e.message)),console.warn(e)})).invoke([a],(function(e){if(e.success){var a=e.result;t(void 0===a?{}:a)}else{var o=e.error;s(new Error(void 0===o?"":o))}}),{escape:!1,buffer:!1})}))},deleteCustomAction:function(t,e){return new Promise((function(t,s){var a={action:"delete_record",id:e};(new w.a).setAction(bt.AdminStartUpAction).setErrorHandler((function(t,e){s(new Error(e.message)),console.warn(e)})).invoke([a],(function(e){if(e.success)t();else{var a=e.error;s(new Error(void 0===a?"":a))}}),{escape:!1,buffer:!1})}))},getActivityFields:function(t){var e=t.commit;return new Promise((function(t,s){(new w.a).setAction(bt.AdminStartUpAction).setErrorHandler((function(t,e){s(new Error(e.message)),console.warn(e)})).invoke([{action:"getActivityFields"}],(function(a){if(a.success){var o=a.ActivityFields,n=function(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var s=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=s){var a,o,n=[],i=!0,r=!1;try{for(s=s.call(t);!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return n}}(t,e)||function(t,e){if(t){if("string"==typeof t)return pt(t,e);var s=Object.prototype.toString.call(t).slice(8,-1);return"Object"===s&&t.constructor&&(s=t.constructor.name),"Map"===s||"Set"===s?Array.from(t):"Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?pt(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(void 0===o?[]:o,1)[0];e("updateActivityFields",n),t()}else{var i=a.error;s(new Error(void 0===i?"":i))}}),{escape:!1,buffer:!1})}))},getFieldSets:function(){return new Promise((function(t,e){(new w.a).setAction(bt.AdminStartUpAction).setErrorHandler((function(t,s){e(new Error(s.message)),console.warn(s)})).invoke([{action:"get_fieldSets",sObjectName:"Task"}],(function(s){if(s.success){var a=s.data;t(void 0===a?[]:a)}else{var o=s.error;e(new Error(void 0===o?"":o))}}),{escape:!1,buffer:!1})}))},saveActivitySettings:function(t,e){return new Promise((function(t,s){e.action="saveActivityFields",(new w.a).setAction(bt.AdminStartUpAction).setErrorHandler((function(t,e){s(new Error(e.message)),console.warn(e)})).invoke([e],(function(e){if(e.success)t();else{var a=e.error;s(new Error(void 0===a?"":a))}}),{escape:!1,buffer:!1})}))}}},vt={components:{MATabs:o.a,MATab:n.a,GeneralTab:v,PermissionsTab:I,ButtonSetTab:et,CustomActionsTab:lt,ActivitySettingsTab:mt},data:function(){return{}},beforeCreate:function(){this.$store=new c.a.Store(ft)},methods:{getTabId:function(){return Object(a.d)()}}},ht=Object(u.a)(vt,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"base-objects-wrap",staticStyle:{position:"relative"}},[s("MATabs",{staticClass:"slds-m-bottom_medium"},[s("MATab",{staticClass:"slds-m-around_medium",attrs:{id:t.getTabId(),title:t.$Labels.MASettings_General}},[s("GeneralTab")],1),t._v(" "),s("MATab",{staticClass:"slds-m-around_medium",attrs:{id:t.getTabId(),title:t.$Labels.MA_Permissions}},[s("PermissionsTab")],1),t._v(" "),s("MATab",{staticClass:"slds-m-around_medium",attrs:{id:t.getTabId(),title:t.$Labels.MA_Button_Sets}},[s("ButtonSetTab")],1),t._v(" "),s("MATab",{staticClass:"sldx-m-around_medium",attrs:{id:t.getTabId(),title:t.$Labels.MA_Custom_Actions}},[s("CustomActionsTab")],1),t._v(" "),s("MATab",{staticClass:"sldx-m-around_medium",attrs:{id:t.getTabId(),title:t.$Labels.MA_Activity_Settings}},[s("ActivitySettingsTab")],1)],1)],1)}),[],!1,null,null,null);e.default=ht.exports}}]);