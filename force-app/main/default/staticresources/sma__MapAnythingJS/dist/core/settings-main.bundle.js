(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{575:function(t,e,s){},576:function(t,e,s){},577:function(t,e,s){},624:function(t,e,s){"use strict";s(575)},625:function(t,e,s){"use strict";s(576)},626:function(t,e,s){"use strict";s(577)},633:function(t,e,s){"use strict";s.r(e);var i=s(6),a=s(63),n=s(235),o=s(236),r=s(82);function l(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,i)}return s}function d(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?l(Object(s),!0).forEach((function(e){c(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):l(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}function c(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var u={name:"General",data:function(){return{proximitySettings:{DefaultProximityType:"Circle",circleRadius:"50",circleRadiusUnits:"MILES",radius:"50",travelDistanceRadius:"50",travelDistanceRadiusUnits:"MILES",travelTimeRadiusMinutes:"",travelTimeRadiusHours:""},distanceUnit:"mi",mobilePlotLimit:1e3,recallMobileSaveState:!1,invertProximity:!1,mapItProximity:!1}},computed:{generalSettings:function(){return{proximitySettings:this.proximitySettings,distanceUnit:this.distanceUnit,mobilePlotLimit:this.mobilePlotLimit,recallMobileSaveState:this.recallMobileSaveState,invertProximity:this.invertProximity,mapItProximity:this.mapItProximity}}},watch:{generalSettings:function(t){this.$emit("update-general-settings",t)}},created:function(){this.buildGeneralSettings()},methods:{buildGeneralSettings:function(){var t=window.userSettings,e=void 0===t?{}:t,s=e.defaultProximitySettings,i=void 0===s?{}:s,a=e.RouteDefaults,n=void 0===a?{unit:"mi"}:a,o=d(d({},this.proximitySettings),i);this.proximitySettings=o;var r=e.mobilePlotLimit||1e3;r=parseInt(window.MA.Util.parseNumberString(String(r)),0),Number.isNaN(r)&&(r=1e3),this.mobilePlotLimit=r,this.recallMobileSaveState=e.recallMobileSaveState||!1,this.mapItProximity=e.MapItProximityOn||!1,this.invertProximity=e.InvertProximity||!1,this.distanceUnit=n.unit||"mi",this.$emit("radius-updated",o.circleRadius)},emitChange:function(t){window.validateRadiusSetting(t),this.$emit("radius-updated",t)}}},m=s(1),v=Object(m.a)(u,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"general-tab"}},[s("div",{staticClass:"slds-grid slds-wrap slds-grid--vertical"},[s("div",{staticClass:"slds-size_1-of-1 slds-medium-size_3-of-4 slds-large-size_7-of-12"},[s("div",{staticClass:"slds-form-element"},[s("label",{staticClass:"slds-form-element__label",attrs:{for:"UnitType"}},[t._v(t._s(t.$Labels.MA_UNITS))]),t._v(" "),s("div",{staticClass:"slds-form-element__control"},[s("div",{staticClass:"slds-select_container"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.distanceUnit,expression:"distanceUnit"}],staticClass:"slds-select",attrs:{id:"UnitType"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.distanceUnit=e.target.multiple?s:s[0]}}},[s("option",{attrs:{value:"mi"}},[t._v(t._s(t.$Labels.MARoutes_Miles))]),t._v(" "),s("option",{attrs:{value:"km"}},[t._v(t._s(t.$Labels.MARoutes_Kilometers))])])])])]),t._v(" "),s("div",{staticClass:"slds-form-element"},[s("div",{staticClass:"slds-form-element__control"},[s("span",{staticClass:"slds-checkbox"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.invertProximity,expression:"invertProximity"}],attrs:{id:"InvertProximityCheckbox",type:"checkbox",name:"InvertProximityCheckbox",value:"off",onclick:"ChangeVisibilityWhenCircleIsAdded();"},domProps:{checked:Array.isArray(t.invertProximity)?t._i(t.invertProximity,"off")>-1:t.invertProximity},on:{change:function(e){var s=t.invertProximity,i=e.target,a=!!i.checked;if(Array.isArray(s)){var n=t._i(s,"off");i.checked?n<0&&(t.invertProximity=s.concat(["off"])):n>-1&&(t.invertProximity=s.slice(0,n).concat(s.slice(n+1)))}else t.invertProximity=a}}}),t._v(" "),s("label",{staticClass:"slds-checkbox__label",attrs:{for:"InvertProximityCheckbox"}},[s("span",{staticClass:"slds-checkbox_faux"}),t._v(" "),s("span",{staticClass:"slds-form-element__label"},[t._v(t._s(t.$Labels.MASettings_Invert_Proximity))])])])])]),t._v(" "),s("div",{staticClass:"slds-form-element"},[s("label",{staticClass:"slds-form-element__label",attrs:{for:"DefaultProximityType"}},[t._v(t._s(t.$Labels.MA_DEFAULT_PROX_TYPE)+":")]),t._v(" "),s("div",{staticClass:"slds-form-element__control"},[s("div",{staticClass:"slds-select_container"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.proximitySettings.DefaultProximityType,expression:"proximitySettings.DefaultProximityType"}],staticClass:"slds-select proximitytype",attrs:{id:"DefaultProximityType"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.proximitySettings,"DefaultProximityType",e.target.multiple?s:s[0])}}},[s("option",{attrs:{value:"Circle"}},[t._v(t._s(t.$Labels.MA_Circle))]),t._v(" "),s("option",{attrs:{value:"travelTime"}},[t._v(t._s(t.$Labels.MA_Travel_Time))]),t._v(" "),s("option",{attrs:{value:"travelDistance"}},[t._v(t._s(t.$Labels.MA_Travel_Distance))])])])])]),t._v(" "),s("div",{staticClass:"prox-options"},[s("div",{directives:[{name:"show",rawName:"v-show",value:"Circle"===t.proximitySettings.DefaultProximityType,expression:"proximitySettings.DefaultProximityType === 'Circle'"}],staticClass:"slds-form slds-form_stacked slds-grid slds-grid_pull-padded-medium options-circle prox-option"},[s("div",{staticClass:"slds-col slds-size_1-of-2 slds-p-horizontal_medium slds-form-element"},[s("label",{staticClass:"slds-form-element__label",attrs:{for:"ProximityRadius"}},[t._v(t._s(t.$Labels.MASettings_Radius))]),t._v(" "),s("div",{staticClass:"slds-form-element__control"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.proximitySettings.circleRadius,expression:"proximitySettings.circleRadius"}],staticClass:"slds-input options-circle-radius",attrs:{id:"ProximityRadius",type:"text"},domProps:{value:t.proximitySettings.circleRadius},on:{input:[function(e){e.target.composing||t.$set(t.proximitySettings,"circleRadius",e.target.value)},function(e){return t.emitChange(e.target.value)}]}})]),t._v(" "),s("div",{staticClass:"radiusError slds-form-element__help",staticStyle:{display:"none"}},[t._v("\n                            Radius cannot contain special characters or be a negative number.\n                        ")])]),t._v(" "),s("div",{staticClass:"slds-col slds-size_1-of-2 slds-p-horizontal_medium"},[s("label",{staticClass:"slds-form-element__label",attrs:{for:"ProximityRadiusMeasurementType"}},[t._v(t._s(t.$Labels.MA_UNITS))]),t._v(" "),s("div",{staticClass:"slds-form-element__control"},[s("div",{staticClass:"slds-select_container"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.proximitySettings.circleRadiusUnits,expression:"proximitySettings.circleRadiusUnits"}],staticClass:"slds-select options-circle-unit",attrs:{id:"ProximityRadiusMeasurementType"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.proximitySettings,"circleRadiusUnits",e.target.multiple?s:s[0])}}},[s("option",{attrs:{value:"MILES"}},[t._v(t._s(t.$Labels.MARoutes_Miles))]),t._v(" "),s("option",{attrs:{value:"KM"}},[t._v(t._s(t.$Labels.MARoutes_Kilometers))]),t._v(" "),s("option",{attrs:{value:"METERS"}},[t._v(t._s(t.$Labels.MA_Meters))]),t._v(" "),s("option",{attrs:{value:"YARDS"}},[t._v(t._s(t.$Labels.MA_Yards))]),t._v(" "),s("option",{attrs:{value:"FEET"}},[t._v(t._s(t.$Labels.MA_Feet))])])])])])]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:"travelDistance"===t.proximitySettings.DefaultProximityType,expression:"proximitySettings.DefaultProximityType === 'travelDistance'"}],staticClass:"slds-form slds-form_stacked slds-grid slds-grid_pull-padded-medium prox-option",attrs:{id:"proximity-travel-distance"}},[s("div",{staticClass:"slds-col slds-size_1-of-2 slds-p-horizontal_medium"},[s("label",{staticClass:"slds-form-element__label",attrs:{for:"TravelDistanceRadius"}},[t._v(t._s(t.$Labels.MASettings_Radius))]),t._v(" "),s("div",{staticClass:"slds-form-element__control"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.proximitySettings.travelDistanceRadius,expression:"proximitySettings.travelDistanceRadius"}],staticClass:"slds-input travel-distance-radius",attrs:{id:"TravelDistanceRadius",type:"text",placeholder:"0"},domProps:{value:t.proximitySettings.travelDistanceRadius},on:{input:function(e){e.target.composing||t.$set(t.proximitySettings,"travelDistanceRadius",e.target.value)}}})])]),t._v(" "),s("div",{staticClass:"slds-col slds-size_1-of-2 slds-p-horizontal_medium"},[s("label",{staticClass:"slds-form-element__label",attrs:{for:"TravelDistanceUnits"}},[t._v(t._s(t.$Labels.MA_UNITS))]),t._v(" "),s("div",{staticClass:"slds-form-element__control"},[s("div",{staticClass:"slds-select_container"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.proximitySettings.travelDistanceRadiusUnits,expression:"proximitySettings.travelDistanceRadiusUnits"}],staticClass:"slds-select travel-distance-units",attrs:{id:"TravelDistanceUnits"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.proximitySettings,"travelDistanceRadiusUnits",e.target.multiple?s:s[0])}}},[s("option",{attrs:{value:"MILES"}},[t._v(t._s(t.$Labels.MARoutes_Miles))]),t._v(" "),s("option",{attrs:{value:"KM"}},[t._v(t._s(t.$Labels.MARoutes_Kilometers))]),t._v(" "),s("option",{attrs:{value:"METERS"}},[t._v(t._s(t.$Labels.MA_Meters))]),t._v(" "),s("option",{attrs:{value:"YARDS"}},[t._v(t._s(t.$Labels.MA_Yards))]),t._v(" "),s("option",{attrs:{value:"FEET"}},[t._v(t._s(t.$Labels.MA_Feet))])])])])])]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:"travelTime"===t.proximitySettings.DefaultProximityType,expression:"proximitySettings.DefaultProximityType === 'travelTime'"}],staticClass:"slds-form slds-form_stacked prox-option",attrs:{id:"proximity-travel-time"}},[s("div",{staticClass:"slds-grid slds-grid_pull-padded-medium"},[s("div",{staticClass:"slds-form-element__control slds-col slds-p-horizontal_medium"},[s("label",{staticClass:"slds-form-element__label",attrs:{for:"travelTimeHours"}},[t._v(t._s(t.$Labels.MA_hours))]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.proximitySettings.travelTimeRadiusHours,expression:"proximitySettings.travelTimeRadiusHours"}],staticClass:"slds-input numberVal radius-hours prox-style",attrs:{id:"travelTimeHours",type:"text",placeholder:"0"},domProps:{value:t.proximitySettings.travelTimeRadiusHours},on:{input:function(e){e.target.composing||t.$set(t.proximitySettings,"travelTimeRadiusHours",e.target.value)}}})]),t._v(" "),s("div",{staticClass:"slds-form-element__control slds-col slds-p-horizontal_medium"},[s("label",{staticClass:"slds-form-element__label",attrs:{for:"travelTimeMinutes"}},[t._v(t._s(t.$Labels.MA_minutes))]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.proximitySettings.travelTimeRadiusMinutes,expression:"proximitySettings.travelTimeRadiusMinutes"}],staticClass:"slds-input numberVal radius-minutes prox-style",attrs:{id:"travelTimeMinutes",type:"text",placeholder:"0"},domProps:{value:t.proximitySettings.travelTimeRadiusMinutes},on:{input:function(e){e.target.composing||t.$set(t.proximitySettings,"travelTimeRadiusMinutes",e.target.value)}}})])])])])])])])}),[],!1,null,null,null).exports,p=s(44),_=s(45),b=s(84),f=s(40),g=s(85),h=window.moment,y={components:{MASearch:p.a,MAPicklist:f.a,MACheckbox:g.a,MATooltip:_.a},data:function(){return{transportationMode:"driving",optimizationType:"fastest shift completion",startLocation:{label:"",value:""},endLocation:{label:"",value:""},enableDuplicateStops:!0,hoverTooltip:!1,routeType:"Standard",routeStart:"9:00 am",routeEnd:"5:00 pm",stopDuration:"0 hr, 30 min",timeOptions:[],durationOptions:[],transportationModes:[{value:"driving",label:this.$Labels.MA_DRIVING},{value:"walking",label:this.$Labels.MA_WALKING},{value:"bicycling",label:this.$Labels.MARoutes_Bicycle}],optimizationTypes:[{value:"fastest shift completion",label:"Fastest Shift Completion"},{value:"least windshield time",label:"Least Windshield Time"}],routeTypes:[{value:"Standard",label:"Standard"},{value:"TimeBased",label:this.$Labels.MA_Time_Based_Route}],searches:[{id:Object(i.c)(),onSearch:function(t,e){return b.a.searchFavorites(t,e)},label:"Name"}],workingHours:{sunday:{startHour:9,startMinute:0,convertedStart:"9:00 am",endHour:17,endMinute:0,convertedEnd:"5:00 pm",overnight:!1,workingDay:!0},monday:{startHour:9,startMinute:0,convertedStart:"9:00 am",endHour:17,endMinute:0,convertedEnd:"5:00 pm",overnight:!1,workingDay:!0},tuesday:{startHour:9,startMinute:0,convertedStart:"9:00 am",endHour:17,endMinute:0,convertedEnd:"5:00 pm",overnight:!1,workingDay:!0},wednesday:{startHour:9,startMinute:0,convertedStart:"9:00 am",endHour:17,endMinute:0,convertedEnd:"5:00 pm",overnight:!1,workingDay:!0},thursday:{startHour:9,startMinute:0,convertedStart:"9:00 am",endHour:17,endMinute:0,convertedEnd:"5:00 pm",overnight:!1,workingDay:!0},friday:{startHour:9,startMinute:0,convertedStart:"9:00 am",endHour:17,endMinute:0,convertedEnd:"5:00 pm",overnight:!1,workingDay:!0},saturday:{startHour:9,startMinute:0,convertedStart:"9:00 am",endHour:17,endMinute:0,convertedEnd:"5:00 pm",overnight:!1,workingDay:!0}},hasOverNightWorkingHours:!1,breakInformation:{enabled:!1,endHour:12,endMinute:0,startHour:11,startMinute:0,convertedStart:"11:00 am",convertedEnd:"12:00 pm",startInvalid:!1,endInvalid:!1},startEndLocationsValues:{placeholderValue:"Search for a Favorite Location",startLocationValue:"Default Start Location",endLocationValue:"Default End Location"}}},computed:{routeSettings:function(){return{transportationMode:this.transportationMode,optimizationType:this.optimizationType,startLocation:this.startLocation,endLocation:this.endLocation,routeStart:this.routeStart,routeType:this.routeType,routeEnd:this.routeEnd,stopDuration:this.stopDuration,enableDuplicateStops:this.enableDuplicateStops,enableCurrentLocationTime:this.enableCurrentLocationTime,workingHours:this.workingHours,breakInformation:this.breakInformation}}},watch:{routeSettings:function(t){this.$emit("update-route-settings",t)}},created:function(){this.buildTimeOptions(),this.buildDurationOptions(),this.parseRouteSettings(),this.buildDriveProfiles()},methods:{parseRouteSettings:function(){var t=this,e=window.userSettings,s=void 0===e?{}:e,i=s.RouteDefaults,a=void 0===i?{}:i,n=a.driveProfile||"driving",o=a.optimizationType||"fastest shift completion";if(this.optimizationType=o,this.transportationMode=n,this.startLocation={label:a.startLocationLabel||"",id:a.startLocationId||""},this.endLocation={label:a.endLocationLabel||"",id:a.endLocationId||""},this.enableDuplicateStops="true"===String(a.enabledDuplicateStops),this.routeType=a.type||"Standard",s.workingHours){Object.keys(s.workingHours).forEach((function(e){var i=s.workingHours[e],a=t.workingHours[e],n=h("".concat(i.startHour,":").concat(i.startMinute),"H:m");a.convertedStart=n.format("h:mm a"),a.startHour=Number(n.format("H")),a.startMinute=Number(n.format("m"));var o=h("".concat(i.endHour,":").concat(i.endMinute),"H:m");a.convertedEnd=o.format("h:mm a"),a.endHour=Number(o.format("H")),a.endMinute=Number(o.format("m")),o.isBefore(n)&&(a.overnight=!0,t.hasOverNightWorkingHours=!0),a.workingDay=!0===i.workingDay}))}else{var r=a.start||"9:00 am",l=a.end||"5:00 pm",d=h(r,"h:mm a"),c=h(l,"h:mm a");Object.keys(this.workingHours).forEach((function(e){var s=t.workingHours[e];s.startHour=Number(d.format("H")),s.startMinute=Number(d.format("m")),s.convertedStart=r,s.endHour=Number(c.format("H")),s.endMinute=Number(c.format("m")),s.convertedEnd=l,s.workingDay=!0}))}if(s.floatingBreak){var u=s.floatingBreak;this.breakInformation.enabled=!0,this.breakInformation.startMinute=u.startMinute,this.breakInformation.startHour=u.startHour,this.breakInformation.endMinute=u.endMinute,this.breakInformation.endHour=u.endHour;var m=h("".concat(u.startHour,":").concat(u.startMinute),"H:m");this.breakInformation.convertedStart=m.format("h:mm a");var v=h("".concat(u.endHour,":").concat(u.endMinute),"H:m");this.breakInformation.convertedEnd=v.format("h:mm a")}this.stopDuration=a.duration||"0 hr, 30 min";var p=void 0===a.enableCurrentLocationTime||a.enableCurrentLocationTime;this.enableCurrentLocationTime="true"===String(p)},buildDurationOptions:function(){for(var t=5;t<360;){var e="".concat(Math.floor(t/60)," hr, ").concat(t%60," min");this.durationOptions.push({label:e,id:e}),t+=5}},buildTimeOptions:function(t){t=t||30;var e=window.moment().startOf("day"),s=e.day();for(this.showDuration&&this.timeOptions.push({id:"Set start time...",label:"N/A"});e.day()===s;)this.timeOptions.push({id:e.format("h:mm a"),label:e.format("h:mm a")}),e.add(t,"m")},buildDriveProfiles:function(){var t=this;Object(i.b)("sma.MARemoteFunctions.processAJAXRequest",[{ajaxResource:"RouteCalendarAJAXResources",action:"getDriveProfiles"}]).then((function(e){var s=e.success,i=void 0!==s&&s,a=e.data;if(i){var n=(void 0===a?{}:a).driveProfiles;(void 0===n?[]:n).forEach((function(e){t.transportationModes.push({label:e.Name,value:e.Id})}))}else console.warn("error getting drive profiles",e);var o=t.transportationMode;0===t.transportationModes.filter((function(t){return t.value===o})).length&&(o="driving"),t.transportationMode=o}))},clearStartSearch:function(){this.startLocation={label:"",id:""}},clearEndSearch:function(){this.endLocation={label:"",id:""}},setStartLocation:function(t){this.startLocation={label:t.Name,id:t.Id}},setEndLocation:function(t){this.endLocation={label:t.Name,id:t.Id}},updateBreak:function(t,e){this.breakInformation.startInvalid=!1,this.breakInformation.endInvalid=!1;var s=h.utc("".concat(this.breakInformation.startHour,":").concat(this.breakInformation.startMinute),"H:m"),i=h.utc("".concat(this.breakInformation.endHour,":").concat(this.breakInformation.endMinute),"H:m"),a=h.utc(t,"h:mm a",!0);a.isValid()?"start"===e?(a.isAfter(i)&&(this.breakInformation.startInvalid=!0),this.breakInformation.startHour=Number(a.format("H")),this.breakInformation.startMinute=Number(a.format("m"))):"end"===e&&(a.isBefore(s)&&(this.breakInformation.endInvalid=!0),this.breakInformation.endHour=Number(a.format("H")),this.breakInformation.endMinute=Number(a.format("m"))):this.rebuildBreakTime(e)},rebuildBreakTime:function(t){var e,s=this;if("start"===t){var i="".concat(this.breakInformation.startHour,":").concat(this.breakInformation.startMinute);e=h(i,"H:m").format("h:mm a")}else{var a="".concat(this.breakInformation.endHour,":").concat(this.breakInformation.endMinute);e=h(a,"H:m").format("h:mm a")}this.$nextTick((function(){"start"===t?s.breakInformation.convertedStart=e:s.breakInformation.convertedEnd=e}))},selectTime:function(t,e,s){var i=h(t,"h:mm a",!0),a=this.workingHours[e];if(i.isValid())"start"===s?(a.startHour=Number(i.format("H")),a.startMinute=Number(i.format("m"))):(a.endHour=Number(i.format("H")),a.endMinute=Number(i.format("m")));else{var n=this.convertWorkingHours(e,s);this.$nextTick((function(){"start"===s?a.convertedStart=n:a.convertedEnd=n}))}var o=h("".concat(a.startHour,":").concat(a.startMinute),"H:m");h("".concat(a.endHour,":").concat(a.endMinute),"H:m").isBefore(o)?(a.overnight=!0,this.hasOverNightWorkingHours=!0):(a.overnight=!1,this.checkOverNightStatus())},checkOverNightStatus:function(){for(var t=Object.keys(this.workingHours),e=!1,s=0;s<t.length;s++){var i=t[s];if(this.workingHours[i].overnight){e=!0;break}}this.hasOverNightWorkingHours=e},convertWorkingHours:function(t,e){var s,i=this.workingHours[t];if("start"===e){var a="".concat(i.startHour,":").concat(i.startMinute);s=h(a,"H:m").format("h:mm a")}else{var n="".concat(i.endHour,":").concat(i.endMinute);s=h(n,"H:m").format("h:mm a")}return s}}},S=(s(624),Object(m.a)(y,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"Routing-Settings"}},[s("div",{staticClass:"slds-section slds-is-open"},[s("h3",{staticClass:"slds-section__title slds-theme_shade"},[s("span",{staticClass:"slds-truncate slds-p-horizontal_small"},[t._v(t._s(t.$Labels.MASettings_General))])]),t._v(" "),s("div",{staticClass:"slds-grid slds-wrap slds-grid--vertical slds-p-left_small slds-p-top_small"},[s("div",{staticClass:"slds-size_1-of-1 slds-medium-size_3-of-4 slds-large-size_7-of-12"},[s("div",{staticClass:"slds-form-element"},[s("label",{staticClass:"slds-form-element__label",attrs:{for:"RouteMode"}},[t._v(t._s(t.$Labels.MARoutes_Directions_Defaults))]),t._v(" "),s("div",{staticClass:"slds-form-element__control"},[s("div",{staticClass:"slds-select_container"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.transportationMode,expression:"transportationMode"}],staticClass:"slds-select",attrs:{id:"RouteMode"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.transportationMode=e.target.multiple?s:s[0]}}},t._l(t.transportationModes,(function(e,i){return s("option",{key:i,domProps:{value:e.value}},[t._v(t._s(e.label))])})),0)])])]),t._v(" "),s("div",{staticClass:"slds-form-element"},[s("label",{staticClass:"slds-form-element__label slds-grid"},[t._v("Routing and Schedule Optimization\n                        "),s("MATooltip",{staticClass:"slds-m-left_xx-small",attrs:{showIcon:""}},[s("div",{attrs:{slot:"content"},slot:"content"},[s("span",{staticClass:"bold"},[t._v("Fastest Shift Completion")]),t._v(": Prioritize the earliest completion of all stops in a shift.\n                                "),s("br"),t._v(" "),s("br"),t._v(" "),s("span",{staticClass:"bold"},[t._v("Least Windshield Time")]),t._v(": Prioritize the shortest amount of time spent in transit.\n                                "),s("br"),t._v(" "),s("br"),t._v(" "),s("span",{staticStyle:{"font-style":"italic"}},[t._v("Learn more about "),s("a",{attrs:{href:"https://mapanything.force.com/support/s/article/Route-and-Schedule-Optimization",target:"_blank"}},[t._v("optimization")])])])])],1),t._v(" "),s("div",{staticClass:"slds-form-element__control"},[s("div",{staticClass:"slds-select_container"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.optimizationType,expression:"optimizationType"}],staticClass:"slds-select",on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.optimizationType=e.target.multiple?s:s[0]}}},t._l(t.optimizationTypes,(function(e,i){return s("option",{key:i,domProps:{value:e.value}},[t._v(t._s(e.label))])})),0)])])]),t._v(" "),s("div",{staticClass:"slds-form-element edit-default-location"},[s("label",{staticClass:"slds-form-element__label",attrs:{for:"MAStartLocation"}},[t._v(t._s(t.startEndLocationsValues.startLocationValue))]),t._v(" "),s("div",{staticClass:"slds-grid slds-grid_vertical-align-center slds-form-element__control"},[t._m(0),t._v(" "),s("MASearch",{ref:"MASearchStart",staticClass:"search-full-width",attrs:{searches:t.searches,placeholder:t.startEndLocationsValues.placeholderValue,loadingLabel:t.$Labels.MA_Loading,noSearchResultsLabel:t.$Labels.MA_NO_RESULTS_FOUND},on:{clear:t.clearStartSearch,selected:t.setStartLocation},scopedSlots:t._u([{key:"result",fn:function(e){return s("span",{staticClass:"slds-listbox__option-text_entity slds-listbox__option slds-listbox__option_plain",attrs:{id:"listbox-option-unique-id-01"}},[t._v("\n                                "+t._s(t._f("decode")(e.result.Name))+"\n                            ")])}}]),model:{value:t.startLocation.label,callback:function(e){t.$set(t.startLocation,"label",e)},expression:"startLocation.label"}})],1)]),t._v(" "),s("div",{staticClass:"slds-form-element edit-default-location"},[s("label",{staticClass:"slds-form-element__label",attrs:{for:"MAEndLocation"}},[t._v(t._s(t.startEndLocationsValues.endLocationValue))]),t._v(" "),s("div",{staticClass:"slds-grid slds-grid_vertical-align-center slds-form-element__control"},[t._m(1),t._v(" "),s("MASearch",{ref:"MASearchEnd",staticClass:"search-full-width",attrs:{searches:t.searches,placeholder:t.startEndLocationsValues.placeholderValue,loadingLabel:t.$Labels.MA_Loading,noSearchResultsLabel:t.$Labels.MA_NO_RESULTS_FOUND},on:{clear:t.clearEndSearch,selected:t.setEndLocation},scopedSlots:t._u([{key:"result",fn:function(e){return s("span",{staticClass:"slds-listbox__option-text_entity slds-listbox__option slds-listbox__option_plain",attrs:{id:"listbox-option-unique-id-01"}},[t._v("\n                                "+t._s(t._f("decode")(e.result.Name))+"\n                            ")])}}]),model:{value:t.endLocation.label,callback:function(e){t.$set(t.endLocation,"label",e)},expression:"endLocation.label"}})],1)])]),t._v(" "),s("div",{staticClass:"slds-size_1-of-1 slds-medium-size_3-of-4 slds-large-size_7-of-12"},[s("div",{staticClass:"slds-form-element"},[s("label",{staticClass:"slds-form-element__label",attrs:{for:"RouteMode"}},[t._v(t._s(t.$Labels.MA_DEFAULT_ROUTE_TYPE))]),t._v(" "),s("div",{staticClass:"slds-form-element__control"},[s("div",{staticClass:"slds-select_container"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.routeType,expression:"routeType"}],staticClass:"slds-select timedefaults-routetype",on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.routeType=e.target.multiple?s:s[0]}}},t._l(t.routeTypes,(function(e,i){return s("option",{key:i,domProps:{value:e.value}},[t._v(t._s(e.label))])})),0)])])]),t._v(" "),s("div",{staticClass:"slds-form-element"},[s("label",{staticClass:"slds-form-element__label",attrs:{for:"select-01"}},[t._v(t._s(t.$Labels.MARoutes_Appointment_Duration))]),t._v(" "),s("div",{staticClass:"slds-form-element__control"},[s("div",{staticClass:"slds-select_container"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.stopDuration,expression:"stopDuration"}],staticClass:"timedefaults-appointmentduration slds-select",on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.stopDuration=e.target.multiple?s:s[0]}}},t._l(t.durationOptions,(function(e,i){return s("option",{key:i,domProps:{value:e.id}},[t._v(t._s(e.label))])})),0)])])])]),t._v(" "),s("div",{staticClass:"slds-form-element"},[s("div",{staticClass:"slds-form-element__control"},[s("span",{staticClass:"slds-checkbox"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.enableDuplicateStops,expression:"enableDuplicateStops"}],attrs:{id:"enable-duplicate-stops",type:"checkbox",name:"enable-duplicate-stops",value:"on"},domProps:{checked:Array.isArray(t.enableDuplicateStops)?t._i(t.enableDuplicateStops,"on")>-1:t.enableDuplicateStops},on:{change:function(e){var s=t.enableDuplicateStops,i=e.target,a=!!i.checked;if(Array.isArray(s)){var n=t._i(s,"on");i.checked?n<0&&(t.enableDuplicateStops=s.concat(["on"])):n>-1&&(t.enableDuplicateStops=s.slice(0,n).concat(s.slice(n+1)))}else t.enableDuplicateStops=a}}}),t._v(" "),s("label",{staticClass:"slds-checkbox__label",attrs:{for:"enable-duplicate-stops"}},[s("span",{staticClass:"slds-checkbox_faux"}),t._v(" "),s("span",{staticClass:"slds-form-element__label"},[t._v(t._s(t.$Labels.MA_Enable_Duplicate_Stops))])])])])])])]),t._v(" "),s("div",{staticClass:"slds-section slds-is-open"},[t._m(2),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.hasOverNightWorkingHours,expression:"hasOverNightWorkingHours"}],staticClass:"ma-message-notification slds-inline_icon_text slds-grid slds-box slds-theme_shade slds-m-around_small"},[t._m(3),t._v(" "),t._m(4)]),t._v(" "),s("div",{staticClass:"slds-grid slds-wrap slds-grid--vertical slds-p-left_small slds-p-top_small"},t._l(t.workingHours,(function(e,i){return s("div",{key:i,staticClass:"slds-grid"},[s("div",{staticClass:"slds-col"},[s("div",{staticClass:"slds-form-element"},[s("div",{staticClass:"slds-form-element__control",staticStyle:{width:"130px"}},[s("div",{staticClass:"slds-checkbox"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.workingDay,expression:"dayInfo.workingDay"}],attrs:{id:i+"_workingDay",disabled:"",type:"checkbox"},domProps:{checked:Array.isArray(e.workingDay)?t._i(e.workingDay,null)>-1:e.workingDay},on:{change:function(s){var i=e.workingDay,a=s.target,n=!!a.checked;if(Array.isArray(i)){var o=t._i(i,null);a.checked?o<0&&t.$set(e,"workingDay",i.concat([null])):o>-1&&t.$set(e,"workingDay",i.slice(0,o).concat(i.slice(o+1)))}else t.$set(e,"workingDay",n)}}}),t._v(" "),s("label",{staticClass:"slds-checkbox__label",attrs:{for:i+"_workingDay"}},[s("span",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticClass:"slds-checkbox_faux"}),t._v(" "),s("span",{staticClass:"slds-form-element__label",staticStyle:{"text-transform":"capitalize","line-height":"30px"}},[t._v(t._s(i))])])])])])]),t._v(" "),s("div",{staticClass:"slds-col"},[s("div",{staticClass:"slds-form-element inline slds-p-right_small time-based-start-select-wrap"},[s("MAPicklist",{attrs:{options:t.timeOptions,useCombobox:!0,doDetach:!0,hasNoneOption:!1,showLabel:!1,keyString:"id",valueString:"label"},on:{input:function(e){return t.selectTime(e,i,"start")}},model:{value:e.convertedStart,callback:function(s){t.$set(e,"convertedStart",s)},expression:"dayInfo.convertedStart"}})],1)]),t._v(" "),s("div",{staticClass:"slds-col"},[s("div",{staticClass:"slds-form-element inline slds-p-right_small time-based-start-select-wrap"},[s("MAPicklist",{attrs:{options:t.timeOptions,useCombobox:!0,doDetach:!0,hasNoneOption:!1,showLabel:!1,keyString:"id",valueString:"label"},on:{input:function(e){return t.selectTime(e,i,"end")}},model:{value:e.convertedEnd,callback:function(s){t.$set(e,"convertedEnd",s)},expression:"dayInfo.convertedEnd"}})],1)]),t._v(" "),e.overnight?s("div",{staticClass:"slds-col",staticStyle:{"line-height":"24px"}},[t._v("* These working hours carry into the next day.")]):t._e()])})),0)]),t._v(" "),s("div",{staticClass:"slds-section slds-is-open"},[t._m(5),t._v(" "),s("div",{staticClass:"slds-p-left_small slds-p-top_small"},[s("MACheckbox",{attrs:{noSlide:!0,title:"Include a break during your shift?"},model:{value:t.breakInformation.enabled,callback:function(e){t.$set(t.breakInformation,"enabled",e)},expression:"breakInformation.enabled"}})],1),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.breakInformation.enabled,expression:"breakInformation.enabled"}],staticClass:"slds-grid slds-wrap slds-grid--vertical slds-p-left_small slds-p-top_small"},[s("div",{staticClass:"slds-grid"},[s("div",{staticClass:"slds-col"},[s("div",{staticClass:"slds-form-element inline slds-p-right_small time-based-start-select-wrap"},[s("MAPicklist",{attrs:{options:t.timeOptions,isInvalid:t.breakInformation.startInvalid||t.breakInformation.endInvalid,useCombobox:!0,doDetach:!0,hasNoneOption:!1,showLabel:!1,keyString:"id",valueString:"label"},on:{input:function(e){return t.updateBreak(e,"start")}},model:{value:t.breakInformation.convertedStart,callback:function(e){t.$set(t.breakInformation,"convertedStart",e)},expression:"breakInformation.convertedStart"}},[s("template",{slot:"errors"},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.breakInformation.startInvalid||t.breakInformation.endInvalid,expression:"breakInformation.startInvalid || breakInformation.endInvalid"}],staticClass:"slds-form-element__error"},[t._v("\n                                    Start time must be after end time\n                                ")])])],2)],1)]),t._v(" "),s("div",{staticClass:"slds-col"},[s("div",{staticClass:"slds-form-element inline slds-p-right_small time-based-start-select-wrap"},[s("MAPicklist",{attrs:{options:t.timeOptions,useCombobox:!0,doDetach:!0,hasNoneOption:!1,showLabel:!1,keyString:"id",valueString:"label"},on:{input:function(e){return t.updateBreak(e,"end")}},model:{value:t.breakInformation.convertedEnd,callback:function(e){t.$set(t.breakInformation,"convertedEnd",e)},expression:"breakInformation.convertedEnd"}})],1)])])])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"routes-start-destination slds-p-right_small slds-p-bottom_small"},[e("span",{staticClass:"ma-icon ma-icon-priority"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"routes-end-destination slds-p-right_small slds-p-bottom_small"},[e("span",{staticClass:"ma-icon ma-icon-goal"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{staticClass:"slds-section__title slds-theme_shade"},[e("span",{staticClass:"slds-truncate slds-p-horizontal_small"},[this._v("Shift Times")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("span",{staticClass:"ma-icon ma-icon-info",staticStyle:{"font-size":"26px",width:"26px","line-height":"1",height:"26px","padding-right":"8px"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"slds-col slds-align-middle"},[e("p",[this._v("You have working hours that carry into the next day. Please double-check that times do not overlap for different days as scheduling issues may occur.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{staticClass:"slds-section__title slds-theme_shade"},[e("span",{staticClass:"slds-truncate slds-p-horizontal_small"},[this._v("Break Information")])])}],!1,null,"e9aabdb6",null).exports),C=s(551),w=s.n(C);function M(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,i)}return s}function x(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var L=window.getProperty,k={components:{draggable:w.a},data:function(){return{available:[],visible:[],pageSize:"50"}},computed:{listSettings:function(){return{visibleList:this.visible,pageSize:this.pageSize}}},watch:{listSettings:function(t){this.$emit("update-list-settings",t)}},created:function(){this.buildListViewColumns()},methods:{buildListViewColumns:function(){var t=this,e=L(window,"userSettings.PageSizeDefault",!1)||"50";this.pageSize=e;var s=function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?M(Object(s),!0).forEach((function(e){x(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):M(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({},window.MAListView.ListViewColumns),i=!0;window.userSettings.ListViewColumns?i=!1:window.userSettings.ListViewColumns=window.MAListView.DefaultListViewColumns,Object.keys(window.userSettings.ListViewColumns).forEach((function(e){var a=window.userSettings.ListViewColumns[e],n=window.MAListView.ListViewColumns[a.id];if(i?"true"===n.visible&&!1===n.deprecated:!1===n.deprecated){var o=["4","5","23","24"].includes(a.id)?"*".concat(n.label):n.label;o="24"===a.id?"*".concat(o):o,t.visible.push({id:a.id,sortColumn:n.sortColumn,isRecordProperty:n.isRecordProperty,label:o});try{delete s[a.id]}catch(t){}}})),Object.keys(s).forEach((function(e){var i=s[e],a=window.MAListView.ListViewColumns[i.id];!1===i.deprecated&&t.available.push({id:i.id,sortColumn:a.sortColumn,isRecordProperty:a.isRecordProperty,label:a.label})}))}}},A=(s(625),Object(m.a)(k,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"list-view"}},[s("div",{staticClass:"slds-grid slds-grid_align-spread"},[s("div",[s("div",{staticClass:"slds-text-heading_medium"},[t._v(t._s(t.$Labels.MA_COLUMN_VISIBILITY_AND_ORDER))]),t._v(" "),s("div",{staticClass:"slds-text-title slds-m-bottom_small"},[t._v(t._s(t.$Labels.MA_DRAG_AND_DROP_TO_ADDREMOVE_FROM_VISIBLE_COLUMN))])])]),t._v(" "),s("div",{staticClass:"slds-dueling-list slds-form-element__control"},[s("div",{staticClass:"slds-assistive-text",attrs:{id:"drag-live-region"}}),t._v(" "),s("div",{staticClass:"slds-assistive-text",attrs:{id:"option-drag-label"}},[t._v("Press space bar when on an item, to move it within the list. CMD plus left and right arrow keys, to move items between lists.")]),t._v(" "),s("div",{staticClass:"slds-dueling-list__column slds-p-right_small"},[s("span",{staticClass:"slds-form-element__label",attrs:{id:"label-3"}},[t._v(t._s(t.$Labels.MA_AVAILABLE))]),t._v(" "),s("div",{staticClass:"slds-dueling-list__options lvs-drag-col"},[s("draggable",{staticClass:"list-group slds-listbox slds-listbox_vertical",attrs:{id:"AvailableListViewColumns",list:t.available,options:{group:"listColumns"}}},t._l(t.available,(function(e,i){return s("div",{key:i,staticClass:"settings-listview-column slds-listbox__option slds-listbox__option_plain slds-media slds-grid_vertical-align-center",attrs:{"data-id":e.id,label:e.label,isRecordProperty:e.isRecordProperty,sortColumn:e.sortColumn}},[t._v("\n                        "+t._s(t._f("decode")(e.label))+" "),s("span",{staticClass:"ma-icon ma-icon-move slds-m-left_x-small"})])})),0)],1)]),t._v(" "),s("div",{staticClass:"slds-dueling-list__column slds-p-left_small"},[s("span",{staticClass:"slds-form-element__label",attrs:{id:"label-4"}},[t._v(t._s(t.$Labels.VISIBLE))]),t._v(" "),s("div",{staticClass:"slds-dueling-list__options lvs-drag-col"},[s("draggable",{staticClass:"list-group slds-listbox slds-listbox_vertical",attrs:{id:"VisibleListViewColumns",list:t.visible,options:{group:"listColumns"}}},t._l(t.visible,(function(e,i){return s("div",{key:i,staticClass:"settings-listview-column slds-listbox__option slds-listbox__option_plain slds-media slds-grid_vertical-align-center",attrs:{"data-id":e.id,label:e.label,isRecordProperty:e.isRecordProperty,sortColumn:e.sortColumn}},[t._v("\n                        "+t._s(t._f("decode")(e.label))+" "),s("span",{staticClass:"ma-icon ma-icon-move slds-m-left_x-small"})])})),0)],1)])]),t._v(" "),s("div",{staticClass:"slds-grid"},[s("div",{staticClass:"slds-form-element"},[s("label",{staticClass:"slds-form-element__label",attrs:{for:"PageSizeDefault"}},[t._v(t._s(t.$Labels.MA_DEFAULT_PAGE_SIZE))]),t._v(" "),s("div",{staticClass:"slds-form-element__control"},[s("div",{staticClass:"slds-select_container"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.pageSize,expression:"pageSize"}],staticClass:"slds-select",attrs:{id:"PageSizeDefault"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.pageSize=e.target.multiple?s:s[0]}}},[s("option",{attrs:{value:"10"}},[t._v("10")]),t._v(" "),s("option",{attrs:{value:"20"}},[t._v("20")]),t._v(" "),s("option",{attrs:{value:"30"}},[t._v("30")]),t._v(" "),s("option",{attrs:{value:"40"}},[t._v("40")]),t._v(" "),s("option",{attrs:{value:"50"}},[t._v("50")])])])])])]),t._v(" "),s("div",{staticClass:"slds-p-top_small"},[s("p",[t._v("*"+t._s(t.$Labels.MA_THESE_COLUMNS_WILL_ONLY_APPEAR_IN_THE_SELECTED_TAB)+".")]),t._v(" "),s("p",[t._v("**"+t._s(t.$Labels.MA_THESE_COLUMNS_ONLY_APPEAR_IN_THE_SELECTED_TAB_WHEN_MULTIPLE)+".")])])])}),[],!1,null,"e76cb628",null).exports);function T(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,i)}return s}function D(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?T(Object(s),!0).forEach((function(e){P(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):T(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}function P(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var I={name:"SettingsMain",components:{MAModal:a.a,MATabs:n.a,MATab:o.a,General:v,RoutesSchedule:S,ListSettings:A,About:function(){return D(D({},Object(r.a)()),{component:s.e(5).then(s.bind(null,636))})}},props:{activeTab:{type:String,default:"generalTab"}},data:function(){return{isInvalidRadius:!1,isLoading:!1,activeTabId:"generalTab",generalSettings:{},routeSettings:{},listSettings:{},defaultGeneralSettings:{proximitySettings:{DefaultProximityType:"Circle",circleRadius:"50",circleRadiusUnits:"MILES",radius:"50",travelDistanceRadius:"50",travelDistanceRadiusUnits:"MILES",travelTimeRadiusMinutes:"",travelTimeRadiusHours:""},distanceUnit:"mi",mobilePlotLimit:1e3,recallMobileSaveState:!1,invertProximity:!1,mapItProximity:!1},defaultRouteSettings:{transportationMode:"driving",startLocation:{label:"",value:""},endLocation:{label:"",value:""},enableDuplicateStops:!1,routeType:"Standard",routeStart:"9:00 am",routeEnd:"5:00 pm",stopDuration:"0 hr, 30 min",unit:"mi"}}},computed:{MAVersion:function(){return window.MASystem.MapAnythingInfo.version}},created:function(){this.activeTabId=this.activeTab},methods:{getGUID:i.c,checkValidRadius:function(t){var e=Number(t);this.isInvalidRadius=Number.isNaN(e)||e<0||""===t},updateGeneralSettings:function(t){this.generalSettings=t},updateRouteSettings:function(t){this.routeSettings=t},updateListSettings:function(t){this.listSettings=t},save:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.isLoading=!0;var s=this.buildSettings(e),a={ajaxResource:"MAUserAJAXResources",removeMobileState:!this.generalSettings.recallMobileSaveState,action:"store_ma_settings",id:this.$User.Id,jsonstring:JSON.stringify(s),DefaultProximityRadius:this.generalSettings.proximitySettings.radius,PreferredTypeOfMeasurement:this.generalSettings.proximitySettings.unit};Object(i.b)("sma.MARemoteFunctions.processAJAXRequest",[a]).then((function(e){e&&e.success?(t.updateGlobalSettingsAfterSave(s),t.close(),t.$nextTick((function(){t.$bus.$emit("user-settings-updated")})),window.MAToastMessages.showSuccess({message:t.$Labels.MA_Success}),window.MAListView.isVisible()&&window.MAListView.ConstructAllTabs()):(console.warn(e),window.MAToastMessages.showError({message:"Error saving settings...",closeButton:!0,timeOut:5e3}))})).catch((function(t){console.warn(t),window.MAToastMessages.showError({message:"Error saving settings...",closeButton:!0,timeOut:5e3})})).finally((function(){t.isLoading=!1}))},updateGlobalSettingsAfterSave:function(t){window.userSettings=D(D({},window.userSettings),t)},buildSettings:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this.generalSettings,s=this.routeSettings;t&&(e=this.defaultGeneralSettings,s=this.defaultRouteSettings);var i={MapItProximityOn:e.mapItProximity,InvertProximity:e.invertProximity,mobilePlotLimit:e.mobilePlotLimit,recallMobileSaveState:e.recallMobileSaveState},a=window.userSettings.PlotOnLoadQueries,n=void 0===a?[]:a;i.PlotOnLoadQueries=n,i.defaultProximitySettings=e.proximitySettings;var o=s,r=o.startLocation,l=void 0===r?{}:r,d=o.endLocation,c=void 0===d?{}:d,u=o.workingHours,m=void 0===u?{}:u,v=o.breakInformation,p=void 0===v?{}:v,_=o.transportationMode,b=o.routeType,f=o.stopDuration,g=o.enableDuplicateStops,h=o.enableCurrentLocationTime,y=o.optimizationType;if(i.RouteDefaults={mode:_,optimizationType:y,driveProfile:_,unit:e.distanceUnit,startLocationId:""===l.label?"":l.value||l.id,startLocationLabel:l.label,endLocationId:""===c.label?"":c.value||c.id,endLocationLabel:c.label,type:b,duration:f,displayTrafficTime:!0,enabledDuplicateStops:g,enableCurrentLocationTime:h,enableDraggableWaypoints:!1},t||!p.enabled?i.floatingBreak=null:p.enabled&&(i.floatingBreak={endHour:p.endHour,endMinute:p.endMinute,startHour:p.startHour,startMinute:p.startMinute}),t){var S={},C=["monday","tuesday","wednesday","thursday","friday","saturday","sunday"];C.forEach((function(t){S[t]={startHour:9,startMinute:0,endHour:17,endMinute:0,overnight:!1,workingDay:!0}})),i.workingHours=S}else{var w=Object.keys(m),M={};w.forEach((function(t){var e=m[t];M[t]={startHour:Number(e.startHour),startMinute:Number(e.startMinute),endHour:Number(e.endHour),endMinute:Number(e.endMinute),overnight:e.overnight,workingDay:!0===e.workingDay}})),i.workingHours=M}if(i.ListViewColumns={},t)i.ListViewColumns=window.MAListView.DefaultListViewColumns,i.PageSizeDefault="50";else{var x=this.listSettings,L=x.pageSize,k=void 0===L?"50":L,A=x.visibleList,T=void 0===A?[]:A;T.forEach((function(t,e){i.ListViewColumns[e]={id:t.id}})),i.PageSizeDefault=k}return i},close:function(){this.$emit("close")},updateTab:function(t){this.$emit("update:activeTab",t),this.activeTabId=t}}},O=(s(626),Object(m.a)(I,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("MAModal",{attrs:{id:"maSettings",title:t.$Labels.MASettings_Settings,closeLabel:t.$Labels.MA_Close,isLoading:t.isLoading,isLarge:""},on:{close:function(e){return t.$emit("close")}}},[s("div",{attrs:{slot:"content",id:"settings-tabs"},slot:"content"},[s("MATabs",{staticClass:"content",attrs:{isVertical:!0,activeTabId:t.activeTabId},on:{changed:t.updateTab}},[s("MATab",{attrs:{id:"generalTab",renderImmediately:!0,title:t.$Labels.MASettings_General}},[s("General",{on:{"radius-updated":t.checkValidRadius,"update-general-settings":t.updateGeneralSettings}})],1),t._v(" "),s("MATab",{attrs:{id:"routesScheduleTab",renderImmediately:!0,title:t.$Labels.MASettings_Route_Schedule}},[s("RoutesSchedule",{on:{"update-route-settings":t.updateRouteSettings}})],1),t._v(" "),s("MATab",{attrs:{id:"listTab",renderImmediately:!0,title:t.$Labels.MA_List}},[s("ListSettings",{on:{"update-list-settings":t.updateListSettings}})],1),t._v(" "),s("MATab",{attrs:{id:"aboutTab",renderImmediately:!0,title:t.$Labels.MASettings_About}},["aboutTab"===t.activeTabId?s("About"):t._e()],1)],1)],1),t._v(" "),s("div",{staticClass:"slds-grid slds-grid_vertical-align-center",attrs:{slot:"footer"},slot:"footer"},[s("div",{staticClass:"slds-grid slds-grid_vertical-align-center"},[s("div",{staticClass:"slds-p-horizontal_xx-small"},[t._v("Version "+t._s(t.MAVersion))]),t._v(" "),s("div",{staticClass:"slds-p-horizontal_x-small"},[s("a",{staticClass:"global-settings-doc slds-button slds-p-horizontal_small",attrs:{href:"https://mapanything.force.com/support/s/",target:"_blank"}},[s("span",{staticClass:"slds-button__icon slds-button__icon_left ma-icon ma-icon-link"}),t._v("\n                    "+t._s(t.$Labels.MA_Documentation)+"\n                ")])]),t._v(" "),s("div",{staticClass:"slds-p-horizontal_x-small"},[s("div",{staticClass:"resetAll-button-container"},[s("a",{staticClass:"slds-button",on:{click:function(e){return t.save(!0)}}},[t._v(t._s(t.$Labels.MA_RESET_ALL_SETTINGS_TO_DEFAULT))])])])]),t._v(" "),s("div",{staticClass:"slds-col_bump-left"},[s("button",{staticClass:"slds-button slds-button_neutral",on:{click:t.close}},[t._v(t._s(t.$Labels.MA_Cancel))]),t._v(" "),s("button",{staticClass:"slds-button slds-button_brand",attrs:{disabled:t.isInvalidRadius},on:{click:function(e){return t.save(!1)}}},[t._v(t._s(t.$Labels.MA_Save))])])])])}),[],!1,null,"5aaa8aa8",null));e.default=O.exports}}]);