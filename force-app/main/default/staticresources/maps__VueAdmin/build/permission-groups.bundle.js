(globalThis.webpackChunkmaps_desktop=globalThis.webpackChunkmaps_desktop||[]).push([[4615],{7356:(e,t,s)=>{"use strict";s.d(t,{C:()=>o});var a=s(3088);const{MAToastMessages:i}=window;function l(e){i.showError({position:"toast-bottom-right",message:"Validation Error",subMessage:e,timeOut:6e3})}const o=async(e,t,s,o)=>{const r=function(e){if(!e.Name)return l("You must provide a name for your Settings Group."),!1;if("default"===e.Name.toLowerCase())return l(`Validation Error. Cannot name group '${e.Name}'.`),!1;const t={};t["Max Query Size"]=e.maps__MaxQuerySize__c,t["Max Query Size External"]=e.maps__MaxQuerySizeExternal__c,t["Max Export Size"]=e.maps__MaxExportSize__c,t["Mobile Query Size"]=e.maps__MobileQuerySize__c;for(const e of Object.keys(t))if(t[e]&&!Number(t[e]))return l(`${e} must be a number.`),!1;const s=Number(t["Max Query Size External"]);if(Number.isNaN(s)||s<1||s>2e3)return l("Record limit for External Objects must be between 1 and 2000"),!1;const{defaultStartLocation:a}=e.maps__DefaultValues__c,{defaultEndLocation:i}=e.maps__DefaultValues__c;return a.overridable||null!=a.value.id?i.overridable||null!=i.value.id?!e.hasOverNightWorkingHours||(l("Please check your shift start and end times."),!1):(l("Default End Location required if users are not allowed to override value."),!1):(l("Default Start Location required if users are not allowed to override value."),!1)}(e);if(!r)return!1;try{delete e.hasOverNightWorkingHours;const l=JSON.parse(JSON.stringify(e));l.maps__DefaultValues__c=JSON.stringify(l.maps__DefaultValues__c);const r=[l,Array.from(t),Array.from(s)],{success:n,settingsGroup:_,error:u}=await(0,a.wX)("maps.UserAJAXResources.saveSettingsGroupAssignment",r);return n?(i.showSuccess({message:o?`Saved Changes for ${e.Name}`:"Permission Group Created",timeOut:6e3}),_):(i.showError({message:u,timeOut:4e3}),console.error(u),!1)}catch(e){return i.showError({message:`Error. ${e}.`,timeOut:4e3}),console.error(e),!1}}},2423:(e,t,s)=>{"use strict";s.d(t,{Z:()=>l});var a=function(){};a.prototype.setAction=function(e){if(!e||"string"!=typeof e)throw new i("Parameter is not a string.");return this.action=e,this},a.prototype.setErrorHandler=function(e){if("function"!=typeof e)throw new i("Parameter is not a function.");return this.errorHandler=e,this},a.prototype.setTimeout=function(e){if(!e||"number"!=typeof e||e==1/0)throw new i("timeout param is not a number.");if(e<1)throw new i("Minimum allowed timeout is 1 second.");if(e>120)throw new i("Max allowed timeout is 120 seconds.");return this.timeout=1e3*e,this},a.prototype.invoke=function(e,t,s){if(!e||!Array.isArray(e))throw new i("Params parameter is not an array.");if(t){if("function"!=typeof t)throw new i("Callback parameter is not a function.");this.callback=t}if(s&&"object"!=typeof s)throw new i("Config param is not an object.");(s=s||{}).timeout=this.timeout||s.timeout,e.unshift(this.action),e.push(this._handleResult.bind(this)),e.push(s),Visualforce.remoting.Manager.invokeAction.apply(Visualforce.remoting.Manager,e)},a.prototype._handleResult=function(e,t){t.status?this.callback(e):this.errorHandler&&this.errorHandler.call(this.errorHandler,e,t)};var i=function(e){this.message=e,this.name="RemoteActionException"};const l=a},3469:(e,t,s)=>{e.exports=s.p+"images/0d9cf6b7a777f5765f78f2b96fd4459a.svg"},1178:(e,t,s)=>{e.exports=s.p+"images/23d799632a36a5c37f84df9eec780f41.svg"},6117:(e,t,s)=>{e.exports=s.p+"images/b5d29c406d5525dc34a1e1966a438771.svg"},5461:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>H});var a=s(5658),i=s(5908),l=s.n(i),o=s(5602),r=s(2766);class n{static getDefaultSettingsGroup(){return(()=>{const e={showRoutesTabDesktop:{value:!0},showScheduleTabDesktop:{value:!0},showRoutesTabMobile:{value:!0},showScheduleTabMobile:{value:!0},units:{value:"mi",overridable:!0},defaultMapTile:{overridable:!0},plotInVisibleArea:{value:!0,overridable:!0},plotOnLoadLayers:{value:[]},defaultProximityType:{value:"Circle",overridable:!0},defaultProximityRadius:{value:50},defaultProximityUnits:{value:"MILES"},defaultProximityHours:{value:0},defaultProximityMins:{value:0},invertProximity:{value:!1,overridable:!0},allowBadAddressExport:{value:!0},allowRoutesEmailed:{value:!0},defaultTransportationMode:{value:"driving",overridable:!0},optimizationMethod:{value:"fastest shift completion",overridable:!0},defaultStartLocation:{value:{label:null,id:null},overridable:!0},defaultEndLocation:{value:{label:null,id:null},overridable:!0},stopEventDuration:{value:"0 hr, 30 min",overridable:!0},routeType:{value:"Standard",overridable:!0},enableDuplicateStops:{value:!0,overridable:!0},schedule:{sunday:{value:{startTime:"9:00 am",endTime:"5:00 pm"},overridable:!0},monday:{value:{startTime:"9:00 am",endTime:"5:00 pm"},overridable:!0},tuesday:{value:{startTime:"9:00 am",endTime:"5:00 pm"},overridable:!0},wednesday:{value:{startTime:"9:00 am",endTime:"5:00 pm"},overridable:!0},thursday:{value:{startTime:"9:00 am",endTime:"5:00 pm"},overridable:!0},friday:{value:{startTime:"9:00 am",endTime:"5:00 pm"},overridable:!0},saturday:{value:{startTime:"9:00 am",endTime:"5:00 pm"},overridable:!0}},includeBreak:{value:!1,overridable:!0},shiftBreakHours:{value:{startTime:"11:00 am",endTime:"12:00 pm"},overridable:!0},defaultPageSize:{value:50,overridable:!0},columnsConfig:{value:{visible:[{id:"6",sortColumn:"street",isRecordProperty:!0,label:window.MASystem.Labels.MA_Street},{id:"7",sortColumn:"city",isRecordProperty:!0,label:window.MASystem.Labels.MA_City},{id:"8",sortColumn:"state",isRecordProperty:!0,label:window.MASystem.Labels.MA_State},{id:"9",sortColumn:"zip",isRecordProperty:!0,label:window.MASystem.Labels.MA_Postal_Code},{id:"10",sortColumn:"country",isRecordProperty:!0,label:window.MASystem.Labels.MA_Country},{id:"11",sortColumn:"verifiedLongitude",isRecordProperty:!0,label:window.MASystem.Labels.MA_Longitude},{id:"12",sortColumn:"verifiedLatitude",isRecordProperty:!0,label:window.MASystem.Labels.MA_Latitude}],available:[{id:"1",sortColumn:null,isRecordProperty:!1,label:window.MASystem.Labels.MA_CHECKBOX},{id:"2",sortColumn:null,isRecordProperty:!1,label:window.MASystem.Labels.MA_Marker},{id:"3",sortColumn:null,isRecordProperty:!1,label:window.MASystem.Labels.ActionFramework_Log_a_Call},{id:"4",sortColumn:"driveDistanceValue",isRecordProperty:!1,label:window.MASystem.Labels.Permission_Allow_Drive_Distance_Option},{id:"5",sortColumn:"driveDurationValue",isRecordProperty:!1,label:window.MASystem.Labels.Permission_Allow_Drive_Time_Option},{id:"13",sortColumn:0,isRecordProperty:!0,label:(0,a.N4)(window.MASystem.Labels.Field_Number,[1])},{id:"14",sortColumn:1,isRecordProperty:!0,label:(0,a.N4)(window.MASystem.Labels.Field_Number,[2])},{id:"15",sortColumn:2,isRecordProperty:!0,label:(0,a.N4)(window.MASystem.Labels.Field_Number,[3])},{id:"16",sortColumn:3,isRecordProperty:!0,label:(0,a.N4)(window.MASystem.Labels.Field_Number,[4])},{id:"17",sortColumn:4,isRecordProperty:!0,label:(0,a.N4)(window.MASystem.Labels.Field_Number,[5])},{id:"18",sortColumn:5,isRecordProperty:!0,label:(0,a.N4)(window.MASystem.Labels.Field_Number,[6])},{id:"19",sortColumn:6,isRecordProperty:!0,label:(0,a.N4)(window.MASystem.Labels.Field_Number,[7])},{id:"20",sortColumn:7,isRecordProperty:!0,label:(0,a.N4)(window.MASystem.Labels.Field_Number,[8])},{id:"21",sortColumn:"FormattedAddress_MA",isRecordProperty:!0,label:window.MASystem.Labels.MA_Address},{id:"22",sortColumn:null,isRecordProperty:!0,label:window.MASystem.Labels.MA_Position},{id:"23",sortColumn:"straightDistanceValue",isRecordProperty:!1,label:window.MASystem.Labels.Permission_Group_Distance_Option},{id:"24",sortColumn:null,isRecordProperty:!1,label:window.MASystem.Labels.Permission_Group_Query_Option},{id:"25",sortColumn:"device.timestamp",isRecordProperty:!0,label:window.MASystem.Labels.MA_LAST_REPORT_DATE},{id:"26",sortColumn:"device.timestamp",isRecordProperty:!0,label:window.MASystem.Labels.MA_LAST_REPORT_TIME},{id:"28",sortColumn:"device.timestamp",isRecordProperty:!0,label:window.MASystem.Labels.MA_LAST_SPEED},{id:"29",sortColumn:"",isRecordProperty:!1,label:window.MASystem.Labels.MA_LAYER_TYPE},{id:"30",sortColumn:8,isRecordProperty:!0,label:(0,a.N4)(window.MASystem.Labels.Field_Number,[9])},{id:"31",sortColumn:9,isRecordProperty:!0,label:(0,a.N4)(window.MASystem.Labels.Field_Number,[10])},{id:"32",sortColumn:10,isRecordProperty:!0,label:(0,a.N4)(window.MASystem.Labels.Field_Number,[11])},{id:"33",sortColumn:11,isRecordProperty:!0,label:(0,a.N4)(window.MASystem.Labels.Field_Number,[12])},{id:"34",sortColumn:12,isRecordProperty:!0,label:(0,a.N4)(window.MASystem.Labels.Field_Number,[13])},{id:"35",sortColumn:13,isRecordProperty:!0,label:(0,a.N4)(window.MASystem.Labels.Field_Number,[14])},{id:"36",sortColumn:14,isRecordProperty:!0,label:(0,a.N4)(window.MASystem.Labels.Field_Number,[15])}]},overridable:!0},maxQueryMobile:{overridable:!0},myLocationZoomLevel:{value:10},retainMobileState:{value:!1,overridable:!0},currentTimeAndLoc:{value:!0,overridable:!0},mapItProximity:{value:!1,overridable:!0},enableTraffic:{value:!0},mobileFolderStructure:{value:"showHierarchy"},objectSearchLanguage:{value:"soql"}};return Object.values(e).forEach((e=>{e.errorMsg=null})),JSON.stringify(e)})()}}function _(e,t){return null!=e?e:t}function u(e){return e||(e={}),{Id:e.Id,Name:_(e.Name,""),maps__Description__c:_(e.maps__Description__c,window.MASystem.Labels.Permission_Group_Custom_Permission_Group_Placeholder),maps__AllowExports__c:_(e.maps__AllowExports__c,!1),maps__EditableTooltips__c:_(e.maps__EditableTooltips__c,!0),maps__FolderAdmin__c:_(e.maps__FolderAdmin__c,!1),maps__HidePersonalFolder__c:_(e.maps__HidePersonalFolder__c,!1),maps__SelfHostedDataUser__c:_(e.maps__SelfHostedDataUser__c,!1),maps__ShowUserFolders__c:_(e.maps__ShowUserFolders__c,!1),maps__ShowWeather__c:_(e.maps__ShowWeather__c,!0),maps__TerritoryLayerCreation__c:_(e.maps__TerritoryLayerCreation__c,!1),maps__MaxQuerySize__c:_(e.maps__MaxQuerySize__c,5e3),maps__MaxQuerySizeExternal__c:_(e.maps__MaxQuerySizeExternal__c,2e3),maps__MobileQuerySize__c:_(e.maps__MobileQuerySize__c,1e3),maps__MaxExportSize__c:_(e.maps__MaxExportSize__c,5e3),maps__ButtonSet__c:_(e.maps__ButtonSet__c,""),maps__CreateDataLayers__c:_(e.maps__CreateDataLayers__c,!0),maps__EnableArcGIS__c:_(e.maps__EnableArcGIS__c,!1),maps__LiveMobileTracking__c:_(e.maps__LiveMobileTracking__c,!1),maps__DefaultMapTile__c:_(e.maps__DefaultMapTile__c,window.MASystem.Labels.Permission_Group_Roadmap_ESRI),maps__DataRegion__c:_(e.maps__DataRegion__c,"North America"),maps__AutoCheckOut__c:_(e.maps__AutoCheckOut__c,!1),maps__ObjectSearchLanguage__c:_(e.maps__ObjectSearchLanguage__c,"SOQL"),maps__DefaultValues__c:JSON.parse(_(e.maps__DefaultValues__c,n.getDefaultSettingsGroup()))}}function d(e){const t=JSON.parse(n.getDefaultSettingsGroup()),s={...u(e),Id:e.Id};return Array.from(Object.keys(t)).forEach((e=>{void 0===s.maps__DefaultValues__c[e]&&(s.maps__DefaultValues__c[e]=t[e])})),s.hasOverNightWorkingHours=!1,s}const c={state:{selectedGroup:window.MASystem.Labels.Permission_Group_All_Permission_Groups,toggle:{readOnlyMode:!0,showSearchModal:!1,showNewGroupModal:!1,saveOnCreate:!1,createMode:"new",showPermissionGroupView:!1,refresh:!1,searchType:"Profile"},settingsGroup:d,entityIdsForInsert:new Set,assignmentIdsForDelete:new Set,config:{groups:[],assignments:[],filterTerm:null,showDeleteWarning:!1,groupIdToDelete:null}},mutations:{setSettingsGroup(e,t){e.settingsGroup=d(t),e.selectedGroup=t.Name},resetSettingsGroup(e){e.settingsGroup=u(),e.entityIdsForInsert.clear(),e.assignmentIdsForDelete.clear(),e.toggle.readOnlyMode=!0,e.selectedGroup=window.MASystem.Labels.Permission_Group_All_Permission_Groups},resetAssignmentSelections(e){e.entityIdsForInsert.clear(),e.assignmentIdsForDelete.clear()}}};var p=s(7356);const m={components:{Modal:r.u_,TextInput:r.oi},data:()=>({isLoading:!1,groupName:"",groupDescription:""}),computed:{...(0,i.mapState)({store__toggle:"toggle",store__settingsGroup:"settingsGroup",store__entityIdsForInsert:"entityIdsForInsert",store__assignmentIdsForDelete:"assignmentIdsForDelete"}),isDefaultGroup(){return"Default"===this.store__settingsGroup.Name&&"defaultSettings"===this.store__settingsGroup.Id},title(){let e;return"new"===this.store__toggle.createMode&&(e=this.$Labels.Permission_Group_New_Permission_Group_Header),"clone"===this.store__toggle.createMode&&(e=this.$Labels.Permission_Group_Clone_Permission_Group_Header),e}},created(){"new"===this.store__toggle.createMode&&(this.groupName=this.store__settingsGroup.Name,this.groupDescription=this.store__settingsGroup.maps__Description__c),"clone"===this.store__toggle.createMode&&(this.groupName=(0,a.N4)(this.$Labels.Permission_Group_Copy_Of_Name_Label,[this.store__settingsGroup.Name]),this.groupDescription=this.store__settingsGroup.maps__Description__c)},methods:{async createNewGroup(e){this.store__settingsGroup.Name=this.groupName,this.store__settingsGroup.maps__Description__c=this.groupDescription,"clone"===this.store__toggle.createMode&&delete this.store__settingsGroup.Id,this.isLoading=!0;const t=await(0,p.C)(this.store__settingsGroup,this.store__entityIdsForInsert,this.store__assignmentIdsForDelete,!0);t&&(this.store__settingsGroup.Id=t.Id,this.store__toggle.showPermissionGroupView=!!e,this.store__toggle.showNewGroupModal=!1),this.isLoading=!1}}};var b=s(1900);const g=(0,b.Z)(m,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("Modal",{attrs:{title:e.title,doDetach:!0,isLoading:e.isLoading},on:{close:function(t){e.store__toggle.showNewGroupModal=!1}}},[s("div",{staticClass:"slds-text-body_regular slds-var-p-around_small",attrs:{slot:"content"},slot:"content"},[s("div",{staticClass:"slds-grid"},[s("TextInput",{staticClass:"slds-col slds-m-right_small",attrs:{id:"text-input-Name",required:!0,type:"text",labels:{name:e.$Labels.Permission_Group_Name_Label}},model:{value:e.groupName,callback:function(t){e.groupName=t},expression:"groupName"}}),e._v(" "),s("TextInput",{staticClass:"slds-col",attrs:{id:"text-input-id-1",type:"text",useTextArea:!0,labels:{name:e.$Labels.Permission_Group_Description,placeholder:e.$Labels.Permission_Group_Describe_Permission_Group_Text}},model:{value:e.groupDescription,callback:function(t){e.groupDescription=t},expression:"groupDescription"}})],1)]),e._v(" "),s("div",{attrs:{slot:"footer"},slot:"footer"},[s("button",{staticClass:"slds-button slds-button_neutral",on:{click:function(t){e.store__toggle.showNewGroupModal=!1}}},[e._v("\n            "+e._s(e.$Labels.MA_Cancel)+"\n        ")]),e._v(" "),"clone"===e.store__toggle.createMode?s("button",{staticClass:"slds-button slds-button_neutral",on:{click:function(t){return e.createNewGroup(!1)}}},[e._v("\n            "+e._s(e.$Labels.MA_Clone)+"\n        ")]):e._e(),e._v(" "),s("button",{staticClass:"slds-button slds-button_brand",on:{click:function(t){return e.createNewGroup(!0)}}},[e._v("\n            "+e._s("new"===e.store__toggle.createMode?e.$Labels.MA_Save:e.$Labels.Permission_Group_Clone_And_View_Button)+"\n        ")])])])}),[],!1,null,null,null).exports;var h=s(2423);class v{static get actualRouteDefaults(){return{duration:"0 hr, 30 min",end:"5:00 pm",start:"9:00 am",type:"Standard",endLocationLabel:"",endLocationId:"",startLocationLabel:"",startLocationId:"",unit:"mi",driveProfile:"driving",mode:"driving",displayTrafficTime:!0,enableDraggableWaypoints:!1,enableDuplicateStops:!0,workingHours:{monday:{endHour:17,endMinute:0,overnight:!1,startHour:9,startMinute:0,workingDay:!0},tuesday:{endHour:17,endMinute:0,overnight:!1,startHour:9,startMinute:0,workingDay:!0},wednesday:{endHour:17,endMinute:0,overnight:!1,startHour:9,startMinute:0,workingDay:!0},thursday:{endHour:17,endMinute:0,overnight:!1,startHour:9,startMinute:0,workingDay:!0},friday:{endHour:17,endMinute:0,overnight:!1,startHour:9,startMinute:0,workingDay:!0},saturday:{endHour:17,endMinute:0,overnight:!1,startHour:9,startMinute:0,workingDay:!0},sunday:{endHour:17,endMinute:0,overnight:!1,startHour:9,startMinute:0,workingDay:!0}}}}static get routeDefaults(){return{...window.getProperty(window.userSettings||{},"RouteDefaults",!1)||v.actualRouteDefaults,workingHours:window.getProperty(window.userSettings||{},"workingHours",!1)||{}}}static get startLocationId(){return this.routeDefaults.startLocationId}static get endLocationId(){return this.routeDefaults.endLocationId}static get isTrafficEnabled(){return!0}static get enabledDuplicateStops(){return this.routeDefaults.enabledDuplicateStops}static get units(){return this.routeDefaults.unit}static get mode(){return this.routeDefaults.mode}static get start(){return this.routeDefaults.start}static get end(){return this.routeDefaults.end}static get duration(){return window.getWaypointTimeOptions(this.defaultOptions).duration}static get timeBasedOptions(){const e=this.routeDefaults;return{Enabled:"TimeBased"===e.type,Start:e.start,End:e.end}}static get defaultOptions(){return{TimeBasedOptions:{Start:window.MASystem.Labels.MA_Set_Start,Duration:this.routeDefaults.duration},LockType:"unlocked",DraggablePoint:!1}}static get defaultStartEndOptions(){return{TimeBasedOptions:{Start:window.MASystem.Labels.MA_Set_Start,Duration:"0 hr, 0 min"},LockType:"unlocked",DraggablePoint:!1}}static getWorkingHoursByDayString(e){return window.userSettings.workingHours[e]}}const f=new Map([["esri_street","World_Street_Map"],["esri_topography","World_Topo_Map"],["esri_imagery","World_Imagery"]]);class y{static getEsriTileUrl(e){return`https://services.arcgisonline.com/ArcGIS/rest/services/${f.has(e)?f.get(e):"World_Street_Map"}/MapServer/tile/{zoom}/{longitude}/{latitude}`}static addTileOverlay(e,t){const s=new window.google.maps.ImageMapType({name:e,maxZoom:18,tileSize:new window.google.maps.Size(256,256),opacity:.8,getTileUrl:t});window.MA.map.overlayMapTypes.push(s)}static removeTileOverlay(e){window.MA.Map.removeOverlay(e)}static removeBaseEsriAttribution(){const e=document.getElementById("maps__attributions");null!=e&&e.remove()}static getAttributionEl(e,t){const s=document.getElementById("maps__attributions");if(s)return"function"==typeof t&&t(s),s;const a=document.createElement("div");a.className="slds-truncate",a.id="maps__attributions",a.addEventListener("click",(function(){a.className=""===a.className?a.className="slds-truncate":""}));const i=document.getElementById(e);if(!i)throw new Error(`Could not locate map div given id of ${e}`);return i.prepend(a),"function"==typeof t&&t(a),a}static addBaseEsriAttribution(e,t,s){if(!String(t).trim().startsWith("esri_"))return;const a=`https://services.arcgisonline.com/arcgis/rest/services/${f.has(t)?f.get(t):"World_Street_Map"}/MapServer/0?f=pjson`;s.get(a).then((t=>{"object"==typeof t.data&&(y.getAttributionEl(e).innerText=t.data.copyrightText,window.ArcGIS&&(window.ArcGIS.baseEsriAttribution=t.data.copyrightText,window.ArcGIS.plotHelpers.showCopyrightText()))})).catch((e=>{console.log(e)}))}static debugRemotingData(e,t,s){const{MASystem:a={}}=window;if(a.Debug){console.groupCollapsed(`Debug: ${e}`),console.log("----Start Request----");for(let e=0;e<t.length;e++){const s=t[e],a=typeof s;if("string"===a)console.log(s);else if("object"===a){console.log("request",s);const e=Object.keys(s);for(let t=0;t<e.length;t++){const a=e[t],i=s[a];console.log(a,i)}}}console.log("----Start Response----");const a=Object.keys(s);for(let e=0;e<a.length;e++){const t=a[e],i=s[t];console.log(t,i)}console.groupEnd()}}}const{MARemoting:G,MA:L,removeNamespace:w,moment:M,autoCompleteSearch:x}=window,P="Failed to delete route.",T="Failed to get route.",S="Address geocode failed";var D=s(9980);const C={name:"MultiSelectPicklist",components:{draggable:s.n(D)()},computed:{isDefaultGroup(){return"Default"===this.store__settingsGroup.Name&&"defaultSettings"===this.store__settingsGroup.Id},...(0,i.mapState)({store__settingsGroup:"settingsGroup"})}},A=(0,b.Z)(C,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"slds-form-element__control"},[s("div",{staticClass:"slds-dueling-list slds-form-element__control"},[s("div",{staticClass:"slds-assistive-text",attrs:{id:"drag-live-region"}}),e._v(" "),s("div",{staticClass:"slds-assistive-text",attrs:{id:"option-drag-label"}},[e._v("\n            Press space bar when on an item, to move it within the list. CMD plus left and right arrow keys, to move items between lists.\n        ")]),e._v(" "),s("div",{staticClass:"slds-dueling-list__column slds-p-right_small"},[s("span",{staticClass:"slds-form-element__label",attrs:{id:"label-3"}},[e._v(e._s(e.$Labels.MA_AVAILABLE))]),e._v(" "),s("div",{staticClass:"slds-dueling-list__options lvs-drag-col",staticStyle:{width:"125px"}},[s("draggable",{staticClass:"list-group slds-listbox slds-listbox_vertical",attrs:{id:"AvailableListViewColumns",list:e.store__settingsGroup.maps__DefaultValues__c.columnsConfig.value.available,options:{group:"listColumns"}}},e._l(e.store__settingsGroup.maps__DefaultValues__c.columnsConfig.value.available,(function(t,a){return s("div",{key:a,staticClass:"settings-listview-column slds-listbox__option slds-listbox__option_plain slds-media slds-grid_vertical-align-center slds-grid slds-grid_align-spread",attrs:{"data-id":t.id,label:t.label,isRecordProperty:t.isRecordProperty,sortColumn:t.sortColumn}},[e._v("\n                        "+e._s(e._f("decode")(t.label))+" "),s("span",{staticClass:"ma-icon ma-icon-move slds-m-left_x-small"})])})),0)],1)]),e._v(" "),s("div",{staticClass:"slds-dueling-list__column slds-p-left_small"},[s("span",{staticClass:"slds-form-element__label",attrs:{id:"label-4"}},[e._v(e._s(e.$Labels.VISIBLE))]),e._v(" "),s("div",{staticClass:"slds-dueling-list__options lvs-drag-col",staticStyle:{width:"125px"}},[s("draggable",{staticClass:"list-group slds-listbox slds-listbox_vertical",attrs:{id:"VisibleListViewColumns",list:e.store__settingsGroup.maps__DefaultValues__c.columnsConfig.value.visible,options:{group:"listColumns"}}},e._l(e.store__settingsGroup.maps__DefaultValues__c.columnsConfig.value.visible,(function(t,a){return s("div",{key:a,staticClass:"settings-listview-column slds-listbox__option slds-listbox__option_plain slds-media slds-grid_vertical-align-center slds-grid slds-grid_align-spread",attrs:{disabled:e.isDefaultGroup,"data-id":t.id,label:t.label,isRecordProperty:t.isRecordProperty,sortColumn:t.sortColumn}},[e._v("\n                        "+e._s(e._f("decode")(t.label))+" "),s("span",{staticClass:"ma-icon ma-icon-move slds-m-left_x-small"})])})),0)],1)])])])}),[],!1,null,"345b1714",null).exports,V={components:{Spinner:r.$j},data:()=>({isLoading:!1,userAssignments:[],profileAssignments:[],numEmptyTableRows:3}),computed:{...(0,i.mapState)({store__toggle:"toggle",store__settingsGroup:"settingsGroup",store__entityIdsForInsert:"entityIdsForInsert",store__assignmentIdsForDelete:"assignmentIdsForDelete"}),isDefaultGroup(){return"Default"===this.store__settingsGroup.Name&&"defaultSettings"===this.store__settingsGroup.Id}},watch:{"store__toggle.refresh":{async handler(e){e&&(await this.getAssignmentsById(),this.store__toggle.refresh=!1)},deep:!0}},async mounted(){await this.getAssignmentsById()},methods:{...(0,i.mapMutations)({store__setSettingsGroup:"setSettingsGroup"}),addAssignment({entityId:e,id:t}){this.store__assignmentIdsForDelete.has(t)?this.store__assignmentIdsForDelete.delete(t):this.store__entityIdsForInsert.add(e)},removeAssignment({entityId:e,id:t}){this.store__entityIdsForInsert.has(e)?this.store__entityIdsForInsert.delete(e):this.store__assignmentIdsForDelete.add(t)},editAssignments(e){"user"===e&&(this.store__toggle.searchType="User"),"profile"===e&&(this.store__toggle.searchType="Profile"),this.store__toggle.showSearchModal=!0},async getAssignmentsById(){try{const{success:e,assignedUsers:t,assignedProfiles:s,error:a}=await this.$remote("maps.UserAJAXResources.GetAssignmentsById",[this.store__settingsGroup.Id]);e?(this.userAssignments=t,this.profileAssignments=s):console.error(a)}catch(e){console.error(e)}}}},$=(0,b.Z)(V,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Spinner",{directives:[{name:"show",rawName:"v-show",value:e.isLoading,expression:"isLoading"}]}),e._v(" "),a("div",{staticClass:"slds-box slds-p-around_none"},[a("div",{staticClass:"slds-page-header"},[a("div",{staticClass:"slds-page-header__row"},[a("div",{staticClass:"slds-page-header__col-title"},[a("div",{staticClass:"slds-media"},[a("div",{staticClass:"slds-media__figure"},[a("Icon",{staticClass:"slds-icon_container slds-icon-standard-user-role slds-icon_container_circle",attrs:{src:s(6117),iconClass:["slds-icon","slds-icon_xx-small"]}})],1),e._v(" "),a("div",{staticClass:"slds-media__body"},[a("div",{staticClass:"slds-page-header__name"},[a("div",{staticClass:"slds-page-header__name-title"},[a("h1",[a("span",{staticClass:"slds-page-header__title slds-truncate",attrs:{title:e.$Labels.MA_Profile}},[e._v(" "+e._s(e.$Labels.MA_Profile)+" ")])])])])])])]),e._v(" "),a("div",{staticClass:"slds-page-header__col-actions"},[a("div",{staticClass:"slds-page-header__controls"},[a("div",{staticClass:"slds-page-header__control"},[a("ul",{staticClass:"slds-button-group-list"},[a("li",[a("button",{staticClass:"slds-button slds-button_neutral",on:{click:function(t){return e.editAssignments("profile")}}},[e._v("\n                                        "+e._s(e.$Labels.MA_Edit)+"\n                                    ")])])])])])])])]),e._v(" "),a("div",{staticClass:"profiles"},[a("table",{staticClass:"slds-table slds-table_cell-buffer slds-table_bordered slds-no-row-hover",class:{"slds-table_striped":e.profileAssignments.length>0}},[a("thead",[a("tr",{staticClass:"slds-line-height_reset"},[a("th",{attrs:{scope:"col"}},[a("div",{staticClass:"slds-truncate",attrs:{title:e.$Labels.Permission_Group_Profile_Name_Header}},[e._v("\n                                "+e._s(e.$Labels.Permission_Group_Profile_Name_Header)+"\n                            ")])]),e._v(" "),a("th",{attrs:{scope:"col"}},[a("div",{staticClass:"slds-truncate",attrs:{title:e.$Labels.Permission_Group_User_License_Header}},[e._v("\n                                "+e._s(e.$Labels.Permission_Group_User_License_Header)+"\n                            ")])]),e._v(" "),a("th",{attrs:{scope:"col"}},[a("div",{staticClass:"slds-truncate",attrs:{title:e.$Labels.MA_Description}},[e._v("\n                                "+e._s(e.$Labels.MA_Description)+"\n                            ")])])])]),e._v(" "),e.isLoading?a("tbody",e._l(e.numEmptyTableRows,(function(t,s){return a("tr",{key:s},[e._m(0,!0),e._v(" "),e._m(1,!0),e._v(" "),e._m(2,!0)])})),0):a("tbody",e._l(e.profileAssignments,(function(t,s){return a("tr",{key:s,staticClass:"slds-hint-parent"},[a("th",{attrs:{"data-label":"Profile Name",scope:"row"}},[a("div",{staticClass:"slds-truncate",attrs:{title:"Sales Enterprise"}},[a("a",{attrs:{href:"javascript:void(0);",tabindex:"-1"}},[e._v(e._s(t.name))])])]),e._v(" "),a("td",{attrs:{"data-label":"User License"}},[a("div",{staticClass:"slds-truncate",attrs:{title:"Description"}},[e._v("\n                                "+e._s(t.userLicense)+"\n                            ")])]),e._v(" "),a("td",{attrs:{"data-label":"Description"}},[a("div",{staticClass:"slds-truncate",attrs:{title:"Sales P&L"}},[e._v("\n                                "+e._s(t.description)+"\n                            ")])])])})),0)]),e._v(" "),e.profileAssignments.length?e._e():a("div",{staticClass:"slds-grid slds-grid_vertical-align-center slds-grid_align-center empty-content"},[a("div",{staticClass:"empty-content-inner"},[a("p",[e._v(" "+e._s(e.$Labels.Permission_Group_No_Profiles_Assigned_Text))])])])])]),e._v(" "),a("div",{staticClass:"slds-box slds-p-around_none slds-m-top_small slds-m-bottom_large"},[a("div",{staticClass:"slds-page-header"},[a("div",{staticClass:"slds-page-header__row"},[a("div",{staticClass:"slds-page-header__col-title"},[a("div",{staticClass:"slds-media"},[a("div",{staticClass:"slds-media__figure"},[a("Icon",{staticClass:"slds-icon_container slds-icon-action-user slds-icon_container_circle",attrs:{src:s(1178),iconClass:["slds-icon","slds-icon_xx-small"]}})],1),e._v(" "),a("div",{staticClass:"slds-media__body"},[a("div",{staticClass:"slds-page-header__name"},[a("div",{staticClass:"slds-page-header__name-title"},[a("h1",[a("span",{staticClass:"slds-page-header__title slds-truncate",attrs:{title:e.$Labels.Permission_Group_Users_Header}},[e._v(e._s(e.$Labels.Permission_Group_Users_Header))])])])])])])]),e._v(" "),a("div",{staticClass:"slds-page-header__col-actions"},[a("div",{staticClass:"slds-page-header__controls"},[a("div",{staticClass:"slds-page-header__control"},[a("ul",{staticClass:"slds-button-group-list"},[a("li",[a("button",{staticClass:"slds-button slds-button_neutral",on:{click:function(t){return e.editAssignments("user")}}},[e._v("\n                                        "+e._s(e.$Labels.MA_Edit)+"\n                                    ")])])])])])])])]),e._v(" "),a("div",{staticClass:"users"},[a("table",{staticClass:"slds-table slds-table_cell-buffer slds-table_bordered slds-no-row-hover",class:{"slds-table_striped":e.userAssignments.length>0}},[a("thead",[a("tr",{staticClass:"slds-line-height_reset"},[a("th",{attrs:{scope:"col"}},[a("div",{staticClass:"slds-truncate",attrs:{title:e.$Labels.Permission_Group_User_Name_Text}},[e._v("\n                                "+e._s(e.$Labels.Permission_Group_User_Name_Text)+"\n                            ")])]),e._v(" "),a("th",{attrs:{scope:"col"}},[a("div",{staticClass:"slds-truncate",attrs:{title:e.$Labels.Permission_Group_Alias_Text}},[e._v("\n                                "+e._s(e.$Labels.Permission_Group_Alias_Text)+"\n                            ")])]),e._v(" "),a("th",{attrs:{scope:"col"}},[a("div",{staticClass:"slds-truncate",attrs:{title:e.$Labels.Permission_Group_Username_Text}},[e._v("\n                                "+e._s(e.$Labels.Permission_Group_Username_Text)+"\n                            ")])]),e._v(" "),a("th",{attrs:{scope:"col"}},[a("div",{staticClass:"slds-truncate",attrs:{title:e.$Labels.MA_Profile}},[e._v("\n                                "+e._s(e.$Labels.MA_Profile)+"\n                            ")])])])]),e._v(" "),e.isLoading?a("tbody",e._l(e.numEmptyTableRows,(function(t,s){return a("tr",{key:s},[e._m(3,!0),e._v(" "),e._m(4,!0),e._v(" "),e._m(5,!0),e._v(" "),e._m(6,!0)])})),0):a("tbody",e._l(e.userAssignments,(function(t,s){return a("tr",{key:s,staticClass:"slds-hint-parent"},[a("th",{attrs:{"data-label":"User Name",scope:"row"}},[a("div",{staticClass:"slds-truncate",attrs:{title:t.name}},[a("a",{attrs:{href:"javascript:void(0);",tabindex:"-1"}},[e._v(e._s(t.name))])])]),e._v(" "),a("td",{attrs:{"data-label":"Alias"}},[a("div",{staticClass:"slds-truncate",attrs:{title:t.alias}},[e._v("\n                                "+e._s(t.alias)+"\n                            ")])]),e._v(" "),a("td",{attrs:{"data-label":"Username"}},[a("div",{staticClass:"slds-truncate",attrs:{title:t.username}},[e._v("\n                                "+e._s(t.username)+"\n                            ")])]),e._v(" "),a("td",{attrs:{"data-label":"Description"}},[a("div",{staticClass:"slds-truncate",attrs:{title:t.profile}},[e._v("\n                                "+e._s(t.profile)+"\n                            ")])])])})),0)]),e._v(" "),e.userAssignments.length?e._e():a("div",{staticClass:"slds-grid slds-grid_vertical-align-center slds-grid_align-center empty-content"},[a("div",{staticClass:"empty-content-inner"},[a("p",[e._v(e._s(e.$Labels.Permission_Group_No_Users_Assigned_Text))])])])])])],1)}),[function(){var e=this.$createElement,t=this._self._c||e;return t("td",{staticClass:"empty-cell"},[t("div")])},function(){var e=this.$createElement,t=this._self._c||e;return t("td",{staticClass:"empty-cell"},[t("div")])},function(){var e=this.$createElement,t=this._self._c||e;return t("td",{staticClass:"empty-cell"},[t("div")])},function(){var e=this.$createElement,t=this._self._c||e;return t("td",{staticClass:"empty-cell"},[t("div")])},function(){var e=this.$createElement,t=this._self._c||e;return t("td",{staticClass:"empty-cell"},[t("div")])},function(){var e=this.$createElement,t=this._self._c||e;return t("td",{staticClass:"empty-cell"},[t("div")])},function(){var e=this.$createElement,t=this._self._c||e;return t("td",{staticClass:"empty-cell"},[t("div")])}],!1,null,"5d4d3666",null).exports,{MAToastMessages:k}=window,I={components:{ButtonIcon:r.Ei,Spinner:r.$j,Picklist:r.Gp,TextInput:r.oi,TimePicker:r.jI,Tooltip:r.u,ExpandableSection:r.Lm,Tabs:r.mQ,Tab:r.OK,MultiSelectPicklist:A,Assignments:$},props:{options:{type:Array,required:!0},contingentOptions:{type:Object,required:!0}},data(){return{isLoading:!1,activeTab:this.$Labels.MA_DETAILS,queryLayer:{selectedResult:"",selectedType:null,searchTerm:"",searches:[{options:this.searchLayers}]},favoriteSearches:[{options:this.searchFavorites}]}},computed:{...(0,i.mapState)({store__toggle:"toggle",store__settingsGroup:"settingsGroup",store__entityIdsForInsert:"entityIdsForInsert",store__assignmentIdsForDelete:"assignmentIdsForDelete"}),isDefaultGroup(){return"Default"===this.store__settingsGroup.Name&&"defaultSettings"===this.store__settingsGroup.Id},showPersonalFolder:{get(){return!this.store__settingsGroup.maps__HidePersonalFolder__c},set(e){this.store__settingsGroup.maps__HidePersonalFolder__c=!e}}},methods:{...(0,i.mapMutations)({store__setSettingsGroup:"setSettingsGroup"}),async searchFavorites(e,t){const s=[],i=await class{static deleteRoute(e){return new Promise(((t,s)=>{if(!e)throw new Error(P);const a={ajaxResource:"WaypointAJAXResources",action:"deleteroute",routeId:e};(new h.Z).setAction(G.processAJAXRequest).setErrorHandler(this.handleRemoteActionError.bind(this,s)).invoke([a],(e=>{y.debugRemotingData("deleteRoute",[a],e),e&&e.success?t():s(new Error(e.error||P))}))}))}static getRoute(e){return new Promise(((t,s)=>{if(!e)throw new Error(T);const a={ajaxResource:"WaypointAJAXResources",action:"getRoute",routeId:e};(new h.Z).setAction(G.processAJAXRequest).setErrorHandler(this.handleRemoteActionError.bind(this,s)).setTimeout(120).invoke([a],(e=>{y.debugRemotingData("getRoute",[a],e),e&&e.success?t(e):s(new Error(T))}))}))}static searchFavorites(e,t){const s={ajaxResource:"WaypointAJAXResources",action:"getDefaultLocationOptions",term:e};return new Promise(((e,a)=>{(new h.Z).setAction(G.processAJAXRequest).setErrorHandler(this.handleRemoteActionError.bind(this,a)).invoke([s],(a=>{y.debugRemotingData("searchFavorites",[s],a);const i={searchIndex:t};a&&a.success&&(i.results=a.data,e(i))}),{escape:!1})}))}static searchGoogle(e,t,s){return new Promise((i=>{const l=s?"places":"queryAutocomplete";x(e,l).then((e=>{const s="queryAutocomplete"===l?window.MA.getProperty(e,["data","predictions"]):window.MA.getProperty(e,["data","results"]);Array.isArray(s)||i([]);const o=s.map((e=>{const t={resultItemType:"google"};return e&&"object"==typeof e&&(t.id=e.id,"string"==typeof e.description?t.label=(0,a.m9)(e.description):"string"==typeof e.formatted_address?t.label=(0,a.m9)(e.formatted_address):t.label="",e.place_id&&"string"==typeof e.place_id&&e.place_id.trim()?(t.type="place",t.placeId=e.place_id.trim()):t.type="suggestion"),t}));i({results:o,searchIndex:t})}))}))}static getFavoriteInfo(e){return new Promise(((t,s)=>{e||t();const i={action:"getLocationInfo",ajaxResource:"FavoriteLocationsAJAXResources",folderId:e};(new h.Z).setAction(G.processAJAXRequest).setErrorHandler(this.handleRemoteActionError.bind(this,s)).invoke([i],(e=>{if(y.debugRemotingData("getFavoriteInfo",[i],e),e&&e.success&&e.data.locations.length>0){const s=e.data.locations[0];t({Name:s.Name,Address__c:s.maps__Address__c,lat:s.maps__Latitude__c,lng:s.maps__Longitude__c,id:(0,a.x$)(),Options__c:v.defaultStartEndOptions,record:s})}else s(new Error("Failed to get favorite."))}),{escape:!1})}))}static loadEventData(e){return new Promise(((t,s)=>{(new h.Z).setAction(G.phase_4).setErrorHandler(this.handleRemoteActionError.bind(this,s)).invoke([escape("Select EndDateTime, StartDateTime, IsAllDayEvent, DurationInMinutes From Event"),e],(e=>{e.success?t(e):s(new Error(`Unable to load Event data. Error message: ${e}`))}),{buffer:!1,escape:!0})}))}static getEvents(e){return new Promise(((t,s)=>{const a={ajaxResource:"RouteCalendarAJAXResources",action:"getEvents",start:e.startOf("day").format("YYYY-MM-DD HH:mm:ss"),end:e.endOf("day").format("YYYY-MM-DD HH:mm:ss")};(new h.Z).setAction(G.processAJAXRequest).setErrorHandler(this.handleRemoteActionError.bind(this,s)).invoke([a],(e=>{if(y.debugRemotingData("getEvents",[a],e),e.success)if(e.data.events&&0===Object.keys(e.data.events).length)t();else{const s=this.loadEventsIntoWaypoints(e.data);t(s)}}),{escape:!1})}))}static loadEventsIntoWaypoints(e){const t=[],s=e.events||{},i=e.CalEventBaseObject||{};function l(e,t){const s=window.extractValue(e,t.Street__c),a=window.extractValue(e,t.City__c),i=window.extractValue(e,t.State__c),l=window.extractValue(e,t.PostalCode__c),o=window.extractValue(e,t.Country__c);let r="";return""!==s&&(r+=`${s},`),""!==a&&(r+=a),""!==i&&(r+=`, ${i}`),""!==l&&(r+=` ${l}`),""!==o&&(r+=`,${o}`),r}return Object.keys(s).forEach((o=>{const r=s[o],{event:n,record:_}=r,u={};function d(e,t){Object.assign(u,{latitude:window.extractValue(e,t.Latitude__c),longitude:window.extractValue(e,t.Longitude__c),verifiedLatitude:window.extractValue(e,t.VerifiedLatitude__c),verifiedLongitude:window.extractValue(e,t.VerifiedLongitude__c),markerAddress:l(e,t)}),u.markerLatitude=u.verifiedLatitude||u.latitude,u.markerLongitude=u.verifiedLongitude||u.longitude}if(i&&0!==Object.keys(i).length&&(w(L.Namespace,i),u.title=n.Subject,d(n,i)),_&&0!==Object.keys(_).length){const t=w(L.Namespace,e.baseObjects[(n.What||n.Who).Type]);_.Name&&(null==u.title&&(u.title=n.Subject||""),u.title+=` (${_.Name})`),L.Util.testLatLng(u.markerLatitude,u.markerLongitude)||d(_,t)}const c=v.defaultOptions;if(n.DurationInMinutes){const e=n.DurationInMinutes,t=e%60,s=Math.floor(e/60);c.TimeBasedOptions.Duration=`${s} hr, ${t} min`}if(n.StartDateTime){const e=L.Util.normalizeDateTime(n.StartDateTime);c.TimeBasedOptions.Start=M(e).format("h:mm a")}t.push({Name:u.title,Address__c:u.markerAddress,Options__c:c,lat:u.markerLatitude,lng:u.markerLongitude,id:(0,a.x$)()})})),t}static handleRemoteActionError(e,t,s){e(new Error(`Remote action exception: ${s.message}`))}static getMARoutes(e){return new Promise(((t,s)=>{const a={ajaxResource:"WaypointAJAXResources",action:"getRoutes",month:e.month+1,year:e.year,lookupField:e.lookupField||"maps__User__c",lookupId:e.lookupId||e.user};(new h.Z).setAction(G.processAJAXRequest).setErrorHandler(((e,t)=>{L.isUserLoggedIn(e,t,!0),s(e)})).setTimeout(120).invoke([a],(e=>{y.debugRemotingData("getMARoutes",[a],e),e&&e.success?t(e):s(e)}))}))}static saveMARoute(e){return new Promise(((t,s)=>{window.trackUsage("Maps",{action:"Save Route",description:"Clicking Save on Routes"});const a={ajaxResource:"WaypointAJAXResources",action:"saveRoute",perform:"string"==typeof e.Id&&e.Id.trim()?"update":"insert",day:e.day,month:e.month+1,year:e.year,lookupId:e.lookupId||e.user,lookupField:e.lookupField||"maps__User__c",name:e.name,routeId:e.Id,distance:e.distance,totaltraveltime:e.totaltraveltime,options:JSON.stringify(e.options),serializedWaypoints:JSON.stringify(e.waypoints)};(new h.Z).setAction(G.processAJAXRequest).setErrorHandler(s).invoke([a],(e=>{y.debugRemotingData("saveMARoute",[a],e),e&&e.success?t(e):s(e.error)}))}))}static geocode(e){return new Promise(((t,s)=>{if("string"!=typeof e||!e.trim())throw new Error(S);if(!G||"string"!=typeof G.geocodeRecord||!G.geocodeRecord.trim())throw new Error(S);(new h.Z).setAction(G.geocodeRecord).setErrorHandler(s).invoke([e],(a=>{y.debugRemotingData("geocode",[e],a);const i=a&&a.success;delete a.success,i&&a.data?t(a.data):s(new Error(S))}))}))}}.searchFavorites(e,t);return i&&i.results.forEach((e=>{const t={label:e.Name,Id:e.Id};s.push(t)})),s},async searchLayers(e){try{const t={ajaxResource:"TreeAJAXResources",action:"layer_search_by_type",searchterm:e,layerType:"all"},s=[],{success:a,data:i,error:l}=await this.$remote("maps.RemoteFunctions.processAJAXRequest",[t]);return a||i.contents||k.showError({position:"toast-bottom-right",message:"Error",subMessage:l,timeOut:8e3}),i.contents.forEach((({properties:{record:e,type:t}})=>{const a={label:e.Name,Id:e.Id,type:t};s.push(a)})),s}catch(e){k.showError({message:`Error: ${e}.`,timeOut:8e3})}return null},addLayer(e){this.store__settingsGroup.maps__DefaultValues__c.plotOnLoadLayers.value.map((e=>e.Id)).includes(e.Id)||this.store__settingsGroup.maps__DefaultValues__c.plotOnLoadLayers.value.push(e)},removeLayer(e){this.store__settingsGroup.maps__DefaultValues__c.plotOnLoadLayers.value.splice(e,1)},clearLocation(e,t){this.store__settingsGroup.maps__DefaultValues__c[t].value.label=null,this.store__settingsGroup.maps__DefaultValues__c[t].value.id=null},setLocation(e,t){this.store__settingsGroup.maps__DefaultValues__c[t].value.label=e.label,this.store__settingsGroup.maps__DefaultValues__c[t].value.id=e.Id},selectTime(e){const{startTime:t}=this.store__settingsGroup.maps__DefaultValues__c.schedule[e].value,{endTime:s}=this.store__settingsGroup.maps__DefaultValues__c.schedule[e].value,a=Date.parse(`${(new Date).toISOString().slice(0,10)} ${t}`),i=Date.parse(`${(new Date).toISOString().slice(0,10)} ${s}`);this.store__settingsGroup.maps__DefaultValues__c.schedule[e].errorMsg=a>i?"* These working hours carry into the next day.":null;let l=0;Object.values(this.store__settingsGroup.maps__DefaultValues__c.schedule).forEach((e=>{e&&null!=e.errorMsg&&l++})),this.store__settingsGroup.hasOverNightWorkingHours=l>0}}},E=(0,b.Z)(I,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"slds-card slds-grid slds-grid_vertical"},[a("Spinner",{directives:[{name:"show",rawName:"v-show",value:e.isLoading,expression:"isLoading"}]}),e._v(" "),a("div",{staticClass:"slds-p-around_medium"},[a("Tabs",{attrs:{activeTabId:e.activeTab},on:{"update:activeTabId":function(t){e.activeTab=t},"update:active-tab-id":function(t){e.activeTab=t},changed:function(t){return e.$parent.handleScroll()}}},[a("Tab",{attrs:{id:e.$Labels.MA_DETAILS,title:e.$Labels.MA_DETAILS}},[a("article",{staticClass:"slds-card slds-card_boundary slds-m-bottom_xx-large"},[a("div",{staticClass:"slds-card__body slds-card__body_inner"},[a("div",[a("div",{staticClass:"slds-grid"},[a("TextInput",{staticClass:"slds-col slds-m-right_small",attrs:{id:"text-input-Name",required:!0,disabled:e.isDefaultGroup,type:"text",labels:{name:e.$Labels.Permission_Group_Name_Label}},model:{value:e.store__settingsGroup.Name,callback:function(t){e.$set(e.store__settingsGroup,"Name",t)},expression:"store__settingsGroup.Name"}}),e._v(" "),a("TextInput",{staticClass:"slds-col",attrs:{id:"text-input-id-1",type:"text",disabled:e.isDefaultGroup,useTextArea:!0,labels:{name:e.$Labels.Permission_Group_Description,placeholder:e.$Labels.Describe_Permission_Group}},model:{value:e.store__settingsGroup.maps__Description__c,callback:function(t){e.$set(e.store__settingsGroup,"maps__Description__c",t)},expression:"store__settingsGroup.maps__Description__c"}})],1),e._v(" "),e._l(e.options,(function(t,i){return a("ExpandableSection",{key:i,staticClass:"desktopAndMobile",attrs:{collapsedOnLoad:!1,sectionId:"detailsTab",title:t.section}},[a("div",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(t.section))]),e._v(" "),a("div",e._l(t.categories,(function(t,l){return a("div",{key:l,staticClass:"slds-p-around_small slds-m-bottom_medium"},[t.header===e.$Labels.Permission_Group_Routes_And_Schedule_Header&&e.store__settingsGroup.hasOverNightWorkingHours?a("div",[a("div",{staticClass:"ma-message-notification slds-inline_icon_text slds-grid slds-box slds-theme_error slds-m-around_small"},[a("div",[a("span",{staticClass:"ma-icon ma-icon-info",staticStyle:{"font-size":"26px",width:"26px","line-height":"1",height:"26px","padding-right":"8px"}})]),e._v(" "),a("div",{staticClass:"slds-col slds-align-middle"},[a("p",[e._v("You have working hours that carry into the next day. Please double-check that times do not overlap for different days as scheduling issues may occur.")])])])]):e._e(),e._v(" "),t.header?a("div",{staticClass:"slds-text-heading_small slds-m-bottom_small"},[e._v("\n                                            "+e._s(t.header)+"\n                                        ")]):e._e(),e._v(" "),a("table",{staticClass:"slds-table slds-table_cell-buffer slds-table_bordered"},[a("thead",[a("tr",{staticClass:"slds-line-height_reset"},[a("th",{staticStyle:{padding:"0.5rem 0.5rem"},attrs:{scope:"col",width:"40px"}}),e._v(" "),a("th",{staticStyle:{padding:"0.5rem 0.5rem"},attrs:{scope:"col"}},[a("div",{attrs:{title:e.$Labels.MA_Setting}},[e._v("\n                                                            "+e._s(e.$Labels.MA_Setting)+"\n                                                        ")])]),e._v(" "),a("th",{staticStyle:{padding:"0.5rem 0.5rem"},attrs:{scope:"col"}},[a("div",{attrs:{title:e.$Labels.MA_Value}},[e._v("\n                                                            "+e._s(e.$Labels.MA_Value)+"\n                                                        ")])]),e._v(" "),a("th",{staticStyle:{padding:"0.5rem 0.5rem"},attrs:{scope:"col"}},[a("div",{attrs:{title:e.$Labels.Permission_Group_Default_Permission_Group}},[e._v("\n                                                            "+e._s(e.$Labels.Permission_Group_Default_Permission_Group)+"\n                                                        ")])])])]),e._v(" "),a("tbody",e._l(t.settings,(function(t,o){return a("tr",{key:o,staticClass:"slds-hint-parent"},[a("th",{attrs:{"data-label":"Help Text",scope:"row"}},[a("Tooltip",{attrs:{text:t.helpText,assistiveText:t.helpText}})],1),e._v(" "),a("th",{attrs:{"data-label":"Setting",scope:"row"}},[a("div",{attrs:{title:t.label}},[e._v("\n                                                            "+e._s(t.label)+"\n                                                        ")])]),e._v(" "),a("td",{attrs:{"data-label":"Value"}},["number"!==t.type&&"text"!==t.type||!t.fieldValue?e._e():a("TextInput",{attrs:{id:"text-input-id-"+t.label,disabled:!t.enabled,type:t.type},model:{value:e.store__settingsGroup[t.fieldValue],callback:function(s){e.$set(e.store__settingsGroup,t.fieldValue,s)},expression:"store__settingsGroup[setting.fieldValue]"}}),e._v(" "),"number"!==t.type&&"text"!==t.type||!t.defaultValue?e._e():a("TextInput",{attrs:{id:"text-input-id-"+t.label,disabled:!t.enabled,type:t.type},model:{value:e.store__settingsGroup.maps__DefaultValues__c[t.defaultValue].value,callback:function(s){e.$set(e.store__settingsGroup.maps__DefaultValues__c[t.defaultValue],"value",s)},expression:"store__settingsGroup.maps__DefaultValues__c[setting.defaultValue].value"}}),e._v(" "),"checkbox"===t.type&&t.fieldValue&&"maps__HidePersonalFolder__c"!==t.fieldValue?a("div",{staticClass:"slds-form-element__control"},[a("div",{staticClass:"slds-checkbox"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.store__settingsGroup[t.fieldValue],expression:"store__settingsGroup[setting.fieldValue]"}],attrs:{id:"checkbox1-"+i+"-"+l+"-"+o+"-id",type:"checkbox",disabled:!t.enabled},domProps:{checked:Array.isArray(e.store__settingsGroup[t.fieldValue])?e._i(e.store__settingsGroup[t.fieldValue],null)>-1:e.store__settingsGroup[t.fieldValue]},on:{change:function(s){var a=e.store__settingsGroup[t.fieldValue],i=s.target,l=!!i.checked;if(Array.isArray(a)){var o=e._i(a,null);i.checked?o<0&&e.$set(e.store__settingsGroup,t.fieldValue,a.concat([null])):o>-1&&e.$set(e.store__settingsGroup,t.fieldValue,a.slice(0,o).concat(a.slice(o+1)))}else e.$set(e.store__settingsGroup,t.fieldValue,l)}}}),e._v(" "),a("label",{staticClass:"slds-checkbox__label",attrs:{for:"checkbox1-"+i+"-"+l+"-"+o+"-id"}},[a("span",{staticClass:"slds-checkbox_faux"})])])]):e._e(),e._v(" "),"checkbox"===t.type&&t.fieldValue&&"maps__HidePersonalFolder__c"===t.fieldValue?a("div",{staticClass:"slds-form-element__control"},[a("div",{staticClass:"slds-checkbox"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.showPersonalFolder,expression:"showPersonalFolder"}],attrs:{id:"checkbox1-"+i+"-"+l+"-"+o+"-id",type:"checkbox",disabled:!t.enabled},domProps:{checked:Array.isArray(e.showPersonalFolder)?e._i(e.showPersonalFolder,null)>-1:e.showPersonalFolder},on:{change:function(t){var s=e.showPersonalFolder,a=t.target,i=!!a.checked;if(Array.isArray(s)){var l=e._i(s,null);a.checked?l<0&&(e.showPersonalFolder=s.concat([null])):l>-1&&(e.showPersonalFolder=s.slice(0,l).concat(s.slice(l+1)))}else e.showPersonalFolder=i}}}),e._v(" "),a("label",{staticClass:"slds-checkbox__label",attrs:{for:"checkbox1-"+i+"-"+l+"-"+o+"-id"}},[a("span",{staticClass:"slds-checkbox_faux"})])])]):e._e(),e._v(" "),"checkbox"===t.type&&t.defaultValue?a("div",{staticClass:"slds-form-element__control"},[a("div",{staticClass:"slds-checkbox"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.store__settingsGroup.maps__DefaultValues__c[t.defaultValue].value,expression:"store__settingsGroup.maps__DefaultValues__c[setting.defaultValue].value"}],attrs:{id:"checkbox2-"+i+"-"+l+"-"+o+"-id",disabled:!t.enabled,type:"checkbox"},domProps:{checked:Array.isArray(e.store__settingsGroup.maps__DefaultValues__c[t.defaultValue].value)?e._i(e.store__settingsGroup.maps__DefaultValues__c[t.defaultValue].value,null)>-1:e.store__settingsGroup.maps__DefaultValues__c[t.defaultValue].value},on:{change:function(s){var a=e.store__settingsGroup.maps__DefaultValues__c[t.defaultValue].value,i=s.target,l=!!i.checked;if(Array.isArray(a)){var o=e._i(a,null);i.checked?o<0&&e.$set(e.store__settingsGroup.maps__DefaultValues__c[t.defaultValue],"value",a.concat([null])):o>-1&&e.$set(e.store__settingsGroup.maps__DefaultValues__c[t.defaultValue],"value",a.slice(0,o).concat(a.slice(o+1)))}else e.$set(e.store__settingsGroup.maps__DefaultValues__c[t.defaultValue],"value",l)}}}),e._v(" "),a("label",{staticClass:"slds-checkbox__label",attrs:{for:"checkbox2-"+i+"-"+l+"-"+o+"-id"}},[a("span",{staticClass:"slds-checkbox_faux"})])])]):e._e(),e._v(" "),"picklist"===t.type&&t.fieldValue?a("Picklist",{attrs:{id:"picklist-id-"+t.label,detach:!0,hasNoneOption:t.allowNull,options:t.options,disabled:!t.enabled,idKey:t.keyString,titleKey:t.valueString,filterable:""},model:{value:e.store__settingsGroup[t.fieldValue],callback:function(s){e.$set(e.store__settingsGroup,t.fieldValue,s)},expression:"store__settingsGroup[setting.fieldValue]"}}):e._e(),e._v(" "),"picklist"===t.type&&t.defaultValue?a("Picklist",{attrs:{id:"picklist-id-"+t.label,detach:!0,hasNoneOption:t.allowNull,options:t.options,disabled:!t.enabled,idKey:t.keyString,titleKey:t.valueString,filterable:""},model:{value:e.store__settingsGroup.maps__DefaultValues__c[t.defaultValue].value,callback:function(s){e.$set(e.store__settingsGroup.maps__DefaultValues__c[t.defaultValue],"value",s)},expression:"store__settingsGroup.maps__DefaultValues__c[setting.defaultValue].value"}}):e._e(),e._v(" "),"defaultProximityType"===t.defaultValue&&"travelTime"===e.store__settingsGroup.maps__DefaultValues__c[t.defaultValue].value?a("div",e._l(e.contingentOptions.time,(function(t,s){return a("div",{key:s},["number"===t.type||"text"===t.type?a("TextInput",{attrs:{id:"text-input-id-"+t.label,disabled:!t.enabled,type:t.type,labels:{name:t.label}},model:{value:e.store__settingsGroup.maps__DefaultValues__c[t.defaultValue].value,callback:function(s){e.$set(e.store__settingsGroup.maps__DefaultValues__c[t.defaultValue],"value",s)},expression:"store__settingsGroup.maps__DefaultValues__c[contingentOption.defaultValue].value"}}):e._e()],1)})),0):e._e(),e._v(" "),"defaultProximityType"===t.defaultValue&&["Circle","travelDistance"].includes(e.store__settingsGroup.maps__DefaultValues__c[t.defaultValue].value)?a("div",e._l(e.contingentOptions.radius,(function(t,s){return a("div",{key:s},["number"===t.type||"text"===t.type?a("TextInput",{attrs:{id:"text-input-id-"+t.label,disabled:!t.enabled,type:t.type,labels:{name:t.label}},model:{value:e.store__settingsGroup.maps__DefaultValues__c[t.defaultValue].value,callback:function(s){e.$set(e.store__settingsGroup.maps__DefaultValues__c[t.defaultValue],"value",s)},expression:"store__settingsGroup.maps__DefaultValues__c[contingentOption.defaultValue].value"}}):e._e(),e._v(" "),"picklist"===t.type?a("Picklist",{attrs:{id:"picklist-id-"+t.label,detach:!0,hasNoneOption:t.allowNull,options:t.options,disabled:!t.enabled,idKey:t.keyString,titleKey:t.valueString,labels:{name:t.label},filterable:""},model:{value:e.store__settingsGroup.maps__DefaultValues__c[t.defaultValue].value,callback:function(s){e.$set(e.store__settingsGroup.maps__DefaultValues__c[t.defaultValue],"value",s)},expression:"store__settingsGroup.maps__DefaultValues__c[contingentOption.defaultValue].value"}}):e._e()],1)})),0):e._e(),e._v(" "),"search"===t.type&&"plotOnLoadLayers"===t.defaultValue?a("Picklist",{ref:"ref-"+t.defaultValue,refInFor:!0,attrs:{options:e.queryLayer.searches,filterable:"",labels:{name:e.$Labels.MA_Marker_Layer,search:e.$Labels.MA_SEARCH_ABOVE_FOR_AVAILABLE_LAYERS,noSearchResults:e.$Labels.MA_NO_RESULTS_FOUND,placeholder:e.$Labels.MA_SEARCH_ABOVE_FOR_AVAILABLE_LAYERS},idKey:"Id",titleKey:"label"},on:{"selected-option":e.addLayer}}):e._e(),e._v(" "),"search"===t.type&&"plotOnLoadLayers"===t.defaultValue&&e.store__settingsGroup.maps__DefaultValues__c.plotOnLoadLayers.value.length>0?a("div",{staticClass:"slds-listbox_selection-group"},[a("ul",{staticClass:"slds-listbox slds-listbox_horizontal",attrs:{role:"listbox","aria-label":"Selected Options:","aria-orientation":"horizontal"}},e._l(e.store__settingsGroup.maps__DefaultValues__c.plotOnLoadLayers.value,(function(t,s){return a("li",{key:s,staticClass:"slds-listbox-item",attrs:{role:"presentation"}},[a("span",{staticClass:"slds-pill",attrs:{role:"option",tabindex:"0","aria-selected":"true"}},[a("span",{staticClass:"slds-pill__label",attrs:{title:"Accounts"}},[e._v(e._s(t.label))]),e._v(" "),a("ButtonIcon",{staticClass:"slds-m-left_xxx-small",attrs:{iconCategory:"utility",iconName:"close",title:"Remove",assistiveText:"Remove"},on:{click:function(t){return e.removeLayer(s)}}})],1)])})),0)]):e._e(),e._v(" "),"search"===t.type&&["defaultStartLocation","defaultEndLocation"].includes(t.defaultValue)?a("Picklist",{ref:"ref-"+t.defaultValue,refInFor:!0,staticClass:"search-full-width",attrs:{options:e.favoriteSearches,filterable:"",labels:{name:e.$Labels.MA_Marker_Layer,search:e.$Labels.MA_Search_for,noSearchResults:e.$Labels.MA_NO_RESULTS_FOUND,placeholder:e.$Labels.MA_Search_Fav_Loc},idKey:"Id",titleKey:"label"},on:{"selected-option":function(s){return e.setLocation(s,t.defaultValue)}},scopedSlots:e._u([{key:"result",fn:function(t){return a("span",{staticClass:"slds-listbox__option-text_entity slds-listbox__option slds-listbox__option_plain",attrs:{id:"listbox-option-unique-id-01"}},[e._v("\n                                                                "+e._s(e._f("decode")(t.result.Name))+"\n                                                            ")])}}],null,!0),model:{value:e.store__settingsGroup.maps__DefaultValues__c[t.defaultValue].value.label,callback:function(s){e.$set(e.store__settingsGroup.maps__DefaultValues__c[t.defaultValue].value,"label",s)},expression:"store__settingsGroup.maps__DefaultValues__c[setting.defaultValue].value.label"}}):e._e(),e._v(" "),"timepicker"===t.type&&"shiftBreakHours"!==t.defaultValue?a("div",[t.enabled?a("div",{staticClass:"slds-grid slds-grid--align-spread"},[a("TimePicker",{attrs:{combobox:"",start:e.store__settingsGroup.maps__DefaultValues__c.schedule[t.defaultValue].value.startTime},on:{input:function(s){return e.selectTime(t.defaultValue)}},model:{value:e.store__settingsGroup.maps__DefaultValues__c.schedule[t.defaultValue].value.startTime,callback:function(s){e.$set(e.store__settingsGroup.maps__DefaultValues__c.schedule[t.defaultValue].value,"startTime",s)},expression:"store__settingsGroup.maps__DefaultValues__c.schedule[setting.defaultValue].value.startTime"}}),e._v(" "),a("TimePicker",{attrs:{combobox:"",start:e.store__settingsGroup.maps__DefaultValues__c.schedule[t.defaultValue].value.endTime},on:{input:function(s){return e.selectTime(t.defaultValue)}},model:{value:e.store__settingsGroup.maps__DefaultValues__c.schedule[t.defaultValue].value.endTime,callback:function(s){e.$set(e.store__settingsGroup.maps__DefaultValues__c.schedule[t.defaultValue].value,"endTime",s)},expression:"store__settingsGroup.maps__DefaultValues__c.schedule[setting.defaultValue].value.endTime"}})],1):a("div",{staticClass:"slds-grid slds-grid--align-spread"},[a("div",{staticClass:"slds-form-element__control slds-input-has-icon slds-input-has-icon_right search-full-width"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.store__settingsGroup.maps__DefaultValues__c.schedule[t.defaultValue].value.startTime,expression:"store__settingsGroup.maps__DefaultValues__c.schedule[setting.defaultValue].value.startTime"}],staticClass:"slds-input",attrs:{type:"text",placeholder:"9:00 am",disabled:""},domProps:{value:e.store__settingsGroup.maps__DefaultValues__c.schedule[t.defaultValue].value.startTime},on:{input:function(s){s.target.composing||e.$set(e.store__settingsGroup.maps__DefaultValues__c.schedule[t.defaultValue].value,"startTime",s.target.value)}}}),e._v(" "),a("Icon",{attrs:{src:s(3469),iconClass:["slds-icon","slds-input__icon","slds-input__icon_left","slds-icon-text-default"]}})],1),e._v(" "),a("div",{staticClass:"slds-form-element__control slds-input-has-icon slds-input-has-icon_right search-full-width"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.store__settingsGroup.maps__DefaultValues__c.schedule[t.defaultValue].value.endTime,expression:"store__settingsGroup.maps__DefaultValues__c.schedule[setting.defaultValue].value.endTime"}],staticClass:"slds-input",attrs:{type:"text",placeholder:"5:00 pm",disabled:""},domProps:{value:e.store__settingsGroup.maps__DefaultValues__c.schedule[t.defaultValue].value.endTime},on:{input:function(s){s.target.composing||e.$set(e.store__settingsGroup.maps__DefaultValues__c.schedule[t.defaultValue].value,"endTime",s.target.value)}}}),e._v(" "),a("Icon",{attrs:{src:s(3469),iconClass:["slds-icon","slds-input__icon","slds-input__icon_left","slds-icon-text-default"]}})],1)])]):e._e(),e._v(" "),"timepicker"===t.type&&"shiftBreakHours"===t.defaultValue?a("div",[t.enabled?a("div",{staticClass:"slds-grid slds-grid--align-spread"},[a("TimePicker",{attrs:{combobox:"",start:e.store__settingsGroup.maps__DefaultValues__c[t.defaultValue].value.startTime},model:{value:e.store__settingsGroup.maps__DefaultValues__c[t.defaultValue].value.startTime,callback:function(s){e.$set(e.store__settingsGroup.maps__DefaultValues__c[t.defaultValue].value,"startTime",s)},expression:"store__settingsGroup.maps__DefaultValues__c[setting.defaultValue].value.startTime"}}),e._v(" "),a("TimePicker",{attrs:{combobox:"",start:e.store__settingsGroup.maps__DefaultValues__c[t.defaultValue].value.endTime},model:{value:e.store__settingsGroup.maps__DefaultValues__c[t.defaultValue].value.endTime,callback:function(s){e.$set(e.store__settingsGroup.maps__DefaultValues__c[t.defaultValue].value,"endTime",s)},expression:"store__settingsGroup.maps__DefaultValues__c[setting.defaultValue].value.endTime"}})],1):a("div",{staticClass:"slds-grid slds-grid--align-spread"},[a("div",{staticClass:"slds-form-element__control slds-input-has-icon slds-input-has-icon_right search-full-width"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.store__settingsGroup.maps__DefaultValues__c[t.defaultValue].value.startTime,expression:"store__settingsGroup.maps__DefaultValues__c[setting.defaultValue].value.startTime"}],staticClass:"slds-input",attrs:{type:"text",placeholder:"9:00 am",disabled:""},domProps:{value:e.store__settingsGroup.maps__DefaultValues__c[t.defaultValue].value.startTime},on:{input:function(s){s.target.composing||e.$set(e.store__settingsGroup.maps__DefaultValues__c[t.defaultValue].value,"startTime",s.target.value)}}}),e._v(" "),a("Icon",{attrs:{src:s(3469),iconClass:["slds-icon","slds-input__icon","slds-input__icon_left","slds-icon-text-default"]}})],1),e._v(" "),a("div",{staticClass:"slds-align_absolute-center slds-m-right_small"},[e._v("")]),e._v(" "),a("div",{staticClass:"slds-form-element__control slds-input-has-icon slds-input-has-icon_right search-full-width"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.store__settingsGroup.maps__DefaultValues__c[t.defaultValue].value.endTime,expression:"store__settingsGroup.maps__DefaultValues__c[setting.defaultValue].value.endTime"}],staticClass:"slds-input",attrs:{type:"text",placeholder:"5:00 pm",disabled:""},domProps:{value:e.store__settingsGroup.maps__DefaultValues__c[t.defaultValue].value.endTime},on:{input:function(s){s.target.composing||e.$set(e.store__settingsGroup.maps__DefaultValues__c[t.defaultValue].value,"endTime",s.target.value)}}}),e._v(" "),a("Icon",{attrs:{src:s(3469),iconClass:["slds-icon","slds-input__icon","slds-input__icon_left","slds-icon-text-default"]}})],1)])]):e._e(),e._v(" "),"multiselect"===t.type?a("div",[a("MultiSelectPicklist",{staticClass:"slds-m-top_small"}),e._v(" "),a("div",{staticClass:"slds-p-around_xx-small slds-m-top_medium"},[e._v(e._s(e.$Labels.Permission_Group_Columns_Appear_Selected_Tab))]),e._v(" "),a("div",{staticClass:"slds-p-around_xx-small slds-m-bottom_medium"},[e._v(e._s(e.$Labels.Permission_Group_Columns_Appear_Selected_Multiple))])],1):e._e()],1),e._v(" "),a("td",{attrs:{"data-label":e.$Labels.Permission_Group_Allow_User_Override}},[void 0!==t.overridable?a("div",{staticClass:"slds-truncate slds-grid",attrs:{title:e.$Labels.Permission_Group_Allow_User_Override}},["timepicker"===t.type&&"shiftBreakHours"!==t.defaultValue?a("div",{staticClass:"slds-form-element"},[a("div",{staticClass:"slds-form-element__control"},[a("div",{staticClass:"slds-checkbox"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.store__settingsGroup.maps__DefaultValues__c.schedule[t.overridable].overridable,expression:"store__settingsGroup.maps__DefaultValues__c.schedule[setting.overridable].overridable"}],attrs:{id:"checkbox3-"+i+"-"+l+"-"+o+"-id",type:"checkbox"},domProps:{checked:Array.isArray(e.store__settingsGroup.maps__DefaultValues__c.schedule[t.overridable].overridable)?e._i(e.store__settingsGroup.maps__DefaultValues__c.schedule[t.overridable].overridable,null)>-1:e.store__settingsGroup.maps__DefaultValues__c.schedule[t.overridable].overridable},on:{change:function(s){var a=e.store__settingsGroup.maps__DefaultValues__c.schedule[t.overridable].overridable,i=s.target,l=!!i.checked;if(Array.isArray(a)){var o=e._i(a,null);i.checked?o<0&&e.$set(e.store__settingsGroup.maps__DefaultValues__c.schedule[t.overridable],"overridable",a.concat([null])):o>-1&&e.$set(e.store__settingsGroup.maps__DefaultValues__c.schedule[t.overridable],"overridable",a.slice(0,o).concat(a.slice(o+1)))}else e.$set(e.store__settingsGroup.maps__DefaultValues__c.schedule[t.overridable],"overridable",l)}}}),e._v(" "),a("label",{staticClass:"slds-checkbox__label",attrs:{for:"checkbox3-"+i+"-"+l+"-"+o+"-id"}},[a("span",{staticClass:"slds-checkbox_faux"})])])])]):a("div",{staticClass:"slds-form-element"},[a("div",{staticClass:"slds-form-element__control"},[a("div",{staticClass:"slds-checkbox"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.store__settingsGroup.maps__DefaultValues__c[t.overridable].overridable,expression:"store__settingsGroup.maps__DefaultValues__c[setting.overridable].overridable"}],attrs:{id:"checkbox4-"+i+"-"+l+"-"+o+"-id",type:"checkbox",disabled:!t.enabled},domProps:{checked:Array.isArray(e.store__settingsGroup.maps__DefaultValues__c[t.overridable].overridable)?e._i(e.store__settingsGroup.maps__DefaultValues__c[t.overridable].overridable,null)>-1:e.store__settingsGroup.maps__DefaultValues__c[t.overridable].overridable},on:{change:function(s){var a=e.store__settingsGroup.maps__DefaultValues__c[t.overridable].overridable,i=s.target,l=!!i.checked;if(Array.isArray(a)){var o=e._i(a,null);i.checked?o<0&&e.$set(e.store__settingsGroup.maps__DefaultValues__c[t.overridable],"overridable",a.concat([null])):o>-1&&e.$set(e.store__settingsGroup.maps__DefaultValues__c[t.overridable],"overridable",a.slice(0,o).concat(a.slice(o+1)))}else e.$set(e.store__settingsGroup.maps__DefaultValues__c[t.overridable],"overridable",l)}}}),e._v(" "),a("label",{staticClass:"slds-checkbox__label",attrs:{for:"checkbox4-"+i+"-"+l+"-"+o+"-id"}},[a("span",{staticClass:"slds-checkbox_faux"})])])])]),e._v(" "),"timepicker"===t.type&&"shiftBreakHours"!==t.defaultValue&&e.store__settingsGroup.maps__DefaultValues__c.schedule[t.defaultValue].errorMsg?a("div",{staticClass:"slds-col slds-text-color_error"},[e._v("\n                                                                "+e._s(e.store__settingsGroup.maps__DefaultValues__c.schedule[t.defaultValue].errorMsg)+"\n                                                            ")]):e._e()]):e._e()])])})),0)])])})),0)])}))],2)])])]),e._v(" "),e.isDefaultGroup?e._e():a("Tab",{attrs:{id:e.$Labels.Permission_Group_Assignment_Tab,title:e.$Labels.Permission_Group_Assignment_Tab}},[a("Assignments")],1)],1)],1)],1)}),[],!1,null,"f7de3308",null).exports,R={components:{ButtonIcon:r.Ei,Spinner:r.$j,ExpandableSection:r.Lm,Tooltip:r.u,Tabs:r.mQ,Tab:r.OK,MultiSelectPicklist:A,Assignments:$},props:{options:{type:Array,required:!0},contingentOptions:{type:Object,required:!0}},data:()=>({readOnlyMode:!1,isLoading:!1,activeTab:"Details",buttonSet:[],atBottomOfPage:!1}),computed:{...(0,i.mapState)({store__toggle:"toggle",store__settingsGroup:"settingsGroup",store__entityIdsForInsert:"entityIdsForInsert",store__assignmentIdsForDelete:"assignmentIdsForDelete"}),isDefaultGroup(){return"Default"===this.store__settingsGroup.Name&&"defaultSettings"===this.store__settingsGroup.Id},showPersonalFolder:{get(){return!this.store__settingsGroup.maps__HidePersonalFolder__c},set(e){this.store__settingsGroup.maps__HidePersonalFolder__c=!e}}},async mounted(){this.store__settingsGroup.Id&&await this.$parent.populatePermissionGroup(this.store__settingsGroup.Id,"edit")},methods:{...(0,i.mapMutations)({store__setSettingsGroup:"setSettingsGroup"}),reset(){this.$store.commit("resetSettingsGroup"),this.store__toggle.showPermissionGroupView=!1},getSelectReadOnlyValue(e,t,s,a){const i=t?t.filter((t=>t[s]===e)):[];return i[0]?i[0][a]:null}}},N=(0,b.Z)(R,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"slds-card slds-grid slds-grid_vertical"},[s("Spinner",{directives:[{name:"show",rawName:"v-show",value:e.isLoading,expression:"isLoading"}]}),e._v(" "),s("div",{staticClass:"slds-p-around_medium slds-m-bottom_xx-large"},[s("Tabs",{attrs:{activeTabId:e.activeTab},on:{"update:activeTabId":function(t){e.activeTab=t},"update:active-tab-id":function(t){e.activeTab=t},changed:function(t){return e.$parent.handleScroll()}}},[s("Tab",{attrs:{id:e.$Labels.MA_DETAILS,title:e.$Labels.MA_DETAILS}},[s("div",e._l(e.options,(function(t,a){return s("ExpandableSection",{key:a,staticClass:"desktopAndMobile",attrs:{collapsedOnLoad:!1,sectionId:"detailsTab",title:t.section}},[s("div",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(t.section))]),e._v(" "),s("div",e._l(t.categories,(function(t,a){return s("div",{key:a,staticClass:"slds-p-around_small slds-m-bottom_medium"},[t.header?s("div",{staticClass:"slds-text-heading_small slds-m-bottom_small"},[e._v("\n                                    "+e._s(t.header)+"\n                                ")]):e._e(),e._v(" "),s("table",{staticClass:"slds-table slds-table_cell-buffer slds-table_bordered"},[s("thead",[s("tr",{staticClass:"slds-line-height_reset"},[s("th",{staticStyle:{padding:"0.5rem 0.5rem"},attrs:{scope:"col",width:"40px"}}),e._v(" "),s("th",{staticStyle:{padding:"0.5rem 0.5rem"},attrs:{scope:"col"}},[s("div",{attrs:{title:e.$Labels.MA_Setting}},[e._v("\n                                                    "+e._s(e.$Labels.MA_Setting)+"\n                                                ")])]),e._v(" "),s("th",{staticStyle:{padding:"0.5rem 0.5rem"},attrs:{scope:"col"}},[s("div",{attrs:{title:e.$Labels.MA_Value}},[e._v("\n                                                    "+e._s(e.$Labels.MA_Value)+"\n                                                ")])]),e._v(" "),s("th",{staticStyle:{padding:"0.5rem 0.5rem"},attrs:{scope:"col"}},[s("div",{attrs:{title:e.$Labels.Permission_Group_Allow_User_Override}},[e._v("\n                                                    "+e._s(e.$Labels.Permission_Group_Allow_User_Override)+"\n                                                ")])]),e._v(" "),e.isDefaultGroup?e._e():s("th",{staticStyle:{padding:"0.5rem 0.5rem"},attrs:{scope:"col",width:"30px"}})])]),e._v(" "),s("tbody",e._l(t.settings,(function(t,a){return s("tr",{key:a,staticClass:"slds-hint-parent"},[s("th",{attrs:{"data-label":"Help Text",scope:"row"}},[s("Tooltip",{attrs:{text:t.helpText,assistiveText:t.helpText}})],1),e._v(" "),s("th",{attrs:{"data-label":"Setting",scope:"row"}},[s("div",{staticClass:"slds-truncate",attrs:{title:t.label}},[e._v("\n                                                    "+e._s(t.label)+"\n                                                ")])]),e._v(" "),s("td",{attrs:{"data-label":"Value"}},["number"!==t.type&&"text"!==t.type||!t.fieldValue?e._e():s("div",{staticClass:"slds-form-element"},[s("div",{staticClass:"slds-form-element__control"},[s("input",{staticClass:"slds-input",attrs:{type:"text",readonly:""},domProps:{value:e.store__settingsGroup[t.fieldValue]}})])]),e._v(" "),"number"!==t.type&&"text"!==t.type||!t.defaultValue?e._e():s("div",{staticClass:"slds-form-element"},[s("div",{staticClass:"slds-form-element__control"},[s("input",{staticClass:"slds-input",attrs:{type:"text",readonly:""},domProps:{value:e.store__settingsGroup.maps__DefaultValues__c[t.defaultValue].value}})])]),e._v(" "),"checkbox"===t.type&&t.fieldValue&&"maps__HidePersonalFolder__c"!==t.fieldValue?s("div",{staticClass:"slds-form-element",attrs:{id:"checkbox-id-"+t.label}},[s("div",{staticClass:"slds-form-element__control"},[s("Icon",{attrs:{assistiveText:t.label,category:"utility",name:e.store__settingsGroup[t.fieldValue]?"check":"steps",size:"x-small"}})],1)]):e._e(),e._v(" "),"checkbox"===t.type&&t.fieldValue&&"maps__HidePersonalFolder__c"===t.fieldValue?s("div",{staticClass:"slds-form-element",attrs:{id:"checkbox-id-"+t.label}},[s("div",{staticClass:"slds-form-element__control"},[s("Icon",{attrs:{assistiveText:t.label,category:"utility",name:e.showPersonalFolder?"check":"steps",size:"x-small"}})],1)]):e._e(),e._v(" "),"checkbox"===t.type&&t.defaultValue?s("div",{staticClass:"slds-form-element",attrs:{id:"checkbox-id-"+t.label}},[s("div",{staticClass:"slds-form-element__control"},[s("Icon",{attrs:{assistiveText:t.label,category:"utility",name:e.store__settingsGroup.maps__DefaultValues__c[t.defaultValue].value?"check":"steps",size:"x-small"}})],1)]):e._e(),e._v(" "),"picklist"===t.type&&t.fieldValue?s("div",{staticClass:"slds-form-element",attrs:{id:"picklist-id-"+t.label}},[s("div",{staticClass:"slds-form-element__control"},[s("input",{staticClass:"slds-input",attrs:{type:"text",readonly:""},domProps:{value:e.getSelectReadOnlyValue(e.store__settingsGroup[t.fieldValue],t.options,t.keyString,t.valueString)}})])]):e._e(),e._v(" "),"picklist"===t.type&&t.defaultValue?s("div",{staticClass:"slds-form-element",attrs:{id:"picklist-id-"+t.label}},[s("div",{staticClass:"slds-form-element__control"},[s("input",{staticClass:"slds-input",attrs:{type:"text",readonly:""},domProps:{value:e.getSelectReadOnlyValue(e.store__settingsGroup.maps__DefaultValues__c[t.defaultValue].value,t.options,t.keyString,t.valueString)||e.store__settingsGroup.maps__DefaultValues__c[t.defaultValue].value}})])]):e._e(),e._v(" "),"defaultProximityType"===t.defaultValue&&"travelTime"===e.store__settingsGroup.maps__DefaultValues__c[t.defaultValue].value?s("div",e._l(e.contingentOptions.time,(function(t,a){return s("div",{key:a},["number"===t.type||"text"===t.type?s("div",{staticClass:"slds-form-element",attrs:{id:"text-input-id-"+t.label}},[s("label",{staticClass:"slds-form-element__label"},[e._v(e._s(t.label))]),e._v(" "),s("div",{staticClass:"slds-form-element__control"},[s("input",{staticClass:"slds-input",attrs:{type:"text",readonly:""},domProps:{value:e.store__settingsGroup.maps__DefaultValues__c[t.defaultValue].value}})])]):e._e()])})),0):e._e(),e._v(" "),"defaultProximityType"===t.defaultValue&&["Circle","travelDistance"].includes(e.store__settingsGroup.maps__DefaultValues__c[t.defaultValue].value)?s("div",e._l(e.contingentOptions.radius,(function(t,a){return s("div",{key:a},["number"===t.type||"text"===t.type?s("div",{staticClass:"slds-form-element",attrs:{id:"text-input-id-"+t.label}},[s("label",{staticClass:"slds-form-element__label"},[e._v(e._s(t.label))]),e._v(" "),s("div",{staticClass:"slds-form-element__control"},[s("input",{staticClass:"slds-input",attrs:{type:"text",readonly:""},domProps:{value:e.store__settingsGroup.maps__DefaultValues__c[t.defaultValue].value}})])]):e._e(),e._v(" "),"picklist"===t.type?s("div",{staticClass:"slds-form-element",attrs:{id:"picklist-id-"+t.label}},[s("label",{staticClass:"slds-form-element__label"},[e._v(e._s(t.label))]),e._v(" "),s("div",{staticClass:"slds-form-element__control"},[s("input",{staticClass:"slds-input",attrs:{type:"text",readonly:""},domProps:{value:e.getSelectReadOnlyValue(e.store__settingsGroup.maps__DefaultValues__c[t.defaultValue].value,t.options,t.keyString,t.valueString)||e.store__settingsGroup.maps__DefaultValues__c[t.defaultValue].value}})])]):e._e()])})),0):e._e(),e._v(" "),"search"===t.type&&"plotOnLoadLayers"===t.defaultValue&&e.store__settingsGroup.maps__DefaultValues__c.plotOnLoadLayers.value.length>0?s("div",{staticClass:"slds-listbox_selection-group"},[s("ul",{staticClass:"slds-listbox slds-listbox_horizontal",attrs:{role:"listbox","aria-label":"Selected Options:","aria-orientation":"horizontal"}},e._l(e.store__settingsGroup.maps__DefaultValues__c.plotOnLoadLayers.value,(function(t,a){return s("li",{key:a,staticClass:"slds-listbox-item",attrs:{role:"presentation"}},[s("span",{staticClass:"slds-pill",attrs:{role:"option",tabindex:"0","aria-selected":"true"}},[s("span",{staticClass:"slds-pill__label",attrs:{title:"Accounts"}},[e._v(e._s(t.label))])])])})),0)]):e._e(),e._v(" "),"search"===t.type&&["defaultStartLocation","defaultEndLocation"].includes(t.defaultValue)?s("div",{staticClass:"slds-form-element"},[s("div",{staticClass:"slds-form-element__control"},[s("input",{staticClass:"slds-input",attrs:{type:"text",readonly:""},domProps:{value:e.store__settingsGroup.maps__DefaultValues__c[t.defaultValue].value.label}})])]):e._e(),e._v(" "),"timepicker"===t.type&&"shiftBreakHours"!==t.defaultValue?s("div",[s("div",{staticClass:"slds-grid slds-grid--align-spread"},[s("div",{staticClass:"slds-form-element"},[s("div",{staticClass:"slds-form-element__control"},[s("input",{staticClass:"slds-input",attrs:{type:"text",readonly:""},domProps:{value:e.store__settingsGroup.maps__DefaultValues__c.schedule[t.defaultValue].value.startTime}})])]),e._v(" "),s("div",{staticClass:"slds-form-element"},[s("div",{staticClass:"slds-form-element__control"},[s("input",{staticClass:"slds-input",attrs:{type:"text",readonly:""},domProps:{value:e.store__settingsGroup.maps__DefaultValues__c.schedule[t.defaultValue].value.endTime}})])])])]):e._e(),e._v(" "),"timepicker"===t.type&&"shiftBreakHours"===t.defaultValue?s("div",[s("div",{staticClass:"slds-grid slds-grid--align-spread"},[s("div",{staticClass:"slds-form-element"},[s("div",{staticClass:"slds-form-element__control"},[s("input",{staticClass:"slds-input",attrs:{type:"text",readonly:""},domProps:{value:e.store__settingsGroup.maps__DefaultValues__c[t.defaultValue].value.startTime}})])]),e._v(" "),s("div",{staticClass:"slds-form-element"},[s("div",{staticClass:"slds-form-element__control"},[s("input",{staticClass:"slds-input",attrs:{type:"text",readonly:""},domProps:{value:e.store__settingsGroup.maps__DefaultValues__c[t.defaultValue].value.endTime}})])])])]):e._e(),e._v(" "),"multiselect"===t.type?s("div",[s("MultiSelectPicklist",{staticClass:"slds-m-top_small"}),e._v(" "),s("div",{staticClass:"slds-p-around_xx-small slds-m-top_medium"},[e._v(e._s(e.$Labels.Permission_Group_Columns_Appear_Selected_Tab))]),e._v(" "),s("div",{staticClass:"slds-p-around_xx-small slds-m-bottom_medium"},[e._v(e._s(e.$Labels.Permission_Group_Columns_Appear_Selected_Multiple))])],1):e._e()]),e._v(" "),s("td",{attrs:{"data-label":e.$Labels.Permission_Group_Allow_User_Override}},[void 0!==t.overridable?s("div",{staticClass:"slds-truncate",attrs:{title:e.$Labels.Permission_Group_Allow_User_Override}},["timepicker"===t.type&&"shiftBreakHours"!==t.defaultValue?s("div",{staticClass:"slds-form-element"},[s("div",{staticClass:"slds-form-element__control"},[s("Icon",{attrs:{assistiveText:t.label,category:"utility",name:e.store__settingsGroup.maps__DefaultValues__c.schedule[t.overridable].overridable?"check":"steps",size:"x-small"}})],1)]):s("div",{staticClass:"slds-form-element"},[s("div",{staticClass:"slds-form-element__control"},[s("Icon",{attrs:{assistiveText:t.label,category:"utility",name:e.store__settingsGroup.maps__DefaultValues__c[t.overridable].overridable?"check":"steps",size:"x-small"}})],1)])]):e._e()]),e._v(" "),e.isDefaultGroup?e._e():s("td",{staticClass:"slds-text-align_right"},[s("ButtonIcon",{attrs:{assistiveText:e.$Labels.MA_Edit,title:e.$Labels.MA_Edit,iconCategory:"utility",iconName:"edit"},on:{click:function(t){e.store__toggle.readOnlyMode=!1}}})],1)])})),0)])])})),0)])})),1)]),e._v(" "),e.isDefaultGroup?e._e():s("Tab",{attrs:{id:e.$Labels.Permission_Group_Assignment_Tab,title:e.$Labels.Permission_Group_Assignment_Tab}},[s("Assignments")],1)],1)],1)],1)}),[],!1,null,"510c39a1",null).exports,{MAToastMessages:O}=window,F={components:{Dashboard:()=>({...(0,o.YH)(),component:s.e(7718).then(s.bind(s,2417))}),PermissionGroup:E,PermissionGroupReadonly:N,AssignmentSearchModal:()=>({...(0,o.YH)(),component:s.e(8576).then(s.bind(s,6995))}),NewGroupModal:g,ButtonIcon:r.Ei},data(){return{atBottomOfPage:!1,buttonSet:[],mapTiles:[{Id:"Roadmap (ESRI)",Name:this.$Labels.Maps_Settings_ESRI_Street},{Id:"Topography (ESRI)",Name:this.$Labels.MA_TOPOGRAPHY},{Id:"Imagery (ESRI)",Name:this.$Labels.MA_IMAGERY},{Id:"Roadmap (Google)",Name:this.$Labels.MA_ROAD},{Id:"Terrain",Name:this.$Labels.MA_TERRAIN},{Id:"Hybrid",Name:this.$Labels.MA_HYBRID},{Id:"Satellite",Name:this.$Labels.MA_SATELITTE}]}},computed:{...(0,i.mapState)({store__selectedGroup:"selectedGroup",store__toggle:"toggle",store__settingsGroup:"settingsGroup",store__entityIdsForInsert:"entityIdsForInsert",store__assignmentIdsForDelete:"assignmentIdsForDelete",store__config:"config"}),isDefaultGroup(){return("Default"===this.store__settingsGroup.Name||this.store__settingsGroup.Name===this.$Labels.MA_Default)&&"defaultSettings"===this.store__settingsGroup.Id},options(){return[{section:this.$Labels.Permission_Group_Desktop_Mobile_Section_Header,categories:[{header:this.$Labels.MapsSetting_General,settings:[{label:this.$Labels.MapsSetting_Default_Units,type:"picklist",options:[{id:"km",label:this.$Labels.Routes_Kilometers},{id:"mi",label:this.$Labels.Routes_Miles}],allowNull:!1,keyString:"id",valueString:"label",defaultValue:"units",enabled:!this.isDefaultGroup,overridable:"units",validationMsg:"errorMsg",helpText:this.$Labels.Permission_Group_Default_Units_Tooltip},{label:this.$Labels.Permission_Group_Default_Basemap,type:"picklist",options:this.mapTiles,allowNull:!1,keyString:"Id",valueString:"Name",fieldValue:"maps__DefaultMapTile__c",enabled:!this.isDefaultGroup,overridable:"defaultMapTile",validationMsg:"errorMsg",helpText:this.$Labels.Permission_Group_Basemaps_Tooltip},{label:this.$Labels.Permission_Group_Off_Platform_Processing_Location,type:"picklist",options:[{Id:"North America",Name:this.$Labels.Permission_Group_North_America},{Id:"Europe",Name:this.$Labels.Permission_Group_Europe}],allowNull:!1,keyString:"Id",valueString:"Name",fieldValue:"maps__DataRegion__c",enabled:!this.isDefaultGroup,validationMsg:"errorMsg",helpText:this.$Labels.Permission_Group_Off_Platform_Processing_Location_Tooltip},{label:this.$Labels.Permission_Group_Maps_Object_Search_Language,type:"picklist",options:[{Id:"SOQL",Name:this.$Labels.Permission_Group_SOQL},{Id:"SOSL",Name:this.$Labels.Permission_Group_SOSL}],allowNull:!1,keyString:"Id",valueString:"Name",fieldValue:"maps__ObjectSearchLanguage__c",enabled:!this.isDefaultGroup,validationMsg:"errorMsg",helpText:this.$Labels.Permission_Group_Maps_Object_Search_Language_Tooltip}]},{header:this.$Labels.Permission_Group_Layers_Header,settings:[{label:this.$Labels.MA_Max_Records_To_Plot,type:"number",fieldValue:"maps__MaxQuerySize__c",enabled:!this.isDefaultGroup,validationMsg:"errorMsg",helpText:this.$Labels.Permission_Group_Max_Record_To_Plot_Tooltip},{label:this.$Labels.Permission_Group_Max_Record_External_Objects,type:"number",fieldValue:"maps__MaxQuerySizeExternal__c",enabled:!this.isDefaultGroup,validationMsg:"errorMsg",helpText:this.$Labels.Permission_Group_Max_Record_External_Objects_Tooltip},{label:this.$Labels.Permission_Group_Folder_Administrator,type:"checkbox",fieldValue:"maps__FolderAdmin__c",enabled:!this.isDefaultGroup,validationMsg:"errorMsg",helpText:this.$Labels.Permission_Group_Folder_Administrator_Tooltip},{label:this.$Labels.MA_Show_Personal_Folders,type:"checkbox",fieldValue:"maps__ShowUserFolders__c",enabled:!this.isDefaultGroup,validationMsg:"errorMsg",helpText:this.$Labels.Permission_Group_Show_User_Folder_Tooltip},{label:this.$Labels.Permission_Group_Show_Personal_Folders,type:"checkbox",fieldValue:"maps__HidePersonalFolder__c",enabled:!this.isDefaultGroup,validationMsg:"errorMsg",helpText:this.$Labels.Permission_Group_Show_Personal_Folders_Tooltip},{label:this.$Labels.Permission_Group_Enable_ArcGIS_Layers,type:"checkbox",fieldValue:"maps__EnableArcGIS__c",enabled:!this.isDefaultGroup,validationMsg:"errorMsg",helpText:this.$Labels.Permission_Group_Enable_ArcGIS_Layers_Tooltip},{label:this.$Labels.Permission_Group_Manage_Data_Layers,type:"checkbox",fieldValue:"maps__CreateDataLayers__c",enabled:!this.isDefaultGroup,validationMsg:"errorMsg",helpText:this.$Labels.Permission_Group_Manage_Data_Layers_Tooltip},{label:this.$Labels.Permission_Group_Manage_Data_Sources,type:"checkbox",fieldValue:"maps__SelfHostedDataUser__c",enabled:!this.isDefaultGroup&&this.isMapsAdvEnabled,validationMsg:"errorMsg",helpText:this.$Labels.Permission_Group_Manage_Data_Sources_Tooltip},{label:this.$Labels.Permission_Group_Manage_Territory_Layers,type:"checkbox",fieldValue:"maps__TerritoryLayerCreation__c",enabled:!this.isDefaultGroup&&this.isMapsAdvEnabled,validationMsg:"errorMsg",helpText:this.$Labels.Permission_Group_Manage_Territory_Layers_Tooltip},{label:this.$Labels.Permission_Group_Plot_on_Load_Layers,type:"search",defaultValue:"plotOnLoadLayers",enabled:!this.isDefaultGroup,validationMsg:"errorMsg",helpText:this.$Labels.Permission_Group_Plot_on_Load_Layers_Tooltip},{label:this.$Labels.Permission_Group_Auto_Check_Out,type:"checkbox",fieldValue:"maps__AutoCheckOut__c",enabled:!this.isDefaultGroup,validationMsg:"errorMsg",helpText:this.$Labels.Permission_Group_Auto_Check_Out_Tooltip},{label:this.$Labels.Permission_Group_Default_Proximity_Type,type:"picklist",options:[{id:"Circle",label:this.$Labels.Routes_As_Crow_Flies},{id:"travelTime",label:this.$Labels.MA_Travel_Time},{id:"travelDistance",label:this.$Labels.MA_Travel_Distance}],allowNull:!1,keyString:"id",valueString:"label",defaultValue:"defaultProximityType",enabled:!this.isDefaultGroup,overridable:"defaultProximityType",validationMsg:"errorMsg",helpText:this.$Labels.Permission_Group_Default_Proximity_Type_Tooltip},{label:this.$Labels.Permission_Group_Show_Traffic_Details,type:"checkbox",defaultValue:"enableTraffic",enabled:!this.isDefaultGroup,validationMsg:"errorMsg",helpText:this.$Labels.Permission_Group_Show_Traffic_Details_Tooltip},{label:this.$Labels.Permission_Group_Invert_Proximity,type:"checkbox",defaultValue:"invertProximity",enabled:!this.isDefaultGroup,overridable:"invertProximity",validationMsg:"errorMsg",helpText:this.$Labels.Permission_Group_Invert_Proximity_Tooltip},{label:this.$Labels.Permission_Group_Allow_Bad_Addressed,type:"checkbox",defaultValue:"allowBadAddressExport",enabled:!this.isDefaultGroup,validationMsg:"errorMsg",helpText:this.$Labels.Permission_Group_Allow_Bad_Addressed_Tooltip}]},{header:this.$Labels.Permission_Group_Information_Window_Section_Header,settings:[{label:this.$Labels.Permission_Group_Edit_Details_Tab_Fields,type:"checkbox",fieldValue:"maps__EditableTooltips__c",enabled:!this.isDefaultGroup,validationMsg:"errorMsg",helpText:this.$Labels.Permission_Group_Edit_Details_Tab_Fields_Tooltip},{label:this.$Labels.Permission_Group_Enable_Weather_Tab,type:"checkbox",fieldValue:"maps__ShowWeather__c",enabled:!this.isDefaultGroup,validationMsg:"errorMsg",helpText:this.$Labels.Permission_Group_Enable_Weather_Tab_Tooltip},{label:this.$Labels.Permission_Group_Actions_Tab_Buttonset,type:"picklist",options:this.buttonSet,allowNull:!0,keyString:"Id",valueString:"Name",fieldValue:"maps__ButtonSet__c",enabled:!this.isDefaultGroup,validationMsg:"errorMsg",helpText:this.$Labels.Permission_Group_Actions_Tab_Buttonset_Tooltip}]},{header:this.$Labels.Permission_Group_Routes_And_Schedule_Header,settings:[{label:this.$Labels.Permission_Group_Show_Routes_Tab,type:"checkbox",defaultValue:"showRoutesTabDesktop",enabled:!this.isDefaultGroup,validationMsg:"errorMsg",helpText:this.$Labels.Permission_Group_Show_Routes_Tab_Tooltip},{label:this.$Labels.Permission_Group_Show_Schedule_Tab,type:"checkbox",defaultValue:"showScheduleTabDesktop",enabled:!this.isDefaultGroup,validationMsg:"errorMsg",helpText:this.$Labels.Permission_Group_Show_Schedule_Tab_Tooltip},{label:this.$Labels.Permission_Group_Default_Transportation_Mode,type:"picklist",options:[{id:"driving",label:this.$Labels.MA_DRIVING},{id:"walking",label:this.$Labels.MA_WALKING},{id:"bicycling",label:this.$Labels.MA_BICYCLING}],allowNull:!1,keyString:"id",valueString:"label",defaultValue:"defaultTransportationMode",enabled:!this.isDefaultGroup,overridable:"defaultTransportationMode",validationMsg:"errorMsg",helpText:this.$Labels.Permission_Group_Default_Transportation_Mode_Tooltip},{label:this.$Labels.Permission_Group_Optimization_Method,type:"picklist",options:[{id:"fastest shift completion",label:this.$Labels.MA_Fastest_Shift_Completion},{id:"least windshield time",label:this.$Labels.MA_Least_Windshield_Time}],allowNull:!1,keyString:"id",valueString:"label",defaultValue:"optimizationMethod",enabled:!this.isDefaultGroup,overridable:"optimizationMethod",validationMsg:"errorMsg",helpText:this.$Labels.Permission_Group_Optimization_Method_Tooltip},{label:this.$Labels.Permission_Group_Allow_Duplicate_Events,type:"checkbox",defaultValue:"enableDuplicateStops",enabled:!this.isDefaultGroup,overridable:"enableDuplicateStops",validationMsg:"errorMsg",helpText:this.$Labels.Permission_Group_Allow_Duplicate_Events_Tooltip},{label:this.$Labels.Permission_Group_Default_Event_Duration,type:"picklist",defaultValue:"stopEventDuration",options:this.buildDurationOptions(),allowNull:!1,keyString:"id",valueString:"label",enabled:!this.isDefaultGroup,overridable:"stopEventDuration",validationMsg:"errorMsg",helpText:this.$Labels.Permission_Group_Default_Event_Duration_Tooltip},{label:this.$Labels.Permission_Group_Default_Route_Type,type:"picklist",defaultValue:"routeType",options:[{id:"Standard",label:this.$Labels.MA_Standard},{id:"TimeBased",label:this.$Labels.MA_Time_Based_Route}],allowNull:!1,keyString:"id",valueString:"label",enabled:!this.isDefaultGroup,overridable:"routeType",validationMsg:"errorMsg",helpText:this.$Labels.Permission_Group_Default_Route_Type_Tooltip},{label:this.$Labels.Permission_Group_Default_Start_Location,type:"search",defaultValue:"defaultStartLocation",enabled:!this.isDefaultGroup,overridable:"defaultStartLocation",validationMsg:"errorMsg",helpText:this.$Labels.Permission_Group_Default_Start_Location_Tooltip},{label:this.$Labels.Permission_Group_Default_End_Location,type:"search",defaultValue:"defaultEndLocation",enabled:!this.isDefaultGroup,overridable:"defaultEndLocation",validationMsg:"errorMsg",helpText:this.$Labels.Permission_Group_Default_End_Location_Tooltip},{label:this.$Labels.Permission_Group_Sunday_Shift_Hours,type:"timepicker",defaultValue:"sunday",enabled:!this.isDefaultGroup,overridable:"sunday",validationMsg:"errorMsg",helpText:this.$Labels.Permission_Group_Sunday_Shift_Hours_Tooltip},{label:this.$Labels.Permission_Group_Monday_Shift_Hours,type:"timepicker",defaultValue:"monday",enabled:!this.isDefaultGroup,overridable:"monday",validationMsg:"errorMsg",helpText:this.$Labels.Permission_Group_Monday_Shift_Hours_Tooltip},{label:this.$Labels.Permission_Group_Tuesday_Shift_Hours,type:"timepicker",defaultValue:"tuesday",enabled:!this.isDefaultGroup,overridable:"tuesday",validationMsg:"errorMsg",helpText:this.$Labels.Permission_Group_Tuesday_Shift_Hours_Tooltip},{label:this.$Labels.Permission_Group_Wednesday_Shift_Hours,type:"timepicker",defaultValue:"wednesday",enabled:!this.isDefaultGroup,overridable:"wednesday",validationMsg:"errorMsg",helpText:this.$Labels.Permission_Group_Wednesday_Shift_Hours_Tooltip},{label:this.$Labels.Permission_Group_Thursday_Shift_Hours,type:"timepicker",defaultValue:"thursday",enabled:!this.isDefaultGroup,overridable:"thursday",validationMsg:"errorMsg",helpText:this.$Labels.Permission_Group_Thursday_Shift_Hours_Tooltip},{label:this.$Labels.Permission_Group_Friday_Shift_Hours,type:"timepicker",defaultValue:"friday",enabled:!this.isDefaultGroup,overridable:"friday",validationMsg:"errorMsg",helpText:this.$Labels.Permission_Group_Friday_Shift_Hours_Tooltip},{label:this.$Labels.Permission_Group_Saturday_Shift_Hours,type:"timepicker",defaultValue:"saturday",enabled:!this.isDefaultGroup,overridable:"saturday",validationMsg:"errorMsg",helpText:this.$Labels.Permission_Group_Saturday_Shift_Hours_Tooltip},{label:this.$Labels.Permission_Group_Include_Shift_Break,type:"checkbox",defaultValue:"includeBreak",enabled:!this.isDefaultGroup,overridable:"includeBreak",validationMsg:"errorMsg",helpText:this.$Labels.Permission_Group_Include_Shift_Break_Tooltip},{label:this.$Labels.Permission_Group_Break_Time,type:"timepicker",defaultValue:"shiftBreakHours",enabled:!this.isDefaultGroup,overridable:"shiftBreakHours",validationMsg:"errorMsg",helpText:this.$Labels.Permission_Group_Break_Time_Tooltip},{label:this.$Labels.Permission_Allow_Routes_to_be_Emailed,type:"checkbox",defaultValue:"allowRoutesEmailed",enabled:!this.isDefaultGroup,validationMsg:"errorMsg",helpText:this.$Labels.Permission_Allow_Routes_to_be_Emailed_Tooltip}]},{header:this.$Labels.Permission_Group_List_Header,settings:[{label:this.$Labels.Permission_Allow_Maximum_Records_on_Pages,type:"picklist",options:[10,20,30,40,50],allowNull:!1,defaultValue:"defaultPageSize",enabled:!this.isDefaultGroup,overridable:"defaultPageSize",validationMsg:"errorMsg",helpText:this.$Labels.Permission_Allow_Maximum_Records_on_Pages_Tooltip},{label:this.$Labels.Permission_Allow_Default_Column_Visibility_and_Order,type:"multiselect",defaultValue:"columnsConfig",enabled:!this.isDefaultGroup,overridable:"columnsConfig",validationMsg:"errorMsg",helpText:this.$Labels.Permission_Allow_Permission_Allow_Default_Column_Visibility_and_Order_Tooltip},{label:this.$Labels.Permission_Group_Allow_Marker_Exports,type:"checkbox",fieldValue:"maps__AllowExports__c",enabled:!this.isDefaultGroup,validationMsg:"errorMsg",helpText:this.$Labels.Permission_Group_Allow_Marker_Exports_Tooltip},{label:this.$Labels.Permission_Group_Export_Maximum_Records,type:"number",fieldValue:"maps__MaxExportSize__c",enabled:!this.isDefaultGroup,validationMsg:"errorMsg",helpText:this.$Labels.Permission_Group_Export_Maximum_Records_Tooltip}]}]},{section:this.$Labels.MA_Mobile,categories:[{settings:[{label:this.$Labels.Permission_Group_Show_Routes_Tab,type:"checkbox",defaultValue:"showRoutesTabMobile",enabled:!this.isDefaultGroup,validationMsg:"errorMsg",helpText:this.$Labels.Permission_Group_Break_Time_Mobile_Tooltip},{label:this.$Labels.Permission_Group_Show_Schedule_Tab,type:"checkbox",defaultValue:"showScheduleTabMobile",enabled:!this.isDefaultGroup,validationMsg:"errorMsg",helpText:this.$Labels.Permission_Group_Show_Schedule_Tab_Tooltip},{label:this.$Labels.MA_Max_Records_To_Plot,type:"number",fieldValue:"maps__MobileQuerySize__c",enabled:!this.isDefaultGroup,overridable:"maxQueryMobile",validationMsg:"errorMsg",helpText:this.$Labels.Permission_Group_Maximum_Records_to_Plot_Tooltip},{label:this.$Labels.Permission_Group_Plot_Visible_Area,type:"checkbox",defaultValue:"plotInVisibleArea",enabled:!this.isDefaultGroup,overridable:"plotInVisibleArea",validationMsg:"errorMsg",helpText:this.$Labels.Permission_Group_Plot_Visible_Area_Tooltip},{label:this.$Labels.Permission_Group_Enable_Live_Mobile_Tracking,type:"checkbox",fieldValue:"maps__LiveMobileTracking__c",enabled:!this.isDefaultGroup&&this.isMapsLiveMobileEnabled,validationMsg:"errorMsg",helpText:this.$Labels.Permission_Group_Enable_Live_Mobile_Tracking_Tooltip},{label:this.$Labels.Permission_Group_My_Location_Zoom_Level,type:"picklist",options:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22],allowNull:!1,defaultValue:"myLocationZoomLevel",enabled:!this.isDefaultGroup,validationMsg:"errorMsg",helpText:this.$Labels.Permission_Group_My_Location_Zoom_Level_Tooltip},{label:this.$Labels.Permission_Group_Show_Last_Session,type:"checkbox",defaultValue:"retainMobileState",enabled:!this.isDefaultGroup,overridable:"retainMobileState",validationMsg:"errorMsg",helpText:this.$Labels.Permission_Group_Show_Last_Session_Tooltip},{label:this.$Labels.Permission_Group_Schedule_Based_on_Current_Time,type:"checkbox",defaultValue:"currentTimeAndLoc",enabled:!this.isDefaultGroup,overridable:"currentTimeAndLoc",validationMsg:"errorMsg",helpText:this.$Labels.Permission_Group_Schedule_Based_on_Current_Time_Tooltip},{label:this.$Labels.Permission_Group_Map_It_Proximity,type:"checkbox",defaultValue:"mapItProximity",enabled:!this.isDefaultGroup,overridable:"mapItProximity",validationMsg:"errorMsg",helpText:this.$Labels.Permission_Group_Map_It_Proximity_Tooltip},{label:this.$Labels.Permission_Group_Set_Folder_Structure,type:"picklist",options:[{id:"showHierarchy",label:this.$Labels.Permission_Group_Show_Folder_Hierarchy_Option},{id:"flatAlphabetical",label:this.$Labels.Permission_Group_Flat_Alphabetically_Option},{id:"flatFolder",label:this.$Labels.Permission_Group_Flat_Organized_by_Folder_Option}],keyString:"id",valueString:"label",allowNull:!1,defaultValue:"mobileFolderStructure",enabled:!this.isDefaultGroup,validationMsg:"errorMsg",helpText:this.$Labels.Permission_Group_Set_Folder_Structure_Tooltip}]}]}]},contingentOptions(){return{radius:[{label:this.$Labels.Permission_Group_Default_Proximity_Radius_Distance,type:"number",contingent:!0,defaultValue:"defaultProximityRadius",enabled:!this.isDefaultGroup,overridable:"defaultProximityType",helpText:this.$Labels.Permission_Group_Default_Proximity_Radius_Distance_Tooltip},{label:this.$Labels.Permission_Group_Default_Proximity_Radius_Units,type:"picklist",contingent:!0,options:[{id:"MILES",label:this.$Labels.Routes_Miles},{id:"KM",label:this.$Labels.Routes_Kilometers},{id:"METERS",label:this.$Labels.MA_Meters},{id:"YARDS",label:this.$Labels.MA_Yards},{id:"FEET",label:this.$Labels.MA_Feet}],allowNull:!1,keyString:"id",valueString:"label",defaultValue:"defaultProximityUnits",enabled:!this.isDefaultGroup,overridable:"defaultProximityType",helpText:this.$Labels.Permission_Group_Default_Proximity_Radius_Units_Tooltip}],time:[{label:this.$Labels.Permission_Group_Default_Proximity_Hours,type:"number",contingent:!0,defaultValue:"defaultProximityHours",enabled:!this.isDefaultGroup,overridable:"defaultProximityType",helpText:this.$Labels.Permission_Group_Default_Proximity_Hours_Tooltip},{label:this.$Labels.Permission_Group_Default_Proximity_Minutes,type:"number",contingent:!0,defaultValue:"defaultProximityMins",enabled:!this.isDefaultGroup,overridable:"defaultProximityType",helpText:this.$Labels.Permission_Group_Default_Proximity_Minutes_Tooltip}]}},isMapsAdvEnabled:()=>window.advancedFeatureLicenseEnabled,isMapsLiveMobileEnabled:()=>window.liveTrackingFeatureLicenseEnabled},async mounted(){this.setButtonGroupWidth(),await this.getButtonSetInfo(),await this.getMapTilesInfo()},beforeCreate(){this.$store=new(l().Store)(c)},created(){window.addEventListener("scroll",this.handleScroll),window.addEventListener("resize",this.setButtonGroupWidth),this.reset()},destroyed(){window.removeEventListener("scroll",this.handleScroll),window.removeEventListener("resize",this.setButtonGroupWidth)},methods:{saveSettingsGroup:p.C,...(0,i.mapMutations)({store__setSettingsGroup:"setSettingsGroup",store__resetSettingsGroup:"resetSettingsGroup"}),createNewPermissionGroup(){this.store__resetSettingsGroup(),this.store__toggle.createMode="new",this.store__toggle.showNewGroupModal=!0},clonePermissionGroup(){this.store__toggle.createMode="clone",this.store__toggle.showNewGroupModal=!0},async getButtonSetInfo(){try{const e={action:"get_buttonset_info"},{results:t,success:s,details:a}=await this.$remote("maps.AdminAJAXResources.AdminStartUpAction",[e]);s?this.buttonSet=t:(O.showError({message:`${this.$Labels.MA_Error}. ${this.$Labels.Error_Getting_Button_Sets}.`,timeOut:6e3}),console.error(a))}catch(e){O.showError({message:`${this.$Labels.MA_Error}. ${e.event.message}.`,timeOut:6e3}),console.error(e)}},async getMapTilesInfo(){try{const e={action:"get_settings"},{mapTiles:t,success:s,details:a}=await this.$remote("maps.AdminAJAXResources.AdminStartUpAction",[e]);s?(this.mapTiles=[...this.mapTiles,...t],0===this.mapTiles.filter((e=>e.Id===this.store__settingsGroup.maps__DefaultMapTile__c)).length&&(this.store__settingsGroup.maps__DefaultMapTile__c=this.$Labels.Permission_Group_Roadmap_ESRI,this.store__setSettingsGroup(this.store__settingsGroup))):(O.showError({message:`${this.$Labels.MA_Error}. ${this.$Labels.Error_Getting_Custom_Map_Tiles}.`,timeOut:6e3}),console.error(a))}catch(e){console.error(e),O.showError({message:`${this.$Labels.MA_Error}. ${e.event.message}.`,timeOut:6e3})}},async populatePermissionGroup(e,t){this.isLoading=!0;try{const{group:s,success:i,error:l}=await this.$remote("maps.UserAJAXResources.GetSettingsGroupById",[e]);if(i){switch(t){case"edit":"defaultSettings"===e&&(s.Id=e);break;case"clone":delete s.Id,s.Name=(0,a.N4)(this.$Labels.Permission_Group_Copy_Of_Name_Label,[s.Name]),s.maps__Description__c=this.$Labels.Permission_Group_Custom_Permission_Group_Placeholder,this.store__toggle.saveOnCreate=!0;break;default:console.error(`mode undefined or invalid: ${t}`)}this.store__setSettingsGroup(s),"clone"===t&&(this.store__toggle.readOnlyMode=!1),this.store__toggle.showPermissionGroupView=!0,this.setButtonGroupWidth()}else O.showError({message:"Error",subMessage:"Could not get Permission Group details",timeOut:8e3}),console.error(l)}catch(e){O.showError({message:"Error",subMessage:"Remoting Error",timeOut:8e3}),console.error(e)}finally{this.isLoading=!1}},async saveChanges(){this.isLoading=!0,await(0,p.C)(this.store__settingsGroup,this.store__entityIdsForInsert,this.store__assignmentIdsForDelete,!0)&&(this.store__toggle.showPermissionGroupView=!1,this.reset(),this.store__toggle.readOnlyMode=!0),this.isLoading=!1},cancelAction(){this.store__toggle.readOnlyMode?this.reset():(this.store__settingsGroup.Id||this.reset(),this.store__toggle.readOnlyMode=!0)},reset(){this.$store.commit("resetSettingsGroup"),this.store__toggle.showPermissionGroupView=!1},buildDurationOptions(){const e=[];let t=5;for(;t<360;)e.push({label:(0,a.N4)(this.$Labels.Settings_Time_Duration_Label,[Math.floor(t/60),t%60]),id:`${Math.floor(t/60)} hr, ${t%60} min`}),t+=5;return e},setButtonGroupWidth(){this.$refs.actionButtonGroup&&(this.$refs.actionButtonGroup.style.width=`${this.$refs.settingsContainer.getBoundingClientRect().width}px`)},handleScroll(){this.$nextTick((()=>{const e=this.$refs.settingsContainer?this.$refs.settingsContainer.getBoundingClientRect():null,t=this.$refs.actionButtonGroup?this.$refs.actionButtonGroup.getBoundingClientRect():null;e&&t&&(e.bottom<=window.innerHeight+t.height?this.atBottomOfPage=!0:e.bottom>=window.innerHeight-t.height&&(this.atBottomOfPage=!1))}))}}},H=(0,b.Z)(F,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{height:"100%"},attrs:{id:"app"}},[a("div",{staticClass:"slds-is-relative slds-p-top_medium",class:{"slds-p-bottom_medium":e.store__toggle.showPermissionGroupView}},[a("div",{staticClass:"slds-page-header slds-page-header_record-home",class:{"slds-has-bottom-magnet":!e.store__toggle.showPermissionGroupView}},[a("div",{staticClass:"slds-page-header__row"},[a("div",{staticClass:"slds-page-header__col-title"},[a("div",{staticClass:"slds-media"},[a("div",{staticClass:"slds-media__figure"},[a("span",{staticClass:"slds-icon_container slds-icon-standard-screen",attrs:{slot:"icon"},slot:"icon"},[a("Icon",{staticClass:"slds-icon_container slds-icon-standard-screen",attrs:{src:s(7964),iconClass:["slds-icon","ma-Maps-icon"]}})],1)]),e._v(" "),a("div",{staticClass:"slds-media__body"},[a("div",{staticClass:"slds-page-header__name"},[a("div",{staticClass:"slds-page-header__name-title"},[a("h1",[a("span",[e._v(e._s(e.$Labels.Permission_Group_Page_Header))]),e._v(" "),a("span",{staticClass:"slds-page-header__title slds-truncate",attrs:{title:e.store__selectedGroup}},[e._v(e._s(e.store__selectedGroup))])])])])])])]),e._v(" "),a("div",{staticClass:"slds-page-header__col-actions"},[a("div",{staticClass:"slds-page-header__controls"},[e.store__toggle.showPermissionGroupView?e._e():a("div",{staticClass:"slds-page-header__control"},[a("div",{staticClass:"slds-form-element__control slds-input-has-icon slds-input-has-icon_left-right",staticStyle:{"min-width":"250px"}},[a("Icon",{attrs:{iconClass:["slds-input__icon","slds-input__icon_left"],category:"utility",name:"search"}}),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.store__config.filterTerm,expression:"store__config.filterTerm"}],staticClass:"slds-input",attrs:{id:"text-input-id-1",type:"text",placeholder:e.$Labels.Permission_Group_Search_Placeholder},domProps:{value:e.store__config.filterTerm},on:{input:function(t){t.target.composing||e.$set(e.store__config,"filterTerm",t.target.value)}}}),e._v(" "),a("ButtonIcon",{staticClass:"slds-input__icon slds-input__icon_right",attrs:{iconCategory:"utility",iconName:"clear",title:"Clear",iconClass:"slds-icon-text-light",assistiveText:"Clear"},on:{click:function(t){e.store__config.filterTerm=null}}})],1)]),e._v(" "),a("div",{staticClass:"slds-page-header__control"},[a("ul",{staticClass:"slds-button-group-list"},[e.store__toggle.showPermissionGroupView?e._e():a("li",[a("button",{staticClass:"slds-button slds-button_neutral slds-m-left_x-small",attrs:{type:"button"},on:{click:function(t){return e.createNewPermissionGroup()}}},[e._v("\n                                        "+e._s(e.$Labels.MA_Create)+"\n                                    ")])]),e._v(" "),e.store__toggle.showPermissionGroupView?a("li",[a("button",{staticClass:"slds-button slds-button_neutral slds-m-left_x-small",attrs:{type:"button",disabled:e.isDefaultGroup||!e.store__toggle.readOnlyMode},on:{click:function(t){e.store__toggle.readOnlyMode=!e.store__toggle.readOnlyMode}}},[e._v("\n                                        "+e._s(e.$Labels.MA_Edit)+"\n                                    ")])]):e._e(),e._v(" "),e.store__toggle.showPermissionGroupView?a("li",[a("button",{staticClass:"slds-button slds-button_neutral slds-m-left_x-small",attrs:{type:"button"},on:{click:function(t){return e.clonePermissionGroup()}}},[e._v("\n                                        "+e._s(e.$Labels.MA_Clone)+"\n                                    ")])]):e._e()])])])])]),e._v(" "),e.store__toggle.showPermissionGroupView?a("div",{staticClass:"slds-page-header__row slds-page-header__row_gutters"},[a("div",{staticClass:"slds-page-header__col-details"},[a("ul",{staticClass:"slds-page-header__detail-row"},[a("li",{staticClass:"slds-p-around_x-small"},[a("div",{staticClass:"slds-text-title",attrs:{title:e.$Labels.Permission_Group_Name_Label}},[e._v("\n                                "+e._s(e.$Labels.Permission_Group_Name_Label)+"\n                            ")]),e._v(" "),a("div",{staticClass:"slds-truncate",attrs:{title:e.$Labels.Permission_Group_Name_Label}},[e._v("\n                                "+e._s(e.store__settingsGroup.Name)+"\n                            ")])]),e._v(" "),a("li",{staticClass:"slds-p-around_x-small"},[a("div",{staticClass:"slds-text-title",attrs:{title:e.$Labels.Permission_Group_Description}},[e._v("\n                                "+e._s(e.$Labels.Permission_Group_Description)+"\n                            ")]),e._v(" "),a("div",{staticClass:"slds-truncate",attrs:{title:e.$Labels.Permission_Group_Description}},[e._v("\n                                "+e._s(e.store__settingsGroup.maps__Description__c)+"\n                            ")])])])])]):e._e()])]),e._v(" "),e.store__toggle.showPermissionGroupView?e._e():a("Dashboard",{staticClass:"slds-card slds-p-bottom_xx-large slds-has-top-magnet"}),e._v(" "),a("div",{ref:"settingsContainer",staticClass:"slds-is-relative"},[e.store__toggle.showPermissionGroupView&&!e.store__toggle.readOnlyMode?a("PermissionGroup",{attrs:{options:e.options,contingentOptions:e.contingentOptions}}):e._e(),e._v(" "),e.store__toggle.showPermissionGroupView&&e.store__toggle.readOnlyMode?a("PermissionGroupReadonly",{attrs:{options:e.options,contingentOptions:e.contingentOptions}}):e._e(),e._v(" "),e.store__toggle.showPermissionGroupView?a("div",{ref:"actionButtonGroup",staticClass:"slds-grid slds-grid_align-center slds-p-around_small action-button-group",class:{fixed:!e.atBottomOfPage}},[a("div",{staticClass:"slds-col"},[a("ul",{staticClass:"slds-button-group-row"},[a("li",{staticClass:"slds-button-group-item"},[a("button",{staticClass:"slds-button slds-button_neutral",on:{click:function(t){return e.cancelAction()}}},[e._v("\n                            "+e._s(e.store__toggle.readOnlyMode?e.$Labels.MA_Back:e.store__settingsGroup.Id?e.$Labels.MA_Cancel:e.$Labels.MA_Back)+"\n                        ")])]),e._v(" "),a("li",{staticClass:"slds-button-group-item"},[a("button",{staticClass:"slds-button slds-button_brand",attrs:{disabled:e.isDefaultGroup||e.store__toggle.readOnlyMode},on:{click:function(t){return e.saveChanges()}}},[e._v("\n                            "+e._s(e.$Labels.MA_Save)+"\n                        ")])]),e._v(" "),e._m(0)])])]):e._e()],1),e._v(" "),e.store__toggle.showSearchModal?a("AssignmentSearchModal"):e._e(),e._v(" "),e.store__toggle.showNewGroupModal?a("NewGroupModal"):e._e()],1)}),[function(){var e=this.$createElement,t=this._self._c||e;return t("li",[t("div",{staticClass:"slds-dropdown-trigger slds-dropdown-trigger_click"})])}],!1,null,"013582fa",null).exports}}]);