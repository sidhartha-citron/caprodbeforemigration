(globalThis.webpackChunkmaps_desktop=globalThis.webpackChunkmaps_desktop||[]).push([[3177],{9048:(e,t,s)=>{"use strict";s.d(t,{_:()=>a,a:()=>i});const a=(e,t)=>{if(e&&"object"==typeof e&&Array.isArray(t)){for(;t.length&&e;)e=e[t.shift()];return e}},i=(e,t="maps__")=>{try{const s=new Set(["marker","scatterMarker","clusterMarker","clusterGroup","workers","DeviceHistory","orderedPolyline","distanceLimitCircle","heatmapLayer"]);Object.entries(e).forEach((([a,o])=>{if(!s.has(a))if(a.startsWith(t)){const s=a.replace(t,"");e[s]=o,delete e[a],null!=e[s]&&"object"==typeof e[s]&&i(e[s],t)}else"object"==typeof o&&i(o,t)}))}catch(e){}return e}},8719:(e,t,s)=>{"use strict";s.d(t,{K:()=>n,x:()=>l});var a=s(5735),i=s.n(a),o=s(2423),c=s(5658);const n=async({sobject:e="",permissionsToCheck:t={isAccessible:!0},updateProgress:s=(()=>{}),includeDedicatedLookupOptions:a=!1})=>(async({sobject:e="",permissionsToCheck:t={isAccessible:!0},fieldIndex:s,progressCallback:a=(()=>{}),includeDedicatedLookupOptions:n=!1})=>{const{success:l=!1,data:r={},message:d}=await(0,c.wX)("RemoteFunctions.GetGlobalDescribeFields",[e,t,s,n],{escape:!1,buffer:!1});if(l){const{hasMore:s=!1,index:c,availableFields:n=[],totalSize:l=0}=r;if(s){let s=n;return await(async(e="",t={isAccessible:!0},s,a=(()=>{}))=>new Promise((c=>{let n=[];const l={status:"Running Batch",total:0,complete:0,success:0,failure:0},r=i()(((e,t)=>{const{object:s,limits:i,index:c}=e;((e="",t={isAccessible:!0},s)=>new Promise(((a,i)=>{(new o.Z).setAction("maps.RemoteFunctions.GetGlobalDescribeFields").setErrorHandler((e=>{i(new Error(e))})).invoke([e,t,s],(e=>{const{success:t=!1,data:s=[]}=e;t?a(s):(console.warn("Unable to get data from Salesforce."),i(new Error("Unable to get data from Salesforce (SFDC fields).")))}),{escape:!1,buffer:!1,timeout:45e3})})))(s,i,c).then((e=>{const{hasMore:t=!1,availableFields:a=[]}=e,o=e.index;t&&r.push({object:s,limits:i,index:o}),n=[...n,...a],l.success+=a.length})).catch((e=>{console.warn("schema error",e),l.failure++})).finally((()=>{l.complete++,a(l),t()}))}),1);r.push({object:e,limits:t,index:s}),r.drain=()=>{const e=n.sort(((e,t)=>e.label>t.label?1:-1));c(e)}})))(e,t,c,(e=>{e.total=l,a(e)})).then((e=>{s=[...s,...e]})),s}return n}throw console.warn("Unable to get data from Salesforce."),new Error(d)})({sobject:e,permissionsToCheck:t,fieldIndex:0,updateProgress:e=>{s(e)},includeDedicatedLookupOptions:a}),l=async(e={},t=!1,s=(()=>{}))=>{const a=e.hideExtraObjects||!1;let c;return await(async(e=!1,t=!0,s={},a=0,c=(()=>{}))=>new Promise(((n,l)=>{const r=a;(new o.Z).setAction("maps.RemoteFunctions.GetGlobalDescribeObjects").setErrorHandler((e=>{l(new Error(e))})).invoke([e,s,t,r],(async a=>{const{success:r=!1,data:d={}}=a;if(r){const{hasMore:a=!1,index:l,availableObjects:r=[],totalSize:_=0}=d;if(a){let a=r;await((e=!1,t=!0,s={},a=0,c=(()=>{}))=>new Promise((n=>{const l={status:"Running Batch",total:0,complete:0,success:0,failure:0};let r=[];const d=i()(((e,t)=>{const{removeExtra:s,limitedSet:a,limits:i,index:n}=e;((e=!1,t=!0,s={},a=0)=>new Promise(((i,c)=>{(new o.Z).setAction("maps.RemoteFunctions.GetGlobalDescribeObjects").setErrorHandler((e=>{c(new Error(e))})).invoke([e,s,t,a],(e=>{const{success:t=!1,data:s={}}=e;t?i(s):(console.warn("Unable to get data from Salesforce."),c(new Error("Unable to get data from Salesforce (SFDC objects).")))}),{escape:!1,buffer:!1})})))(s,a,i,n).then((e=>{const{hasMore:t=!1,availableObjects:o=[]}=e,c=e.index;t&&d.push({removeExtra:s,limitedSet:a,limits:i,index:c}),r=[...r,...o],l.success+=o.length})).catch((e=>{l.failure++,console.warn("schema error",e)})).finally((()=>{l.complete++,c(l),t()}))}),1);d.push({removeExtra:e,limitedSet:t,limits:s,index:a}),d.drain=()=>{const e=r.sort(((e,t)=>e.name>t.name?1:-1));n(e)}})))(e,t,s,l,(e=>{e.total=_,c(e)})).then((e=>{a=[...a,...e]})),n(a)}else n(r)}else console.warn("Unable to get data from Salesforce."),l(new Error("Unable to get data from Salesforce (SFDC objects)."))}),{escape:!1,buffer:!1})})))(a,t,e,0,(e=>{s(e)})).then((e=>{c=e})),c}},8137:e=>{e.exports='<svg xmlns=http://www.w3.org/2000/svg x=0px y=0px width=52px height=52px viewBox="0 0 52 52" enable-background="new 0 0 52 52" xml:space=preserve> <path fill=#FFFFFF d="M31,25.4L44,12.3c0.6-0.6,0.6-1.5,0-2.1L42,8.1c-0.6-0.6-1.5-0.6-2.1,0L26.8,21.2c-0.4,0.4-1,0.4-1.4,0\r\n\tL12.3,8c-0.6-0.6-1.5-0.6-2.1,0l-2.1,2.1c-0.6,0.6-0.6,1.5,0,2.1l13.1,13.1c0.4,0.4,0.4,1,0,1.4L8,39.9c-0.6,0.6-0.6,1.5,0,2.1\r\n\tl2.1,2.1c0.6,0.6,1.5,0.6,2.1,0L25.3,31c0.4-0.4,1-0.4,1.4,0l13.1,13.1c0.6,0.6,1.5,0.6,2.1,0l2.1-2.1c0.6-0.6,0.6-1.5,0-2.1\r\n\tL31,26.8C30.6,26.4,30.6,25.8,31,25.4z"/> </svg> '},6413:e=>{e.exports='<svg xmlns=http://www.w3.org/2000/svg x=0px y=0px width=52px height=52px viewBox="0 0 52 52" enable-background="new 0 0 52 52" xml:space=preserve> <path fill=#FFFFFF d="M26,2C12.8,2,2,12.8,2,26s10.8,24,24,24s24-10.8,24-24S39.2,2,26,2z M8,26c0-9.9,8.1-18,18-18\r\n\tc3.9,0,7.5,1.2,10.4,3.3L11.3,36.4C9.2,33.5,8,29.9,8,26z M26,44c-3.9,0-7.5-1.2-10.4-3.3c5.1-5.1,19.3-19.3,25.1-25.1\r\n\tC42.8,18.5,44,22.1,44,26C44,35.9,35.9,44,26,44z"/> </svg> '},8186:e=>{e.exports='<svg xmlns=http://www.w3.org/2000/svg x=0px y=0px width=52px height=52px viewBox="0 0 52 52" enable-background="new 0 0 52 52" xml:space=preserve> <path fill=#FFFFFF d="M26,2C12.7,2,2,12.7,2,26s10.7,24,24,24s24-10.7,24-24S39.3,2,26,2z M26,14.1c1.7,0,3,1.3,3,3s-1.3,3-3,3\r\n\ts-3-1.3-3-3S24.3,14.1,26,14.1z M31,35.1c0,0.5-0.4,0.9-1,0.9h-3c-0.4,0-3,0-3,0h-2c-0.5,0-1-0.3-1-0.9v-2c0-0.5,0.4-1.1,1-1.1l0,0\r\n\tc0.5,0,1-0.3,1-0.9v-4c0-0.5-0.4-1.1-1-1.1l0,0c-0.5,0-1-0.3-1-0.9v-2c0-0.5,0.4-1.1,1-1.1h6c0.5,0,1,0.5,1,1.1v8\r\n\tc0,0.5,0.4,0.9,1,0.9l0,0c0.5,0,1,0.5,1,1.1V35.1z"/> </svg> '},9718:e=>{e.exports='<svg xmlns=http://www.w3.org/2000/svg x=0px y=0px width=52px height=52px viewBox="0 0 52 52" enable-background="new 0 0 52 52" xml:space=preserve> <path fill=#FFFFFF d="M26,2C12.7,2,2,12.7,2,26s10.7,24,24,24s24-10.7,24-24S39.3,2,26,2z M39.4,20L24.1,35.5\r\n\tc-0.6,0.6-1.6,0.6-2.2,0L13.5,27c-0.6-0.6-0.6-1.6,0-2.2l2.2-2.2c0.6-0.6,1.6-0.6,2.2,0l4.4,4.5c0.4,0.4,1.1,0.4,1.5,0L35,15.5\r\n\tc0.6-0.6,1.6-0.6,2.2,0l2.2,2.2C40.1,18.3,40.1,19.3,39.4,20z"/> </svg> '},5953:e=>{e.exports='<svg xmlns=http://www.w3.org/2000/svg width=52 height=52 viewBox="0 0 52 52"><path fill=#fff d="m51.4 42.5l-22.9-37c-1.2-2-3.8-2-5 0l-22.9 37c-1.4 2.3 0 5.5 2.5 5.5h45.8c2.5 0 4-3.2 2.5-5.5z m-25.4-2.5c-1.7 0-3-1.3-3-3s1.3-3 3-3 3 1.3 3 3-1.3 3-3 3z m3-9c0 0.6-0.4 1-1 1h-4c-0.6 0-1-0.4-1-1v-13c0-0.6 0.4-1 1-1h4c0.6 0 1 0.4 1 1v13z"></path></svg>'},3588:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>g});var a=s(945),i=s(2766),o=s(5602),c=s(5908),n=s.n(c),l=s(257),r=s(9048),d=s(5735),_=s.n(d),p=s(8719);const{MARemoting:m}=window,b=new(n().Store)({state:{showAdditionalFields:!0,callouts:0,isLoading:!1,toastMsg:null,toastType:"error",showAllObjects:!1,availableObjects:[],existingObjects:[],newBaseObject:{},newObjectData:{AddressFields:[],BaseObjectLabelPlural:"",BooleanFields:[],CoordinateFields:[],DatetimeFields:[],ObjectName:"",ParentBaseObject:"",QualityFields:[],RecordTypes:[],RelationshipFields:[],PolymorphicFields:{},isPolymorphic:!1,hasMarkerLayer:!1,ShapeFields:[],SimilarityFields:[],TooltipFields:[]},existingBaseObject:{},baseObjectDefaults:{Name:"",maps__AddressObject__c:"SAME",maps__City__c:"",maps__DisableGlobalSearch__c:!1,maps__Country__c:"",maps__Description__c:"",maps__Latitude__c:"",maps__Longitude__c:"",maps__Name__c:"",maps__PostalCode__c:"",maps__PriorityField__c:"",maps__PriorityType__c:"",maps__RecordTypeId__c:"--All--",maps__RoutingEndTime__c:"",maps__RoutingHasAddress__c:"",maps__RoutingIsFlexible__c:"",maps__RoutingStartTime__c:"",maps__PolymorphicAddressObject__c:"",maps__Settings__c:{CheckInDateField:"",CheckOutDateField:"",ChatterBody:"Check In @ {tooltip1} ({distance-feet} feet from destination)\n\nMore Info:\nLatitude : {lat},\nLongitude : {long},\nAccuracy in Miles : {accuracy-miles}",CheckInPostTo:"Chatter|Task",VerificationDistance:"",VerificationRequired:!1,VerificationUnit:"mi",MyTerritoryScope:!1,MyTerritoryTeamScope:!1},maps__Tooltip1__c:"",maps__Tooltip2__c:"",maps__Tooltip3__c:"",maps__Tooltip4__c:"",maps__Tooltip5__c:"",maps__Tooltip6__c:"",maps__Tooltip7__c:"",maps__Tooltip8__c:"",maps__Tooltip9__c:"",maps__Tooltip10__c:"",maps__Tooltip11__c:"",maps__Tooltip12__c:"",maps__Tooltip13__c:"",maps__Tooltip14__c:"",maps__Tooltip15__c:"",maps__MapIt_Zoom_Control__c:8,maps__MapIt_Proximity_On__c:!1,maps__MapIt_Show_Inside_Shape__c:!1,maps__MapIt_Proximity_Radius__c:0,maps__MapIt_Proximity_Measurement_Unit__c:"Miles",maps__SkipFailedGeocodes__c:!1,maps__State__c:"",maps__Street__c:"",maps__VerifiedLatitude__c:"",maps__VerifiedLongitude__c:"",maps__Type__c:"Marker"},existingObjectData:{AddressFields:[],BaseObjectLabelPlural:"",BooleanFields:[],CoordinateFields:[],DatetimeFields:[],ObjectName:"",ParentBaseObject:"",QualityFields:[],RecordTypes:[],RelationshipFields:[],PolymorphicFields:{},isPolymorphic:!1,hasMarkerLayer:!1,ShapeFields:[],SimilarityFields:[],TooltipFields:[],supportsSkipGeocoding:!1}},mutations:{setIsPolymorphic(e,{type:t,newValue:s}){"createNew"===t?e.newBaseObject.isPolymorphic=s:e.existingBaseObject.isPolymorphic=s},updateShowAdditionalFields(e,t){e.showAdditionalFields=t},updateAllObjects(e,t){e.showAllObjects=t},resetNewBaseObject(e,t){t=t||"";const s={...e.baseObjectDefaults,Name:t};e.newBaseObject=s},resetExistingBaseObject(e){const t={...e.baseObjectDefaults,Id:""};e.existingBaseObject=t},loadingToggle(e,t){"boolean"==typeof t?t?(e.callouts+=1,e.isLoading=!0):(e.callouts-=1,e.callouts<=0&&(e.isLoading=!1,e.callouts=0)):(e.callouts-=1,e.isLoading=!1)},updateToastMsg(e,{msg:t,type:s}){e.toastType=s,s=s||"error",e.toastMsg=""===t||void 0===t?null:t},updateBaseObjectName(e,{type:t,newValue:s}){"createNew"===t?e.newBaseObject.Name=s:e.existingBaseObject.Name=s},updateBaseObject(e,{type:t,newValue:s}){"createNew"===t?e.newBaseObject=s:e.existingBaseObject=s},updateExistingObjects(e,t){if("object"==typeof t){const s=Object.keys(t),a=[];for(let e=0;e<s.length;e++){const i=t[s[e]];a.push({label:i.Id,name:i.Name__c})}e.existingObjects=a}},updateAvailableObjects(e,t){if("object"==typeof t){const s=Object.values(t);e.availableObjects=s}},updateObjectData(e,{updateType:t,response:s}){"createNew"===t?e.newObjectData=s:e.existingObjectData=s},updatePolymorphicFields(e,{updateType:t,fieldApi:s,response:a}){"createNew"===t?e.newObjectData.PolymorphicFields[s]=a:e.existingObjectData.PolymorphicFields[s]=a},updateObjectFields(e,{updateType:t,response:s}){let a={};a="createNew"===t?e.newObjectData:e.existingObjectData,a.AddressFields=s.AddressFields||[],a.BooleanFields=s.BooleanFields||[],a.CoordinateFields=s.CoordinateFields||[],a.DatetimeFields=s.DatetimeFields||[],a.QualityFields=s.QualityFields||[],a.RecordTypes=s.RecordTypes||[],a.SimilarityFields=s.SimilarityFields||[],a.PriorityFields=s.PriorityFields||[],a.hasMarkerLayer=s.hasMarkerLayer||!1},updateExistingObjectData(e,{data:t}){if("object"==typeof t)if(Object.prototype.hasOwnProperty.call(t,"BaseObject")){const s=t.BaseObject,a={CheckInDateField:"",CheckOutDateField:"",ChatterBody:"Check In @ {tooltip1} ({distance-feet} feet from destination)\n\nMore Info:\nLatitude : {lat},\nLongitude : {long},\nAccuracy in Miles : {accuracy-miles}",CheckInPostTo:"Chatter|Task",VerificationDistance:"",VerificationRequired:!1,VerificationUnit:"mi",MyTerritoryScope:!1,MyTerritoryTeamScope:!1};let i=s.maps__Settings__c;try{const e=JSON.parse(s.maps__Settings__c);i={...a,...e}}catch(e){console.warn(e),console.warn("Unable to parse checkin settings, defaults will be used."),i=a}s.maps__Settings__c=i;const o={...e.baseObjectDefaults,...s};e.existingBaseObject=o}else console.warn("No base object data")},suggestAddressFields(e,t){let s,a;if("createNew"===t?(a=e.newBaseObject||e.baseObjectDefaults,s=e.newObjectData.AddressFields||[]):(a=e.existingBaseObject||e.baseObjectDefaults,s=e.existingObjectData.AddressFields||[]),""===a.maps__Street__c||null===a.maps__Street__c){const e=s.find((e=>-1!==e.value.toLowerCase().indexOf("street")));void 0!==e&&(a.maps__Street__c=e.value)}if(""===a.maps__State__c||null===a.maps__State__c){const e=s.find((e=>-1!==e.value.toLowerCase().indexOf("state")));void 0!==e&&(a.maps__State__c=e.value)}if(""===a.maps__City__c||null===a.maps__City__c){const e=s.find((e=>-1!==e.value.toLowerCase().indexOf("city")));void 0!==e&&(a.maps__City__c=e.value)}if(""===a.maps__PostalCode__c||null===a.maps__PostalCode__c){const e=s.find((e=>-1!==e.value.toLowerCase().indexOf("postalcode")));void 0!==e&&(a.maps__PostalCode__c=e.value)}if(""===a.maps__Country__c||null===a.maps__Country__c){const e=s.find((e=>-1!==e.value.toLowerCase().indexOf("country")));void 0!==e&&(a.maps__Country__c=e.value)}},suggestCoordFields(e,t){let s,a;if("createNew"===t?(a=e.newBaseObject||e.baseObjectDefaults,s=e.newObjectData.CoordinateFields||[]):(a=e.existingBaseObject||e.baseObjectDefaults,s=e.existingObjectData.CoordinateFields||[]),""===a.maps__Latitude__c||null===a.maps__Latitude__c){const e=s.find((e=>-1!==e.value.toLowerCase().indexOf("latitude")));void 0!==e&&(a.maps__Latitude__c=e.value||"")}if(""===a.maps__Longitude__c||null===a.maps__Longitude__c){const e=s.find((e=>-1!==e.value.toLowerCase().indexOf("longitude")));void 0!==e&&(a.maps__Longitude__c=e.value||"")}if(""===a.maps__VerifiedLatitude__c||null===a.maps__VerifiedLatitude__c){const e=s.find((e=>{const t=e.value.toLowerCase();return-1!==t.indexOf("latitude")&&-1!==t.indexOf("verified")}));void 0!==e&&(a.maps__VerifiedLatitude__c=e.value||"")}if(""===a.maps__VerifiedLongitude__c||null===a.maps__VerifiedLongitude__c){const e=s.find((e=>{const t=e.value.toLowerCase();return-1!==t.indexOf("longitude")&&-1!==t.indexOf("verified")}));void 0!==e&&(a.maps__VerifiedLongitude__c=e.value||"")}}},getters:{getShowAdditionalFields:e=>e.showAdditionalFields,getGeoSupport:e=>e.existingObjectData.supportsSkipGeocoding||!1,getNewBaseObjectName:e=>e.newBaseObject.Name,getNewBaseObjectPluralName(e){let t=(0,r._)(e.newObjectData,["BaseObjectLabelPlural"]);return void 0===t&&(t=e.newBaseObject.Name),t},getExistingBaseObjectName:e=>e.existingBaseObject.Name,getExistingBaseObjectPluralName(e){let t=(0,r._)(e.existingObjectData,["BaseObjectLabelPlural"]);return void 0===t&&(t=e.existingBaseObject.Name),t},getExistingBaseObjectId:e=>e.existingBaseObject.Id,getNewObjectData:e=>e.newObjectData,getExistingObjectData:e=>e.existingObjectData,getNewBaseObjectAddressLocation:e=>e.newBaseObject.maps__AddressObject__c,getExistingBaseObjectAddressLocation:e=>e.existingBaseObject.maps__AddressObject__c,getNewPolymorphicAddress:e=>e.newBaseObject.maps__PolymorphicAddressObject__c,getExistingPolymorphicAddress:e=>e.existingBaseObject.maps__PolymorphicAddressObject__c},actions:{populateExistingObjects:({commit:e})=>new Promise(((t,s)=>{(new l.Z).setAction("maps.RemoteFunctions.GetSavedBaseObjects").setErrorHandler((e=>{console.warn(e),s(new Error(e))})).invoke([],(a=>{const{success:i=!1,data:o={}}=a;if(i){const{core:s=[]}=o;e("updateExistingObjects",s),t(a)}else console.warn("Unable to get data from Salesforce."),s(new Error("Unable to get data from Salesforce (Existing Base Objects)."))}),{escape:!1,buffer:!1})})),async getAvailableObjects({state:e,commit:t}){try{const s={isAccessible:!0,isQueryable:!0,hideExtraObjects:!0},a=!e.showAllObjects;t("updateAvailableObjects",await(0,p.x)(s,a))}catch(e){console.warn(e)}},populateFields:({commit:e,getters:t},s)=>new Promise(((a,i)=>{let o="";o="createNew"===s?t.getNewBaseObjectName:t.getExistingBaseObjectName;const c={action:"populate_available_fields",object:o};(new l.Z).setAction(m.AdminStartUpAction).setErrorHandler((e=>{console.warn(e),i(new Error(e))})).invoke([c],(t=>{t&&t.success?(e("updateObjectData",{updateType:s,response:t}),a(t)):(console.warn("Unable to get data from Salesforce."),i(new Error("Unable to get data from Salesforce (SFDC objects).")))}),{escape:!1,buffer:!1})})),describePolymorphicRelationships:({dispatch:e,getters:t},s)=>new Promise(((a,i)=>{let o="";const{fieldApi:c,objectIndex:n}=s;s.updateType?o="createNew"===s.updateType?t.getNewBaseObjectName:t.getExistingBaseObjectName:s.objectIndex&&(o=s.objectName);const r={action:"describePolymorphicRelationships",objectIndex:n,baseObject:o,fieldApi:c};(new l.Z).setAction(m.AdminStartUpAction).setErrorHandler((e=>{console.warn(e),i(new Error(e))})).invoke([r],(t=>{if(t&&t.success)if(t.objectIndexResponse){const{polyOptions:s,fieldApiResponse:o,baseObjectResponse:c,objectIndexResponse:n}=t;e("describePolymorphicRelationships",{fieldApi:o,objectName:c,objectIndex:n}).then((e=>{a([...s,...e])})).catch((e=>{i(e)}))}else a(t.polyOptions);else console.warn("Unable to get data from Salesforce."),i(new Error("Unable to get data from Salesforce (SFDC objects)."))}),{escape:!1,buffer:!1})})),rePopulateFields:({state:e,commit:t,getters:s},a)=>new Promise(((i,o)=>{let c="",n="",r=!1;"createNew"===a?(c=s.getNewBaseObjectName,r=e.newBaseObject.isPolymorphic,n=r?s.getNewPolymorphicAddress:s.getNewBaseObjectAddressLocation):(c=s.getExistingBaseObjectName,r=e.existingBaseObject.isPolymorphic,n=r?s.getExistingPolymorphicAddress:s.getExistingBaseObjectAddressLocation);const d={action:"repopulate_available_fields",object:c,addressloc:n,isPolymorphic:r};(new l.Z).setAction(m.AdminStartUpAction).setErrorHandler((e=>{console.warn(e),o(new Error(e))})).invoke([d],(e=>{e&&e.success?(t("updateObjectFields",{updateType:a,response:e}),i(e)):(console.warn("Unable to get data from Salesforce."),o(new Error("Unable to get data from Salesforce (SFDC objects).")))}),{escape:!1,buffer:!1})})),getExistingSFDCData:({commit:e},t)=>new Promise(((s,a)=>{const i={action:"get_existing_object",object:t,type:"marker"};(new l.Z).setAction(m.AdminStartUpAction).setErrorHandler((e=>{console.warn(e),a(new Error(e))})).invoke([i],(t=>{t&&t.success?(e("updateObjectData",{updateType:"editExisting",response:t}),e("updateExistingObjectData",{data:t}),s(t)):(console.warn("Unable to get data from Salesforce."),a(new Error("Unable to get data from Salesforce (SFDC objects).")))}),{escape:!1,buffer:!1})})),saveSFDCData:({dispatch:e},t)=>new Promise(((s,a)=>{try{const i={...t};i.maps__Settings__c=JSON.stringify(i.maps__Settings__c),delete i.maps__Saved_Queries__r;const o={action:"save_base_object",BaseObject:JSON.stringify(i)};(new l.Z).setAction(m.AdminStartUpAction).setErrorHandler((e=>{console.warn(e),a(new Error(e))})).invoke([o],(t=>{t&&t.success?e("populateExistingObjects").then((()=>{s(t)})):(console.warn("Unable to get data from Salesforce."),a(new Error("Unable to get data from Salesforce (SFDC objects).")))}),{escape:!1,buffer:!1})}catch(e){a(new Error("Unable to parse save data."))}})),deleteSFDCData:({dispatch:e},t)=>new Promise(((s,a)=>{const i={action:"delete_base_object",object:t};(new l.Z).setAction(m.AdminStartUpAction).setErrorHandler((e=>{console.warn(e),a(new Error(e))})).invoke([i],(t=>{if(t&&t.success)e("populateExistingObjects").then((()=>{s(t)})).catch((e=>{a(e)}));else{const e=t.error||"Unknown Error";console.warn("Unable to get data from Salesforce.",e),a(new Error(`Unable to delete data from Salesforce. ${e}`))}}),{escape:!1,buffer:!1})})),validateFilterScopes:({commit:e,getters:t},s)=>new Promise((a=>{let i="";i="createNew"===s?t.getNewBaseObjectName:t.getExistingBaseObjectName;const o={},c=`Select Id From ${i} USING SCOPE `;e("loadingToggle",!0);const n=_()(((e,t)=>{const s={ajaxResource:"TooltipAJAXResources",action:"do_query",q:e.query};(new l.Z).setAction(m.processAJAXRequest).setErrorHandler((s=>{console.warn(s),o[e.scope]=!1,t()})).invoke([s],(s=>{s&&s.success?o[e.scope]=!0:o[e.scope]=!1,t()}),{escape:!1,buffer:!1})}),3),r=["My_Territory","My_Team_Territory"];for(let e=0;e<r.length;e++){const t=r[e];n.push({scope:t,query:`${c} ${t} LIMIT 1`})}n.drain=()=>{e("loadingToggle",!1),a(o)}}))}}),u={components:{Spinner:i.$j,MAToast:a.Z,Tabs:i.mQ,Tab:i.OK,createBaseObject:()=>({...(0,o.YH)(),component:Promise.all([s.e(2207),s.e(7772)]).then(s.bind(s,5545))}),editBaseObject:()=>({...(0,o.YH)(),component:Promise.all([s.e(2207),s.e(3553)]).then(s.bind(s,7543))}),deleteBaseObject:()=>({...(0,o.YH)(),component:s.e(6350).then(s.bind(s,1391))})},data:()=>({showSelectMessage:!1,toast:null,Labels:window.MASystem.Labels,activeTab:"createNewBO"}),computed:{...(0,c.mapState)(["toastMsg","toastType","isLoading"])},beforeCreate(){this.$store=b},created(){this.loadingToggle(!0),this.getAvailableObjects().catch((e=>{this.updateToastMsg({msg:e}),console.warn(e)})).finally((()=>{this.loadingToggle(!1)}))},methods:{...(0,c.mapGetters)([]),...(0,c.mapMutations)(["loadingToggle","updateToastMsg"]),...(0,c.mapActions)(["getAvailableObjects"]),closeToast(){this.updateToastMsg({msg:""})},updateTab(e){this.activeTab=e}}},g=(0,s(1900).Z)(u,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"base-objects-wrap",staticStyle:{position:"relative"}},[e.isLoading?s("Spinner"):e._e(),e._v(" "),null!=e.toastMsg?s("MAToast",{attrs:{msg:e.toastMsg,state:e.toastType},on:{close:e.closeToast}}):e._e(),e._v(" "),s("Tabs",{staticClass:"slds-m-bottom_medium",attrs:{activeTabId:e.activeTab},on:{changed:e.updateTab}},[s("Tab",{staticClass:"slds-m-around_medium",attrs:{id:"createNewBO",title:e.Labels.MA_Create}},[s("createBaseObject")],1),e._v(" "),s("Tab",{staticClass:"slds-m-around_medium",attrs:{id:"editExisting",title:e.Labels.MA_Edit}},[s("keep-alive",["editExisting"===e.activeTab?s("editBaseObject"):e._e()],1)],1),e._v(" "),s("Tab",{staticClass:"slds-m-around_medium",attrs:{id:"deleteExisting",title:e.Labels.MA_Remove}},[s("keep-alive",["deleteExisting"===e.activeTab?s("deleteBaseObject"):e._e()],1)],1)],1)],1)}),[],!1,null,"2d2a74e1",null).exports},945:(e,t,s)=>{"use strict";function a(e){if(e.setAttribute("aria-hidden",!0),Array.isArray(this.iconClass)?this.iconClass.forEach((t=>e.classList.add(t))):e.classList.add(this.iconClass),this.inheritFillFromParent){const t=e=>{e.forEach((e=>{"path"!==e.nodeName&&"g"!==e.nodeName||(e.style.fill="inherit"),e.childNodes.length&&t(e.childNodes)}))};t(e.childNodes||[])}if(this.$el.appendChild(e),this.assistiveText){const e=document.createElement("span");e.classList.add("slds-assistive-text"),e.textContent=this.assistiveText,this.$el.appendChild(e)}}s.d(t,{Z:()=>n});const i={render:e=>e("span"),props:{svg:{required:!0,validator(e){const t="string"==typeof e,s="object"==typeof e&&!0===e.__esModule;return t||s}},inheritFillFromParent:{type:Boolean,default:!0},assistiveText:{type:String},iconClass:{type:[Array,String]}},mounted(){const e="object"==typeof this.svg&&!0===this.svg.__esModule?this.svg.default:this.svg,t=document.createRange().createContextualFragment(e),s=Array.from(t.childNodes).find((e=>"svg"===e.nodeName));s?a.call(this,s):console.error("Could not build SVG.")}},o=new Map;o.set("info",{divClass:"slds-theme_info"}),o.set("success",{divClass:"slds-theme_success"}),o.set("warning",{divClass:"slds-theme_warning"}),o.set("error",{divClass:"slds-theme_error"});const c={name:"MAToast",components:{MAIconInline:i},props:{msg:{type:String,required:!1,default:""},state:{type:String,default:"error",validate:e=>e&&(void 0).stateMap.has(e)},closeLabel:{type:String,default:"Close"}},data:()=>({stateMap:o}),methods:{close(){this.$emit("close")}}},n=(0,s(1900).Z)(c,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"slds-grid slds-grid_vertical-align-center ma-wrapper"},[a("div",{staticClass:"slds-spinner_container"}),e._v(" "),a("div",{staticClass:"slds-notify_container slds-is-relative"},[a("div",{staticClass:"slds-notify slds-notify_toast ma-toast",class:e.stateMap.get(e.state).divClass,attrs:{role:"alert"}},[a("span",{staticClass:"slds-assistive-text"},[e._v(e._s(e.state))]),e._v(" "),a("MAIconInline",{directives:[{name:"show",rawName:"v-show",value:"error"===e.state,expression:"state === 'error'"}],staticClass:"slds-icon_container slds-m-right_small slds-no-flex slds-align-top",attrs:{svg:s(6413),iconClass:["slds-button__icon","slds-button__icon_large"]}}),e._v(" "),a("MAIconInline",{directives:[{name:"show",rawName:"v-show",value:"success"===e.state,expression:"state === 'success'"}],staticClass:"slds-icon_container slds-m-right_small slds-no-flex slds-align-top",attrs:{svg:s(9718),iconClass:["slds-button__icon","slds-button__icon_large"]}}),e._v(" "),a("MAIconInline",{directives:[{name:"show",rawName:"v-show",value:"info"===e.state,expression:"state === 'info'"}],staticClass:"slds-icon_container slds-m-right_small slds-no-flex slds-align-top",attrs:{svg:s(8186),iconClass:["slds-button__icon","slds-button__icon_large"]}}),e._v(" "),a("MAIconInline",{directives:[{name:"show",rawName:"v-show",value:"warning"===e.state,expression:"state === 'warning'"}],staticClass:"slds-icon_container slds-m-right_small slds-no-flex slds-align-top",attrs:{svg:s(5953),iconClass:["slds-button__icon","slds-button__icon_large"]}}),e._v(" "),a("div",{staticClass:"slds-notify__content"},[e._t("default",(function(){return[a("div",[e._v(e._s(e.msg))])]}))],2),e._v(" "),a("button",{staticClass:"slds-button slds-button_icon slds-notify__close slds-button_icon-inverse",attrs:{title:e.closeLabel},on:{click:e.close}},[a("MAIconInline",{staticClass:"slds-icon_container",attrs:{svg:s(8137),iconClass:["slds-button__icon","slds-button__icon_large"]}}),e._v(" "),a("span",{staticClass:"slds-assistive-text"},[e._v(e._s(e.closeLabel))])],1)],1)])])}),[],!1,null,"2d0cadea",null).exports}}]);