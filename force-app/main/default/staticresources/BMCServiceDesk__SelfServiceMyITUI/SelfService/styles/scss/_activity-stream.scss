// See designated purpose of this file on Confluence: http://confluence.bmc.com:8080/x/VANsD
// Description of classes in this file: http://confluence.bmc.com:8080/x/ZhNsD

.activity-stream {
	margin-top: 20px;

	.timeline-toolbar-filter {
		position: relative;
		z-index: 200;
	}

	.timeline-toolbar-filter__current-icon {
		vertical-align: -9px;
	}

	.timeline-toolbar-dropdown {
		left: -10px;
		margin-top: 5px;
	}
}

.activity-stream__loading-spinner {
	position: absolute;
}

.activity-stream-notifications-badge {
	background: $main-background-color;
	color: $bmc-mid-orange;
	display: inline-block;
	height: 16px;
	min-width: 20px;
	text-align: center;
	line-height: 16px;
	font-size: 12px;
	padding: 0 2px;
	border-radius: 2px;
	margin-right: -0.25em;
	vertical-align: 1px;

	&:hover {
		background: darken(#fff, 5%);
	}
}


.activity-item {
	color: $color-almost-black;
	cursor: auto;
	padding-left: 80px;
	position: relative;
	word-wrap: break-word;
}

.activity-item + .activity-item {
	margin-top: 25px;
}

.activity-item_clickable {
	cursor: pointer;
}

.activity-item__header {
	font-size: 16px;
	position: relative;

	.i-activity-item-request,
	.i-activity-item-request-needs-attention {
		top: -10px;
		left: -70px;
	}

	.i-activity-item-broadcast {
		top: 2px;
	}

	.i-activity-item-service-alert {
		top: 1px;
	}
}

.activity-item__type-icon {
	position: absolute;
	left: -60px;
	top: 3px;

	.activity-item_notification & {
		left: -50px;
	}
}

.activity-item-type-icon__appointment-date-text {
	color: #fff;
	font-size: 14px;
	font-weight: normal;
	line-height: 11px;
	margin: 11px 1px 0 2px;
	text-align: center;
}

.activity-item__header-userpic {
	width: 60px;
	height: 60px;
	position: absolute;
	left: -80px;
	top: 0;
}

.activity-item__header-applicationpic {
	@extend .activity-item__header-userpic;
}

.activity-item-header__profile-link,
.activity-item-header__profile-link:hover {
	@include font-medium;
	text-decoration: none;
	color: $bmc-teal;
}

.activity-item__timestamp {
	@include font-light;
	font-size: 12px;
	font-weight: normal;
	color: $color-dark-grey;
}

.activity-item__text {
	line-height: 18px;
	margin-top: 12px;
}

.activity-item__text-link {
	@include font-bold;
}

.activity-item__text-link,
.activity-item__text-link:hover,
.activity-item__text-link:focus {
	text-decoration: none;
	color: $color-almost-black;
}

.activity-item__referenced-item {
	border: 1px solid $color-light-grey;
	margin-top: 12px;
	padding: 20px 25px;
	color: $color-darkest-grey;

	.activity-item-header__profile-link,
	.activity-item-header__profile-link:hover,
	.activity-item__text-link,
	.activity-item__text-link:hover {
		color: $color-darkest-grey;
	}
}

.activity-item__attachments {
	margin-top: 12px;
	min-height: 38px;
}

.activity-item-attachments__staple-icon {
	vertical-align: top;
	margin-top: -4px;
	margin-left: -2px;
}

.activity-item-attachments__more-block {
	@include font-bold;
	color: $color-darkest-grey;
	cursor: pointer;
	display: inline-block;
	font-size: 12px;
	background: $color-medium-grey;
	border: solid 1px mix($color-medium-grey, #000, 90%);
	border-radius: 2px;
	vertical-align: top;
	text-align: center;
	padding: 0;
	margin-left: 8px;
	width: 38px;
	height: 38px;

	&:hover {
		background: $color-light-grey;
		border-color: mix($color-light-grey, #000, 90%);
	}
}

.activity-item-attachments-more-block__counter {
	font-size: 18px;
	line-height: 28px;
}

.activity-item-attachments-more-block__label {
	font-size: 10px;
	display: block;
	margin-top: -8px;
}

.activity-item-attachments__attachment {
	display: inline;
	margin: 0 0 10px;

	& + & {
		margin-left: 8px;
	}

	& + .activity-item-attachments__attachment_expanded {
		margin-top: 10px;
		margin-left: 35px;
		display: block;
	}

	a:hover {
		text-decoration: none;
	}
}

.activity-item-attachment__thumbnail {
	max-height: 38px;
	max-width: 38px;
	min-width: 38px;
	min-height: 38px;
	margin: 0;
	padding: 0;
	border-radius: 2px;
	display: inline-block;
	-webkit-background-size: cover;
	-moz-background-size: cover;
	-o-background-size: cover;
	background-size: cover;
	background-repeat: no-repeat;
	cursor: pointer;
}

.activity-item-attachment__details {
	margin-left: 12px;
	color: $color-darkest-grey;
	font-size: 12px;
	display: inline-block;
	vertical-align: super;
	cursor: pointer;
}

.activity-item-attachment__title {
	@include font-bold;
}

.activity-item__location-indicator-layout {
	margin-top: 10px;
	position: relative;
	padding-left: 20px;
	min-height: 20px;
	line-height: 16px;

	.loading-spinner {
		position: absolute;
		left: 1px;
		top: 2px;
	}
}

.activity-item__location-indicator {
	@include font-light;
	font-size: 12px;

	.i-post-location-indicator,
	.i-post-location-indicator_link {
		position: absolute;
		left: 0;
		top: 2px;
	}
}

.activity-item__location-indicator {
	&, &:hover {
		color: $bmc-teal;
		text-decoration: none;
	}
}

.activity-item__location-indicator_no-link {
	&, &:hover {
		color: $color-dark-grey;
	}
}

.activity-item__controls {
	margin-top: 12px;
}

.activity-item__control-item {
	display: inline-block;
	width: 60px;

	.i {
		vertical-align: middle;
	}
}

.activity-item__control-item_disabled {
	opacity: 0.5;
}

.activity-item__control-item-counter {
	color: $color-grey;
	display: inline-block;
	font-size: 11px;
	margin-left: 2px;
	vertical-align: middle;
}

.activity-item__status {
	font-size: 12px;
	color: $color-darkest-grey;
	margin-top: 4px;
}

.activity-item_loading {
	opacity: 0.5;

	&.timeline-activity-item {
		opacity: 1;
		background: rgba(#fff, 0.5);
		border-color: rgba(#000, 0.035);

		.i-timeline-bubble-pointer {
			opacity: 0.5;
		}
		
		> :not(.timeline-activity-item__timeline-elements) {
			opacity: 0.5;
		}
	}
}

.activity-item_notification {
	border: 1px solid $color-medium-grey;
	border-radius: 2px;
	padding: 12px 30px 12px 60px;
	position: relative;

	.activity-item-header__profile-link {
		&, &:hover {
			color: #333;
		}
	}

	.activity-item__header-userpic {
		display: none;
	}

	.activity-item__text {
		margin-top: 0;
	}
}

.activity-item_sticky-notification {
	background: $color-light-grey;
	border: none;
	color: $color-darkest-grey;

	.i-activity-item-sticky-close {
		position: absolute;
		right: 20px;
		top: 15px;
		z-index: 10;
	}
}

.activity-item_notification + .activity-item {
	margin-top: 30px;
}

.activity-item_notification + .activity-item_notification {
	margin-top: 15px;
}


.activity-stream_mode_comments {
	background: $color-light-grey;
	border: 1px solid $color-medium-grey;
	margin-top: 25px;
	min-height: 60px;
	position: relative;

	.activity-item {
		margin-top: 0;
	}

	.activity-item_commented {
		background: #fff;
		padding-top: 20px;
		padding-bottom: 25px;
	}
	.activity-item + .activity-item {
		border-top: 1px solid $color-medium-grey;
	}

	.activity-item_comment {
		padding-top: 25px;
		padding-bottom: 20px;
	}

	.superbox {
		margin: 12px;
	}
}

.activity-item_commented .activity-item__timestamp {
	display: inline;
	margin-left: 5px;
}

.activity-item_comment .activity-item__header-userpic {
	width: 40px;
	height: 40px;
	left: -60px;
	top: -3px;
}

.activity-item_comment .activity-item__text {
	margin-top: 0;
}

.activity-item__commenter-profile-link {
	@include font-bold;
	font-size: 14px;
}

.activity-item__commenter-profile-link,
.activity-item__commenter-profile-link:hover {
	color: $color-dark-grey;
	text-decoration: none;
}


.activity-item_type_approval {
	.activity-item__type-icon {
		left: -62px;
		top: -1px;
	}

	.activity-item__text {
		margin-top: 4px;
	}
}


.timeline-activity-item {
	background: #fff;
	border: 1px solid rgba(#000, 0.07);
	margin-left: 82px;
	padding: 10px 12px;

	.i-timeline-bubble-pointer {
		position: absolute;
		top: -1px;
		left: -8px;
	}

	.activity-item__header-userpic {
		left: -82px;
		top: -10px;
		width: 38px;
		height: 38px;
	}

	.activity-item__type-icon {
		margin-left: -18px;
		margin-top: -7px;
	}

	.i-timeline-toolbar-appointment {
		top: -5px;
	}

	&.activity-item_type_approval .activity-item__type-icon {
		top: -5px;
	}
}

.timeline-activity-item + .timeline-activity-item {
	margin-top: 14px;
}

.timeline-activity-item__the-line {
	position: absolute;
	top: 0;
	bottom: -14px - 2px; // .timeline-activity-item margin-top - 2 x border width
	left: -18px;
	width: 2px;
	background: $color-grey;
}

.timeline-activity-item__timeline-dot {
	position: absolute;
	left: -23px;
	top: -3px;
	width: 13px;
	height: 13px;
	background: $color-grey;
	border-radius: 50%;
	border: 2px solid #fbfbfb;
}

.timeline-activity-item__timeline-dot_today {
	background: $bmc-teal;
}

.timeline-activity-item__timeline-time {
	color: $color-dark-grey;
	font-size: 11px;
	font-weight: normal;
	position: absolute;
	left: -88px;
	top: 30px;
	width: 50px;
	text-align: center;
}

.timeline-activity-item__group-title {
	color: #fff;
	background: $color-grey;
	font-size: 9px;
	line-height: 14px;
	height: 14px;
	width: 50px;
	margin-left: -24px;
	text-align: center;
	position: absolute;
	left: -18px;
}

.timeline-activity-item_first-in-group {
	margin-top: 42px !important;

	.timeline-activity-item__the-line,
	.timeline-activity-item__group-title {
		top: -28px;
	}
}

.profile-activity-stream__loading-spinner-container + .timeline-activity-item_first-in-group {
	margin-top: 57px !important;
}

.timeline-activity-item_today {
	.timeline-activity-item__the-line,
	.timeline-activity-item__group-title {
		background: $bmc-teal;
	}

	&.timeline-activity-item_last-in-group .timeline-activity-item__the-line {
		@include background(linear-gradient(top, $bmc-teal, $color-grey));
	}
}

.timeline-activity-item_last .timeline-activity-item__the-line {
	bottom: 100%;
}


.activity-item_type_appointment {
	.timeline-activity-item__timeline-time {
		top: 18px;
	}
}


.activity-item_deleted {
	display: none;
}


.activity-stream__loading-more {
	color: $color-dark-grey;
	padding: 15px 0 25px;
	text-align: center;

	.loading-spinner_inline {
		vertical-align: -3px;
		margin-right: 5px;
		margin-left: -25px; // a little optical compensation
	}
}


.modal-header__text {
	padding-left: 18px;
}

.modal-header__text_error {
	@extend .modal-header__text;
	color: $color-status-red;
	.i-login-form-error {
		margin-top: 0;
		margin-right: 10px;
	}
}


.modal-activity-stream-notifications {
	max-height: 500px;
	overflow-y: scroll;
	padding: 10px 12px;
}

.modal-activity-stream-notifications__loading-message {
	padding-left: 8px;
}