webpackJsonp([25],{217:function(e,t,n){var o=n(13)(n(229),n(230),function(e){n(227)},"data-v-2c92a8a8",null);e.exports=o.exports},220:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},221:function(e,t,n){e.exports={default:n(247),__esModule:!0}},227:function(e,t,n){var o=n(228);"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);n(198)("5bf9c067",o,!0)},228:function(e,t,n){(e.exports=n(197)(void 0)).push([e.i,".slds-modal__content[data-v-2c92a8a8]{min-height:0}.slds-modal__content[data-v-2c92a8a8]:last-child{border-bottom-right-radius:.25rem;border-bottom-left-radius:.25rem;box-shadow:0 2px 3px 0 rgba(0,0,0,.16)}[data-v-2c92a8a8].slds-notify{min-width:auto;width:100%}.slds-modal_small .slds-modal__container[data-v-2c92a8a8]{width:20rem}.ma-footer-bodyless[data-v-2c92a8a8]{border-top:none}.slds-modal__container .slds-modal__header .ma-icon-close[data-v-2c92a8a8]{font-size:22px}",""])},229:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(59),a=n.n(o);t.default={name:"MAModal",components:{MASpinner:a.a},props:{title:{type:String,required:!0},doDetach:{type:Boolean,default:!1},isLoading:{type:Boolean,default:!1},isLarge:{type:Boolean,default:!1},closeLabel:{type:String,default:"Close"},isSmall:{type:Boolean,default:!1},hideCloseButton:{type:Boolean,default:!1},isBodyless:{type:Boolean,default:!1}},data:function(){return{supressScrollEmitter:!1,container:null}},mounted:function(){var e=this;this.doDetach&&this.detach(),this.$emit("mounted"),setTimeout(function(){e.$refs.backdrop.classList.add("slds-backdrop_open")},1),setTimeout(function(){e.$refs.section.classList.add("slds-fade-in-open")},250)},beforeDestroy:function(){this.container&&(this.container.remove(),this.container=null)},methods:{detach:function(){this.container=document.createElement("div"),this.container.className="slds-scope "+this.$el.className,this.container.appendChild(this.$el),document.body.appendChild(this.container)},modalClass:function(){return{"slds-modal_small":this.isSmall,"slds-modal_large":this.isLarge}}}}},230:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("section",{ref:"section",staticClass:"slds-modal",class:e.modalClass(),attrs:{role:"dialog",tabindex:"-1"}},[n("div",{staticClass:"slds-modal__container"},[n("header",{staticClass:"slds-modal__header"},[e.hideCloseButton?e._e():n("button",{staticClass:"slds-button slds-button_icon slds-modal__close slds-button_icon-inverse",attrs:{title:e.closeLabel},on:{click:function(t){return e.$emit("close")}}},[n("span",{staticClass:"slds-button__icon slds-button__icon_large ma-icon ma-icon-close"}),e._v(" "),n("span",{staticClass:"slds-assistive-text"},[e._v(e._s(e.closeLabel))])]),e._v(" "),n("h2",{staticClass:"slds-text-heading_medium slds-hyphenate",attrs:{id:"modal-heading-01"}},[e._v(e._s(e.title))])]),e._v(" "),e.isBodyless?e._e():n("div",{ref:"content",staticClass:"slds-modal__content slds-p-around_medium slds-is-relative"},[e.isLoading?n("MASpinner"):e._e(),e._v(" "),e._t("content",[e._v("default content")])],2),e._v(" "),e.isLoading?e._e():n("footer",{staticClass:"slds-modal__footer",class:{"ma-footer-bodyless":e.isBodyless}},[e._t("footer",[e._v("default footer")])],2)])]),e._v(" "),n("div",{ref:"backdrop",staticClass:"slds-backdrop"})])},staticRenderFns:[]}},237:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.genericRemoteActionInvocation=t.Enumeration=t.Enumerator=t.decodeHtml=t.getGUID=void 0;var o=f(n(14)),a=f(n(17)),s=f(n(238)),r=f(n(61)),i=f(n(60)),l=f(n(220)),u=f(n(241)),c=f(n(7)),d=f(n(245));function f(e){return e&&e.__esModule?e:{default:e}}var _=function(){function e(t,n,o){(0,l.default)(this,e),this.name=t,this.ordinal=n,"object"===(void 0===o?"undefined":(0,i.default)(o))&&this.freeze.call(this,o)}return(0,u.default)(e,[{key:"freeze",value:function(e){var t=this;"object"===(void 0===e?"undefined":(0,i.default)(e))&&((0,r.default)(e).forEach(function(n){t[n]=e[n],"object"===(0,i.default)(e[n])&&t.freeze.call(t[n],t[n])}),(0,s.default)(this))}},{key:"toString",value:function(){return this.name}},{key:"equals",value:function(e){return"object"===(void 0===e?"undefined":(0,i.default)(e))&&e.name&&(e=e.name),"string"==typeof e&&this.name===e}},{key:"equalsByOrdinal",value:function(e){return"number"==typeof e&&this.ordinal===e}}]),e}();t.getGUID=function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return""+e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},t.decodeHtml=function(e){if(!e)return e;var t=window.document.createElement("textarea");return t.innerHTML=e,t.value},t.Enumerator=function e(t){var n=this;return(0,l.default)(this,e),Array.isArray(t)?t.forEach(function(e,t){n[e]=new _(e,t)}):"object"===(void 0===t?"undefined":(0,i.default)(t))&&(0,r.default)(t).forEach(function(e,o){n[e]=new _(e,o,t[e])}),(0,s.default)(this)},t.Enumeration=_,t.genericRemoteActionInvocation=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e)throw new Error("Missing required param: action");if(!t||!Array.isArray(t))throw new Error("Missing or invalid param: args");var s={escape:!1,buffer:!1,timeout:3e4};return new a.default(function(a,r){(new c.default).setAction(e).setErrorHandler(function(e,t){return r(new d.default(t))}).invoke(t,function(e){return a(e)},(0,o.default)({},s,n))})}},238:function(e,t,n){e.exports={default:n(239),__esModule:!0}},239:function(e,t,n){n(240),e.exports=n(0).Object.freeze},240:function(e,t,n){var o=n(5),a=n(38).onFreeze;n(93)("freeze",function(e){return function(t){return e&&o(t)?e(a(t)):t}})},241:function(e,t,n){"use strict";t.__esModule=!0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n(242));t.default=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),(0,o.default)(e,a.key,a)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}()},242:function(e,t,n){e.exports={default:n(243),__esModule:!0}},243:function(e,t,n){n(244);var o=n(0).Object;e.exports=function(e,t,n){return o.defineProperty(e,t,n)}},244:function(e,t,n){var o=n(2);o(o.S+o.F*!n(4),"Object",{defineProperty:n(6).f})},245:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){return e&&e.__esModule?e:{default:e}}(n(246));t.default=o.default},246:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=l(n(221)),a=l(n(250)),s=l(n(220)),r=l(n(253)),i=l(n(254));function l(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(e){var n;(0,s.default)(this,t);for(var i=arguments.length,l=Array(i>1?i-1:0),u=1;u<i;u++)l[u-1]=arguments[u];var c=(0,r.default)(this,(n=t.__proto__||(0,a.default)(t)).call.apply(n,[this].concat(l)));return c.constructor=t,(0,o.default)(c,t.prototype),c.event=e,Error.captureStackTrace&&Error.captureStackTrace(c,t),c}return(0,i.default)(t,e),t}(Error);t.default=u},247:function(e,t,n){n(248),e.exports=n(0).Object.setPrototypeOf},248:function(e,t,n){var o=n(2);o(o.S,"Object",{setPrototypeOf:n(249).set})},249:function(e,t,n){var o=n(5),a=n(8),s=function(e,t){if(a(e),!o(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,o){try{(o=n(9)(Function.call,n(96).f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,n){return s(e,n),t?e.__proto__=n:o(e,n),e}}({},!1):void 0),check:s}},250:function(e,t,n){e.exports={default:n(251),__esModule:!0}},251:function(e,t,n){n(252),e.exports=n(0).Object.getPrototypeOf},252:function(e,t,n){var o=n(15),a=n(95);n(93)("getPrototypeOf",function(){return function(e){return a(o(e))}})},253:function(e,t,n){"use strict";t.__esModule=!0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n(60));t.default=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,o.default)(t))&&"function"!=typeof t?e:t}},254:function(e,t,n){"use strict";t.__esModule=!0;var o=r(n(221)),a=r(n(255)),s=r(n(60));function r(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,s.default)(t)));e.prototype=(0,a.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(o.default?(0,o.default)(e,t):e.__proto__=t)}},255:function(e,t,n){e.exports={default:n(256),__esModule:!0}},256:function(e,t,n){n(257);var o=n(0).Object;e.exports=function(e,t){return o.create(e,t)}},257:function(e,t,n){var o=n(2);o(o.S,"Object",{create:n(37)})},259:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={methods:{decodeHtml:function(e){var t=document.createElement("textarea");return t.innerHTML=e,t.value}}}},270:function(e,t,n){var o=n(13)(n(273),n(274),function(e){n(271)},"data-v-63bf9b6e",null);e.exports=o.exports},271:function(e,t,n){var o=n(272);"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);n(198)("1c032509",o,!0)},272:function(e,t,n){(e.exports=n(197)(void 0)).push([e.i,".disable-resize[data-v-63bf9b6e]{resize:none}@media screen and (max-width:1024px){.slds-input[data-v-63bf9b6e]{-moz-appearance:none;-webkit-appearance:none;appearance:none}}",""])},273:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(14),a=n.n(o),s=n(259),r=n.n(s);t.default={name:"MAInput",mixins:[r.a],props:{value:{type:String|Number,required:!0},isRequired:{type:Boolean,default:!1},useTextArea:{type:Boolean,default:!1},disableResize:{type:Boolean,default:!1},label:{type:String,default:""},errors:{type:Array,default:function(){return[]}},placeholder:{type:String,default:""},type:{type:String,default:"text"},isInvalid:{type:Boolean,default:!1},isDisabled:{type:Boolean,default:!1},hasFocus:{type:Boolean,default:!1},requiredLabel:{type:String,default:"Required"}},computed:{showLabel:function(){return this.label},hasErrors:function(){return this.errors&&this.errors.length},listeners:function(){var e=this;return a()({},this.$listeners,{input:function(t){return e.$emit("input",t.target.value)}})}},watch:{hasFocus:function(e){e&&this.focus()}},mounted:function(){this.hasFocus&&this.focus()},methods:{focus:function(){this.$refs.input.focus(),this.$refs.input.select()}}}},274:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"slds-form-element",class:{"slds-has-error":e.isInvalid}},[e.showLabel?n("label",{staticClass:"slds-form-element__label"},[e.isRequired?n("abbr",{staticClass:"slds-required",attrs:{title:e.requiredLabel}},[e._v("*")]):e._e(),e._v("\n        "+e._s(e.decodeHtml(e.label))+"\n        "),e._t("label")],2):e._e(),e._v(" "),n("div",{staticClass:"slds-form-element__control",staticStyle:{position:"relative"}},[e.useTextArea?n("textarea",e._g({staticClass:"slds-textarea",attrs:{disabled:e.isDisabled,placeholder:e.placeholder},domProps:{value:e.decodeHtml(e.value)}},e.listeners)):n("input",e._g({ref:"input",staticClass:"slds-input",attrs:{type:e.type,disabled:e.isDisabled,placeholder:e.placeholder},domProps:{value:e.decodeHtml(e.value)},on:{blur:function(t){return e.$emit("update:hasFocus",!1)}}},e.listeners)),e._v(" "),e._t("extendInput")],2),e._v(" "),e.isInvalid?n("div",{staticClass:"slds-form-element__help"},[e._t("errors")],2):e._e()])},staticRenderFns:[]}},680:function(e,t,n){var o=n(13)(n(681),n(682),null,null,null);e.exports=o.exports},681:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(65),a=n.n(o),s=n(217),r=n.n(s),i=n(270),l=n.n(i),u=n(59),c=n.n(u),d=n(237);n.n(d);t.default={components:{MAModal:r.a,MAInput:l.a,MASpinner:c.a},props:{modalOptions:{type:Object,required:!0}},data:function(){return{favoriteName:"",description:"",isLoading:!1}},created:function(){void 0!==this.modalOptions.name&&(this.favoriteName=this.modalOptions.name)},methods:{close:function(){this.$emit("close",!1)},validateFavorite:function(){var e=!0;return""===this.favoriteName&&(window.MAToastMessages.showWarning({message:"Favorite Location Error",subMessage:"Please enter a valid name",timeOut:6e3}),e=!1),e},createFavorite:function(){var e=this;if(this.validateFavorite()){this.isLoading=!0;var t={action:"createFavoriteLocationMainTree",ajaxResource:"MAFavoriteLocationsAJAXResources",serializedLocation:a()({Name:this.favoriteName,sma__User__c:window.MASystem.User.Id,sma__MapAnythingFolder__c:null,Id:null,sma__Latitude__c:this.modalOptions.latlng.lat,sma__Longitude__c:this.modalOptions.latlng.lng,sma__Address__c:this.modalOptions.address,sma__Description__c:this.description,sma__FavoriteMarker__c:"#00FF00"})};Object(d.genericRemoteActionInvocation)(this.$Remoting.processAJAXRequest,[t],{buffer:!1}).then(function(t){var n=t.success,o=void 0!==n&&n,a=t.data,s=void 0===a?{}:a;if(o){var r={component:"FavoriteLayer",description:e.description,type:"favorite",qid:Object(d.getGUID)(),name:e.favoriteName,defaultAction:"plot-favorite",id:s.Id};e.$bus.$emit("add-layer",r,function(){e.$nextTick(function(){e.$bus.$emit("load-recents-layers"),e.$bus.$emit("load-folder"),window.MAToastMessages.showSuccess({message:"Favorite Creation",subMessage:"Favorite created successfully."}),e.close()})})}else{console.warn(t);var i=t.message||"Unable to create favorite.";window.MAToastMessages.showError({message:"Favorite Location Error",subMessage:i,timeOut:6e3}),e.isLoading=!1}})}}}}},682:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("MAModal",{attrs:{doDetach:!0,title:e.$Labels.MAActionFramework_Create_Favorite},on:{close:e.close}},[n("div",{attrs:{slot:"content"},slot:"content"},[n("MASpinner",{directives:[{name:"show",rawName:"v-show",value:e.isLoading,expression:"isLoading"}]}),e._v(" "),n("MAInput",{staticClass:"slds-p-vertical_xx-small",attrs:{isRequired:!0,label:e.$Labels.MA_Name},model:{value:e.favoriteName,callback:function(t){e.favoriteName=t},expression:"favoriteName"}})],1),e._v(" "),n("div",{attrs:{slot:"footer"},slot:"footer"},[n("button",{staticClass:"slds-button slds-button_neutral",on:{click:e.close}},[e._v(e._s(e.$Labels.MA_Cancel))]),e._v(" "),n("button",{staticClass:"slds-button slds-button_brand",on:{click:e.createFavorite}},[e._v(e._s(e.$Labels.MA_Done))])])])},staticRenderFns:[]}}});