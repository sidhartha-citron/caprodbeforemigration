webpackJsonp([24],{220:function(e,t,s){"use strict";t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},221:function(e,t,s){e.exports={default:s(247),__esModule:!0}},237:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.genericRemoteActionInvocation=t.Enumeration=t.Enumerator=t.decodeHtml=t.getGUID=void 0;var o=f(s(14)),n=f(s(17)),i=f(s(238)),a=f(s(61)),r=f(s(60)),l=f(s(220)),u=f(s(241)),d=f(s(7)),c=f(s(245));function f(e){return e&&e.__esModule?e:{default:e}}var _=function(){function e(t,s,o){(0,l.default)(this,e),this.name=t,this.ordinal=s,"object"===(void 0===o?"undefined":(0,r.default)(o))&&this.freeze.call(this,o)}return(0,u.default)(e,[{key:"freeze",value:function(e){var t=this;"object"===(void 0===e?"undefined":(0,r.default)(e))&&((0,a.default)(e).forEach(function(s){t[s]=e[s],"object"===(0,r.default)(e[s])&&t.freeze.call(t[s],t[s])}),(0,i.default)(this))}},{key:"toString",value:function(){return this.name}},{key:"equals",value:function(e){return"object"===(void 0===e?"undefined":(0,r.default)(e))&&e.name&&(e=e.name),"string"==typeof e&&this.name===e}},{key:"equalsByOrdinal",value:function(e){return"number"==typeof e&&this.ordinal===e}}]),e}();t.getGUID=function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return""+e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},t.decodeHtml=function(e){if(!e)return e;var t=window.document.createElement("textarea");return t.innerHTML=e,t.value},t.Enumerator=function e(t){var s=this;return(0,l.default)(this,e),Array.isArray(t)?t.forEach(function(e,t){s[e]=new _(e,t)}):"object"===(void 0===t?"undefined":(0,r.default)(t))&&(0,a.default)(t).forEach(function(e,o){s[e]=new _(e,o,t[e])}),(0,i.default)(this)},t.Enumeration=_,t.genericRemoteActionInvocation=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e)throw new Error("Missing required param: action");if(!t||!Array.isArray(t))throw new Error("Missing or invalid param: args");var i={escape:!1,buffer:!1,timeout:3e4};return new n.default(function(n,a){(new d.default).setAction(e).setErrorHandler(function(e,t){return a(new c.default(t))}).invoke(t,function(e){return n(e)},(0,o.default)({},i,s))})}},238:function(e,t,s){e.exports={default:s(239),__esModule:!0}},239:function(e,t,s){s(240),e.exports=s(0).Object.freeze},240:function(e,t,s){var o=s(5),n=s(38).onFreeze;s(93)("freeze",function(e){return function(t){return e&&o(t)?e(n(t)):t}})},241:function(e,t,s){"use strict";t.__esModule=!0;var o=function(e){return e&&e.__esModule?e:{default:e}}(s(242));t.default=function(){function e(e,t){for(var s=0;s<t.length;s++){var n=t[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,o.default)(e,n.key,n)}}return function(t,s,o){return s&&e(t.prototype,s),o&&e(t,o),t}}()},242:function(e,t,s){e.exports={default:s(243),__esModule:!0}},243:function(e,t,s){s(244);var o=s(0).Object;e.exports=function(e,t,s){return o.defineProperty(e,t,s)}},244:function(e,t,s){var o=s(2);o(o.S+o.F*!s(4),"Object",{defineProperty:s(6).f})},245:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){return e&&e.__esModule?e:{default:e}}(s(246));t.default=o.default},246:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=l(s(221)),n=l(s(250)),i=l(s(220)),a=l(s(253)),r=l(s(254));function l(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(e){var s;(0,i.default)(this,t);for(var r=arguments.length,l=Array(r>1?r-1:0),u=1;u<r;u++)l[u-1]=arguments[u];var d=(0,a.default)(this,(s=t.__proto__||(0,n.default)(t)).call.apply(s,[this].concat(l)));return d.constructor=t,(0,o.default)(d,t.prototype),d.event=e,Error.captureStackTrace&&Error.captureStackTrace(d,t),d}return(0,r.default)(t,e),t}(Error);t.default=u},247:function(e,t,s){s(248),e.exports=s(0).Object.setPrototypeOf},248:function(e,t,s){var o=s(2);o(o.S,"Object",{setPrototypeOf:s(249).set})},249:function(e,t,s){var o=s(5),n=s(8),i=function(e,t){if(n(e),!o(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,o){try{(o=s(9)(Function.call,s(96).f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,s){return i(e,s),t?e.__proto__=s:o(e,s),e}}({},!1):void 0),check:i}},250:function(e,t,s){e.exports={default:s(251),__esModule:!0}},251:function(e,t,s){s(252),e.exports=s(0).Object.getPrototypeOf},252:function(e,t,s){var o=s(15),n=s(95);s(93)("getPrototypeOf",function(){return function(e){return n(o(e))}})},253:function(e,t,s){"use strict";t.__esModule=!0;var o=function(e){return e&&e.__esModule?e:{default:e}}(s(60));t.default=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,o.default)(t))&&"function"!=typeof t?e:t}},254:function(e,t,s){"use strict";t.__esModule=!0;var o=a(s(221)),n=a(s(255)),i=a(s(60));function a(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,i.default)(t)));e.prototype=(0,n.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(o.default?(0,o.default)(e,t):e.__proto__=t)}},255:function(e,t,s){e.exports={default:s(256),__esModule:!0}},256:function(e,t,s){s(257);var o=s(0).Object;e.exports=function(e,t){return o.create(e,t)}},257:function(e,t,s){var o=s(2);o(o.S,"Object",{create:s(37)})},258:function(e,t,s){var o=s(13)(s(268),s(269),function(e){s(266)},"data-v-040e4b50",null);e.exports=o.exports},266:function(e,t,s){var o=s(267);"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);s(198)("3a556045",o,!0)},267:function(e,t,s){(e.exports=s(197)(void 0)).push([e.i,".slds-form-element__icon[data-v-040e4b50]{top:6px!important;left:-6px!important}.slds-checkbox_toggle [type=checkbox][disabled]+.slds-checkbox_faux_container .slds-checkbox_faux[data-v-040e4b50]{border:1px solid #b0adab}",""])},268:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=s(237);s.n(o);t.default={name:"MobileToggle",props:{value:{type:Boolean,required:!0},label:{type:String,required:!1,default:""},isDisabled:{type:Boolean,default:!1},showStateLabels:{type:Boolean,default:!1},stateLabelOn:{type:String,default:"Enabled"},stateLabelOff:{type:String,default:"Disabled"},toggleBuffer:{type:Number,default:0},noSlide:{type:Boolean,default:!1}},data:function(){return{lastToggleHandlerTimestamp:(new Date).getTime(),checkboxId:Object(o.getGUID)()}},computed:{checkboxClass:function(){return this.noSlide?"slds-form-element__control":"slds-checkbox_toggle slds-grid"}},methods:{toggle:function(e){var t=this;(e.clientX||e.clientY)&&(e.currentTarget.checked&&this.toggleBuffer&&(this.$refs.checkbox.disabled=!0,setTimeout(function(){t.$refs.checkbox.disabled=!1},this.toggleBuffer)),this.$emit("input",!this.value))}}}},269:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"slds-form-element"},[e.noSlide?s("div",{staticClass:"slds-form-element__control"},[s("div",{staticClass:"slds-checkbox"},[s("input",{ref:"checkbox",attrs:{disabled:e.isDisabled,id:e.checkboxId,type:"checkbox"},domProps:{checked:e.value||!1},on:{click:e.toggle}}),e._v(" "),s("label",{staticClass:"slds-checkbox__label",attrs:{for:e.checkboxId}},[s("span",{staticClass:"slds-checkbox_faux"}),e._v(" "),s("span",{staticClass:"slds-form-element__label"},[e._v(e._s(e._f("decode")(e.label)))])])])]):s("label",{class:e.checkboxClass},[s("input",{ref:"checkbox",attrs:{disabled:e.isDisabled,type:"checkbox"},domProps:{checked:e.value||!1},on:{click:e.toggle}}),e._v(" "),s("span",{staticClass:"slds-checkbox_faux_container"},[s("span",{staticClass:"slds-checkbox_faux"}),e._v(" "),e.showStateLabels?s("span",{staticClass:"slds-checkbox_on"},[e._v(e._s(e._f("decode")(e.stateLabelOn)))]):e._e(),e._v(" "),e.showStateLabels?s("span",{staticClass:"slds-checkbox_off"},[e._v(e._s(e._f("decode")(e.stateLabelOff)))]):e._e()]),e._v(" "),s("span",{staticClass:"slds-form-element__label slds-m-bottom_none slds-p-left_x-small slds-p-top_xx-small"},[e._v("\n            "+e._s(e._f("decode")(e.label))+"\n        ")]),e._v(" "),e._t("tooltip")],2)])},staticRenderFns:[]}},296:function(e,t,s){var o=s(13)(s(299),s(300),function(e){s(297)},"data-v-43d40f34",null);e.exports=o.exports},297:function(e,t,s){var o=s(298);"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);s(198)("caa32162",o,!0)},298:function(e,t,s){(e.exports=s(197)(void 0)).push([e.i,".schedule-discard-changes-modal[data-v-43d40f34] .slds-modal__content{display:none}.schedule-discard-changes-modal[data-v-43d40f34] .slds-modal__footer{border-top:0}",""])},299:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=s(217),n=s.n(o);t.default={components:{MAModal:n.a},props:{title:{type:String,required:!0}},data:function(){return{}},methods:{close:function(){this.$emit("close",!1)},exitRoute:function(){this.$emit("discard-close"),this.close()},saveAndClose:function(){this.$emit("save-close"),this.close()}}}},300:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("MAModal",{staticClass:"schedule-discard-changes-modal",attrs:{title:e.title,doDetach:!0,closeLabel:e.$Labels.MA_Close},on:{close:e.close}},[s("div",{attrs:{slot:"footer"},slot:"footer"},[s("button",{staticClass:"slds-button slds-button_neutral",on:{click:e.close}},[e._v(e._s(e._f("decode")(e.$Labels.MA_Cancel)))]),e._v(" "),s("button",{staticClass:"slds-button slds-button_brand",on:{click:e.exitRoute}},[e._v(e._s(e._f("decode")(e.$Labels.MA_Close_Discard)))])])])},staticRenderFns:[]}},472:function(e,t,s){var o=s(13)(s(477),s(488),function(e){s(473),s(475)},"data-v-cb4ef2c2",null);e.exports=o.exports},473:function(e,t,s){var o=s(474);"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);s(198)("ee15d6f6",o,!0)},474:function(e,t,s){(e.exports=s(197)(void 0)).push([e.i,".edit-mode #routeEditTopBar{transform:translate(0);z-index:100;visibility:visible;-webkit-transition:transform .2s 0s,z-index 0s 0s,visibility 0s 0s;-moz-transition:.2s transform 0s,0s z-index 0s,0s visibility 0s;-ms-transition:.2s transform 0s,0s z-index 0s,0s visibility 0s;-o-transition:.2s transform 0s,0s z-index 0s,0s visibility 0s;transition:transform .2s 0s,z-index 0s 0s,visibility 0s 0s}.edit-mode #routeIndividualTopBar{transform:translateY(-100%);z-index:60;visibility:hidden;-webkit-transition:transform .2s 0s,z-index 0s .2s,visibility 0s .2s;-moz-transition:.2s transform 0s,0s z-index .2s,0s visibility .2s;-ms-transition:.2s transform 0s,0s z-index .2s,0s visibility .2s;-o-transition:.2s transform 0s,0s z-index .2s,0s visibility .2s;transition:transform .2s 0s,z-index 0s .2s,visibility 0s .2s}",""])},475:function(e,t,s){var o=s(476);"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);s(198)("0c1f5426",o,!0)},476:function(e,t,s){(e.exports=s(197)(void 0)).push([e.i,".route-single-header .ma-icon[data-v-cb4ef2c2]{font-size:20px}.route-single-header .route-edit-header[data-v-cb4ef2c2]{padding:10px}.route-date_label[data-v-cb4ef2c2],.route-time_label[data-v-cb4ef2c2]{color:#3e3e3c;font-size:14px}",""])},477:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=s(14),n=s.n(o),i=s(218),a=s.n(i),r=s(258),l=s.n(r),u=s(296),d=s.n(u),c=s(35),f=(s.n(c),s(62)),_=s.n(f),v=s(63),p=s.n(v),h=window,m=h.MASystem,b=h.getProperty,g=h.moment;t.default={components:{RouteOptionsModal:function(){return n()({},_()(),{component:s.e(41).then(s.bind(null,483)),error:p.a})},SaveRouteModal:function(){return n()({},_()(),{component:s.e(40).then(s.bind(null,478)),error:p.a})},SaveChangesModal:d.a,ActionSheet:a.a,MobileToggle:l.a},data:function(){return{test:!1,showRouteOptions:!1,showSaveRouteModal:!1,showSaveChangesModal:!1,routeOptions:[{label:this.$Labels.MA_Edit,value:"edit"}]}},computed:n()({},Object(c.mapGetters)("routes",{routes__showSingleRoute:"showSingleRoute",routes__route:"route",routes__record:"record",routes__onMap:"onMap",routes__pendingChanges:"pendingChanges",routes__totalStops:"totalStops",routes__editMode:"editMode"}),{lockOrder:{get:function(){return this.routes__route.lockOrder},set:function(){this.routes__updateLockOrder(),this.routes__removeRoute()}},timeOptions:function(){return this.routes__route.timeBasedOptions},isTimeBased:function(){return this.timeOptions.Enabled||!1},showLaborLawsBanner:function(){return b(m,"Organization.LaborLawsNotify",!1)||!1},routeDate:function(){var e=this.routes__record.Date__c,t=g(e,"YYYY-MM-DD"),s=(this.$User.dateFormat||"M/D/YYYY").toUpperCase();return t.format(s)},isGuideRoute:function(){return this.routes__route.isGuideRoute||!1},routeStart:function(){return this.timeOptions.Start},routeEnd:function(){return this.timeOptions.End},userFormattedStartTime:function(){return g(this.routeStart,"h:mm a").format(this.$User.timeFormat)},userFormattedEndTime:function(){return g(this.routeEnd,"h:mm a").format(this.$User.timeFormat)},routeName:function(){return this.routes__record.Name||this.$Labels.MA_NEW_ROUTE}}),created:function(){},methods:n()({},Object(c.mapActions)("routes",{routes__closeSingleRouteView:"closeSingleRouteView",routes__saveRoute:"saveRoute",routes__removeRoute:"removeRoute"}),Object(c.mapMutations)("routes",{routes__updateRouteView:"updateRouteView",routes__toggleEditMode:"toggleEditMode",routes__updateOnMap:"updateOnMap",routes__updateLockOrder:"updateLockOrder"}),{discardClose:function(){this.routes__closeSingleRouteView()},saveClose:function(){var e=this;this.routes__saveRoute(!1).then(function(){e.$bus.$emit("refresh-route-list"),e.routes__closeSingleRouteView()}).catch(function(e){window.MAToastMessages.showError({message:"Unable to save this route.",subMessage:String(e),timeOut:8e3,closeButton:!0})})},handleRouteAction:function(e){"edit"===e.value&&this.routes__toggleEditMode(!0)},returnToRouteList:function(){this.routes__pendingChanges?this.toggleSavedChangesModal(!0):this.routes__closeSingleRouteView()},toggleSavedChangesModal:function(e){this.showSaveChangesModal=e},closeSaveChangesModal:function(){this.showSaveChangesModal=!1},showSaveModal:function(){this.showSaveRouteModal=!0},disableEditMode:function(){this.routes__toggleEditMode(!1)},editRouteOptions:function(){this.showRouteOptions=!0},closeRouteOptions:function(){this.showRouteOptions=!1},closeSaveRouteModal:function(){this.showSaveRouteModal=!1}})}},488:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[e.showLaborLawsBanner?s("div",{directives:[{name:"show",rawName:"v-show",value:!e.routes__editMode,expression:"!routes__editMode"}],staticClass:"labor-law-notification slds-notify_container slds-notify_container--inline"},[s("div",{staticClass:"slds-notify slds-notify--alert slds-theme--warning slds-theme--alert-texture slds-banner"},[s("h2",[e._v(e._s(e._f("decode")(e.$Labels.MA_Labor_Laws)))])])]):e._e(),e._v(" "),s("div",{staticClass:"route-single-header slds-border_bottom"},[s("div",{directives:[{name:"show",rawName:"v-show",value:e.routes__editMode,expression:"routes__editMode"}],staticClass:"route-edit-header"},[s("div",{staticClass:"ma-button ma-button--white hide-route-edit",on:{click:e.disableEditMode}},[e._v("\n                "+e._s(e._f("decode")(e.$Labels.MA_Done))+"\n            ")])]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:!e.routes__editMode,expression:"!routes__editMode"}],staticClass:"slds-grid"},[s("div",{staticClass:"slds-col slds-p-around_medium",staticStyle:{"min-width":"0"},on:{click:e.editRouteOptions}},[s("div",{staticClass:"slds-text-heading_medium slds-p-top_xxx-small slds-truncate",attrs:{"data-id":e.routes__record.Id||""}},[e._v("\n                    "+e._s(e._f("decode")(e.routeName))+"\n                ")]),e._v(" "),s("div",{staticClass:"slds-grid"},[s("p",{staticClass:"route-date_label slds-m-right_medium"},[e._v(e._s(e._f("decode")(e.routeDate)))]),e._v(" "),e.isTimeBased?s("p",{staticClass:"slds-grid route-time_label"},[e._v(e._s(e._f("decode")(e.userFormattedStartTime))+"â€“"+e._s(e._f("decode")(e.userFormattedEndTime)))]):e._e()])]),e._v(" "),s("div",{staticClass:"slds-p-vertical_medium"},[s("button",{staticClass:"slds-button slds-button_icon slds-button_icon-container",on:{click:e.editRouteOptions}},[s("span",{staticClass:"slds-icon ma-icon ma-icon-edit"})])]),e._v(" "),s("div",{staticClass:"slds-p-around_medium"},[s("button",{staticClass:"slds-button slds-button_icon slds-button_icon-container",on:{click:e.returnToRouteList}},[s("span",{staticClass:"slds-icon ma-icon ma-icon-close"})])])]),e._v(" "),e.isGuideRoute?s("div",{directives:[{name:"show",rawName:"v-show",value:!e.routes__editMode,expression:"!routes__editMode"}],staticClass:"guide-route-header slds-p-horizontal_small slds-p-bottom_small"},[e._m(0)]):e._e(),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:!e.routes__editMode,expression:"!routes__editMode"}],staticClass:"slds-grid slds-grid_vertical-align-center slds-p-bottom_x-small"},[s("div",{staticClass:"slds-p-left_medium"},[s("MobileToggle",{attrs:{label:e.$Labels.MA_Lock_Order},model:{value:e.lockOrder,callback:function(t){e.lockOrder=t},expression:"lockOrder"}})],1),e._v(" "),s("div",{staticClass:"slds-p-right_medium slds-col_bump-left"},[s("button",{staticClass:"slds-button slds-button_success",attrs:{disabled:e.routes__totalStops<2},on:{click:e.showSaveModal}},[e._v(e._s(e._f("decode")(e.$Labels.MA_Save))+"\n                ")])])])]),e._v(" "),e.showRouteOptions?s("RouteOptionsModal",{attrs:{isGuideRoute:e.isGuideRoute},on:{close:e.closeRouteOptions}}):e._e(),e._v(" "),e.showSaveRouteModal?s("SaveRouteModal",{on:{close:e.closeSaveRouteModal}}):e._e(),e._v(" "),e.showSaveChangesModal?s("SaveChangesModal",{attrs:{title:e.$Labels.MA_Route_SaveChanges},on:{close:e.closeSaveChangesModal,"discard-close":e.discardClose,"save-close":e.saveClose}}):e._e()],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"slds-text-title_caps"},[t("span",{staticClass:"slds-icon ma-icon ma-icon-guide-logo",staticStyle:{"font-size":".75rem","margin-left":"5px"}},[this._v("Generated by Guide")])])}]}}});