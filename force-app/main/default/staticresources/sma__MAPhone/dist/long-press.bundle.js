webpackJsonp([12],{216:function(t,e,n){var o=n(13)(n(811),n(822),function(t){n(809)},"data-v-55114ec4",null);t.exports=o.exports},809:function(t,e,n){var o=n(810);"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);n(198)("15b32b90",o,!0)},810:function(t,e,n){(t.exports=n(197)(void 0)).push([t.i,"#longPressActionSheet[data-v-55114ec4]{height:100vh;width:100%}#longPressActionSheet .ma-action-sheet.in[data-v-55114ec4]{opacity:1;transform:translate(0);-webkit-transition:opacity .2s 0s;-moz-transition:.2s opacity 0s;-ms-transition:.2s opacity 0s;-o-transition:.2s opacity 0s;transition:opacity .2s 0s;z-index:1100}#longPressActionSheet .ma-action-sheet[data-v-55114ec4]{padding-top:0;position:absolute;left:0;margin:0;bottom:0;width:100%;transform:translateY(100%);-webkit-transition:transform .2s 0s;-moz-transition:.2s transform 0s;-ms-transition:.2s transform 0s;-o-transition:.2s transform 0s;transition:transform .2s 0s;background-color:#fff;z-index:200;box-shadow:0 2px 3px 0 rgba(0,0,0,.16);padding-top:16px;border-radius:0}#longPressActionSheet .action-sheet-mask.in[data-v-55114ec4]{opacity:1}#longPressActionSheet .action-sheet-mask.in[data-v-55114ec4],#longPressActionSheet .action-sheet-mask[data-v-55114ec4]{-webkit-transition:opacity .2s 0s;-moz-transition:.2s opacity 0s;-ms-transition:.2s opacity 0s;-o-transition:.2s opacity 0s;transition:opacity .2s 0s}#longPressActionSheet .action-sheet-mask[data-v-55114ec4]{opacity:0;position:absolute;left:0;top:0;width:100%;height:100%;background-color:rgba(0,0,20,.65);z-index:1000}#longPressActionSheet .ma-action-sheet-item[data-v-55114ec4]{justify-content:center;padding:16px;color:#16325c;font-size:16px;line-height:1;text-align:center;text-align:left;color:#3e3e3c;display:flex;align-items:center;border-bottom:1px solid #d8dde6}#longPressActionSheet .ma-action-sheet-item .ma-icon[data-v-55114ec4]{color:#fff;background-color:#1589ee;border-radius:100%;height:34px;width:34px;display:flex;justify-content:center;align-items:center;margin-right:8px;font-size:22px}",""])},811:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(14),a=n.n(o),i=n(35),s=(n.n(i),window),r=s.google,c=s.MA;e.default={components:{PolygonDrawingContainer:function(){return n.e(56).then(n.bind(null,812))},CreateRecordFromMap:function(){return n.e(57).then(n.bind(null,817))}},props:{mapLoaded:{type:Boolean,default:!1}},data:function(){return{disabled:!1,longPress:null,showLongPressSheet:!1,drawPolygon:null}},computed:a()({},Object(i.mapGetters)("mainNavBar",{mainNavBar__activeTab:"activeTab"})),created:function(){var t=this;function e(t,e){var n=this;n.length=e,n.map=t,n.timeoutId=null,r.maps.event.addListener(t,"mousedown",function(t){n.onMouseDown(t)}),r.maps.event.addListener(t,"mouseup",function(t){n.onMouseUp(t)}),r.maps.event.addListener(t,"drag",function(t){n.onMapDrag(t)})}this.$bus.$on("disable-long-press",this.toggleLongPress),e.prototype.onMouseUp=function(){var e=t.longPress;clearTimeout(e.timeoutId),setTimeout(function(){document.addEventListener("click",t.closeActionSheet)},100)},e.prototype.onMouseDown=function(e){var n=t.longPress;clearTimeout(n.timeoutId);var o=n.map,a=e;n.timeoutId=setTimeout(function(){document.removeEventListener("click",t.closeActionSheet),r.maps.event.trigger(o,"longpress",a)},n.length)},e.prototype.onMapDrag=function(){var e=t.longPress;clearTimeout(e.timeoutId)};var n=setInterval(function(){t.mapLoaded&&(clearInterval(n),t.longPress=new e(c.map,500),r.maps.event.addListener(c.map,"longpress",t.handleLongPress))},500)},methods:a()({},Object(i.mapMutations)("mainNavBar",{mainNavBar__updateActiveTab:"updateActiveTab"}),{openMobileClick2Create:function(){this.$bus.$emit("show-marker-tooltip",!1),this.mainNavBar__updateActiveTab("createRecordFromMap")},openDrawingMode:function(){this.initDrawingMode()},closeActionSheet:function(){this.showLongPressSheet=!1},handleLongPress:function(){this.disabled?console.warn("longpress event temporarily disabled"):this.showLongPressSheet=!0},toggleLongPress:function(t){this.disabled=t},initDrawingMode:function(){var t=this;this.drawPolygon=new c.Map.DrawPolygon({done:function(){t.closeDrawingMode()}}),this.mainNavBar__updateActiveTab("drawingTools")},cancelPolygon:function(){this.drawPolygon.remove()},finishPolygon:function(){null!==this.drawPolygon.polygon&&this.drawPolygon.finishDrawing()},rollbackPolygon:function(){this.drawPolygon.rollback()},closeDrawingMode:function(){this.drawPolygon=null,this.mainNavBar__updateActiveTab("")}})}},822:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"ma-action-sheet-wrap",class:{in:t.showLongPressSheet},attrs:{id:"longPressActionSheet"}},[n("div",{staticClass:"ma-action-sheet",class:{in:t.showLongPressSheet}},[n("div",{staticClass:"ma-action-sheet-item actionbutton",on:{click:t.openMobileClick2Create}},[n("span",{staticClass:"ma-icon ma-icon-mapanything"}),t._v("Drop a Pin\n            ")]),t._v(" "),n("div",{staticClass:"ma-action-sheet-item actionbutton",on:{click:t.openDrawingMode}},[n("span",{staticClass:"ma-icon ma-icon-polygon"}),t._v("Draw a Polygon\n            ")]),t._v(" "),n("div",{staticClass:"ma-action-sheet-item actionbutton",on:{click:t.closeActionSheet}},[t._v("\n                Close\n            ")])]),t._v(" "),t.showLongPressSheet?n("div",{staticClass:"action-sheet-mask",class:{in:t.showLongPressSheet},on:{click:t.closeActionSheet}}):t._e()]),t._v(" "),"drawingTools"===t.mainNavBar__activeTab?n("PolygonDrawingContainer",{on:{cancel:t.cancelPolygon,done:t.finishPolygon,rollback:t.rollbackPolygon}}):t._e(),t._v(" "),"createRecordFromMap"===t.mainNavBar__activeTab?n("CreateRecordFromMap"):t._e()],1)},staticRenderFns:[]}}});