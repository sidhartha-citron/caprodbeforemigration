webpackJsonp([40],{259:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={methods:{decodeHtml:function(e){var t=document.createElement("textarea");return t.innerHTML=e,t.value}}}},270:function(e,t,s){var a=s(13)(s(273),s(274),function(e){s(271)},"data-v-63bf9b6e",null);e.exports=a.exports},271:function(e,t,s){var a=s(272);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);s(198)("1c032509",a,!0)},272:function(e,t,s){(e.exports=s(197)(void 0)).push([e.i,".disable-resize[data-v-63bf9b6e]{resize:none}@media screen and (max-width:1024px){.slds-input[data-v-63bf9b6e]{-moz-appearance:none;-webkit-appearance:none;appearance:none}}",""])},273:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s(14),n=s.n(a),o=s(259),i=s.n(o);t.default={name:"MAInput",mixins:[i.a],props:{value:{type:String|Number,required:!0},isRequired:{type:Boolean,default:!1},useTextArea:{type:Boolean,default:!1},disableResize:{type:Boolean,default:!1},label:{type:String,default:""},errors:{type:Array,default:function(){return[]}},placeholder:{type:String,default:""},type:{type:String,default:"text"},isInvalid:{type:Boolean,default:!1},isDisabled:{type:Boolean,default:!1},hasFocus:{type:Boolean,default:!1},requiredLabel:{type:String,default:"Required"}},computed:{showLabel:function(){return this.label},hasErrors:function(){return this.errors&&this.errors.length},listeners:function(){var e=this;return n()({},this.$listeners,{input:function(t){return e.$emit("input",t.target.value)}})}},watch:{hasFocus:function(e){e&&this.focus()}},mounted:function(){this.hasFocus&&this.focus()},methods:{focus:function(){this.$refs.input.focus(),this.$refs.input.select()}}}},274:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"slds-form-element",class:{"slds-has-error":e.isInvalid}},[e.showLabel?s("label",{staticClass:"slds-form-element__label"},[e.isRequired?s("abbr",{staticClass:"slds-required",attrs:{title:e.requiredLabel}},[e._v("*")]):e._e(),e._v("\n        "+e._s(e.decodeHtml(e.label))+"\n        "),e._t("label")],2):e._e(),e._v(" "),s("div",{staticClass:"slds-form-element__control",staticStyle:{position:"relative"}},[e.useTextArea?s("textarea",e._g({staticClass:"slds-textarea",attrs:{disabled:e.isDisabled,placeholder:e.placeholder},domProps:{value:e.decodeHtml(e.value)}},e.listeners)):s("input",e._g({ref:"input",staticClass:"slds-input",attrs:{type:e.type,disabled:e.isDisabled,placeholder:e.placeholder},domProps:{value:e.decodeHtml(e.value)},on:{blur:function(t){return e.$emit("update:hasFocus",!1)}}},e.listeners)),e._v(" "),e._t("extendInput")],2),e._v(" "),e.isInvalid?s("div",{staticClass:"slds-form-element__help"},[e._t("errors")],2):e._e()])},staticRenderFns:[]}},478:function(e,t,s){var a=s(13)(s(481),s(482),function(e){s(479)},null,null);e.exports=a.exports},479:function(e,t,s){var a=s(480);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);s(198)("69667104",a,!0)},480:function(e,t,s){(e.exports=s(197)(void 0)).push([e.i,".mobile-date-input{background-color:inherit!important;cursor:pointer!important}",""])},481:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s(14),n=s.n(a),o=s(217),i=s.n(o),r=s(270),l=s.n(r),u=s(59),d=s.n(u),c=s(294),p=(s.n(c),s(35)),_=(s.n(p),s(62)),f=s.n(_),m=s(63),h=s.n(m),v=window.moment;t.default={components:{MAModal:i.a,MASpinner:d.a,MAInput:l.a,DateSelectionModal:function(){return n()({},f()(),{component:s.e(17).then(s.bind(null,283)),error:h.a})}},data:function(){return{isLoading:!1,name:"",date:null,dateString:"",showDateModal:!1}},validations:{name:{required:c.required}},computed:n()({},Object(p.mapGetters)("routes",{routes__route:"route",routes__record:"record",routes__waypoints:"waypoints"}),{last:function(){return this.routes__route.last},first:function(){return this.routes__route.first}}),created:function(){this.name=this.routes__record.Name,this.parseDate(this.routes__record.Date__c)},methods:n()({},Object(p.mapMutations)("routes",{routes__updateRecord:"updateRecord",store__setPendingChange:"setPendingChange"}),Object(p.mapActions)("routes",{routes__saveRoute:"saveRoute"}),{toggleDateModal:function(e){this.showDateModal=e},setDate:function(e){this.date.set({date:e.get("date"),month:e.get("month"),year:e.get("year")}),this.dateString=this.date.format(this.$User.dateFormat.toUpperCase())},close:function(){this.isLoading||this.$emit("close")},parseDate:function(e){var t=v.utc(e,"YYYY-MM-DD");this.date=t,this.dateString=t.format(this.$User.dateFormat.toUpperCase())},saveRoute:function(e){var t=this;this.routes__updateRecord({Name:this.name,Date__c:this.date.format("YYYY-MM-DD")}),this.routes__saveRoute(e).then(function(){t.store__setPendingChange(!1),t.$bus.$emit("refresh-route-list"),t.$emit("close")}).catch(function(e){window.MAToastMessages.showError({message:"Unable to save this route.",subMessage:String(e),timeOut:8e3,closeButton:!0})})}})}},482:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("MAModal",{directives:[{name:"show",rawName:"v-show",value:!e.showDateModal,expression:"!showDateModal"}],staticClass:"slds-modal-fullscreen-phone",attrs:{doDetach:!0,title:e._f("decode")(e.$Labels.MA_Save_Route),closeLabel:e.$Labels.MA_Close},on:{close:e.close}},[s("div",{attrs:{slot:"content"},slot:"content"},[s("MASpinner",{directives:[{name:"show",rawName:"v-show",value:e.isLoading,expression:"isLoading"}]}),e._v(" "),s("MAInput",{attrs:{isRequired:!0,label:e._f("decode")(e.$Labels.MA_Name),requiredLabel:e.$Labels.MA_Required},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),e._v(" "),s("div",{staticClass:"slds-form-element",on:{click:function(t){return e.toggleDateModal(!0)}}},[s("label",{staticClass:"slds-form-element__label",attrs:{for:"text-input-id-1"}},[s("abbr",{staticClass:"slds-required"},[e._v("*")]),e._v("\n                    "+e._s(e._f("decode")(e.$Labels.MA_Date))+"\n                ")]),e._v(" "),s("div",{staticClass:"slds-form-element__control slds-input-has-icon slds-input-has-icon_right"},[s("span",{staticClass:"slds-icon slds-input__icon slds-input__icon_right ma-icon ma-icon-event slds-icon-text-light"}),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.dateString,expression:"dateString"}],staticClass:"slds-input mobile-date-input",attrs:{id:"text-input-id-1",type:"text",disabled:""},domProps:{value:e.dateString},on:{input:function(t){t.target.composing||(e.dateString=t.target.value)}}})])])],1),e._v(" "),s("div",{attrs:{slot:"footer"},slot:"footer"},[s("div",{staticClass:"float-right"},[s("button",{staticClass:"slds-button slds-button_neutral",on:{click:e.close}},[e._v("\n                    "+e._s(e._f("decode")(e.$Labels.MA_Cancel))+"\n                ")]),e._v(" "),s("button",{staticClass:"slds-button slds-button_brand",on:{click:function(t){return e.saveRoute(!0)}}},[e._v("\n                    "+e._s(e._f("decode")(e.$Labels.MA_SaveAs))+"\n                ")]),e._v(" "),s("button",{staticClass:"slds-button slds-button_brand",on:{click:function(t){return e.saveRoute(!1)}}},[e._v("\n                    "+e._s(e._f("decode")(e.$Labels.MA_Save))+"\n                ")])])])]),e._v(" "),e.showDateModal?s("DateSelectionModal",{attrs:{date:e.date},on:{close:function(t){return e.toggleDateModal(!1)},update:e.setDate}}):e._e()],1)},staticRenderFns:[]}}});