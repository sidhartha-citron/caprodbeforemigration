(this["webpackJsonpfilter-editor"]=this["webpackJsonpfilter-editor"]||[]).push([[0],{196:function(e,t,s){"use strict";s.r(t);var a=s(0),r=s(76),l=s.n(r),o=(s(48),s(5)),i=s(6),n=s(4),c=s(8),h=s(7),d=window.GanttPalette.labels,p="BOOLEAN",u="DATE",m="DATETIME",b="DOUBLE",v="PERCENT",x="INTEGER",j="PICKLIST",O="LOCATION",g="ADDRESS",C="CURRENCY",f=window.GanttPalette.icons,S=window.GanttPalette.distanceUnit,M=s(1),P=function(e){Object(c.a)(s,e);var t=Object(h.a)(s);function s(e){var a;Object(o.a)(this,s),(a=t.call(this,e)).showHelp=a.showHelp.bind(Object(n.a)(a)),a.hideHelp=a.hideHelp.bind(Object(n.a)(a)),a.change=a.change.bind(Object(n.a)(a));var r=[];for(var l in a.props.serviceAppointmentFieldsMap){var i=a.props.serviceAppointmentFieldsMap[l];r.push(Object(M.jsx)("option",{value:i.Name,children:i.Label}))}return a.state={serviceFieldsOptions:r,showHelp:!1},a}return Object(i.a)(s,[{key:"render",value:function(){return Object(M.jsxs)("div",{class:"slds-form-element palette-editor-element-wrapper",children:[Object(M.jsx)("label",{class:"slds-form-element__label",for:"select-01",children:d.BasedOn}),this.state.showHelp?Object(M.jsxs)("div",{class:"slds-popover slds-popover_tooltip slds-nubbin_bottom-left help-text-value",id:"help",role:"tooltip",children:[Object(M.jsx)("div",{class:"cover-helper",onClick:this.hideHelp}),Object(M.jsx)("div",{class:"slds-popover__body slds-text-longform",children:Object(M.jsx)("p",{children:d.PaletteServiceFieldTooltip})})]}):null,Object(M.jsx)("div",{class:"slds-form-element__icon",children:Object(M.jsx)("button",{"aria-describedby":"help",class:"slds-button slds-button_icon",onClick:this.showHelp,children:Object(M.jsx)("svg",{class:"slds-icon slds-icon_x-small slds-icon-text-default","aria-hidden":"true",children:Object(M.jsx)("use",{href:f.info})})})}),Object(M.jsx)("div",{class:"slds-form-element__control",children:Object(M.jsx)("div",{class:"slds-select_container",children:Object(M.jsx)("select",{class:"slds-select",id:"select-01",onChange:this.change,value:this.props.fieldValue,children:this.state.serviceFieldsOptions})})})]})}},{key:"change",value:function(e){this.props.onChange(e.target.value)}},{key:"showHelp",value:function(){this.setState({showHelp:!0})}},{key:"hideHelp",value:function(){this.setState({showHelp:!1})}}]),s}(a.Component),y=s(82),E=s(81),k=s(2),w=s.n(k),V=1,_=function(e){Object(c.a)(s,e);var t=Object(h.a)(s);function s(e){var a;Object(o.a)(this,s),(a=t.call(this,e)).handleChangeComplete=a.handleChangeComplete.bind(Object(n.a)(a)),a.handleChange=a.handleChange.bind(Object(n.a)(a)),a.handleHexChange=a.handleHexChange.bind(Object(n.a)(a)),a.handleClick=a.handleClick.bind(Object(n.a)(a)),a.handleClose=a.handleClose.bind(Object(n.a)(a)),a.HexToColor=a.HexToColor.bind(Object(n.a)(a));var r=a.HexToColor(a.props.color);return a.state={displayColorPicker:!1,color:r,showError:!1},a.inputIdName="input-color-selector-"+V++,a}return Object(i.a)(s,[{key:"render",value:function(){var e=w()({default:{color:{width:"36px",height:"15px",borderRadius:"2px",marginRight:"2px"},pickercolor:{background:"rgba(".concat(this.state.color.rgb.r,", ").concat(this.state.color.rgb.g,", ").concat(this.state.color.rgb.b,", ").concat(this.state.color.rgb.a,")")},swatch:{padding:"5px",background:"#fff",borderRadius:"2px",boxShadow:"0 0 0 1px #d8dde7",display:"inline-flex",cursor:"pointer",float:"right",minWidth:"93px"},popover:{position:"absolute",zIndex:"2",width:"60%",minWidth:"243px",backgroundColor:"#ffffff",border:"1px solid #d8dde6",padding:"10px",margin:"-32px 0px 0px 161px",boxShadow:"0 2px 3px 0 rgba(0, 0, 0, 0.16)"},before:{popover:{content:"",display:"block",width:"0",height:"0",borderTop:"12px solid transparent",borderBottom:"12px solid transparent",borderRight:"12px solid #f5f5f5",position:"absolute",top:"16px",left:"-12px"}},cover:{position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"},slider:{position:"relative",padding:"5px"},container:{borderBottom:"1px solid #d8dde7",maxWidth:"299px",minHeight:"31px",marginBottom:"20px"},label:{padding:"6px",display:"inline-flex"},hexinput:{maxWidth:"50px",maxHeight:"10px"}}});return Object(M.jsxs)("div",{className:this.state.showError?"slds-form-element palette-editor-element-wrapper slds-has-error":"slds-form-element palette-editor-element-wrapper",children:[Object(M.jsx)("label",{class:"slds-form-element__label",for:this.inputIdName,children:this.props.translation}),Object(M.jsx)("div",{class:"slds-color-picker",children:Object(M.jsxs)("div",{class:"slds-color-picker__summary",children:[Object(M.jsx)("div",{class:"slds-form-element slds-color-picker__summary-input color-text-box",children:Object(M.jsxs)("div",{class:"slds-form-element__control",children:[Object(M.jsx)("input",{type:"text",id:this.inputIdName,class:"slds-input input-normal-line-height",value:this.state.color.hex,onChange:this.handleHexChange}),!0===this.state.showError?Object(M.jsx)("div",{id:"error-message",class:"slds-form-element__help",children:d.BadHexValueError}):null]})}),Object(M.jsxs)("span",{class:"slds-button slds-button_icon slds-button_icon-more color-swatch-button",onClick:this.handleClick,children:[Object(M.jsx)("span",{class:"slds-swatch color-swatch-box",style:e.pickercolor}),Object(M.jsx)("svg",{class:"slds-button__icon slds-button__icon_small slds-m-left_xx-small color-swatch-box","aria-hidden":"true",children:Object(M.jsx)("use",{href:f.down})})]})]})}),this.state.displayColorPicker?Object(M.jsxs)("div",{style:e.popover,class:"colorbox",children:[Object(M.jsx)("div",{style:e.cover,onClick:this.handleClose}),Object(M.jsx)("div",{style:e.slider,children:Object(M.jsx)(E.a,{color:this.state.color.hsl,onChange:this.handleChange})})]}):null]})}},{key:"componentDidMount",value:function(){var e=this.state.color;"#"!==e.hex[0]||7!==e.hex.length||null===e.hex.substr(1,e.hex.length).match("^[a-zA-Z0-9]+$")?this.props.OnChange(e.hex,this.props.label,!1):this.props.OnChange(e.hex,this.props.label,!0)}},{key:"componentWillReceiveProps",value:function(e){var t=this.HexToColor(e.color);"#"!==t.hex[0]||7!==t.hex.length||null===t.hex.substr(1,t.hex.length).match("^[a-zA-Z0-9]+$")?this.setState({color:t,showError:!0}):this.setState({color:t,showError:!1})}},{key:"handleHexChange",value:function(e){var t=this.HexToColor(e.target.value);"#"!==t.hex[0]||7!==t.hex.length||null===t.hex.substr(1,t.hex.length).match("^[a-zA-Z0-9]+$")?this.props.OnChange(t.hex,this.props.label,!1):this.props.OnChange(t.hex,this.props.label,!0)}},{key:"handleChange",value:function(e){this.setState({color:e})}},{key:"handleChangeComplete",value:function(e){}},{key:"handleClick",value:function(){this.setState({displayColorPicker:!this.state.displayColorPicker})}},{key:"handleClose",value:function(){this.setState({displayColorPicker:!1},this.props.OnChange(this.state.color.hex,this.props.label,!0))}},{key:"HexToColor",value:function(e){void 0===e&&(e="#1589ee");var t=this.hexToRGB(e);return{hex:e,rgb:t,hsl:this.rgbToHSL(t)}}},{key:"rgbToHSL",value:function(e){var t=e.r,s=e.g,a=e.b;t/=255,s/=255,a/=255;var r,l,o=Math.max(t,s,a),i=Math.min(t,s,a),n=(o+i)/2;if(o===i)r=l=0;else{var c=o-i;switch(l=n>.5?c/(2-o-i):c/(o+i),o){case t:r=(s-a)/c+(s<a?6:0);break;case s:r=(a-t)/c+2;break;case a:r=(t-s)/c+4}r/=6}return{h:r,s:l,l:n}}},{key:"hexToRGB",value:function(e){return{r:(e="string"===typeof e||e instanceof String?parseInt(e.replace(/^#/,""),16):e)>>16&255,g:e>>8&255,b:255&e,a:"1"}}}]),s}(a.Component),D=function(e){Object(c.a)(s,e);var t=Object(h.a)(s);function s(e){var a;return Object(o.a)(this,s),(a=t.call(this,e)).changedValue=a.changedValue.bind(Object(n.a)(a)),a.showHelp=a.showHelp.bind(Object(n.a)(a)),a.hideHelp=a.hideHelp.bind(Object(n.a)(a)),a.state={showError:a.props.showError,errorMessage:a.props.errorMessage,showHelp:!1},a}return Object(i.a)(s,[{key:"render",value:function(){return Object(M.jsxs)("div",{className:this.state.showError?"slds-form-element palette-editor-element-wrapper slds-has-error":"slds-form-element palette-editor-element-wrapper",children:[Object(M.jsx)("label",{class:"slds-form-element__label slds-align-middle",for:"form-help",children:this.props.label}),this.state.showHelp?Object(M.jsxs)("div",{class:"slds-popover slds-popover_tooltip slds-nubbin_bottom-left help-text-value",id:"help",role:"tooltip",children:[Object(M.jsx)("div",{class:"cover-helper",onClick:this.hideHelp}),Object(M.jsx)("div",{class:"slds-popover__body slds-text-longform",children:Object(M.jsx)("p",{children:this.props.help})})]}):null,this.props.help?Object(M.jsx)("div",{class:"slds-form-element__icon",children:Object(M.jsxs)("button",{"aria-describedby":"help",class:"slds-button slds-button_icon",onClick:this.showHelp,children:[Object(M.jsx)("svg",{class:"slds-icon slds-icon_x-small slds-icon-text-default","aria-hidden":"true",children:Object(M.jsx)("use",{href:f.info})}),Object(M.jsx)("span",{class:"slds-assistive-text",children:"Help"})]})}):null,Object(M.jsxs)("div",{class:"slds-form-element__control",children:[Object(M.jsx)("input",{value:this.props.value,class:"slds-input input-normal-line-height",id:"form-help",type:"number",onChange:this.changedValue,min:this.props.min,placeholder:this.props.placeholder,step:this.props.step}),this.state.showError?Object(M.jsx)("div",{id:"error-message",class:"slds-form-element__help",children:this.state.errorMessage}):null]})]})}},{key:"componentWillReceiveProps",value:function(e){this.setState({value:e.value,showError:e.showError,errorMessage:e.errorMessage})}},{key:"showHelp",value:function(){this.setState({showHelp:!0})}},{key:"hideHelp",value:function(){this.setState({showHelp:!1})}},{key:"changedValue",value:function(e){this.props.OnChange(e.target.value)}}]),s}(a.Component),H=function(e){Object(c.a)(s,e);var t=Object(h.a)(s);function s(e){var a;return Object(o.a)(this,s),(a=t.call(this,e)).changedType=a.changedType.bind(Object(n.a)(a)),a.changedValue=a.changedValue.bind(Object(n.a)(a)),a.showHelp=a.showHelp.bind(Object(n.a)(a)),a.hideHelp=a.hideHelp.bind(Object(n.a)(a)),a.state={showError:a.props.showError,errorMessage:a.props.errorMessage,showHelp:!1},a}return Object(i.a)(s,[{key:"render",value:function(){return Object(M.jsxs)("div",{className:this.state.showError?"slds-form-element palette-editor-element-wrapper slds-has-error":"slds-form-element palette-editor-element-wrapper",children:[Object(M.jsx)("label",{class:"slds-form-element__label slds-align-middle",for:"form-help",children:this.props.label}),this.state.showHelp?Object(M.jsxs)("div",{class:"slds-popover slds-popover_tooltip slds-nubbin_bottom-left help-text-value",id:"help",role:"tooltip",children:[Object(M.jsx)("div",{class:"cover-helper",onClick:this.hideHelp}),Object(M.jsx)("div",{class:"slds-popover__body slds-text-longform",children:Object(M.jsx)("p",{children:this.props.help})})]}):null,Object(M.jsx)("div",{class:"slds-form-element__icon",children:Object(M.jsxs)("button",{"aria-describedby":"help",class:"slds-button slds-button_icon",onClick:this.showHelp,children:[Object(M.jsx)("svg",{class:"slds-icon slds-icon_x-small slds-icon-text-default","aria-hidden":"true",children:Object(M.jsx)("use",{href:f.info})}),Object(M.jsx)("span",{class:"slds-assistive-text",children:"Help"})]})}),Object(M.jsxs)("div",{class:"slds-form-element__control",children:[Object(M.jsx)("span",{class:"duration-left-input",children:Object(M.jsx)("input",{value:this.props.value,class:"slds-input input-normal-line-height",id:"form-help",type:"number",onChange:this.changedValue})}),Object(M.jsx)("div",{class:"slds-select_container duration-type-selector-right",children:Object(M.jsxs)("select",{class:"slds-select",id:"select-01",required:"",onChange:this.changedType,value:this.props.type,children:[Object(M.jsx)("option",{value:"Minutes",children:d.Minutes}),Object(M.jsx)("option",{value:"Hours",children:d.Hours}),Object(M.jsx)("option",{value:"Days",children:d.Days})]})}),this.state.showError?Object(M.jsx)("div",{id:"error-message",class:"slds-form-element__help",children:this.state.errorMessage}):null]})]})}},{key:"componentWillReceiveProps",value:function(e){this.setState({showError:e.showError,errorMessage:e.errorMessage})}},{key:"showHelp",value:function(){this.setState({showHelp:!0})}},{key:"hideHelp",value:function(){this.setState({showHelp:!1})}},{key:"changedType",value:function(e){this.props.OnChangeType(e.target.value)}},{key:"changedValue",value:function(e){this.props.OnChangeValue(e.target.value)}}]),s}(a.Component),N=Object.prototype.hasOwnProperty;function T(e){if(null==e)return!0;if(e.length>0)return!1;if(0===e.length)return!0;if("object"!==typeof e)return!0;for(var t in e)if(N.call(e,t))return!1;return!0}var F=function(e){Object(c.a)(s,e);var t=Object(h.a)(s);function s(e){var a;return Object(o.a)(this,s),(a=t.call(this,e)).setFalseColor=a.setFalseColor.bind(Object(n.a)(a)),a.setTrueColor=a.setTrueColor.bind(Object(n.a)(a)),a.state={colorScheme:a.props.colorScheme,MinColorValid:!0,MaxColorValid:!0},a}return Object(i.a)(s,[{key:"render",value:function(){return Object(M.jsxs)("div",{children:[Object(M.jsx)("div",{children:Object(M.jsx)("span",{children:Object(M.jsx)(_,{color:this.state.colorScheme.max.color,OnChange:this.setTrueColor,label:d.Selected})})}),Object(M.jsx)("div",{children:Object(M.jsx)("span",{children:Object(M.jsx)(_,{color:this.state.colorScheme.min.color,OnChange:this.setFalseColor,label:d.Deselected})})})]})}},{key:"componentWillReceiveProps",value:function(e){e.errorInPalette||this.setState({colorScheme:e.colorScheme,MinColorValid:!0,MaxColorValid:!0})}},{key:"setFalseColor",value:function(e,t,s){var a=this.state.colorScheme;a.min.color=e,s&&this.state.MaxColorValid?this.props.OnChange(a):this.setState({colorScheme:a,MinColorValid:s,MaxColorValid:this.state.MaxColorValid},this.props.OnPaletteError(!0))}},{key:"setTrueColor",value:function(e,t,s){var a=this.state.colorScheme;a.max.color=e,s&&this.state.MinColorValid?this.props.OnChange(a):this.setState({colorScheme:a,MinColorValid:this.state.MinColorValid,MaxColorValid:s},this.props.OnPaletteError(!0))}}]),s}(a.Component),L=function(e){Object(c.a)(s,e);var t=Object(h.a)(s);function s(e){var a;return Object(o.a)(this,s),(a=t.call(this,e)).setMaxColor=a.setMaxColor.bind(Object(n.a)(a)),a.setMinColor=a.setMinColor.bind(Object(n.a)(a)),a.setEmptyColor=a.setEmptyColor.bind(Object(n.a)(a)),a.handleMinValueChanged=a.handleMinValueChanged.bind(Object(n.a)(a)),a.handleMaxValueChanged=a.handleMaxValueChanged.bind(Object(n.a)(a)),a.state={colorScheme:a.props.colorScheme,MinColorValid:!0,MaxColorValid:!0,EmptyColorValid:!0,showError:!1,minMaxErrorMsg:""},a}return Object(i.a)(s,[{key:"render",value:function(){return Object(M.jsxs)("div",{children:[Object(M.jsx)("div",{children:Object(M.jsxs)("span",{children:[Object(M.jsx)(D,{value:this.state.colorScheme.min.value,label:d.MinimumValue,OnChange:this.handleMinValueChanged,step:this.props.step,help:d.MinimumValueTooltip,showError:this.state.showError,errorMessage:this.state.minMaxErrorMsg}),Object(M.jsx)(_,{color:this.state.colorScheme.min.color,OnChange:this.setMinColor,label:d.MinimumColor})]})}),Object(M.jsx)("div",{children:Object(M.jsxs)("span",{children:[Object(M.jsx)(D,{value:this.state.colorScheme.max.value,label:d.MaximumValue,OnChange:this.handleMaxValueChanged,step:this.props.step,help:d.MaximumValueTooltip,showError:this.state.showError,errorMessage:this.state.minMaxErrorMsg}),Object(M.jsx)(_,{color:this.state.colorScheme.max.color,OnChange:this.setMaxColor,label:d.MaximumColor})]})}),Object(M.jsx)("div",{children:Object(M.jsx)("span",{children:Object(M.jsx)(_,{color:this.state.colorScheme.empty,OnChange:this.setEmptyColor,label:d.NoValue})})})]})}},{key:"componentDidMount",value:function(){parseFloat(this.state.colorScheme.min.value)>=parseFloat(this.state.colorScheme.max.value)&&this.setState({showError:!0,minMaxErrorMsg:d.MinMaxPaletteError},this.props.OnPaletteError(!0))}},{key:"componentWillReceiveProps",value:function(e){e.errorInPalette||this.setState({colorScheme:e.colorScheme,minMaxErrorMsg:"",showError:!1,MinColorValid:!0,MaxColorValid:!0,EmptyColorValid:!0})}},{key:"handleMinValueChanged",value:function(e){var t=this.state.colorScheme;t.min.value=e,parseFloat(this.state.colorScheme.max.value)>parseFloat(t.min.value)?this.state.MinColorValid&&this.state.MaxColorValid&&this.state.EmptyColorValid?this.props.OnChange(t):this.setState({showError:!1,minMaxErrorMsg:"",colorScheme:t},this.props.OnPaletteError(!0)):this.setState({showError:!0,minMaxErrorMsg:d.MinMaxPaletteError,colorScheme:t},this.props.OnPaletteError(!0))}},{key:"handleMaxValueChanged",value:function(e){var t=this.state.colorScheme;t.max.value=e,parseFloat(this.state.colorScheme.min.value)<parseFloat(t.max.value)?this.state.MinColorValid&&this.state.MaxColorValid&&this.state.EmptyColorValid?this.props.OnChange(t):this.setState({showError:!1,minMaxErrorMsg:"",colorScheme:t},this.props.OnPaletteError(!0)):this.setState({showError:!0,minMaxErrorMsg:d.MinMaxPaletteError,colorScheme:t},this.props.OnPaletteError(!0))}},{key:"setMinColor",value:function(e,t,s){var a=this.state.colorScheme;a.min.color=e,s?this.state.MaxColorValid&&this.state.EmptyColorValid&&!this.state.showError?this.props.OnChange(a):this.setState({MinColorValid:s,colorScheme:a},this.props.OnPaletteError(!0)):this.setState({colorScheme:a,MinColorValid:s},this.props.OnPaletteError(!0))}},{key:"setMaxColor",value:function(e,t,s){var a=this.state.colorScheme;a.max.color=e,s?this.state.MinColorValid&&this.state.EmptyColorValid&&!this.state.showError?this.props.OnChange(a):this.setState({MaxColorValid:s,colorScheme:a},this.props.OnPaletteError(!0)):this.setState({colorScheme:a,MaxColorValid:s},this.props.OnPaletteError(!0))}},{key:"setEmptyColor",value:function(e,t,s){var a=this.state.colorScheme;a.empty=e,s?this.state.MinColorValid&&this.state.MaxColorValid&&!this.state.showError?this.props.OnChange(a):this.setState({EmptyColorValid:s,colorScheme:a},this.props.OnPaletteError(!0)):this.setState({colorScheme:a,EmptyColorValid:s},this.props.OnPaletteError(!0))}}]),s}(a.Component),I=function(e){Object(c.a)(s,e);var t=Object(h.a)(s);function s(e){var a;return Object(o.a)(this,s),(a=t.call(this,e)).setMaxColor=a.setMaxColor.bind(Object(n.a)(a)),a.setMinColor=a.setMinColor.bind(Object(n.a)(a)),a.setEmptyColor=a.setEmptyColor.bind(Object(n.a)(a)),a.changedMinValue=a.changedMinValue.bind(Object(n.a)(a)),a.changedMaxValue=a.changedMaxValue.bind(Object(n.a)(a)),a.changedMinType=a.changedMinType.bind(Object(n.a)(a)),a.changedMaxType=a.changedMaxType.bind(Object(n.a)(a)),a.state={colorScheme:a.props.colorScheme,MinColorValid:!0,MaxColorValid:!0,EmptyColorValid:!0,showError:!1,minMaxErrorMsg:""},a}return Object(i.a)(s,[{key:"render",value:function(){return Object(M.jsxs)("div",{children:[Object(M.jsx)("div",{children:Object(M.jsxs)("span",{children:[Object(M.jsx)(H,{help:d.MinimumValueTooltip,label:d.MinimumValue,OnChangeType:this.changedMinType,OnChangeValue:this.changedMinValue,value:this.state.colorScheme.min.value,type:this.state.colorScheme.min.type,showError:this.state.showError,errorMessage:this.state.minMaxErrorMsg}),Object(M.jsx)(_,{color:this.state.colorScheme.min.color,OnChange:this.setMinColor,label:d.MinimumColor})]})}),Object(M.jsx)("div",{children:Object(M.jsxs)("span",{children:[Object(M.jsx)(H,{help:d.MaximumValueTooltip,label:d.MaximumValue,OnChangeType:this.changedMaxType,OnChangeValue:this.changedMaxValue,value:this.state.colorScheme.max.value,type:this.state.colorScheme.max.type,showError:this.state.showError,errorMessage:this.state.minMaxErrorMsg}),Object(M.jsx)(_,{color:this.state.colorScheme.max.color,OnChange:this.setMaxColor,label:d.MaximumColor})]})}),Object(M.jsx)("div",{children:Object(M.jsx)("span",{children:Object(M.jsx)(_,{color:this.state.colorScheme.empty,OnChange:this.setEmptyColor,label:d.NoValue})})})]})}},{key:"componentDidMount",value:function(){var e,t;switch(this.state.colorScheme.max.type){case"Minutes":t=60*this.state.colorScheme.max.value*1e3;break;case"Hours":t=60*this.state.colorScheme.max.value*60*1e3;break;case"Days":t=24*this.state.colorScheme.max.value*60*60*1e3}switch(this.state.colorScheme.min.type){case"Minutes":e=60*this.state.colorScheme.min.value*1e3;break;case"Hours":e=60*this.state.colorScheme.min.value*60*1e3;break;case"Days":e=24*this.state.colorScheme.min.value*60*60*1e3}parseFloat(e)>=parseFloat(t)&&this.setState({showError:!0,minMaxErrorMsg:d.MinMaxPaletteError},this.props.OnPaletteError(!0))}},{key:"componentWillReceiveProps",value:function(e){e.errorInPalette||this.setState({colorScheme:e.colorScheme,showError:!1,minMaxErrorMsg:"",MinColorValid:!0,MaxColorValid:!0,EmptyColorValid:!0})}},{key:"changedMinValue",value:function(e){var t,s;switch(this.state.colorScheme.max.type){case"Minutes":s=60*this.state.colorScheme.max.value*1e3;break;case"Hours":s=60*this.state.colorScheme.max.value*60*1e3;break;case"Days":s=24*this.state.colorScheme.max.value*60*60*1e3}switch(this.state.colorScheme.min.type){case"Minutes":t=60*e*1e3;break;case"Hours":t=60*e*60*1e3;break;case"Days":t=24*e*60*60*1e3}var a=this.state.colorScheme;a.min.value=e,parseFloat(t)<parseFloat(s)?this.state.MinColorValid&&this.state.MaxColorValid&&this.state.EmptyColorValid?this.props.OnChange(a):this.setState({showError:!1,minMaxErrorMsg:"",colorScheme:a},this.props.OnPaletteError(!0)):this.setState({showError:!0,minMaxErrorMsg:d.MinMaxPaletteError,colorScheme:a},this.props.OnPaletteError(!0))}},{key:"changedMaxValue",value:function(e){var t,s;switch(this.state.colorScheme.min.type){case"Minutes":t=60*this.state.colorScheme.min.value*1e3;break;case"Hours":t=60*this.state.colorScheme.min.value*60*1e3;break;case"Days":t=24*this.state.colorScheme.min.value*60*60*1e3}switch(this.state.colorScheme.max.type){case"Minutes":s=60*e*1e3;break;case"Hours":s=60*e*60*1e3;break;case"Days":s=24*e*60*60*1e3}var a=this.state.colorScheme;a.max.value=e,parseFloat(t)<parseFloat(s)?this.state.MinColorValid&&this.state.MaxColorValid&&this.state.EmptyColorValid?this.props.OnChange(a):this.setState({showError:!1,minMaxErrorMsg:"",colorScheme:a},this.props.OnPaletteError(!0)):this.setState({showError:!0,minMaxErrorMsg:d.MinMaxPaletteError,colorScheme:a},this.props.OnPaletteError(!0))}},{key:"changedMinType",value:function(e){var t,s;switch(e){case"Minutes":t=60*this.state.colorScheme.min.value*1e3;break;case"Hours":t=60*this.state.colorScheme.min.value*60*1e3;break;case"Days":t=24*this.state.colorScheme.min.value*60*60*1e3}switch(this.state.colorScheme.max.type){case"Minutes":s=60*this.state.colorScheme.max.value*1e3;break;case"Hours":s=60*this.state.colorScheme.max.value*60*1e3;break;case"Days":s=24*this.state.colorScheme.max.value*60*60*1e3}var a=this.state.colorScheme;a.min.type=e,parseFloat(t)<parseFloat(s)?this.state.MinColorValid&&this.state.MaxColorValid&&this.state.EmptyColorValid?this.props.OnChange(a):this.setState({showError:!1,minMaxErrorMsg:"",colorScheme:a},this.props.OnPaletteError(!0)):this.setState({showError:!0,minMaxErrorMsg:d.MinMaxPaletteError,colorScheme:a},this.props.OnPaletteError(!0))}},{key:"changedMaxType",value:function(e){var t,s;switch(e){case"Minutes":s=60*this.state.colorScheme.max.value*1e3;break;case"Hours":s=60*this.state.colorScheme.max.value*60*1e3;break;case"Days":s=24*this.state.colorScheme.max.value*60*60*1e3}switch(this.state.colorScheme.min.type){case"Minutes":t=60*this.state.colorScheme.min.value*1e3;break;case"Hours":t=60*this.state.colorScheme.min.value*60*1e3;break;case"Days":t=24*this.state.colorScheme.min.value*60*60*1e3}var a=this.state.colorScheme;a.max.type=e,parseFloat(t)<parseFloat(s)?this.state.MinColorValid&&this.state.MaxColorValid&&this.state.EmptyColorValid?this.props.OnChange(a):this.setState({showError:!1,minMaxErrorMsg:"",colorScheme:a},this.props.OnPaletteError(!0)):this.setState({showError:!0,minMaxErrorMsg:d.MinMaxPaletteError,colorScheme:a},this.props.OnPaletteError(!0))}},{key:"setMinColor",value:function(e,t,s){var a=this.state.colorScheme;a.min.color=e,s&&!this.state.showError&&this.state.MaxColorValid&&this.state.EmptyColorValid?this.props.OnChange(a):this.setState({MinColorValid:s,colorScheme:a},this.props.OnPaletteError(!0))}},{key:"setMaxColor",value:function(e,t,s){var a=this.state.colorScheme;a.max.color=e,s&&!this.state.showError&&this.state.MinColorValid&&this.state.EmptyColorValid?this.props.OnChange(a):this.setState({MaxColorValid:s,colorScheme:a},this.props.OnPaletteError(!0))}},{key:"setEmptyColor",value:function(e,t,s){var a=this.state.colorScheme;a.empty=e,s&&!this.state.showError&&this.state.MinColorValid&&this.state.MaxColorValid?this.props.OnChange(a):this.setState({EmptyColorValid:s,colorScheme:a},this.props.OnPaletteError(!0))}}]),s}(a.Component),A=function(e){Object(c.a)(s,e);var t=Object(h.a)(s);function s(e){var a;return Object(o.a)(this,s),(a=t.call(this,e)).setMinColor=a.setMinColor.bind(Object(n.a)(a)),a.setMaxColor=a.setMaxColor.bind(Object(n.a)(a)),a.setEmptyColor=a.setEmptyColor.bind(Object(n.a)(a)),a.state={colorScheme:a.props.colorScheme,MinColorValid:!0,MaxColorValid:!0,EmptyColorValid:!0,showError:!1,minMaxErrorMsg:""},a}return Object(i.a)(s,[{key:"render",value:function(){return Object(M.jsxs)("div",{children:[Object(M.jsx)("div",{children:Object(M.jsxs)("span",{children:[Object(M.jsx)(D,{value:this.state.colorScheme.min.value,label:d.MinimumValue,OnChange:this.handleMinValueChanged,step:this.props.step,help:d.MinimumValueTooltip,showError:this.state.showError,errorMessage:this.state.minMaxErrorMsg}),Object(M.jsx)(_,{color:this.state.colorScheme.min.color,OnChange:this.setMinColor,label:d.MinimumColor})]})}),Object(M.jsx)("div",{children:Object(M.jsxs)("span",{children:[Object(M.jsx)(D,{value:this.state.colorScheme.max.value,label:d.MaximumValue,OnChange:this.handleMaxValueChanged,step:this.props.step,help:d.MaximumValueTooltip,showError:this.state.showError,errorMessage:this.state.minMaxErrorMsg}),Object(M.jsx)(_,{color:this.state.colorScheme.max.color,OnChange:this.setMaxColor,label:d.MaximumColor})]})}),Object(M.jsx)("div",{children:Object(M.jsx)("span",{children:Object(M.jsx)(_,{color:this.state.colorScheme.empty,OnChange:this.setEmptyColor,label:d.NoValue})})})]})}},{key:"componentDidMount",value:function(){parseFloat(this.state.colorScheme.min.value)>=parseFloat(this.state.colorScheme.max.value)&&this.setState({showError:!0,minMaxErrorMsg:d.MinMaxPaletteError},this.props.OnPaletteError(!0))}},{key:"componentWillReceiveProps",value:function(e){e.errorInPalette||this.setState({colorScheme:e.colorScheme,showError:!1,minMaxErrorMsg:"",MinColorValid:!0,MaxColorValid:!0,EmptyColorValid:!0})}},{key:"handleMinValueChanged",value:function(e){var t=this.state.colorScheme;t.min.value=e,parseFloat(this.state.colorScheme.max.value)>parseFloat(t.min.value)?this.state.MinColorValid&&this.state.MaxColorValid&&this.state.EmptyColorValid?this.props.OnChange(t):this.setState({showError:!1,minMaxErrorMsg:"",colorScheme:t},this.props.OnPaletteError(!0)):this.setState({showError:!0,minMaxErrorMsg:d.MinMaxPaletteError,colorScheme:t},this.props.OnPaletteError(!0))}},{key:"handleMaxValueChanged",value:function(e){var t=this.state.colorScheme;t.max.value=e,parseFloat(this.state.colorScheme.min.value)<parseFloat(t.max.value)?this.state.MinColorValid&&this.state.MaxColorValid&&this.state.EmptyColorValid?this.props.OnChange(t):this.setState({showError:!1,minMaxErrorMsg:"",colorScheme:t},this.props.OnPaletteError(!0)):this.setState({showError:!0,minMaxErrorMsg:d.MinMaxPaletteError,colorScheme:t},this.props.OnPaletteError(!0))}},{key:"setMinColor",value:function(e,t,s){var a=this.state.colorScheme;a.min.color=e,s&&!this.state.showError&&this.state.MaxColorValid&&this.state.EmptyColorValid?this.props.OnChange(a):this.setState({MinColorValid:s,colorScheme:a},this.props.OnPaletteError(!0))}},{key:"setMaxColor",value:function(e,t,s){var a=this.state.colorScheme;a.max.color=e,s&&!this.state.showError&&this.state.MinColorValid&&this.state.EmptyColorValid?this.props.OnChange(a):this.setState({MaxColorValid:s,colorScheme:a},this.props.OnPaletteError(!0))}},{key:"setEmptyColor",value:function(e,t,s){var a=this.state.colorScheme;a.empty=e,s&&!this.state.showError&&this.state.MinColorValid&&this.state.MaxColorValid?this.props.OnChange(a):this.setState({EmptyColorValid:s,colorScheme:a},this.props.OnPaletteError(!0))}}]),s}(a.Component),R=function(e){Object(c.a)(s,e);var t=Object(h.a)(s);function s(e){var a;return Object(o.a)(this,s),(a=t.call(this,e)).changeColor=a.changeColor.bind(Object(n.a)(a)),a.getPicklistValues=a.getPicklistValues.bind(Object(n.a)(a)),a.parsePicklistColors=a.parsePicklistColors.bind(Object(n.a)(a)),a.state=a.getPicklistValues(a.props.colorScheme),a}return Object(i.a)(s,[{key:"render",value:function(){var e=this.parsePicklistColors();return Object(M.jsxs)("div",{children:[e,Object(M.jsx)("div",{children:Object(M.jsx)("span",{children:Object(M.jsx)(_,{color:this.state.colorScheme.empty,OnChange:this.changeColor,label:d.NoValue,translation:d.NoValue})})})]})}},{key:"componentWillReceiveProps",value:function(e){e.errorInPalette||this.setState({colorScheme:e.colorScheme})}},{key:"parsePicklistColors",value:function(){var e=[],t=this.state.colorScheme.picklist[this.props.fieldDescribe.Name];for(var s in t){var a=this.props.fieldDescribe.PicklistLabels[s]||s;e.push(Object(M.jsx)("div",{children:Object(M.jsx)("span",{children:Object(M.jsx)(_,{color:this.state.colorScheme.picklist[this.props.fieldDescribe.Name][s],OnChange:this.changeColor,label:s,translation:a})})}))}return e}},{key:"changeColor",value:function(e,t,s){var a=this.state.colorScheme;if(t!==d.NoValue?a.picklist[this.props.fieldDescribe.Name][t]=e:a.empty=e,s){this.state.validColors[t]=!0;var r=!0;for(var l in this.state.validColors)if(!this.state.validColors[l]&&l!==t){r=!1;break}r?this.props.OnChange(a):this.setState({colorScheme:a,validColors:this.state.validColors},this.props.OnPaletteError(!0))}else{var o=this.state.validColors;o[t]=!1,this.setState({colorScheme:a,validColors:o},this.props.OnPaletteError(!0))}}},{key:"getPicklistValues",value:function(e){if(!0===T(e.picklist[this.props.fieldDescribe.Name])){for(var t={},s=0;s<this.props.fieldDescribe.PicklistValues.length;s++)t[this.props.fieldDescribe.PicklistValues[s]]="#79c879";e.picklist[this.props.fieldDescribe.Name]=t}var a=e.picklist[this.props.fieldDescribe.Name],r={};for(var l in r[d.NoValue]=!0,a)r[l]=!0;return{colorScheme:e,validColors:r}}}]),s}(a.Component),B=function(e){Object(c.a)(s,e);var t=Object(h.a)(s);function s(e){var a;return Object(o.a)(this,s),(a=t.call(this,e)).setMaxColor=a.setMaxColor.bind(Object(n.a)(a)),a.setMinColor=a.setMinColor.bind(Object(n.a)(a)),a.setEmptyColor=a.setEmptyColor.bind(Object(n.a)(a)),a.handleMinDistanceChanged=a.handleMinDistanceChanged.bind(Object(n.a)(a)),a.handleMaxDistanceChanged=a.handleMaxDistanceChanged.bind(Object(n.a)(a)),a.handleLatitudeChanged=a.handleLatitudeChanged.bind(Object(n.a)(a)),a.handleLongitudeChanged=a.handleLongitudeChanged.bind(Object(n.a)(a)),a.state={colorScheme:a.props.colorScheme,MinColorValid:!0,MaxColorValid:!0,EmptyColorValid:!0,showError:!1,minMaxErrorMsg:""},a}return Object(i.a)(s,[{key:"render",value:function(){var e=d.MinimumValue+" ("+S+")",t=d.MaximumValue+" ("+S+")";return Object(M.jsxs)("div",{children:[Object(M.jsx)("div",{children:Object(M.jsxs)("span",{children:[Object(M.jsx)(D,{value:this.state.colorScheme.geolocation.latitude,label:d.Latitude,OnChange:this.handleLatitudeChanged,step:"0.000001",showError:!1,errorMessage:""}),Object(M.jsx)(D,{value:this.state.colorScheme.geolocation.longitude,label:d.Longitude,OnChange:this.handleLongitudeChanged,step:"0.000001",showError:!1,errorMessage:""})]})}),Object(M.jsx)("div",{children:Object(M.jsxs)("span",{children:[Object(M.jsx)(D,{value:this.state.colorScheme.min.value,label:e,OnChange:this.handleMinDistanceChanged,step:"0.5",help:d.MinimumValueTooltip,showError:this.state.showError,errorMessage:this.state.minMaxErrorMsg}),Object(M.jsx)(_,{color:this.state.colorScheme.min.color,OnChange:this.setMinColor,label:d.MinimumColor})]})}),Object(M.jsx)("div",{children:Object(M.jsxs)("span",{children:[Object(M.jsx)(D,{value:this.state.colorScheme.max.value,label:t,OnChange:this.handleMaxDistanceChanged,step:"0.5",help:d.MaximumValueTooltip,showError:this.state.showError,errorMessage:this.state.minMaxErrorMsg}),Object(M.jsx)(_,{color:this.state.colorScheme.max.color,OnChange:this.setMaxColor,label:d.MaximumColor})]})}),Object(M.jsx)("div",{children:Object(M.jsx)("span",{children:Object(M.jsx)(_,{color:this.state.colorScheme.empty,OnChange:this.setEmptyColor,label:d.NoValue})})})]})}},{key:"componentDidMount",value:function(){parseFloat(this.state.colorScheme.min.value)>=parseFloat(this.state.colorScheme.max.value)&&this.setState({showError:!0,minMaxErrorMsg:d.MinMaxPaletteError},this.props.OnPaletteError(!0))}},{key:"componentWillReceiveProps",value:function(e){e.errorInPalette||this.setState({colorScheme:e.colorScheme,showError:!1,minMaxErrorMsg:""})}},{key:"handleLatitudeChanged",value:function(e){var t=this.state.colorScheme;t.geolocation.latitude=e,!this.state.showError&&this.state.MinColorValid&&this.state.MaxColorValid&&this.state.EmptyColorValid?this.props.OnChange(t):this.setState({colorScheme:t},this.props.OnPaletteError(!0))}},{key:"handleLongitudeChanged",value:function(e){var t=this.state.colorScheme;t.geolocation.longitude=e,!this.state.showError&&this.state.MinColorValid&&this.state.MaxColorValid&&this.state.EmptyColorValid?this.props.OnChange(t):this.setState({colorScheme:t},this.props.OnPaletteError(!0))}},{key:"handleMinDistanceChanged",value:function(e){var t=this.state.colorScheme;t.min.value=e,parseFloat(this.state.colorScheme.max.value)>parseFloat(t.min.value)?this.state.MinColorValid&&this.state.MaxColorValid&&this.state.EmptyColorValid?this.props.OnChange(t):this.setState({showError:!1,minMaxErrorMsg:"",colorScheme:t},this.props.OnPaletteError(!0)):this.setState({showError:!0,minMaxErrorMsg:d.MinMaxPaletteError,colorScheme:t},this.props.OnPaletteError(!0))}},{key:"handleMaxDistanceChanged",value:function(e){var t=this.state.colorScheme;t.max.value=e,parseFloat(this.state.colorScheme.min.value)<parseFloat(t.max.value)?this.state.MinColorValid&&this.state.MaxColorValid&&this.state.EmptyColorValid?this.props.OnChange(t):this.setState({showError:!1,minMaxErrorMsg:"",colorScheme:t},this.props.OnPaletteError(!0)):this.setState({showError:!0,minMaxErrorMsg:d.MinMaxPaletteError,colorScheme:t},this.props.OnPaletteError(!0))}},{key:"setMinColor",value:function(e,t,s){var a=this.state.colorScheme;a.min.color=e,!this.state.showError&&this.state.MaxColorValid&&this.state.EmptyColorValid?this.props.OnChange(a):this.setState({MinColorValid:s,colorScheme:a},this.props.OnPaletteError(!0))}},{key:"setMaxColor",value:function(e,t,s){var a=this.state.colorScheme;a.max.color=e,!this.state.showError&&this.state.MinColorValid&&this.state.EmptyColorValid?this.props.OnChange(a):this.setState({MaxColorValid:s,colorScheme:a},this.props.OnPaletteError(!0))}},{key:"setEmptyColor",value:function(e,t,s){var a=this.state.colorScheme;a.empty=e,!this.state.showError&&this.state.MinColorValid&&this.state.MaxColorValid?this.props.OnChange(a):this.setState({EmptyColorValid:s,colorScheme:a},this.props.OnPaletteError(!0))}}]),s}(a.Component),G=function(e){Object(c.a)(s,e);var t=Object(h.a)(s);function s(e){var a;Object(o.a)(this,s),(a=t.call(this,e)).OnChange=a.OnChange.bind(Object(n.a)(a)),a.initilizeColorScheme=a.initilizeColorScheme.bind(Object(n.a)(a));var r=a.initilizeColorScheme(a.props);return a.state={colorScheme:r,fieldDescribe:a.props.fieldDescribe},a}return Object(i.a)(s,[{key:"render",value:function(){var e;switch(this.state.fieldDescribe?this.state.fieldDescribe.Type:void 0){case p:e=Object(M.jsx)(F,{colorScheme:this.state.colorScheme,OnChange:this.OnChange,OnPaletteError:this.props.OnPaletteError,errorInPalette:this.props.errorInPalette});break;case u:case m:e=Object(M.jsx)(I,{colorScheme:this.state.colorScheme,OnChange:this.OnChange,OnPaletteError:this.props.OnPaletteError,errorInPalette:this.props.errorInPalette});break;case b:e=Object(M.jsx)(L,{colorScheme:this.state.colorScheme,OnChange:this.OnChange,step:"0.1",OnPaletteError:this.props.OnPaletteError,errorInPalette:this.props.errorInPalette});break;case x:e=Object(M.jsx)(L,{colorScheme:this.state.colorScheme,OnChange:this.OnChange,step:"1",OnPaletteError:this.props.OnPaletteError,errorInPalette:this.props.errorInPalette});break;case j:e=Object(M.jsx)(R,{colorScheme:this.state.colorScheme,OnChange:this.OnChange,fieldDescribe:this.state.fieldDescribe,OnPaletteError:this.props.OnPaletteError,errorInPalette:this.props.errorInPalette});break;case O:case g:e=Object(M.jsx)(B,{colorScheme:this.state.colorScheme,OnChange:this.OnChange,OnPaletteError:this.props.OnPaletteError,errorInPalette:this.props.errorInPalette});break;case v:e=Object(M.jsx)(A,{colorScheme:this.state.colorScheme,OnChange:this.OnChange,step:"1",OnPaletteError:this.props.OnPaletteError,errorInPalette:this.props.errorInPalette});break;case C:e=Object(M.jsx)(L,{colorScheme:this.state.colorScheme,OnChange:this.OnChange,step:"0.5",OnPaletteError:this.props.OnPaletteError,errorInPalette:this.props.errorInPalette});break;default:e=Object(M.jsx)("span",{})}return Object(M.jsx)("div",{children:e})}},{key:"componentDidMount",value:function(){this.props.OnChange(this.state.colorScheme)}},{key:"componentWillReceiveProps",value:function(e){var t=this.initilizeColorScheme(e);this.setState({colorScheme:t,fieldDescribe:e.fieldDescribe})}},{key:"initilizeColorScheme",value:function(e){var t=e.colorScheme;return t=void 0===t?{min:{color:"#79c879",value:0,type:"Minutes"},max:{color:"#ff4646",value:1,type:"Minutes"},empty:"#d4504c",picklist:{},geolocation:{latitude:0,longitude:0}}:Object.assign({},Object(y.a)({},e.colorScheme))}},{key:"OnChange",value:function(e){this.props.OnChange(e)}}]),s}(a.Component);var W=function(e){for(var t=arguments.length,s=new Array(t>1?t-1:0),a=1;a<t;a++)s[a-1]=arguments[a];var r=new Promise((function(t,a){var r=[window.GanttPalette.remoteActions[e]].concat(s).concat((function(e,s){s.status?t(e):a(s)})).concat({buffer:!1,escape:!1}).map((function(e){return void 0===e?null:e}));window.Visualforce.remoting.Manager.invokeAction.apply(window.Visualforce.remoting.Manager,r)}));return r},z=function(e){Object(c.a)(s,e);var t=Object(h.a)(s);function s(e){var a;return Object(o.a)(this,s),(a=t.call(this,e)).showHelp=a.showHelp.bind(Object(n.a)(a)),a.hideHelp=a.hideHelp.bind(Object(n.a)(a)),a.handlePaletteColorLevelChange=a.handlePaletteColorLevelChange.bind(Object(n.a)(a)),a.state={showHelp:!1},a}return Object(i.a)(s,[{key:"render",value:function(){return Object(M.jsxs)("div",{class:"slds-form-element palette-editor-element-wrapper",children:[Object(M.jsx)("label",{class:"slds-form-element__label slds-align-middle",for:"form-help",children:d.PaletteColorLevel}),this.state.showHelp?Object(M.jsxs)("div",{class:"slds-popover slds-popover_tooltip slds-nubbin_bottom-left help-text-color-level",id:"help",role:"tooltip",children:[Object(M.jsx)("div",{class:"cover-helper",onClick:this.hideHelp}),Object(M.jsx)("div",{class:"slds-popover__body slds-text-longform",children:Object(M.jsx)("p",{children:d.PaletteColorLevelTooltip})})]}):null,Object(M.jsx)("div",{class:"slds-form-element__icon",children:Object(M.jsx)("button",{"aria-describedby":"help",class:"slds-button slds-button_icon",onClick:this.showHelp,children:Object(M.jsx)("svg",{class:"slds-icon slds-icon_x-small slds-icon-text-default","aria-hidden":"true",children:Object(M.jsx)("use",{href:f.info})})})}),Object(M.jsx)("div",{class:"slds-form-element__control",children:Object(M.jsxs)("div",{class:"slds-slider",children:[Object(M.jsx)("input",{type:"range",id:"slider-id-01",class:"slds-slider__range",value:this.props.colorLevel,onChange:this.handlePaletteColorLevelChange,min:"4",max:"15"}),Object(M.jsx)("span",{class:"slds-slider__value","aria-hidden":"true",children:this.props.colorLevel})]})})]})}},{key:"handlePaletteColorLevelChange",value:function(e){this.props.onChange(e.target.value)}},{key:"showHelp",value:function(){this.setState({showHelp:!0})}},{key:"hideHelp",value:function(){this.setState({showHelp:!1})}}]),s}(a.Component),J=function(e){Object(c.a)(s,e);var t=Object(h.a)(s);function s(e){var a;return Object(o.a)(this,s),(a=t.call(this,e)).handleCheckboxChange=a.handleCheckboxChange.bind(Object(n.a)(a)),a}return Object(i.a)(s,[{key:"render",value:function(){return Object(M.jsx)("div",{class:"palette-editor-element-wrapper",children:this.props.isMaxNumberOfActivePalettes?Object(M.jsx)("div",{class:"slds-form-element slds-has-error",children:Object(M.jsx)("div",{class:"slds-form-element__control",children:Object(M.jsxs)("span",{class:"slds-checkbox",children:[Object(M.jsx)("abbr",{class:"slds-required",title:"required",children:"*"}),Object(M.jsx)("input",{type:"checkbox",name:"options",id:"checkbox-6",onChange:this.handleCheckboxChange,checked:this.props.active,"aria-describedby":"error_01"}),Object(M.jsxs)("label",{class:"slds-checkbox__label",for:"checkbox-6",children:[Object(M.jsx)("span",{class:"slds-checkbox_faux"}),Object(M.jsx)("span",{class:"slds-form-element__label",children:d.Active})]}),Object(M.jsx)("div",{id:"error_01",class:"slds-form-element__help",children:d.MaxActivePalette_Error})]})})}):Object(M.jsx)("div",{class:"slds-form-element",children:Object(M.jsx)("div",{class:"slds-form-element__control",children:Object(M.jsxs)("span",{class:"slds-checkbox",children:[Object(M.jsx)("input",{type:"checkbox",name:"options",id:"checkbox-7",onChange:this.handleCheckboxChange,checked:this.props.active}),Object(M.jsxs)("label",{class:"slds-checkbox__label",for:"checkbox-7",children:[Object(M.jsx)("span",{class:"slds-checkbox_faux"}),Object(M.jsx)("span",{class:"slds-form-element__label",children:d.Active})]})]})})})})}},{key:"handleCheckboxChange",value:function(e){this.props.onChange(e.target.checked)}}]),s}(a.PureComponent),K=function(e){Object(c.a)(s,e);var t=Object(h.a)(s);function s(e){var a;return Object(o.a)(this,s),(a=t.call(this,e)).handlePaletteNameChange=a.handlePaletteNameChange.bind(Object(n.a)(a)),a.serviceFieldChanged=a.serviceFieldChanged.bind(Object(n.a)(a)),a.saveCurrentPalette=a.saveCurrentPalette.bind(Object(n.a)(a)),a.deleteCurrentPalette=a.deleteCurrentPalette.bind(Object(n.a)(a)),a.handleColorSchemeChange=a.handleColorSchemeChange.bind(Object(n.a)(a)),a.handleCheckboxChange=a.handleCheckboxChange.bind(Object(n.a)(a)),a.handlePaletteDescriptionChange=a.handlePaletteDescriptionChange.bind(Object(n.a)(a)),a.handlePaletteColorLevelChange=a.handlePaletteColorLevelChange.bind(Object(n.a)(a)),a.updateState=a.updateState.bind(Object(n.a)(a)),a.onPaletteError=a.onPaletteError.bind(Object(n.a)(a)),a.state={palette:a.props.palette,serviceAppointmentFieldsMap:void 0,fieldDescribe:void 0,isSaving:!1,isPaletteNameBlank:!1,isMaxNumberOfActivePalettes:!1,errorInPalette:!1,descriptionLength:255-a.props.palette.description.length,nameLength:80-a.props.palette.name.length},a.getServiceAppointmentFieldsMap(),a}return Object(i.a)(s,[{key:"render",value:function(){return Object(M.jsx)("div",{class:"palette-editor-wrapper",children:void 0!==this.state.serviceAppointmentFieldsMap&&void 0!==this.state.palette?Object(M.jsxs)("div",{class:"editor-box",children:[Object(M.jsxs)("div",{className:this.state.isPaletteNameBlank?"slds-form-element palette-editor-element-wrapper slds-has-error":"slds-form-element palette-editor-element-wrapper",children:[Object(M.jsx)("label",{class:"slds-form-element__label",for:"text-input-id-1",children:d.PaletteName}),Object(M.jsxs)("div",{class:"slds-form-element__control",children:[Object(M.jsx)("input",{type:"text",id:"text-input-id-1",class:"slds-input",value:this.state.palette.name,onChange:this.handlePaletteNameChange}),this.state.isPaletteNameBlank?Object(M.jsx)("div",{id:"error-message",class:"slds-form-element__help",children:d.PaletteNameEmpty}):null,this.state.nameLength<20?Object(M.jsx)("div",{class:"slds-form-element__help remaining-text-length",id:"error-01",children:d.PaletteDescriptionTooLong.replace("{0}",this.state.nameLength)}):null]})]}),Object(M.jsxs)("div",{class:"slds-form-element palette-editor-element-wrapper",children:[Object(M.jsx)("label",{class:"slds-form-element__label",for:"textarea-id-01",children:d.Description}),Object(M.jsxs)("div",{class:"slds-form-element__control",children:[Object(M.jsx)("textarea",{id:"textarea-id-01",class:"slds-textarea",onChange:this.handlePaletteDescriptionChange,value:this.state.palette.description}),this.state.descriptionLength<50?Object(M.jsx)("div",{class:"slds-form-element__help remaining-text-length",id:"error-01",children:d.PaletteDescriptionTooLong.replace("{0}",this.state.descriptionLength)}):null]})]}),Object(M.jsx)(P,{serviceAppointmentFieldsMap:this.state.serviceAppointmentFieldsMap,fieldValue:this.state.palette.serviceProperty,onChange:this.serviceFieldChanged}),Object(M.jsx)(G,{colorScheme:this.state.palette.colorScheme,fieldDescribe:this.state.fieldDescribe,OnChange:this.handleColorSchemeChange,OnPaletteError:this.onPaletteError,errorInPalette:this.state.errorInPalette}),this.state.fieldDescribe&&this.state.fieldDescribe.Type!==p&&this.state.fieldDescribe.Type!==j?Object(M.jsx)(z,{colorLevel:this.state.palette.colorLevel,onChange:this.handlePaletteColorLevelChange}):null,Object(M.jsx)(J,{isMaxNumberOfActivePalettes:this.state.isMaxNumberOfActivePalettes,active:this.state.palette.active,onChange:this.handleCheckboxChange}),Object(M.jsxs)("div",{class:"slds-form-element palette-editor-element-wrapper flex-box",children:[Object(M.jsx)("div",{class:"align-button-left",children:Object(M.jsx)("button",{className:this.state.isSaving?"slds-button slds-button slds-button_destructive saving":"slds-button slds-button_destructive",onClick:this.deleteCurrentPalette,children:d.Delete})}),Object(M.jsx)("div",{children:this.state.errorInPalette?Object(M.jsx)("button",{className:this.state.isSaving?"slds-button slds-button_brand saving":"slds-button slds-button_brand",onClick:this.saveCurrentPalette,disabled:!0,children:d.Save}):Object(M.jsx)("button",{className:this.state.isSaving?"slds-button slds-button_brand saving":"slds-button slds-button_brand",onClick:this.saveCurrentPalette,children:d.Save})})]})]}):Object(M.jsx)("div",{children:Object(M.jsxs)("div",{role:"status",class:"slds-spinner slds-spinner_large",children:[Object(M.jsx)("div",{class:"slds-spinner_dot-a"}),Object(M.jsx)("div",{class:"slds-spinner_dot-b"})]})})})}},{key:"componentWillReceiveProps",value:function(e){"div"!==e.palette.type&&this.updateState(e)}},{key:"onPaletteError",value:function(e){this.setState({errorInPalette:e})}},{key:"updateState",value:function(e){if(e.palette&&this.state.serviceAppointmentFieldsMap){var t=this.state.serviceAppointmentFieldsMap[e.palette.serviceProperty];this.setState({palette:e.palette,fieldDescribe:t,isMaxNumberOfActivePalettes:!1,errorInPalette:!1})}}},{key:"deleteCurrentPalette",value:function(){var e=this,t=window.confirm(d.areYouSureDeletePalette);!1===this.state.isSaving&&t&&this.setState({isSaving:!0},(function(){var t=e.state.palette;W("deleteGanttPalette",t.Id).then((function(s){e.setState({isSaving:!1,isPaletteNameBlank:!1,isMaxNumberOfActivePalettes:!1,palette:void 0}),e.props.OnPaletteDelete(t.Id)})).catch((function(t){e.setState({isSaving:!1,isPaletteNameBlank:!1,isMaxNumberOfActivePalettes:!1,palette:void 0}),t.message&&window.alert(t.message)}))}))}},{key:"saveCurrentPalette",value:function(){var e=this;!1===this.state.isSaving&&this.setState({isSaving:!0},(function(){var t=e.state.palette;if(!1===T(t.colorScheme)){if(e.state.fieldDescribe.Type===j){var s=t.colorScheme.picklist[e.state.fieldDescribe.Name],a=JSON.parse(JSON.stringify(s));t.colorScheme.picklist={},t.colorScheme.picklist[e.state.fieldDescribe.Name]=a}else t.colorScheme.picklist={};var r=t.name.trim();r&&0!==r.length?W("saveGanttPalette",t.Id,t.name,t.description,t.serviceProperty,JSON.stringify(t.colorScheme),t.colorLevel,t.active).then((function(s){void 0===t.Id&&(t.Id=s),e.setState({isSaving:!1,isPaletteNameBlank:!1,isMaxNumberOfActivePalettes:!1,palette:t}),e.props.OnPaletteSave(t)})).catch((function(t){t.message.includes(d.MaxActivePalette_Error)?e.setState({isSaving:!1,isMaxNumberOfActivePalettes:!0}):(e.setState({isSaving:!1,isMaxNumberOfActivePalettes:!1}),t.message&&window.alert(t.message))})):e.setState({isSaving:!1,isPaletteNameBlank:!0,isMaxNumberOfActivePalettes:!1})}else e.setState({isSaving:!1})}))}},{key:"serviceFieldChanged",value:function(e){var t=this.state.palette;t.serviceProperty=e;var s=this.state.serviceAppointmentFieldsMap[t.serviceProperty];this.setState({palette:t,fieldDescribe:s})}},{key:"handleColorSchemeChange",value:function(e){var t=this.state.palette;t.colorScheme=e,this.setState({palette:t,errorInPalette:!1})}},{key:"handlePaletteNameChange",value:function(e){if(e.target.value.length<=80){var t=this.state.palette;t.name=e.target.value,this.setState({palette:t,nameLength:80-e.target.value.length})}}},{key:"handlePaletteDescriptionChange",value:function(e){if(e.target.value.length<=255){var t=this.state.palette;t.description=e.target.value,this.setState({palette:t,descriptionLength:255-e.target.value.length})}}},{key:"handlePaletteColorLevelChange",value:function(e){var t=this.state.palette;t.colorLevel=e,this.setState({palette:t})}},{key:"handleCheckboxChange",value:function(e){var t=this.state.palette;t.active=e,this.setState({palette:t})}},{key:"getServiceAppointmentFieldsMap",value:function(){var e=this;W("getServiceAppointmentFieldsMap").then((function(t){var s={};for(var a in t)s[a]=JSON.parse(t[a].replace(/&quot;/g,'"'));var r=s[e.state.palette.serviceProperty];e.setState({serviceAppointmentFieldsMap:s,fieldDescribe:r})})).catch((function(e){}))}}]),s}(a.Component),Q=window.GanttPalette.fieldNames,q=(window.GanttPalette.objectNames,function(e){Object(c.a)(s,e);var t=Object(h.a)(s);function s(e){var a;return Object(o.a)(this,s),(a=t.call(this,e)).selectExistingPalette=a.selectExistingPalette.bind(Object(n.a)(a)),a.parseExistingPalettesList=a.parseExistingPalettesList.bind(Object(n.a)(a)),a.filterPalettes=a.filterPalettes.bind(Object(n.a)(a)),a.state={existingPalettes:void 0,filterQuery:void 0,currentKey:void 0},a.getExistingGanttPalettes(),a}return Object(i.a)(s,[{key:"render",value:function(){var e=this.parseExistingPalettesList();return Object(M.jsx)("div",{children:Object(M.jsxs)("nav",{class:"slds-nav-vertical","aria-label":"Sub page",children:[Object(M.jsx)("div",{class:"slds-form-element slds-col slds-p-horizontal_medium",children:Object(M.jsxs)("div",{class:"slds-form-element__control slds-input-has-icon slds-input-has-icon_left",children:[Object(M.jsx)("svg",{class:"slds-icon slds-input__icon slds-input__icon_right slds-icon-text-default","aria-hidden":"true",children:Object(M.jsx)("use",{href:f.search})}),Object(M.jsx)("input",{type:"search",id:"input-id-01",placeholder:d.QuickFind,class:"slds-input",onChange:this.filterPalettes})]})}),Object(M.jsx)("div",{class:"slds-form-element slds-col slds-p-horizontal_medium navigation-bar-section",children:Object(M.jsx)("h2",{id:"entity-header",class:"slds-text-title_caps",children:d.Palettes})}),Object(M.jsx)("div",{class:"slds-form-element slds-col slds-p-horizontal_medium",children:Object(M.jsx)("ul",{children:e})})]})})}},{key:"parseExistingPalettesList",value:function(){var e=[];if(!1===T(this.state.existingPalettes))for(var t in this.state.existingPalettes){var s=t;(T(this.state.filterQuery)||this.state.existingPalettes[t].name.toLowerCase().indexOf(this.state.filterQuery.toLowerCase())>-1)&&e.push(Object(M.jsx)("li",{title:this.state.existingPalettes[s].name,className:s===this.state.currentKey?"slds-nav-vertical__item cancel-margin slds-is-active":"slds-nav-vertical__item cancel-margin",children:Object(M.jsxs)("span",{class:"slds-nav-vertical__action palette-picker-text-overflow",onClick:this.selectExistingPalette.bind(this,s),children:[Object(M.jsx)("span",{class:"li-palette-name-span",children:this.state.existingPalettes[s].name}),!0===this.state.existingPalettes[s].active?Object(M.jsx)("span",{title:d.PaletteIsActive,class:"active-mark-span",children:Object(M.jsx)("svg",{class:"slds-icon slds-icon-text-default slds-icon_x-small active-mark-svg","aria-hidden":"true",children:Object(M.jsx)("use",{class:"active-mark-svg",href:f.check})})}):null]})}))}return!0===T(e)&&e.push(Object(M.jsx)("li",{class:"slds-nav-vertical__item cancel-margin",children:Object(M.jsx)("a",{class:"slds-nav-vertical__action palette-picker-text-overflow","aria-describedby":"entity-header","aria-current":"page",children:d.NoPalettes})})),e}},{key:"componentWillReceiveProps",value:function(e){void 0!==e.lastSavedPalette&&void 0===e.lastRemovedPalette?this.setState((function(t){return void 0!==e.lastRemovedPalette&&void 0!==t.existingPalettes[e.lastRemovedPalette]&&delete t.existingPalettes[e.lastRemovedPalette],t.existingPalettes[e.lastSavedPalette.Id]=e.lastSavedPalette,{currentKey:e.lastSavedPalette.Id,existingPalettes:t.existingPalettes}})):void 0!==e.lastRemovedPalette&&void 0===e.lastSavedPalette?this.setState((function(t){return void 0!==e.lastRemovedPalette&&void 0!==t.existingPalettes[e.lastRemovedPalette]&&delete t.existingPalettes[e.lastRemovedPalette],{currentKey:void 0,existingPalettes:t.existingPalettes}})):void 0!==e.currentPalette&&this.setState({currentKey:e.currentPalette.Id})}},{key:"selectExistingPalette",value:function(e){this.props.OnSelect(this.state.existingPalettes[e])}},{key:"filterPalettes",value:function(e){this.setState({filterQuery:e.target.value})}},{key:"getExistingGanttPalettes",value:function(){var e=this;W("getExistingGanttPalettes").then((function(t){var s={};for(var a in t){var r=t[a][Q.ColorScheme__c];if(void 0!==r)try{r=JSON.parse(r)}catch(o){r=void 0}var l={Id:a,name:t[a][Q.Name],serviceProperty:t[a][Q.ServiceProperty__c],colorScheme:r,active:t[a][Q.Active__c],description:t[a][Q.Description__c],colorLevel:t[a][Q.ColorLevel__c]};s[a]=l}e.setState({existingPalettes:s})})).catch((function(e){}))}}]),s}(a.PureComponent)),U=function(e){Object(c.a)(s,e);var t=Object(h.a)(s);function s(e){var a;return Object(o.a)(this,s),(a=t.call(this,e)).setCurrentPalette=a.setCurrentPalette.bind(Object(n.a)(a)),a.createNewPalette=a.createNewPalette.bind(Object(n.a)(a)),a.addSavedPalette=a.addSavedPalette.bind(Object(n.a)(a)),a.removeDeletedPalette=a.removeDeletedPalette.bind(Object(n.a)(a)),a.state={currentPalette:void 0,paletteToSave:void 0,paletteToRemove:void 0},a}return Object(i.a)(s,[{key:"render",value:function(){return Object(M.jsxs)("div",{class:"app-box",children:[Object(M.jsxs)("div",{class:"section-title",children:[Object(M.jsxs)("div",{class:"top-page-item-left",children:[Object(M.jsx)("span",{class:"slds-icon_container slds-icon-custom-custom5 icon-margin",children:Object(M.jsxs)("svg",{class:"slds-icon slds-icon-text-default slds-icon_large icon-on-header","aria-hidden":"true",children:["\u2028",Object(M.jsx)("use",{xlinkHref:f.palette})]})}),d.GanttPalettes]}),Object(M.jsx)("div",{class:"top-page-item-right",children:Object(M.jsx)("a",{class:"slds-button slds-button_brand create-palette-button",onClick:this.createNewPalette,children:d.CreateNewPalette})})]}),Object(M.jsxs)("div",{class:"main-container",children:[Object(M.jsx)("div",{class:"left-pane",children:Object(M.jsx)(q,{currentPalette:this.state.currentPalette,OnSelect:this.setCurrentPalette,lastSavedPalette:this.state.paletteToSave,lastRemovedPalette:this.state.paletteToRemove})}),Object(M.jsx)("div",{class:"right-pane",children:void 0!==this.state.currentPalette?Object(M.jsx)(K,{palette:this.state.currentPalette,OnPaletteSave:this.addSavedPalette,OnPaletteDelete:this.removeDeletedPalette}):null})]})]})}},{key:"addSavedPalette",value:function(e){this.setState({paletteToSave:e,paletteToRemove:void 0})}},{key:"removeDeletedPalette",value:function(e){this.setState({paletteToRemove:e,paletteToSave:void 0,currentPalette:void 0})}},{key:"createNewPalette",value:function(){this.setState((function(e){return{currentPalette:{Id:void 0,name:"",serviceProperty:Q.DueDate,colorScheme:{min:{color:"#79c879",value:0,type:"Minutes"},max:{color:"#ff4646",value:1,type:"Minutes"},empty:"#d4504c",picklist:{},geolocation:{latitude:0,longitude:0}},active:!1,description:"",colorLevel:6},paletteToSave:void 0,paletteToRemove:void 0}}))}},{key:"setCurrentPalette",value:function(e){var t=JSON.stringify(e,(function(e,t){return void 0===t&&"Id"!==e?"":t})),s=JSON.parse(t);this.setState({currentPalette:s,paletteToSave:void 0,paletteToRemove:void 0})}}]),s}(a.Component);l.a.render(Object(M.jsx)(U,{}),document.getElementById("GanttPaletteAppRoot"))},48:function(e,t,s){}},[[196,1,2]]]);
//# sourceMappingURL=main.1c45fa18.chunk.js.map