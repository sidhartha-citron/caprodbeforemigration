{"version":3,"file":"dhtmlxscheduler_limit.js","sources":["dhtmlxscheduler_limit.js"],"names":["Scheduler","plugin","scheduler","config","limit_start","limit_end","limit_view","check_limits","mark_now","display_marked_timespans","_temp_limit_scope","getZones","ev","timespans","day_index","day_value","timespan_type","s","zones","containers","_props","matrix","container","property","view","view_config","linker","_add_timespan_zones","_get_blocked_zones","before","dhx_time_block","default_timespan_type","fix_options","options","days","Date","start_date","end_date","get_resulting_options","sections","type","css","blockTime","addMarkedTimespan","unblockTime","deleteMarkedTimespan","attachEvent","om","od","nm","nd","isBlocked","date","mode","date_end","add","valueOf","setTimeout","resetDate","setCurrentView","checkInMarkedTimespan","on_overlap","res","temp_start_date","temp_end_date","_marked_timespans","date_part","getDay","i","length","sm","_get_zone_minutes","em","getDate","sz","ez","blocker","checkLimitViolation","event","c","evs","rec_type","dates","getRecDates","_copy_event","_lame_copy","push","complete_res","p","_timed","isOneDayEvent","allow","_drag_id","_drag_mode","setHours","setMinutes","checkEvent","callEvent","id","timeline_zones","blocked_timeline_zones","this","_get_relevant_blocked_zones","relevant_zones","classname","getEvent","event_id","data","data_copy","_lame_clone","_roll_back_dates","event_duration","time_step","getActionData","_mark_now","window","_mark_now_timer","setInterval","_is_initialized","hide","dhx_now_time","_els","now","_currentDate","cfg","_remove_mark_now","_max_date","_min_date","getHours","first_hour","last_hour","locate_holder_day","_append_mark_now","zone_start","_table_view","_mode","day_divs","childNodes","r_divs","t_day","t_div","_render_marked_timespan","els","div","parent","parentNode","removeChild","global","getMinutes","_prepare_timespan_options","r_configs","temp_configs","Array","t_days","slice","cloned_config","apply","undefined","min","max","invert_zones","invertZones","uid","view_key","hasOwnProperty","ids","t_config","k","c_config","t_sd","t_ed","zone_end","_get_dates_by_index","index","start","end","start_day","delta","t_date","_get_css_classes_by_config","css_classes","join","_get_block_by_config","block","document","createElement","html","innerHTML","appendChild","area","day","blocks","min_date","max_date","date_to_display","min_day","areas","_scales","sweek","Math","floor","_correct_shift","_cols","sday","_ignores","block_proto","height","offsetHeight","width","offsetWidth","left","_colsS","top","heights","xy","month_scale_height","className","style","lineHeight","cloneNode","round","_get_section_sday","size","position","locate_holder","all_hours_height","hour_size_px","hour_ms","markTimespan","configuration","configs","divs","unmarkTimespan","_marked_timespans_ids","unit_id","timespans_view","_marked_timespans_types","day_configs","_array","current_zones","resulting_zones","c_zone_start","c_zone_end","isLast","offset","splice","_subtract_timespan_zones","is_modified","_delete_marked_timespan_by_id","parent_array","_delete_marked_timespan_by_config","day_timespans","d_t","related_zones","arguments","types","t","typedConfig","_get_types_to_render","common","specific","types_to_render","_get_configs_to_render","units","_get_unit_index","unit","_date","key","unit_zones","unit_types","global_data","day_types","dblclick_dhx_marked_timespan","e","src","dblclick_create","addEventNow"],"mappings":"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"}