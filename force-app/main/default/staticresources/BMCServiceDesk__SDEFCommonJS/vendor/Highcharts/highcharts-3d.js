(function(b){"object"===typeof module&&module.exports?(b["default"]=b,module.exports=b):"function"===typeof define&&define.amd?define("highcharts/highcharts-3d",["highcharts"],function(a){b(a);b.Highcharts=a;return b}):b("undefined"!==typeof Highcharts?Highcharts:void 0)})(function(b){function c(f,e,g,h){f.hasOwnProperty(e)||(f[e]=h.apply(null,g))}b=b?b._modules:{};c(b,"Extensions/Math3D.js",[b["Core/Globals.js"],b["Core/Utilities.js"]],function(h,g){var j=g.pick,n=h.deg2rad,e=h.perspective3D=function(m,a,l){a=0<l&&l<Number.POSITIVE_INFINITY?l/(m.z+a.z+l):1;return{x:m.x*a,y:m.y*a}},f=h.perspective=function(t,z,u,d){var y=z.options.chart.options3d,m=j(d,u?z.inverted:!1),s={x:z.plotWidth/2,y:z.plotHeight/2,z:y.depth/2,vd:j(y.depth,1)*j(y.viewDistance,0)},l=z.scale3d||1;d=n*y.beta*(m?-1:1);y=n*y.alpha*(m?-1:1);var x=Math.cos(y),o=Math.cos(-d),B=Math.sin(y),w=Math.sin(-d);u||(s.x+=z.plotLeft,s.y+=z.plotTop);return t.map(function(a){var p=(m?a.y:a.x)-s.x;var k=(m?a.x:a.y)-s.y;a=(a.z||0)-s.z;p={x:o*p-w*a,y:-B*w*p+x*k-o*B*a,z:x*w*p+B*k+x*o*a};k=e(p,s,s.vd);k.x=k.x*l+s.x;k.y=k.y*l+s.y;k.z=p.z*l+s.z;return{x:m?k.y:k.x,y:m?k.x:k.y,z:k.z}})};g=h.pointCameraDistance=function(p,m){var o=m.options.chart.options3d,l=m.plotWidth/2;m=m.plotHeight/2;o=j(o.depth,1)*j(o.viewDistance,0)+o.depth;return Math.sqrt(Math.pow(l-j(p.plotX,p.x),2)+Math.pow(m-j(p.plotY,p.y),2)+Math.pow(o-j(p.plotZ,p.z),2))};var i=h.shapeArea=function(p){var m=0,o;for(o=0;o<p.length;o++){var l=(o+1)%p.length;m+=p[o].x*p[l].y-p[l].x*p[o].y}return m/2};h=h.shapeArea3d=function(m,k,l){return i(f(m,k,l))};return{perspective:f,perspective3D:e,pointCameraDistance:g,shapeArea:i,shapeArea3D:h}});c(b,"Core/Renderer/SVG/SVGRenderer3D.js",[b["Core/Color.js"],b["Core/Globals.js"],b["Extensions/Math3D.js"],b["Core/Renderer/SVG/SVGElement.js"],b["Core/Renderer/SVG/SVGRenderer.js"],b["Core/Utilities.js"]],function(T,J,x,Q,I,j){function K(n,l,k,m,p,q,a,u){var h=[],r=q-p;return q>p&&q-p>Math.PI/2+0.0001?(h=h.concat(K(n,l,k,m,p,p+Math.PI/2,a,u)),h=h.concat(K(n,l,k,m,p+Math.PI/2,q,a,u))):q<p&&p-q>Math.PI/2+0.0001?(h=h.concat(K(n,l,k,m,p,p-Math.PI/2,a,u)),h=h.concat(K(n,l,k,m,p-Math.PI/2,q,a,u))):[["C",n+k*Math.cos(p)-k*t*r*Math.sin(p)+a,l+m*Math.sin(p)+m*t*r*Math.cos(p)+u,n+k*Math.cos(q)+k*t*r*Math.sin(q)+a,l+m*Math.sin(q)-m*t*r*Math.cos(q)+u,n+k*Math.cos(q)+a,l+m*Math.sin(q)+u]]}var s=T.parse,E=x.perspective,O=x.shapeArea,z=j.animObject,S=j.defined,i=j.extend,H=j.merge,B=j.objectEach,R=j.pick,D=Math.cos,o=Math.PI,P=Math.sin,y=J.charts,g=J.deg2rad;var t=4*(Math.sqrt(2)-1)/3/(o/2);I.prototype.toLinePath=function(h,e){var a=[];h.forEach(function(d){a.push(["L",d.x,d.y])});h.length&&(a[0][0]="M",e&&a.push(["Z"]));return a};I.prototype.toLineSegments=function(e){var a=[],d=!0;e.forEach(function(h){a.push(d?["M",h.x,h.y]:["L",h.x,h.y]);d=!d});return a};I.prototype.face3d=function(a){var h=this,d=this.createElement("path");d.vertexes=[];d.insidePlotArea=!1;d.enabled=!0;d.attr=function(l){if("object"===typeof l&&(S(l.enabled)||S(l.vertexes)||S(l.insidePlotArea))){this.enabled=R(l.enabled,this.enabled);this.vertexes=R(l.vertexes,this.vertexes);this.insidePlotArea=R(l.insidePlotArea,this.insidePlotArea);delete l.enabled;delete l.vertexes;delete l.insidePlotArea;var k=E(this.vertexes,y[h.chartIndex],this.insidePlotArea),e=h.toLinePath(k,!0);k=O(k);k=this.enabled&&0<k?"visible":"hidden";l.d=e;l.visibility=k}return Q.prototype.attr.apply(this,arguments)};d.animate=function(l){if("object"===typeof l&&(S(l.enabled)||S(l.vertexes)||S(l.insidePlotArea))){this.enabled=R(l.enabled,this.enabled);this.vertexes=R(l.vertexes,this.vertexes);this.insidePlotArea=R(l.insidePlotArea,this.insidePlotArea);delete l.enabled;delete l.vertexes;delete l.insidePlotArea;var k=E(this.vertexes,y[h.chartIndex],this.insidePlotArea),e=h.toLinePath(k,!0);k=O(k);k=this.enabled&&0<k?"visible":"hidden";l.d=e;this.attr("visibility",k)}return Q.prototype.animate.apply(this,arguments)};return d.attr(a)};I.prototype.polyhedron=function(k){var a=this,d=this.g(),h=d.destroy;this.styledMode||d.attr({"stroke-linejoin":"round"});d.faces=[];d.destroy=function(){for(var e=0;e<d.faces.length;e++){d.faces[e].destroy()}return h.call(this)};d.attr=function(q,p,n,m){if("object"===typeof q&&S(q.faces)){for(;d.faces.length>q.faces.length;){d.faces.pop().destroy()}for(;d.faces.length<q.faces.length;){d.faces.push(a.face3d().add(d))}for(var l=0;l<q.faces.length;l++){a.styledMode&&delete q.faces[l].fill,d.faces[l].attr(q.faces[l],null,n,m)}delete q.faces}return Q.prototype.attr.apply(this,arguments)};d.animate=function(p,n,m){if(p&&p.faces){for(;d.faces.length>p.faces.length;){d.faces.pop().destroy()}for(;d.faces.length<p.faces.length;){d.faces.push(a.face3d().add(d))}for(var l=0;l<p.faces.length;l++){d.faces[l].animate(p.faces[l],n,m)}delete p.faces}return Q.prototype.animate.apply(this,arguments)};return d.attr(k)};T={initArgs:function(m){var a=this,h=a.renderer,k=h[a.pathType+"Path"](m),l=k.zIndexes;a.parts.forEach(function(d){a[d]=h.path(k[d]).attr({"class":"highcharts-3d-"+d,zIndex:l[d]||0}).add(a)});a.attr({"stroke-linejoin":"round",zIndex:l.group});a.originalDestroy=a.destroy;a.destroy=a.destroyParts;a.forcedSides=k.forcedSides},singleSetterForParts:function(q,n,m,p,h,a){var k={};p=[null,null,p||"attr",h,a];var l=m&&m.zIndexes;m?(l&&l.group&&this.attr({zIndex:l.group}),B(m,function(r,d){k[d]={};k[d][q]=r;l&&(k[d].zIndex=m.zIndexes[d]||0)}),p[1]=k):(k[q]=n,p[0]=k);return this.processParts.apply(this,p)},processParts:function(k,m,l,n,h){var a=this;a.parts.forEach(function(d){m&&(k=R(m[d],!1));if(!1!==k){a[d][l](k,n,h)}});return a},destroyParts:function(){this.processParts(null,null,"destroy");return this.originalDestroy()}};var f=H(T,{parts:["front","top","side"],pathType:"cuboid",attr:function(m,l,k,a){if("string"===typeof m&&"undefined"!==typeof l){var d=m;m={};m[d]=l}return m.shapeArgs||S(m.x)?this.singleSetterForParts("d",null,this.renderer[this.pathType+"Path"](m.shapeArgs||m)):Q.prototype.attr.call(this,m,void 0,k,a)},animate:function(k,h,d){if(S(k.x)&&S(k.y)){k=this.renderer[this.pathType+"Path"](k);var a=k.forcedSides;this.singleSetterForParts("d",null,k,"animate",h,d);this.attr({zIndex:k.zIndexes.group});a!==this.forcedSides&&(this.forcedSides=a,f.fillSetter.call(this,this.fill))}else{Q.prototype.animate.call(this,k,h,d)}return this},fillSetter:function(a){this.forcedSides=this.forcedSides||[];this.singleSetterForParts("fill",null,{front:a,top:s(a).brighten(0<=this.forcedSides.indexOf("top")?0:0.1).get(),side:s(a).brighten(0<=this.forcedSides.indexOf("side")?0:-0.1).get()});this.color=this.fill=a;return this}});I.prototype.elements3d={base:T,cuboid:f};I.prototype.element3d=function(h,d){var a=this.g();i(a,this.elements3d[h]);a.initArgs(d);return a};I.prototype.cuboid=function(a){return this.element3d("cuboid",a)};I.prototype.cuboidPath=function(X){function V(a){return 0===w&&1<a&&6>a?{x:Z[a].x,y:Z[a].y+10,z:Z[a].z}:Z[0].x===Z[7].x&&4<=a?{x:Z[a].x+10,y:Z[a].y,z:Z[a].z}:0===m&&2>a||5<a?{x:Z[a].x,y:Z[a].y,z:Z[a].z+10}:Z[a]}function U(a){return Z[a]}var N=X.x,W=X.y,Y=X.z||0,w=X.height,p=X.width,m=X.depth,u=y[this.chartIndex],l=u.options.chart.options3d.alpha,G=0,Z=[{x:N,y:W,z:Y},{x:N+p,y:W,z:Y},{x:N+p,y:W+w,z:Y},{x:N,y:W+w,z:Y},{x:N,y:W+w,z:Y+m},{x:N+p,y:W+w,z:Y+m},{x:N+p,y:W,z:Y+m},{x:N,y:W,z:Y+m}],F=[];Z=E(Z,u,X.insidePlotArea);var h=function(r,e,k){var n=[[],-1],a=r.map(U),q=e.map(U);r=r.map(V);e=e.map(V);0>O(a)?n=[a,0]:0>O(q)?n=[q,1]:k&&(F.push(k),n=0>O(r)?[a,0]:0>O(e)?[q,1]:[a,0]);return n};var M=h([3,2,1,0],[7,6,5,4],"front");X=M[0];var L=M[1];M=h([1,6,7,0],[4,5,2,3],"top");p=M[0];var C=M[1];M=h([1,2,5,6],[0,7,4,3],"side");h=M[0];M=M[1];1===M?G+=1000000*(u.plotWidth-N):M||(G+=1000000*N);G+=10*(!C||0<=l&&180>=l||360>l&&357.5<l?u.plotHeight-W:10+W);1===L?G+=100*Y:L||(G+=100*(1000-Y));return{front:this.toLinePath(X,!0),top:this.toLinePath(p,!0),side:this.toLinePath(h,!0),zIndexes:{group:Math.round(G)},forcedSides:F,isFront:L,isTop:C}};I.prototype.arc3d=function(m){function d(q){var a=!1,n={},p;q=H(q);for(p in q){-1!==h.indexOf(p)&&(n[p]=q[p],delete q[p],a=!0)}return a?[n,q]:!1}var l=this.g(),k=l.renderer,h="x y r innerR start end depth".split(" ");m=H(m);m.alpha=(m.alpha||0)*g;m.beta=(m.beta||0)*g;l.top=k.path();l.side1=k.path();l.side2=k.path();l.inn=k.path();l.out=k.path();l.onAdd=function(){var n=l.parentGroup,a=l.attr("class");l.top.add(l);["out","inn","side1","side2"].forEach(function(e){l[e].attr({"class":a+" highcharts-3d-side"}).add(n)})};["addClass","removeClass"].forEach(function(a){l[a]=function(){var n=arguments;["top","out","inn","side1","side2"].forEach(function(e){l[e][a].apply(l[e],n)})}});l.setPaths=function(p){var a=l.renderer.arc3dPath(p),n=100*a.zTop;l.attribs=p;l.top.attr({d:a.top,zIndex:a.zTop});l.inn.attr({d:a.inn,zIndex:a.zInn});l.out.attr({d:a.out,zIndex:a.zOut});l.side1.attr({d:a.side1,zIndex:a.zSide1});l.side2.attr({d:a.side2,zIndex:a.zSide2});l.zIndex=n;l.attr({zIndex:n});p.center&&(l.top.setRadialReference(p.center),delete p.center)};l.setPaths(m);l.fillSetter=function(n){var a=s(n).brighten(-0.1).get();this.fill=n;this.side1.attr({fill:a});this.side2.attr({fill:a});this.inn.attr({fill:a});this.out.attr({fill:a});this.top.attr({fill:n});return this};["opacity","translateX","translateY","visibility"].forEach(function(a){l[a+"Setter"]=function(p,n){l[n]=p;["out","inn","side1","side2","top"].forEach(function(e){l[e].attr(n,p)})}});l.attr=function(p){var n;if("object"===typeof p&&(n=d(p))){var a=n[0];arguments[0]=n[1];i(l.attribs,a);l.setPaths(l.attribs)}return Q.prototype.attr.apply(l,arguments)};l.animate=function(w,u,n){var q=this.attribs,r="data-"+Math.random().toString(26).substring(2,9);delete w.center;delete w.z;delete w.alpha;delete w.beta;var A=z(R(u,this.renderer.globalAnimation));if(A.duration){u=d(w);l[r]=0;w[r]=1;l[r+"Setter"]=J.noop;if(u){var p=u[0];A.step=function(v,a){function C(F){return q[F]+(R(p[F],q[F])-q[F])*a.pos}a.prop===r&&a.elem.setPaths(H(q,{x:C("x"),y:C("y"),r:C("r"),innerR:C("innerR"),start:C("start"),end:C("end"),depth:C("depth")}))}}u=A}return Q.prototype.animate.call(this,w,u,n)};l.destroy=function(){this.top.destroy();this.out.destroy();this.inn.destroy();this.side1.destroy();this.side2.destroy();return Q.prototype.destroy.call(this)};l.hide=function(){this.top.hide();this.out.hide();this.inn.hide();this.side1.hide();this.side2.hide()};l.show=function(a){this.top.show(a);this.out.show(a);this.inn.show(a);this.side1.show(a);this.side2.show(a)};return l};I.prototype.arc3dPath=function(ab){function aa(a){a%=2*Math.PI;a>Math.PI&&(a=2*Math.PI-a);return a}var Z=ab.x,ac=ab.y,Y=ab.start,ad=ab.end-0.00001,X=ab.r,N=ab.innerR||0,V=ab.depth||0,G=ab.alpha,u=ab.beta,l=Math.cos(Y),e=Math.sin(Y);ab=Math.cos(ad);var v=Math.sin(ad),k=X*Math.cos(u);X*=Math.cos(G);var w=N*Math.cos(u),M=N*Math.cos(G);N=V*Math.sin(u);var L=V*Math.sin(G);V=[["M",Z+k*l,ac+X*e]];V=V.concat(K(Z,ac,k,X,Y,ad,0,0));V.push(["L",Z+w*ab,ac+M*v]);V=V.concat(K(Z,ac,w,M,ad,Y,0,0));V.push(["Z"]);var W=0<u?Math.PI/2:0;u=0<G?0:Math.PI/2;W=Y>-W?Y:ad>-W?-W:Y;var U=ad<o-u?ad:Y<o-u?o-u:ad,A=2*o-u;G=[["M",Z+k*D(W),ac+X*P(W)]];G=G.concat(K(Z,ac,k,X,W,U,0,0));ad>A&&Y<A?(G.push(["L",Z+k*D(U)+N,ac+X*P(U)+L]),G=G.concat(K(Z,ac,k,X,U,A,N,L)),G.push(["L",Z+k*D(A),ac+X*P(A)]),G=G.concat(K(Z,ac,k,X,A,ad,0,0)),G.push(["L",Z+k*D(ad)+N,ac+X*P(ad)+L]),G=G.concat(K(Z,ac,k,X,ad,A,N,L)),G.push(["L",Z+k*D(A),ac+X*P(A)]),G=G.concat(K(Z,ac,k,X,A,U,0,0))):ad>o-u&&Y<o-u&&(G.push(["L",Z+k*Math.cos(U)+N,ac+X*Math.sin(U)+L]),G=G.concat(K(Z,ac,k,X,U,ad,N,L)),G.push(["L",Z+k*Math.cos(ad),ac+X*Math.sin(ad)]),G=G.concat(K(Z,ac,k,X,ad,U,0,0)));G.push(["L",Z+k*Math.cos(U)+N,ac+X*Math.sin(U)+L]);G=G.concat(K(Z,ac,k,X,U,W,N,L));G.push(["Z"]);u=[["M",Z+w*l,ac+M*e]];u=u.concat(K(Z,ac,w,M,Y,ad,0,0));u.push(["L",Z+w*Math.cos(ad)+N,ac+M*Math.sin(ad)+L]);u=u.concat(K(Z,ac,w,M,ad,Y,N,L));u.push(["Z"]);l=[["M",Z+k*l,ac+X*e],["L",Z+k*l+N,ac+X*e+L],["L",Z+w*l+N,ac+M*e+L],["L",Z+w*l,ac+M*e],["Z"]];Z=[["M",Z+k*ab,ac+X*v],["L",Z+k*ab+N,ac+X*v+L],["L",Z+w*ab+N,ac+M*v+L],["L",Z+w*ab,ac+M*v],["Z"]];v=Math.atan2(L,-N);ac=Math.abs(ad+v);ab=Math.abs(Y+v);Y=Math.abs((Y+ad)/2+v);ac=aa(ac);ab=aa(ab);Y=aa(Y);Y*=100000;ad=100000*ab;ac*=100000;return{top:V,zTop:100000*Math.PI+1,out:G,zOut:Math.max(Y,ad,ac),inn:u,zInn:Math.max(Y,ad,ac),side1:l,zSide1:0.99*ac,side2:Z,zSide2:0.99*ad}}});c(b,"Core/Axis/Tick3D.js",[b["Core/Utilities.js"]],function(f){var e=f.addEvent,g=f.extend,h=f.wrap;return function(){function d(){}d.compose=function(a){e(a,"afterGetLabelPosition",d.onAfterGetLabelPosition);h(a.prototype,"getMarkPath",d.wrapGetMarkPath)};d.onAfterGetLabelPosition=function(j){var i=this.axis.axis3D;i&&g(j.pos,i.fix3dPosition(j.pos))};d.wrapGetMarkPath=function(n){var j=this.axis.axis3D,i=n.apply(this,[].slice.call(arguments,1));if(j){var l=i[0],k=i[1];if("M"===l[0]&&"L"===k[0]){return j=[j.fix3dPosition({x:l[1],y:l[2],z:0}),j.fix3dPosition({x:k[1],y:k[2],z:0})],this.axis.chart.renderer.toLineSegments(j)}}return i};return d}()});c(b,"Core/Axis/Axis3D.js",[b["Core/Globals.js"],b["Extensions/Math3D.js"],b["Core/Axis/Tick.js"],b["Core/Axis/Tick3D.js"],b["Core/Utilities.js"]],function(x,j,A,s,i){var y=j.perspective,o=j.perspective3D,z=j.shapeArea,f=i.addEvent,q=i.merge,e=i.pick,v=i.wrap,t=x.deg2rad,g=function(){function a(d){this.axis=d}a.prototype.fix3dPosition=function(K,L){var J=this.axis,I=J.chart;if("colorAxis"===J.coll||!I.chart3d||!I.is3d()){return K}var M=t*I.options.chart.options3d.alpha,F=t*I.options.chart.options3d.beta,r=e(L&&J.options.title.position3d,J.options.labels.position3d);L=e(L&&J.options.title.skew3d,J.options.labels.skew3d);var E=I.chart3d.frame3d,G=I.plotLeft,w=I.plotWidth+G,H=I.plotTop,B=I.plotHeight+H;I=!1;var u=0,C=0,D={x:0,y:1,z:0};K=J.axis3D.swapZ({x:K.x,y:K.y,z:0});if(J.isZAxis){if(J.opposite){if(null===E.axes.z.top){return{}}C=K.y-H;K.x=E.axes.z.top.x;K.y=E.axes.z.top.y;G=E.axes.z.top.xDir;I=!E.top.frontFacing}else{if(null===E.axes.z.bottom){return{}}C=K.y-B;K.x=E.axes.z.bottom.x;K.y=E.axes.z.bottom.y;G=E.axes.z.bottom.xDir;I=!E.bottom.frontFacing}}else{if(J.horiz){if(J.opposite){if(null===E.axes.x.top){return{}}C=K.y-H;K.y=E.axes.x.top.y;K.z=E.axes.x.top.z;G=E.axes.x.top.xDir;I=!E.top.frontFacing}else{if(null===E.axes.x.bottom){return{}}C=K.y-B;K.y=E.axes.x.bottom.y;K.z=E.axes.x.bottom.z;G=E.axes.x.bottom.xDir;I=!E.bottom.frontFacing}}else{if(J.opposite){if(null===E.axes.y.right){return{}}u=K.x-w;K.x=E.axes.y.right.x;K.z=E.axes.y.right.z;G=E.axes.y.right.xDir;G={x:G.z,y:G.y,z:-G.x}}else{if(null===E.axes.y.left){return{}}u=K.x-G;K.x=E.axes.y.left.x;K.z=E.axes.y.left.z;G=E.axes.y.left.xDir}}}"chart"!==r&&("flap"===r?J.horiz?(F=Math.sin(M),M=Math.cos(M),J.opposite&&(F=-F),I&&(F=-F),D={x:G.z*F,y:M,z:-G.x*F}):G={x:Math.cos(F),y:0,z:Math.sin(F)}:"ortho"===r?J.horiz?(D=Math.cos(M),r=Math.sin(F)*D,M=-Math.sin(M),F=-D*Math.cos(F),D={x:G.y*F-G.z*M,y:G.z*r-G.x*F,z:G.x*M-G.y*r},M=1/Math.sqrt(D.x*D.x+D.y*D.y+D.z*D.z),I&&(M=-M),D={x:M*D.x,y:M*D.y,z:M*D.z}):G={x:Math.cos(F),y:0,z:Math.sin(F)}:J.horiz?D={x:Math.sin(F)*Math.sin(M),y:Math.cos(M),z:-Math.cos(F)*Math.sin(M)}:G={x:Math.cos(F),y:0,z:Math.sin(F)});K.x+=u*G.x+C*D.x;K.y+=u*G.y+C*D.y;K.z+=u*G.z+C*D.z;I=y([K],J.chart)[0];L&&(0>z(y([K,{x:K.x+G.x,y:K.y+G.y,z:K.z+G.z},{x:K.x+D.x,y:K.y+D.y,z:K.z+D.z}],J.chart))&&(G={x:-G.x,y:-G.y,z:-G.z}),K=y([{x:K.x,y:K.y,z:K.z},{x:K.x+G.x,y:K.y+G.y,z:K.z+G.z},{x:K.x+D.x,y:K.y+D.y,z:K.z+D.z}],J.chart),I.matrix=[K[1].x-K[0].x,K[1].y-K[0].y,K[2].x-K[0].x,K[2].y-K[0].y,I.x,I.y],I.matrix[4]-=I.x*I.matrix[0]+I.y*I.matrix[2],I.matrix[5]-=I.x*I.matrix[1]+I.y*I.matrix[3]);return I};a.prototype.swapZ=function(l,k){var h=this.axis;return h.isZAxis?(k=k?0:h.chart.plotLeft,{x:k+l.z,y:l.y,z:l.x-k}):l};return a}();return function(){function d(){}d.compose=function(a){q(!0,a.defaultOptions,d.defaultOptions);a.keepProps.push("axis3D");f(a,"init",d.onInit);f(a,"afterSetOptions",d.onAfterSetOptions);f(a,"drawCrosshair",d.onDrawCrosshair);f(a,"destroy",d.onDestroy);a=a.prototype;v(a,"getLinePath",d.wrapGetLinePath);v(a,"getPlotBandPath",d.wrapGetPlotBandPath);v(a,"getPlotLinePath",d.wrapGetPlotLinePath);v(a,"getSlotWidth",d.wrapGetSlotWidth);v(a,"getTitlePosition",d.wrapGetTitlePosition);s.compose(A)};d.onAfterSetOptions=function(){var h=this.chart,a=this.options;h.is3d&&h.is3d()&&"colorAxis"!==this.coll&&(a.tickWidth=e(a.tickWidth,0),a.gridLineWidth=e(a.gridLineWidth,1))};d.onDestroy=function(){["backFrame","bottomFrame","sideFrame"].forEach(function(a){this[a]&&(this[a]=this[a].destroy())},this)};d.onDrawCrosshair=function(a){this.chart.is3d()&&"colorAxis"!==this.coll&&a.point&&(a.point.crosshairPos=this.isXAxis?a.point.axisXpos:this.len-a.point.axisYpos)};d.onInit=function(){this.axis3D||(this.axis3D=new g(this))};d.wrapGetLinePath=function(a){return this.chart.is3d()&&"colorAxis"!==this.coll?[]:a.apply(this,[].slice.call(arguments,1))};d.wrapGetPlotBandPath=function(B){if(!this.chart.is3d()||"colorAxis"===this.coll){return B.apply(this,[].slice.call(arguments,1))}var w=arguments,D=w[2],u=[];w=this.getPlotLinePath({value:w[1]});D=this.getPlotLinePath({value:D});if(w&&D){for(var C=0;C<w.length;C+=2){var p=w[C],m=w[C+1],l=D[C],r=D[C+1];"M"===p[0]&&"L"===m[0]&&"M"===l[0]&&"L"===r[0]&&u.push(p,m,r,["L",l[1],l[2]],["Z"])}}return u};d.wrapGetPlotLinePath=function(C){var w=this.axis3D,m=this.chart,u=C.apply(this,[].slice.call(arguments,1));if("colorAxis"===this.coll||!m.chart3d||!m.is3d()||null===u){return u}var l=m.options.chart.options3d,r=this.isZAxis?m.plotWidth:l.depth;l=m.chart3d.frame3d;var p=u[0],B=u[1];u=[];"M"===p[0]&&"L"===B[0]&&(w=[w.swapZ({x:p[1],y:p[2],z:0}),w.swapZ({x:p[1],y:p[2],z:r}),w.swapZ({x:B[1],y:B[2],z:0}),w.swapZ({x:B[1],y:B[2],z:r})],this.horiz?(this.isZAxis?(l.left.visible&&u.push(w[0],w[2]),l.right.visible&&u.push(w[1],w[3])):(l.front.visible&&u.push(w[0],w[2]),l.back.visible&&u.push(w[1],w[3])),l.top.visible&&u.push(w[0],w[1]),l.bottom.visible&&u.push(w[2],w[3])):(l.front.visible&&u.push(w[0],w[2]),l.back.visible&&u.push(w[1],w[3]),l.left.visible&&u.push(w[0],w[1]),l.right.visible&&u.push(w[2],w[3])),u=y(u,this.chart,!1));return m.renderer.toLineSegments(u)};d.wrapGetSlotWidth=function(D,C){var E=this.chart,F=this.ticks,w=this.gridGroup;if(this.categories&&E.frameShapes&&E.is3d()&&w&&C&&C.label){w=w.element.childNodes[0].getBBox();var r=E.frameShapes.left.getBBox(),k=E.options.chart.options3d;E={x:E.plotWidth/2,y:E.plotHeight/2,z:k.depth/2,vd:e(k.depth,1)*e(k.viewDistance,0)};var l,B;k=C.pos;var u=F[k-1];F=F[k+1];0!==k&&u&&u.label.xy&&(l=o({x:u.label.xy.x,y:u.label.xy.y,z:null},E,E.vd));F&&F.label.xy&&(B=o({x:F.label.xy.x,y:F.label.xy.y,z:null},E,E.vd));F={x:C.label.xy.x,y:C.label.xy.y,z:null};F=o(F,E,E.vd);return Math.abs(l?F.x-l.x:B?B.x-F.x:w.x-r.x)}return D.apply(this,[].slice.call(arguments,1))};d.wrapGetTitlePosition=function(h){var a=h.apply(this,[].slice.call(arguments,1));return this.axis3D?this.axis3D.fix3dPosition(a,!0):a};d.defaultOptions={labels:{position3d:"offset",skew3d:!1},title:{position3d:null,skew3d:null}};return d}()});c(b,"Core/Axis/ZAxis.js",[b["Core/Axis/Axis.js"],b["Core/Utilities.js"]],function(j,g){var q=this&&this.__extends||function(){var a=function(k,d){a=Object.setPrototypeOf||{__proto__:[]} instanceof Array&&function(m,l){m.__proto__=l}||function(p,l){for(var m in l){l.hasOwnProperty(m)&&(p[m]=l[m])}};return a(k,d)};return function(k,d){function l(){this.constructor=k}a(k,d);k.prototype=null===d?Object.create(d):(l.prototype=d.prototype,new l)}}(),i=g.addEvent,f=g.merge,n=g.pick,h=g.splat,o=function(){function d(){}d.compose=function(a){i(a,"afterGetAxes",d.onAfterGetAxes);a=a.prototype;a.addZAxis=d.wrapAddZAxis;a.collectionsWithInit.zAxis=[a.addZAxis];a.collectionsWithUpdate.push("zAxis")};d.onAfterGetAxes=function(){var l=this,k=this.options;k=k.zAxis=h(k.zAxis||{});l.is3d()&&(l.zAxis=[],k.forEach(function(p,m){p.index=m;p.isX=!0;l.addZAxis(p).setScale()}))};d.wrapAddZAxis=function(a){return new e(this,a)};return d}(),e=function(l){function k(d,m){d=l.call(this,d,m)||this;d.isZAxis=!0;return d}q(k,l);k.prototype.getSeriesExtremes=function(){var p=this,m=p.chart;p.hasVisibleSeries=!1;p.dataMin=p.dataMax=p.ignoreMinPadding=p.ignoreMaxPadding=void 0;p.stacking&&p.stacking.buildStacks();p.series.forEach(function(a){!a.visible&&m.options.chart&&m.options.chart.ignoreHiddenSeries||(p.hasVisibleSeries=!0,a=a.zData,a.length&&(p.dataMin=Math.min(n(p.dataMin,a[0]),Math.min.apply(null,a)),p.dataMax=Math.max(n(p.dataMax,a[0]),Math.max.apply(null,a))))})};k.prototype.setAxisSize=function(){var d=this.chart;l.prototype.setAxisSize.call(this);this.width=this.len=d.options.chart&&d.options.chart.options3d&&d.options.chart.options3d.depth||0;this.right=d.chartWidth-this.width-this.left};k.prototype.setOptions=function(d){d=f({offset:0,lineWidth:0},d);l.prototype.setOptions.call(this,d);this.coll="zAxis"};k.ZChartComposition=o;return k}(j);return e});c(b,"Core/Chart/Chart3D.js",[b["Core/Axis/Axis.js"],b["Core/Axis/Axis3D.js"],b["Core/Chart/Chart.js"],b["Core/Globals.js"],b["Extensions/Math3D.js"],b["Core/Options.js"],b["Core/Utilities.js"],b["Core/Axis/ZAxis.js"]],function(D,t,H,y,s,E,v,F){var i=s.perspective,x=s.shapeArea3D,e=E.defaultOptions,C=v.addEvent;s=v.Fx;var g=v.isArray,o=v.merge,f=v.pick,z=v.wrap,j;(function(J){function I(a){this.is3d()&&"scatter"===a.options.type&&(a.options.type="scatter3d")}function q(){if(this.chart3d&&this.is3d()){var U=this.renderer,W=this.options.chart.options3d,V=this.chart3d.get3dFrame(),T=this.plotLeft,S=this.plotLeft+this.plotWidth,R=this.plotTop,Q=this.plotTop+this.plotHeight;W=W.depth;var P=T-(V.left.visible?V.left.size:0),u=S+(V.right.visible?V.right.size:0),A=R-(V.top.visible?V.top.size:0),G=Q+(V.bottom.visible?V.bottom.size:0),w=0-(V.front.visible?V.front.size:0),O=W+(V.back.visible?V.back.size:0),X=this.hasRendered?"animate":"attr";this.chart3d.frame3d=V;this.frameShapes||(this.frameShapes={bottom:U.polyhedron().add(),top:U.polyhedron().add(),left:U.polyhedron().add(),right:U.polyhedron().add(),back:U.polyhedron().add(),front:U.polyhedron().add()});this.frameShapes.bottom[X]({"class":"highcharts-3d-frame highcharts-3d-frame-bottom",zIndex:V.bottom.frontFacing?-1000:1000,faces:[{fill:y.color(V.bottom.color).brighten(0.1).get(),vertexes:[{x:P,y:G,z:w},{x:u,y:G,z:w},{x:u,y:G,z:O},{x:P,y:G,z:O}],enabled:V.bottom.visible},{fill:y.color(V.bottom.color).brighten(0.1).get(),vertexes:[{x:T,y:Q,z:W},{x:S,y:Q,z:W},{x:S,y:Q,z:0},{x:T,y:Q,z:0}],enabled:V.bottom.visible},{fill:y.color(V.bottom.color).brighten(-0.1).get(),vertexes:[{x:P,y:G,z:w},{x:P,y:G,z:O},{x:T,y:Q,z:W},{x:T,y:Q,z:0}],enabled:V.bottom.visible&&!V.left.visible},{fill:y.color(V.bottom.color).brighten(-0.1).get(),vertexes:[{x:u,y:G,z:O},{x:u,y:G,z:w},{x:S,y:Q,z:0},{x:S,y:Q,z:W}],enabled:V.bottom.visible&&!V.right.visible},{fill:y.color(V.bottom.color).get(),vertexes:[{x:u,y:G,z:w},{x:P,y:G,z:w},{x:T,y:Q,z:0},{x:S,y:Q,z:0}],enabled:V.bottom.visible&&!V.front.visible},{fill:y.color(V.bottom.color).get(),vertexes:[{x:P,y:G,z:O},{x:u,y:G,z:O},{x:S,y:Q,z:W},{x:T,y:Q,z:W}],enabled:V.bottom.visible&&!V.back.visible}]});this.frameShapes.top[X]({"class":"highcharts-3d-frame highcharts-3d-frame-top",zIndex:V.top.frontFacing?-1000:1000,faces:[{fill:y.color(V.top.color).brighten(0.1).get(),vertexes:[{x:P,y:A,z:O},{x:u,y:A,z:O},{x:u,y:A,z:w},{x:P,y:A,z:w}],enabled:V.top.visible},{fill:y.color(V.top.color).brighten(0.1).get(),vertexes:[{x:T,y:R,z:0},{x:S,y:R,z:0},{x:S,y:R,z:W},{x:T,y:R,z:W}],enabled:V.top.visible},{fill:y.color(V.top.color).brighten(-0.1).get(),vertexes:[{x:P,y:A,z:O},{x:P,y:A,z:w},{x:T,y:R,z:0},{x:T,y:R,z:W}],enabled:V.top.visible&&!V.left.visible},{fill:y.color(V.top.color).brighten(-0.1).get(),vertexes:[{x:u,y:A,z:w},{x:u,y:A,z:O},{x:S,y:R,z:W},{x:S,y:R,z:0}],enabled:V.top.visible&&!V.right.visible},{fill:y.color(V.top.color).get(),vertexes:[{x:P,y:A,z:w},{x:u,y:A,z:w},{x:S,y:R,z:0},{x:T,y:R,z:0}],enabled:V.top.visible&&!V.front.visible},{fill:y.color(V.top.color).get(),vertexes:[{x:u,y:A,z:O},{x:P,y:A,z:O},{x:T,y:R,z:W},{x:S,y:R,z:W}],enabled:V.top.visible&&!V.back.visible}]});this.frameShapes.left[X]({"class":"highcharts-3d-frame highcharts-3d-frame-left",zIndex:V.left.frontFacing?-1000:1000,faces:[{fill:y.color(V.left.color).brighten(0.1).get(),vertexes:[{x:P,y:G,z:w},{x:T,y:Q,z:0},{x:T,y:Q,z:W},{x:P,y:G,z:O}],enabled:V.left.visible&&!V.bottom.visible},{fill:y.color(V.left.color).brighten(0.1).get(),vertexes:[{x:P,y:A,z:O},{x:T,y:R,z:W},{x:T,y:R,z:0},{x:P,y:A,z:w}],enabled:V.left.visible&&!V.top.visible},{fill:y.color(V.left.color).brighten(-0.1).get(),vertexes:[{x:P,y:G,z:O},{x:P,y:A,z:O},{x:P,y:A,z:w},{x:P,y:G,z:w}],enabled:V.left.visible},{fill:y.color(V.left.color).brighten(-0.1).get(),vertexes:[{x:T,y:R,z:W},{x:T,y:Q,z:W},{x:T,y:Q,z:0},{x:T,y:R,z:0}],enabled:V.left.visible},{fill:y.color(V.left.color).get(),vertexes:[{x:P,y:G,z:w},{x:P,y:A,z:w},{x:T,y:R,z:0},{x:T,y:Q,z:0}],enabled:V.left.visible&&!V.front.visible},{fill:y.color(V.left.color).get(),vertexes:[{x:P,y:A,z:O},{x:P,y:G,z:O},{x:T,y:Q,z:W},{x:T,y:R,z:W}],enabled:V.left.visible&&!V.back.visible}]});this.frameShapes.right[X]({"class":"highcharts-3d-frame highcharts-3d-frame-right",zIndex:V.right.frontFacing?-1000:1000,faces:[{fill:y.color(V.right.color).brighten(0.1).get(),vertexes:[{x:u,y:G,z:O},{x:S,y:Q,z:W},{x:S,y:Q,z:0},{x:u,y:G,z:w}],enabled:V.right.visible&&!V.bottom.visible},{fill:y.color(V.right.color).brighten(0.1).get(),vertexes:[{x:u,y:A,z:w},{x:S,y:R,z:0},{x:S,y:R,z:W},{x:u,y:A,z:O}],enabled:V.right.visible&&!V.top.visible},{fill:y.color(V.right.color).brighten(-0.1).get(),vertexes:[{x:S,y:R,z:0},{x:S,y:Q,z:0},{x:S,y:Q,z:W},{x:S,y:R,z:W}],enabled:V.right.visible},{fill:y.color(V.right.color).brighten(-0.1).get(),vertexes:[{x:u,y:G,z:w},{x:u,y:A,z:w},{x:u,y:A,z:O},{x:u,y:G,z:O}],enabled:V.right.visible},{fill:y.color(V.right.color).get(),vertexes:[{x:u,y:A,z:w},{x:u,y:G,z:w},{x:S,y:Q,z:0},{x:S,y:R,z:0}],enabled:V.right.visible&&!V.front.visible},{fill:y.color(V.right.color).get(),vertexes:[{x:u,y:G,z:O},{x:u,y:A,z:O},{x:S,y:R,z:W},{x:S,y:Q,z:W}],enabled:V.right.visible&&!V.back.visible}]});this.frameShapes.back[X]({"class":"highcharts-3d-frame highcharts-3d-frame-back",zIndex:V.back.frontFacing?-1000:1000,faces:[{fill:y.color(V.back.color).brighten(0.1).get(),vertexes:[{x:u,y:G,z:O},{x:P,y:G,z:O},{x:T,y:Q,z:W},{x:S,y:Q,z:W}],enabled:V.back.visible&&!V.bottom.visible},{fill:y.color(V.back.color).brighten(0.1).get(),vertexes:[{x:P,y:A,z:O},{x:u,y:A,z:O},{x:S,y:R,z:W},{x:T,y:R,z:W}],enabled:V.back.visible&&!V.top.visible},{fill:y.color(V.back.color).brighten(-0.1).get(),vertexes:[{x:P,y:G,z:O},{x:P,y:A,z:O},{x:T,y:R,z:W},{x:T,y:Q,z:W}],enabled:V.back.visible&&!V.left.visible},{fill:y.color(V.back.color).brighten(-0.1).get(),vertexes:[{x:u,y:A,z:O},{x:u,y:G,z:O},{x:S,y:Q,z:W},{x:S,y:R,z:W}],enabled:V.back.visible&&!V.right.visible},{fill:y.color(V.back.color).get(),vertexes:[{x:T,y:R,z:W},{x:S,y:R,z:W},{x:S,y:Q,z:W},{x:T,y:Q,z:W}],enabled:V.back.visible},{fill:y.color(V.back.color).get(),vertexes:[{x:P,y:G,z:O},{x:u,y:G,z:O},{x:u,y:A,z:O},{x:P,y:A,z:O}],enabled:V.back.visible}]});this.frameShapes.front[X]({"class":"highcharts-3d-frame highcharts-3d-frame-front",zIndex:V.front.frontFacing?-1000:1000,faces:[{fill:y.color(V.front.color).brighten(0.1).get(),vertexes:[{x:P,y:G,z:w},{x:u,y:G,z:w},{x:S,y:Q,z:0},{x:T,y:Q,z:0}],enabled:V.front.visible&&!V.bottom.visible},{fill:y.color(V.front.color).brighten(0.1).get(),vertexes:[{x:u,y:A,z:w},{x:P,y:A,z:w},{x:T,y:R,z:0},{x:S,y:R,z:0}],enabled:V.front.visible&&!V.top.visible},{fill:y.color(V.front.color).brighten(-0.1).get(),vertexes:[{x:P,y:A,z:w},{x:P,y:G,z:w},{x:T,y:Q,z:0},{x:T,y:R,z:0}],enabled:V.front.visible&&!V.left.visible},{fill:y.color(V.front.color).brighten(-0.1).get(),vertexes:[{x:u,y:G,z:w},{x:u,y:A,z:w},{x:S,y:R,z:0},{x:S,y:Q,z:0}],enabled:V.front.visible&&!V.right.visible},{fill:y.color(V.front.color).get(),vertexes:[{x:S,y:R,z:0},{x:T,y:R,z:0},{x:T,y:Q,z:0},{x:S,y:Q,z:0}],enabled:V.front.visible},{fill:y.color(V.front.color).get(),vertexes:[{x:u,y:G,z:w},{x:P,y:G,z:w},{x:P,y:A,z:w},{x:u,y:A,z:w}],enabled:V.front.visible}]})}}function n(){this.styledMode&&(this.renderer.definition({tagName:"style",textContent:".highcharts-3d-top{filter: url(#highcharts-brighter)}\n.highcharts-3d-side{filter: url(#highcharts-darker)}\n"}),[{name:"darker",slope:0.6},{name:"brighter",slope:1.4}].forEach(function(a){this.renderer.definition({tagName:"filter",id:"highcharts-"+a.name,children:[{tagName:"feComponentTransfer",children:[{tagName:"feFuncR",type:"linear",slope:a.slope},{tagName:"feFuncG",type:"linear",slope:a.slope},{tagName:"feFuncB",type:"linear",slope:a.slope}]}]})},this))}function p(){var a=this.options;this.is3d()&&(a.series||[]).forEach(function(k){"scatter"===(k.type||a.chart.type||a.chart.defaultSeriesType)&&(k.type="scatter3d")})}function L(){var u=this.options.chart.options3d;if(this.chart3d&&this.is3d()){u&&(u.alpha=u.alpha%360+(0<=u.alpha?0:360),u.beta=u.beta%360+(0<=u.beta?0:360));var k=this.inverted,l=this.clipBox,m=this.margin;l[k?"y":"x"]=-(m[3]||0);l[k?"x":"y"]=-(m[0]||0);l[k?"height":"width"]=this.chartWidth+(m[3]||0)+(m[1]||0);l[k?"width":"height"]=this.chartHeight+(m[0]||0)+(m[2]||0);this.scale3d=1;!0===u.fitToPlot&&(this.scale3d=this.chart3d.getScale(u.depth));this.chart3d.frame3d=this.chart3d.get3dFrame()}}function r(){this.is3d()&&(this.isDirtyBox=!0)}function h(){this.chart3d&&this.is3d()&&(this.chart3d.frame3d=this.chart3d.get3dFrame())}function B(){this.chart3d||(this.chart3d=new d(this))}function N(a){return this.is3d()||a.apply(this,[].slice.call(arguments,1))}function K(k){var a=this.series.length;if(this.is3d()){for(;a--;){k=this.series[a],k.translate(),k.render()}}else{k.call(this)}}function M(a){a.apply(this,[].slice.call(arguments,1));this.is3d()&&(this.container.className+=" highcharts-3d-chart")}var d=function(){function a(k){this.frame3d=void 0;this.chart=k}a.prototype.get3dFrame=function(){var ae=this.chart,af=ae.options.chart.options3d,ag=af.frame,ad=ae.plotLeft,ac=ae.plotLeft+ae.plotWidth,ab=ae.plotTop,aa=ae.plotTop+ae.plotHeight,Z=af.depth,W=function(k){k=x(k,ae);return 0.5<k?1:-0.5>k?-1:0},X=W([{x:ad,y:aa,z:Z},{x:ac,y:aa,z:Z},{x:ac,y:aa,z:0},{x:ad,y:aa,z:0}]),Y=W([{x:ad,y:ab,z:0},{x:ac,y:ab,z:0},{x:ac,y:ab,z:Z},{x:ad,y:ab,z:Z}]),Q=W([{x:ad,y:ab,z:0},{x:ad,y:ab,z:Z},{x:ad,y:aa,z:Z},{x:ad,y:aa,z:0}]),U=W([{x:ac,y:ab,z:Z},{x:ac,y:ab,z:0},{x:ac,y:aa,z:0},{x:ac,y:aa,z:Z}]),V=W([{x:ad,y:aa,z:0},{x:ac,y:aa,z:0},{x:ac,y:ab,z:0},{x:ad,y:ab,z:0}]);W=W([{x:ad,y:ab,z:Z},{x:ac,y:ab,z:Z},{x:ac,y:aa,z:Z},{x:ad,y:aa,z:Z}]);var S=!1,R=!1,O=!1,P=!1;[].concat(ae.xAxis,ae.yAxis,ae.zAxis).forEach(function(k){k&&(k.horiz?k.opposite?R=!0:S=!0:k.opposite?P=!0:O=!0)});var T=function(ah,aj,ai){for(var G=["size","color","visible"],A={},w=0;w<G.length;w++){for(var u=G[w],m=0;m<ah.length;m++){if("object"===typeof ah[m]){var l=ah[m][u];if("undefined"!==typeof l&&null!==l){A[u]=l;break}}}}ah=ai;!0===A.visible||!1===A.visible?ah=A.visible:"auto"===A.visible&&(ah=0<aj);return{size:f(A.size,1),color:f(A.color,"none"),frontFacing:0<aj,visible:ah}};ag={axes:{},bottom:T([ag.bottom,ag.top,ag],X,S),top:T([ag.top,ag.bottom,ag],Y,R),left:T([ag.left,ag.right,ag.side,ag],Q,O),right:T([ag.right,ag.left,ag.side,ag],U,P),back:T([ag.back,ag.front,ag],W,!0),front:T([ag.front,ag.back,ag],V,!1)};"auto"===af.axisLabelPosition?(U=function(l,k){return l.visible!==k.visible||l.visible&&k.visible&&l.frontFacing!==k.frontFacing},af=[],U(ag.left,ag.front)&&af.push({y:(ab+aa)/2,x:ad,z:0,xDir:{x:1,y:0,z:0}}),U(ag.left,ag.back)&&af.push({y:(ab+aa)/2,x:ad,z:Z,xDir:{x:0,y:0,z:-1}}),U(ag.right,ag.front)&&af.push({y:(ab+aa)/2,x:ac,z:0,xDir:{x:0,y:0,z:1}}),U(ag.right,ag.back)&&af.push({y:(ab+aa)/2,x:ac,z:Z,xDir:{x:-1,y:0,z:0}}),X=[],U(ag.bottom,ag.front)&&X.push({x:(ad+ac)/2,y:aa,z:0,xDir:{x:1,y:0,z:0}}),U(ag.bottom,ag.back)&&X.push({x:(ad+ac)/2,y:aa,z:Z,xDir:{x:-1,y:0,z:0}}),Y=[],U(ag.top,ag.front)&&Y.push({x:(ad+ac)/2,y:ab,z:0,xDir:{x:1,y:0,z:0}}),U(ag.top,ag.back)&&Y.push({x:(ad+ac)/2,y:ab,z:Z,xDir:{x:-1,y:0,z:0}}),Q=[],U(ag.bottom,ag.left)&&Q.push({z:(0+Z)/2,y:aa,x:ad,xDir:{x:0,y:0,z:-1}}),U(ag.bottom,ag.right)&&Q.push({z:(0+Z)/2,y:aa,x:ac,xDir:{x:0,y:0,z:1}}),aa=[],U(ag.top,ag.left)&&aa.push({z:(0+Z)/2,y:ab,x:ad,xDir:{x:0,y:0,z:-1}}),U(ag.top,ag.right)&&aa.push({z:(0+Z)/2,y:ab,x:ac,xDir:{x:0,y:0,z:1}}),ad=function(l,k,A){if(0===l.length){return null}if(1===l.length){return l[0]}for(var w=0,u=i(l,ae,!1),m=1;m<u.length;m++){A*u[m][k]>A*u[w][k]?w=m:A*u[m][k]===A*u[w][k]&&u[m].z<u[w].z&&(w=m)}return l[w]},ag.axes={y:{left:ad(af,"x",-1),right:ad(af,"x",1)},x:{top:ad(Y,"y",-1),bottom:ad(X,"y",1)},z:{top:ad(aa,"y",-1),bottom:ad(Q,"y",1)}}):ag.axes={y:{left:{x:ad,z:0,xDir:{x:1,y:0,z:0}},right:{x:ac,z:0,xDir:{x:0,y:0,z:1}}},x:{top:{y:ab,z:0,xDir:{x:1,y:0,z:0}},bottom:{y:aa,z:0,xDir:{x:1,y:0,z:0}}},z:{top:{x:O?ac:ad,y:ab,xDir:O?{x:0,y:0,z:1}:{x:0,y:0,z:-1}},bottom:{x:O?ac:ad,y:aa,xDir:O?{x:0,y:0,z:1}:{x:0,y:0,z:-1}}}};return ag};a.prototype.getScale=function(U){var W=this.chart,V=W.plotLeft,T=W.plotWidth+V,S=W.plotTop,R=W.plotHeight+S,Q=V+W.plotWidth/2,P=S+W.plotHeight/2,O=Number.MAX_VALUE,w=-Number.MAX_VALUE,u=Number.MAX_VALUE,A=-Number.MAX_VALUE,G=1;var X=[{x:V,y:S,z:0},{x:V,y:S,z:U}];[0,1].forEach(function(k){X.push({x:T,y:X[k].y,z:X[k].z})});[0,1,2,3].forEach(function(k){X.push({x:X[k].x,y:R,z:X[k].z})});X=i(X,W,!1);X.forEach(function(k){O=Math.min(O,k.x);w=Math.max(w,k.x);u=Math.min(u,k.y);A=Math.max(A,k.y)});V>O&&(G=Math.min(G,1-Math.abs((V+Q)/(O+Q))%1));T<w&&(G=Math.min(G,(T-Q)/(w-Q)));S>u&&(G=0>u?Math.min(G,(S+P)/(-u+S+P)):Math.min(G,1-(S+P)/(u+P)%1));R<A&&(G=Math.min(G,Math.abs((R-P)/(A-P))));return G};return a}();J.Composition=d;J.defaultOptions={chart:{options3d:{enabled:!1,alpha:0,beta:0,depth:100,fitToPlot:!0,viewDistance:25,axisLabelPosition:null,frame:{visible:"default",size:1,bottom:{},top:{},left:{},right:{},back:{},front:{}}}}};J.compose=function(a,k){var l=a.prototype;k=k.prototype;l.is3d=function(){return this.options.chart.options3d&&this.options.chart.options3d.enabled};l.propsRequireDirtyBox.push("chart.options3d");l.propsRequireUpdateSeries.push("chart.options3d");k.matrixSetter=function(){if(1>this.pos&&(g(this.start)||g(this.end))){var A=this.start||[1,0,0,1,0,0],u=this.end||[1,0,0,1,0,0];var m=[];for(var w=0;6>w;w++){m.push(this.pos*u[w]+(1-this.pos)*A[w])}}else{m=this.end}this.elem.attr(this.prop,m,null,!0)};o(!0,e,J.defaultOptions);C(a,"init",B);C(a,"addSeries",I);C(a,"afterDrawChartBox",q);C(a,"afterGetContainer",n);C(a,"afterInit",p);C(a,"afterSetChartSize",L);C(a,"beforeRedraw",r);C(a,"beforeRender",h);z(y.Chart.prototype,"isInsidePlot",N);z(a,"renderSeries",K);z(a,"setClassName",M)}})(j||(j={}));j.compose(H,s);F.ZChartComposition.compose(H);t.compose(D);"";return j});c(b,"Core/Series/Series3D.js",[b["Core/Globals.js"],b["Extensions/Math3D.js"],b["Core/Utilities.js"]],function(g,f,h){var i=f.perspective;f=h.addEvent;var e=h.pick;f(g.Series,"afterTranslate",function(){this.chart.is3d()&&this.translate3dPoints()});g.Series.prototype.translate3dPoints=function(){var j=this.chart,m=e(this.zAxis,j.options.zAxis[0]),d=[],q;for(q=0;q<this.data.length;q++){var n=this.data[q];if(m&&m.translate){var o=m.logarithmic&&m.val2lin?m.val2lin(n.z):n.z;n.plotZ=m.translate(o);n.isInside=n.isInside?o>=m.min&&o<=m.max:!1}else{n.plotZ=0}n.axisXpos=n.plotX;n.axisYpos=n.plotY;n.axisZpos=n.plotZ;d.push({x:n.plotX,y:n.plotY,z:n.plotZ})}j=i(d,j,!0);for(q=0;q<this.data.length;q++){n=this.data[q],m=j[q],n.plotX=m.x,n.plotY=m.y,n.plotZ=m.z}}});c(b,"Series/Column3DSeries.js",[b["Core/Globals.js"],b["Extensions/Math3D.js"],b["Extensions/Stacking.js"],b["Core/Utilities.js"]],function(t,j,y,q){function i(l,h){var u=l.series,r={},m,p=1;u.forEach(function(d){m=o(d.options.stack,h?0:u.length-1-d.index);r[m]?r[m].series.push(d):(r[m]={series:[d],position:p},p++)});r.totalStacks=p+1;return r}function v(h){var d=h.apply(this,[].slice.call(arguments,1));this.chart.is3d&&this.chart.is3d()&&(d.stroke=this.options.edgeColor||d.fill,d["stroke-width"]=o(this.options.edgeWidth,1));return d}function n(k,h,m){var l=this.chart.is3d&&this.chart.is3d();l&&(this.options.inactiveOtherPoints=!0);k.call(this,h,m);l&&(this.options.inactiveOtherPoints=!1)}function x(h){for(var d=[],k=1;k<arguments.length;k++){d[k-1]=arguments[k]}return this.series.chart.is3d()?this.graphic&&"g"!==this.graphic.element.nodeName:h.apply(this,d)}var g=j.perspective;j=q.addEvent;var o=q.pick;q=q.wrap;var e=t.Series,s=t.seriesTypes,f=t.svg;q(s.column.prototype,"translate",function(d){d.apply(this,[].slice.call(arguments,1));this.chart.is3d()&&this.translate3dShapes()});q(e.prototype,"justifyDataLabel",function(d){return arguments[2].outside3dPlot?!1:d.apply(this,[].slice.call(arguments,1))});s.column.prototype.translate3dPoints=function(){};s.column.prototype.translate3dShapes=function(){var m=this,l=m.chart,z=m.options,w=z.depth,r=(z.stacking?z.stack||0:m.index)*(w+(z.groupZPadding||1)),u=m.borderWidth%2?0.5:0,p;l.inverted&&!m.yAxis.reversed&&(u*=-1);!1!==z.grouping&&(r=0);r+=z.groupZPadding||1;m.data.forEach(function(k){k.outside3dPlot=null;if(null!==k.y){var d=k.shapeArgs,a=k.tooltipPos,h;[["x","width"],["y","height"]].forEach(function(A){h=d[A[0]]-u;0>h&&(d[A[1]]+=d[A[0]]+u,d[A[0]]=-u,h=0);h+d[A[1]]>m[A[0]+"Axis"].len&&0!==d[A[1]]&&(d[A[1]]=m[A[0]+"Axis"].len-d[A[0]]);if(0!==d[A[1]]&&(d[A[0]]>=m[A[0]+"Axis"].len||d[A[0]]+d[A[1]]<=u)){for(var B in d){d[B]=0}k.outside3dPlot=!0}});"rect"===k.shapeType&&(k.shapeType="cuboid");d.z=r;d.depth=w;d.insidePlotArea=!0;p={x:d.x+d.width/2,y:d.y,z:r+w/2};l.inverted&&(p.x=d.height,p.y=k.clientX);k.plot3d=g([p],l,!0,!1)[0];a=g([{x:a[0],y:a[1],z:r+w/2}],l,!0,!1)[0];k.tooltipPos=[a.x,a.y]}});m.z=r};q(s.column.prototype,"animate",function(l){if(this.chart.is3d()){var k=arguments[1],r=this.yAxis,p=this,m=this.yAxis.reversed;f&&(k?p.data.forEach(function(d){null!==d.y&&(d.height=d.shapeArgs.height,d.shapey=d.shapeArgs.y,d.shapeArgs.height=1,m||(d.shapeArgs.y=d.stackY?d.plotY+r.translate(d.stackY):d.plotY+(d.negative?-d.height:d.height)))}):(p.data.forEach(function(d){null!==d.y&&(d.shapeArgs.height=d.height,d.shapeArgs.y=d.shapey,d.graphic&&d.graphic.animate(d.shapeArgs,p.options.animation))}),this.drawDataLabels()))}else{l.apply(this,[].slice.call(arguments,1))}});q(s.column.prototype,"plotGroup",function(l,k,u,r,m,p){"dataLabelsGroup"!==k&&this.chart.is3d()&&(this[k]&&delete this[k],p&&(this.chart.columnGroup||(this.chart.columnGroup=this.chart.renderer.g("columnGroup").add(p)),this[k]=this.chart.columnGroup,this.chart.columnGroup.attr(this.getPlotBox()),this[k].survive=!0,"group"===k||"markerGroup"===k))&&(arguments[3]="visible");return l.apply(this,Array.prototype.slice.call(arguments,1))});q(s.column.prototype,"setVisible",function(k,h){var m=this,l;m.chart.is3d()&&m.data.forEach(function(d){l=(d.visible=d.options.visible=h="undefined"===typeof h?!o(m.visible,d.visible):h)?"visible":"hidden";m.options.data[m.data.indexOf(d)]=d.options;d.graphic&&d.graphic.attr({visibility:l})});k.apply(this,Array.prototype.slice.call(arguments,1))});s.column.prototype.handle3dGrouping=!0;j(e,"afterInit",function(){if(this.chart.is3d()&&this.handle3dGrouping){var l=this.options,h=l.grouping,r=l.stacking,p=o(this.yAxis.options.reversedStacks,!0),m=0;if("undefined"===typeof h||h){h=i(this.chart,r);m=l.stack||0;for(r=0;r<h[m].series.length&&h[m].series[r]!==this;r++){}m=10*(h.totalStacks-h[m].position)+(p?r:-r);this.xAxis.reversed||(m=10*h.totalStacks-m)}l.depth=l.depth||25;this.z=this.z||0;l.zIndex=m}});q(s.column.prototype,"pointAttribs",v);q(s.column.prototype,"setState",n);q(s.column.prototype.pointClass.prototype,"hasNewShapeType",x);s.columnrange&&(q(s.columnrange.prototype,"pointAttribs",v),q(s.columnrange.prototype,"setState",n),q(s.columnrange.prototype.pointClass.prototype,"hasNewShapeType",x),s.columnrange.prototype.plotGroup=s.column.prototype.plotGroup,s.columnrange.prototype.setVisible=s.column.prototype.setVisible);q(e.prototype,"alignDataLabel",function(D,C,B,A,w){var z=this.chart;A.outside3dPlot=C.outside3dPlot;if(z.is3d()&&this.is("column")){var u=this.options,r=o(A.inside,!!this.options.stacking),p=z.options.chart.options3d,h=C.pointWidth/2||0;u={x:w.x+h,y:w.y,z:this.z+u.depth/2};z.inverted&&(r&&(w.width=0,u.x+=C.shapeArgs.height/2),90<=p.alpha&&270>=p.alpha&&(u.y+=C.shapeArgs.width));u=g([u],z,!0,!1)[0];w.x=u.x-h;w.y=C.outside3dPlot?-9000000000:u.y}D.apply(this,[].slice.call(arguments,1))});q(y.prototype,"getStackBox",function(F,D,E,A,z,C,w,u){var r=F.apply(this,[].slice.call(arguments,1));if(D.is3d()&&E.base){var p=+E.base.split(",")[0],B=D.series[p];p=D.options.chart.options3d;B&&B instanceof s.column&&(B={x:r.x+(D.inverted?w:C/2),y:r.y,z:B.options.depth/2},D.inverted&&(r.width=0,90<=p.alpha&&270>=p.alpha&&(B.y+=C)),B=g([B],D,!0,!1)[0],r.x=B.x-C/2,r.y=B.y)}return r})});c(b,"Series/Pie3DSeries.js",[b["Core/Globals.js"],b["Core/Utilities.js"]],function(h,g){var i=g.pick;g=g.wrap;var j=h.deg2rad,e=h.seriesTypes,f=h.svg;g(e.pie.prototype,"translate",function(q){q.apply(this,[].slice.call(arguments,1));if(this.chart.is3d()){var r=this,p=r.options,t=p.depth||0,o=r.chart.options.chart.options3d,d=o.alpha,s=o.beta,v=p.stacking?(p.stack||0)*t:r._i*t;v+=t/2;!1!==p.grouping&&(v=0);r.data.forEach(function(k){var l=k.shapeArgs;k.shapeType="arc3d";l.z=v;l.depth=0.75*t;l.alpha=d;l.beta=s;l.center=r.center;l=(l.end+l.start)/2;k.slicedTranslation={translateX:Math.round(Math.cos(l)*p.slicedOffset*Math.cos(d*j)),translateY:Math.round(Math.sin(l)*p.slicedOffset*Math.cos(d*j))}})}});g(e.pie.prototype.pointClass.prototype,"haloPath",function(k){var l=arguments;return this.series.chart.is3d()?[]:k.call(this,l[1])});g(e.pie.prototype,"pointAttribs",function(m,n,k){m=m.call(this,n,k);k=this.options;this.chart.is3d()&&!this.chart.styledMode&&(m.stroke=k.edgeColor||n.color||this.color,m["stroke-width"]=i(k.edgeWidth,1));return m});g(e.pie.prototype,"drawDataLabels",function(d){if(this.chart.is3d()){var l=this.chart.options.chart.options3d;this.data.forEach(function(r){var s=r.shapeArgs,q=s.r,o=(s.start+s.end)/2;r=r.labelPosition;var k=r.connectorPosition,u=-q*(1-Math.cos((s.alpha||l.alpha)*j))*Math.sin(o),t=q*(Math.cos((s.beta||l.beta)*j)-1)*Math.cos(o);[r.natural,k.breakAt,k.touchingSliceAt].forEach(function(m){m.x+=t;m.y+=u})})}d.apply(this,[].slice.call(arguments,1))});g(e.pie.prototype,"addPoint",function(d){d.apply(this,[].slice.call(arguments,1));this.chart.is3d()&&this.update(this.userOptions,!0)});g(e.pie.prototype,"animate",function(o){if(this.chart.is3d()){var r=arguments[1],p=this.options.animation,q=this.center,n=this.group,m=this.markerGroup;f&&(!0===p&&(p={}),r?(n.oldtranslateX=i(n.oldtranslateX,n.translateX),n.oldtranslateY=i(n.oldtranslateY,n.translateY),r={translateX:q[0],translateY:q[1],scaleX:0.001,scaleY:0.001},n.attr(r),m&&(m.attrSetters=n.attrSetters,m.attr(r))):(r={translateX:n.oldtranslateX,translateY:n.oldtranslateY,scaleX:1,scaleY:1},n.animate(r,p),m&&m.animate(r,p)))}else{o.apply(this,[].slice.call(arguments,1))}})});c(b,"Series/Scatter3DSeries.js",[b["Core/Globals.js"],b["Extensions/Math3D.js"],b["Core/Series/Point.js"],b["Core/Utilities.js"]],function(h,g,i,j){var e=g.pointCameraDistance;g=j.seriesType;var f=h.seriesTypes;g("scatter3d","scatter",{tooltip:{pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>z: <b>{point.z}</b><br/>"}},{pointAttribs:function(k){var l=f.scatter.prototype.pointAttribs.apply(this,arguments);this.chart.is3d()&&k&&(l.zIndex=e(k,this.chart));return l},axisTypes:["xAxis","yAxis","zAxis"],pointArrayMap:["x","y","z"],parallelArrays:["x","y","z"],directTouch:!0},{applyOptions:function(){i.prototype.applyOptions.apply(this,arguments);"undefined"===typeof this.z&&(this.z=0);return this}});""});c(b,"Core/Axis/VMLAxis3D.js",[b["Core/Utilities.js"]],function(e){var d=e.addEvent,f=function(){return function(g){this.axis=g}}();return function(){function g(){}g.compose=function(a){a.keepProps.push("vml");d(a,"init",g.onInit);d(a,"render",g.onRender)};g.onInit=function(){this.vml||(this.vml=new f(this))};g.onRender=function(){var h=this.vml;h.sideFrame&&(h.sideFrame.css({zIndex:0}),h.sideFrame.front.attr({fill:h.sideFrame.color}));h.bottomFrame&&(h.bottomFrame.css({zIndex:1}),h.bottomFrame.front.attr({fill:h.bottomFrame.color}));h.backFrame&&(h.backFrame.css({zIndex:0}),h.backFrame.front.attr({fill:h.backFrame.color}))};return g}()});c(b,"Core/Renderer/VML/VMLRenderer3D.js",[b["Core/Axis/Axis.js"],b["Core/Globals.js"],b["Core/Renderer/SVG/SVGRenderer.js"],b["Core/Utilities.js"],b["Core/Axis/VMLAxis3D.js"]],function(h,g,i,j,e){j=j.setOptions;var f=g.VMLRenderer;f&&(j({animate:!1}),f.prototype.face3d=i.prototype.face3d,f.prototype.polyhedron=i.prototype.polyhedron,f.prototype.elements3d=i.prototype.elements3d,f.prototype.element3d=i.prototype.element3d,f.prototype.cuboid=i.prototype.cuboid,f.prototype.cuboidPath=i.prototype.cuboidPath,f.prototype.toLinePath=i.prototype.toLinePath,f.prototype.toLineSegments=i.prototype.toLineSegments,f.prototype.arc3d=function(d){d=i.prototype.arc3d.call(this,d);d.css({zIndex:d.zIndex});return d},g.VMLRenderer.prototype.arc3dPath=i.prototype.arc3dPath,e.compose(h))});c(b,"masters/highcharts-3d.src.js",[],function(){})});