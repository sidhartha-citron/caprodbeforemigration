function refreshRelatedLists(){setTimeout(function(){refreshRelatedListsfun();refreshCISlider()},200)}function refreshCISlider(){var a=window.parent.document.getElementById("relatedCISmartViewSidebarFrameId");if(a){a.contentWindow.refreshAll()}}function createAndLinkRecords(a){var b=a;createAndLinkfun(b)}var loadChangeDetailsForCollisionDetection=false;function loadChangeDetailsForCollision(){loadChangeDetailsForCollisionDetection=true}function getElementsByClassName(g,h){var b=[];var f=new RegExp("(^| )"+h+"( |$)");var e=g.getElementsByTagName("*");for(var d=0,c=e.length;d<c;d++){if(f.test(e[d].className)){b.push(e[d])}}return b}function hidedetails(){var a=getElementsByClassName(document.body,"bPageBlock brandSecondaryBrd bDetailBlock secondaryPalette");for(var c=0;c<a.length;c++){consoleDetailElements=getElementsByClassName(a[c],"pbBody");consoleDetailElements[0].style.display="none";consoleDetailElements=getElementsByClassName(a[c],"pbHeader");consoleDetailElements[0].style.display="none"}consoleDetailElements=getElementsByClassName(document.body,"content");if(consoleDetailElements.length>0){consoleDetailElements[0].style.display="none"}consoleDetailElements=getElementsByClassName(document.body,"listHoverLinks");if(consoleDetailElements.length>0){consoleDetailElements[0].style.display="none"}var b=getElementsByClassName(document.body,"fewerMore");if(b[0]!=null&&typeof(b[0])!="undefined"&&b[0]!="undefined"&&b.length>0){b[0].style.display="none"}}function get_CONFIRMATIONTOKEN(a){var c=new RegExp("[\\?&]_CONFIRMATIONTOKEN=([^&#]*)"),b=c.exec(a);return b===null?"":decodeURIComponent(b[1].replace(/\+/g," "))}function overrideapprovallinks(){var m=document.getElementsByName("piSubmit");if(typeof m[0]!=="undefined"){var a=m[0].parentNode;while(a.nodeName!="DIV"&&!a.classList.contains("pbHeader")){a=a.parentNode}var b=a.querySelector("form");if(b){b.removeAttribute("onsubmit");b.onsubmit=function(){return false}}var e=m[0].onclick;if(e!=null&&e!="undefined"&&String(e).indexOf("navigateToUrl(")!=-1){var l=String(e).split("navigateToUrl(");if(l&&l[1]){var k=l[1].split(",");_CONFIRMATIONTOKEN=get_CONFIRMATIONTOKEN(k[0])}}m[0].onclick=function(){(SubmitforApproval())}}var j=document.getElementsByName("piRemove");if(typeof j[0]!=="undefined"){var i=j[0].onclick;if(String(i).indexOf("ApprovalWindow")==-1){var d=String(i).split(",");var f=d[0].split("(");var g=f[2].replace(/'/g,"");var c=g.split("&");var h=encodeURIComponent(c[0]);j[0].onclick=function(){(window.open("/apex/ApprovalWindow?srcurl="+h,null,"scrollbars=1,width=900,height=500,resizable = 0,scrollbars=no,status=1,top=200,left=300"))}}}setRelatedListBodyWidth();setTimeout(function(){overrideapprovallinks()},2000)}function srcUp(a){var f=900;var c=500;var d=parseInt((screen.availWidth/2)-(f/2));var j=parseInt((screen.availHeight/2)-(c/2));if(String(a).indexOf("retURL")==-1&&String(a).indexOf("ProcessInstance")==-1){a=a.replace("isdtp=vw","");if(isLightningExperience&&strKeyPrefixAndObjNames&&0!=strKeyPrefixAndObjNames.length){var b=a.split("?");var g=b[0].split("/");g=g[g.length-1];if(b[1]&&-1!==b[1].indexOf("isContentNote")){g+="isContentNote"}if(0!=g.length&&0!=recordId.length&&"undefined"!=typeof(strKeyPrefixAndObjNames[g])){a="/one/one.app#/sObject/"+recordId+"/rlName/"+strKeyPrefixAndObjNames[g]+"/view"}}window.open(a)}else{var h=a.split("retURL")[0];if(String(h).indexOf("ProcessInstanceWorkitemWizardStageManager?")!=-1){var e=window.open("/apex/ApprovalWindow?srcurl="+h,null,"scrollbars=1,status = 1,height ="+c+", width ="+f+",left="+d+",top="+j+", resizable = 0");var i=setInterval(function(){if(e.closed){clearInterval(i);refreshRelatedLists();window.parent.checkApprovalstatus(true)}},1000)}else{window.open("/apex/ApprovalWindow?srcurl="+h,null,"scrollbars=1,status = 1,height ="+c+", width ="+f+",left="+d+",top="+j+", resizable = 0")}}}function srcSelf(a){if(a.indexOf("deleteredirect")>-1&&typeof(window.parent.recordState)!=undefined&&typeof(window.parent.recordState)!="undefined"&&window.parent.recordState=="false"){alert(RecordClosed);return}if(a.indexOf("deleteredirect")>-1&&(a.indexOf("delID=00P")>-1||a.indexOf("delID=06A")>-1)){var b=a.split("delID=")[1].substring(0,15);if(window.parent.waitMsgBar){window.parent.waitMsgBar.show()}Visualforce.remoting.Manager.invokeAction(_RemotingActions.deleteAttachment,b,function(c,d){if(d.status){if(typeof(c)!="undefined"){if(c=="success"){refreshRelatedLists()}else{alert(c)}}}if(window.parent.waitMsgBar){window.parent.waitMsgBar.hide()}});return}a=a.replace("&isdtp=vw","");window.open(a,"_self")}if(parent.location!=window.location){document.onkeydown=function(d){if(typeof(d)=="undefined"){d=window.event}var b,a,c;var f=window.parent.isRFConsoleDetailForm;c=0;if(f=="true"){b=window.parent.parent;c=window.parent.parent.count}a=window.parent;if(!window.parent.parent.isRFHotkeysDisabled){window.parent.handleShortcuts(d,b,a,c,f,"newId")}}}function overridelinks(){var e=getElementsByClassName(document.body,"actorentitylink");for(var c=0;c<e.length;c++){if(e[c].href.indexOf("javascript")==-1&&e[c].href.indexOf("#")==-1){var b=e[c].href;e[c].onclick=function(){(window.open(b))};e[c].href="#"}}e=getElementsByClassName(document.body,"chatter-hover-highlight");for(var c=0;c<e.length;c++){if(e[c].href.indexOf("javascript")==-1&&e[c].href.indexOf("#")==-1){var b=e[c].href;e[c].onclick=function(){(window.open(b))};e[c].href="#"}}var d=document.getElementsByClassName("profileSection");if(d&&d.length>0){var a=d[0].getElementsByTagName("A");for(var c=0;c<a.length;c++){if(a[c].href.indexOf("javascript")==-1&&a[c].href.indexOf("#")==-1){var b=a[c].href;a[c].onclick=function(){(window.open(b))};a[c].href="#"}}}setTimeout(function(){overridelinks()},1000)}function setRelatedListBodyWidth(){if(window.parent&&window.parent.screen&&window.parent.screen.availWidth){var b=0;var c=document.getElementsByClassName("bRelatedList");if(c){for(var a=0;a<c.length;a++){if(b<c[a].scrollWidth){b=c[a].scrollWidth}}if(b<window.parent.screen.availWidth){document.body.style.width="100%"}else{document.body.style.width=b+"px"}}}};