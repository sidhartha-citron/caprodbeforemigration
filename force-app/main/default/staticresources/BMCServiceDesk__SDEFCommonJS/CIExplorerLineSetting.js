var specialCharPi="П";var specialCharFi="ф";window.onload=drawupdatedLine();drawLine();function drawLine(){var c=document.getElementById("drawLine");var a=document.getElementById("colorBtn").value;a=String(a);if(a==null||a==""){a=lineColor}if(a.length>6){a=a.substring(2,a.length)}a=String("#"+a);var b=c.getContext("2d");b.clearRect(0,0,c.width,c.height);b.beginPath();if(relationType=="Undirected"&&lineStyle=="Solid"){b.lineWidth=thickness;b.strokeStyle=a;b.moveTo(0,15);b.lineTo(225,15);if(b.setLineDash){b.lineDashOffset=0;b.setLineDash([0,0])}b.stroke()}else{if(relationType=="Undirected"&&lineStyle=="Dotted"){b.lineWidth=thickness;b.strokeStyle=a;b.moveTo(0,15);b.lineTo(225,15);if(b.setLineDash){b.lineDashOffset=thickness;b.setLineDash([thickness,thickness])}b.stroke()}else{if(relationType=="RightToLeft"&&lineStyle=="Dotted"){b.strokeStyle=a;b.lineWidth=thickness;b.moveTo(10,15);b.lineTo(225,15);if(b.setLineDash){b.lineDashOffset=thickness;b.setLineDash([thickness,thickness])}b.stroke();b.lineWidth=1;b.moveTo(0,15);b.lineTo(10,10);b.lineTo(10,20);b.fillStyle=a;b.fill();b.stroke()}else{if(relationType=="RightToLeft"&&lineStyle=="Solid"){b.strokeStyle=a;b.lineWidth=thickness;b.moveTo(10,15);b.lineTo(225,15);if(b.setLineDash){b.lineDashOffset=0;b.setLineDash([0,0])}b.stroke();b.lineWidth=1;b.moveTo(0,15);b.lineTo(10,10);b.lineTo(10,20);b.fillStyle=a;b.fill();b.stroke()}else{if(relationType=="LeftToRight"&&lineStyle=="Solid"){b.strokeStyle=a;b.lineWidth=thickness;b.moveTo(0,15);b.lineTo(215,15);if(b.setLineDash){b.lineDashOffset=0;b.setLineDash([0,0])}b.stroke();b.lineWidth=1;b.moveTo(225,15);b.lineTo(215,10);b.lineTo(215,20);b.fillStyle=a;b.fill();b.stroke()}else{if(relationType=="LeftToRight"&&lineStyle=="Dotted"){b.strokeStyle=a;b.lineWidth=thickness;b.moveTo(0,15);b.lineTo(215,15);if(b.setLineDash){b.lineDashOffset=thickness;b.setLineDash([thickness,thickness])}b.stroke();b.lineWidth=1;b.moveTo(225,15);b.lineTo(215,10);b.lineTo(215,20);b.fillStyle=a;b.fill();b.stroke()}}}}}}}Ext.onReady(function(){document.getElementById("colorBtn").style.backgroundColor=String("#"+lineColor);document.getElementById("colorBtn").value=String(lineColor);document.getElementById("colorTxt").value=String(lineColor);document.getElementById("colorBtn").disabled=false;var e=Ext.create("Ext.data.Store",{fields:["name"],data:lineThicknessCombodata});var d=new Ext.form.ComboBox({id:"lineThicknesscmb",fieldLabel:"",store:e,displayField:"name",typeAhead:false,mode:"local",editable:false,triggerCls:"d-icon-triangle_down",height:16,width:212,valueField:"name",renderTo:"lineThickness",value:lineThickness});d.on("change",function(g,k,h,j){thickness=k;drawLine()});var c=Ext.create("Ext.data.Store",{fields:["name","value"],data:lineDirectionCombodata});var b=new Ext.form.ComboBox({id:"lineDirectioncmb",fieldLabel:"",store:c,displayField:"name",typeAhead:false,mode:"local",editable:false,triggerCls:"d-icon-triangle_down",height:16,width:212,valueField:"value",renderTo:"lineDirection",value:lineDirection});b.on("change",function(g,k,h,j){relationType=k;drawLine()});var f=Ext.create("Ext.data.Store",{fields:["name","value"],data:lineStyleComboData});var a=new Ext.form.ComboBox({id:"lineStylecmb",fieldLabel:"",store:f,displayField:"name",typeAhead:false,mode:"local",editable:false,height:16,triggerCls:"d-icon-triangle_down",width:212,valueField:"value",renderTo:"lineStyle",value:lineStyle});a.on("change",function(g,k,h,j){lineStyle=k;drawLine()})});function showMessage(a){Ext.MessageBox.show({id:"commonmsgbox",width:250,msg:a,buttons:Ext.MessageBox.OK});waitMsg.hide()}function populateColorCodes(){var a=document.getElementById("colorBtn").value;document.getElementById("colorBtn").style.backgroundColor=String("#"+a);document.getElementById("colorTxt").value=String(a);drawLine()}function callOk(){var c=window.parent.window.document.getElementById(linetype);var a=document.getElementById("colorTxt").value;if(a!=""&&a!=null){a=String("#"+a)}else{a=lineColor}var b=c.getContext("2d");b.clearRect(0,0,c.width,c.height);b.beginPath();if(relationType=="Undirected"&&lineStyle=="Solid"){b.lineWidth=thickness;b.strokeStyle=a;b.moveTo(0,15);b.lineTo(140,15);if(b.setLineDash){b.lineDashOffset=0;b.setLineDash([0,0])}b.stroke()}else{if(relationType=="Undirected"&&lineStyle=="Dotted"){b.lineWidth=thickness;b.strokeStyle=a;b.moveTo(0,15);b.lineTo(140,15);if(b.setLineDash){b.lineDashOffset=thickness;b.setLineDash([thickness,thickness])}b.stroke()}else{if(relationType=="RightToLeft"&&lineStyle=="Dotted"){b.strokeStyle=a;b.lineWidth=thickness;b.moveTo(10,15);b.lineTo(140,15);if(b.setLineDash){b.lineDashOffset=thickness;b.setLineDash([thickness,thickness])}b.stroke();b.lineWidth=1;b.moveTo(0,15);b.lineTo(10,10);b.lineTo(10,20);b.fillStyle=a;b.fill();b.stroke()}else{if(relationType=="RightToLeft"&&lineStyle=="Solid"){b.strokeStyle=a;b.lineWidth=thickness;b.moveTo(10,15);b.lineTo(140,15);if(b.setLineDash){b.lineDashOffset=0;b.setLineDash([0,0])}b.stroke();b.lineWidth=1;b.moveTo(0,15);b.lineTo(10,10);b.lineTo(10,20);b.fillStyle=a;b.fill();b.stroke()}else{if(relationType=="LeftToRight"&&lineStyle=="Solid"){b.strokeStyle=a;b.lineWidth=thickness;b.moveTo(0,15);b.lineTo(130,15);if(b.setLineDash){b.lineDashOffset=0;b.setLineDash([0,0])}b.stroke();b.lineWidth=1;b.moveTo(140,15);b.lineTo(130,10);b.lineTo(130,20);b.fillStyle=a;b.fill();b.stroke()}else{if(relationType=="LeftToRight"&&lineStyle=="Dotted"){b.strokeStyle=a;b.lineWidth=thickness;b.moveTo(0,15);b.lineTo(130,15);if(b.setLineDash){b.lineDashOffset=thickness;b.setLineDash([thickness,thickness])}b.stroke();b.lineWidth=1;b.moveTo(140,15);b.lineTo(130,10);b.lineTo(130,20);b.fillStyle=a;b.fill();b.stroke()}}}}}}a=a.replace("#","");window.parent.updatedLineSetting=window.parent.updatedLineSetting+specialCharPi+relationType+specialCharFi+thickness+specialCharFi+a+specialCharFi+lineStyle+specialCharFi+linetype;window.parent.popUpWindow.close()}function callCancel(){window.parent.popUpWindow.close()}function changeColor(){var a=document.getElementById("colorTxt").value;document.getElementById("colorBtn").style.backgroundColor="#"+a;document.getElementById("colorBtn").value=a;var b=/(^[0-9A-F]{6}$)|(^[0-9A-F]{3}$)/i.test(a);if(!b){showMessage(themeInvalidColorCodeMessage)}drawLine()}function drawupdatedLine(){var d=window.parent.updatedLineSetting;if(d!=null&&typeof(d)!="undefined"&&d.length>10){var c=d.split("П");for(i=0;i<c.length;i++){var a=c[i];if(a!=null&&a!=""){var b=a.split("ф");if(b.length>4&&linetype==b[4]){relationType=b[0];thickness=b[1];lineColor=b[2];lineStyle=b[3];linetype=b[4]}}}}};