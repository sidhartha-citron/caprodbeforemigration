var selectedRowIndex;var selectedAgentRowIndex;Ext.onReady(function(){Ext.QuickTips.init();Ext.MessageBox.buttonText.ok=okLbl;Ext.MessageBox.buttonText.yes=yesLbl;Ext.MessageBox.buttonText.no=noLbl;Ext.Loader.setConfig({enabled:true,paths:{"Ext.ux":"ext/js/ux"}});Ext.define("rightPanelModel",{extend:"Ext.data.Model",fields:[{name:"id",type:"string"},{name:"name",type:"string"}]});Ext.require(["Ext.data.*","Ext.grid.*"]);ActionMenuItems=Ext.create("Ext.data.Store",{model:"rightPanelModel",data:actionsMenuData});AgentToolsMenuItems=Ext.create("Ext.data.Store",{model:"rightPanelModel",data:agentToolsMenuData});actionMenuGrid=Ext.create("Ext.grid.Panel",{id:"actionMenuId",renderTo:"actionMenuId",stripeRows:true,border:false,forceFit:true,store:ActionMenuItems,height:380,width:250,hideHeaders:true,autoScroll:true,cls:"gridPanelCls",columns:[{cls:"columnCls",id:"Actions",width:330,text:"",menuDisabled:false,dataIndex:"name"}],tbar:[{xtype:"tbspacer",width:5},{xtype:"button",id:"actionMenuInsertBtnID",text:InsertSeparator,cls:"rf-btn",handler:insertActionSeparator},{xtype:"tbspacer",width:10},{xtype:"button",id:"actionMenuRemoveBtnID",text:RemoveSeparator,cls:"rf-btn",handler:removeActionSeparator}],listeners:{itemclick:function(c,b,g,d,h,f){selectedRowIndex=d;checkEnableActionInsert(selectedRowIndex)}},sortableColumns:false});agentToolsMenuGrid=Ext.create("Ext.grid.Panel",{id:"agentToolsMenuId",renderTo:"agentToolsMenuId",stripeRows:true,border:false,forceFit:true,store:AgentToolsMenuItems,height:380,width:250,hideHeaders:true,autoScroll:true,cls:"gridPanelCls",columns:[{cls:"",id:"Agents",width:330,text:"",menuDisabled:false,dataIndex:"name"}],tbar:[{xtype:"tbspacer",width:5},{xtype:"button",id:"agentMenuInsertBtnID",text:InsertSeparator,cls:"rf-btn",handler:insertAgentSeparator},{xtype:"tbspacer",width:10},{xtype:"button",id:"agentMenuRemoveBtnID",text:RemoveSeparator,cls:"rf-btn",handler:removeAgentSeparator}],listeners:{itemclick:function(c,b,g,d,h,f){selectedAgentRowIndex=d;checkEnableAgentInsert(selectedAgentRowIndex)}},sortableColumns:false});Ext.create("Ext.toolbar.Toolbar",{border:false,height:40,margins:"0 0 0 0",autoWidth:true,renderTo:"divTB",cls:"configureTrCls",items:[{scale:"medium",iconCls:"saveIcon",tooltipType:"title",tooltip:saveLbl,id:"saveBtn",handler:saveBtnHandler}]});menuStore=new Ext.data.ArrayStore({id:"ConsolemenuStore",fields:[{name:"value"},{name:"text"}],data:StandAloneMenuStore});customActionStore=Ext.create("Ext.data.Store",{id:"rightPanelTabStore",model:"rightPanelModel",data:customActionJsonString});consoleMenuCombo=Ext.create("Ext.form.ComboBox",{store:menuStore,displayField:"text",valueField:"value",value:"action",width:192,editable:false,renderTo:"menuPickList",id:"dropDownMenu",listeners:{select:function(){if(isChangeFlag==true){var b=Ext.Msg.show({title:ConfirmAction,buttons:Ext.Msg.YESNO,msg:warningMsg,icon:Ext.MessageBox.WARNING,buttonText:{yes:yesLbl,no:noLbl},fn:function(c){if(c=="yes"){a();isChangeFlag=false}else{consoleMenuCombo.setValue(currentSelectedMenu)}}});b.defaultButton=2;b.focus()}else{a()}}}});function a(){showWaitbox();setMenu(consoleMenuCombo.getValue());currentSelectedMenu=consoleMenuCombo.getValue();reloadCustomActionMenu(currentSelectedObject,currentSelectedMenu);btnState=""}customActionGrid=Ext.create("Ext.grid.Panel",{id:"plist",renderTo:"left-tab-action",stripeRows:false,border:false,rowLines:false,hideHeaders:true,store:customActionStore,height:554,width:280,cls:"gridPanelCls",forceFit:true,columns:[{id:"name",dataIndex:"name"}],sortableColumns:false,listeners:{viewready:function(d){var b=d.view;d.mon(b,{uievent:function(j,g,f,h,i,k){d.cellIndex=i;d.recordIndex=h}});d.tip=Ext.create("Ext.tip.ToolTip",{target:b.el,delegate:".x-grid-cell",trackMouse:true,renderTo:Ext.getBody(),listeners:{beforeshow:function c(e){if(!Ext.isEmpty(d.cellIndex)&&d.cellIndex!==-1){header=d.headerCt.getGridColumns()[d.cellIndex];e.update(d.getStore().getAt(d.recordIndex).get(header.dataIndex))}}}})}}});customActionGrid.on("cellclick",function(c,b,g,i,e,d,f){if(c.getGridColumns()[g].dataIndex=="name"){if(isChangeFlag==true){var h=Ext.Msg.show({title:ConfirmAction,buttons:Ext.Msg.YESNO,msg:warningMsg,icon:Ext.MessageBox.WARNING,buttonText:{yes:yesLbl,no:noLbl},fn:function(j){if(j=="yes"){onCustomActionSelect(i.data.id,i.data.name);isChangeFlag=false}else{selectGridItem();return}}});h.defaultButton=2;h.focus()}else{onCustomActionSelect(i.data.id,i.data.name)}}});showTable();setData();fetchModuleFieldStore();moduleFieldCombo=new Ext.form.ComboBox({id:"moduleFieldCombo",store:moduleFieldStore,width:182,height:10,emptyText:SelectField,displayField:"lable",renderTo:"moduleFldsCombo",valueField:"apiName",mode:"local",editable:false,triggerAction:"all",selectOnFocus:true,tooltip:ModuleType,cls:"fontCls"});moduleFieldCombo.on("select",function(e,b,d){var c=moduleFieldCombo.getValue();var b=moduleFieldCombo.findRecord(moduleFieldCombo.valueField||moduleFieldCombo.displayField,c);var d=moduleFieldCombo.store.indexOf(b);comboFldIndex=d;isChangeFlag=true});initData();getWaitbox();generatePreviewUrl();disableButtonOnLoad();Ext.define("Ext.override.dom.Element",{override:"Ext.dom.Element",focus:function(i,h){var d=this,g,b;h=h||d.dom;b=(h.ownerDocument||DOC).body||DOC.body;try{if(Number(i)){Ext.defer(d.focus,i,d,[null,h])}else{if(h.offsetHeight>Ext.dom.Element.getViewHeight()){g=b.scrollTop}var c=h.id;if(c.indexOf("gridview")==-1){h.focus()}if(g!==undefined){b.scrollTop=g}}}catch(f){}return d}})});var actionMenuGrid;var agentToolsMenuGrid;function ShowHideMenuActionsDiv(){isMenuOrganizationSelected=true;if(document.getElementById("MenuOrgId").style.visibility=="hidden"){document.getElementById("MenuOrgId").style.visibility="visible";document.getElementById("trCustomactionId").style.visibility="hidden";document.getElementById("MenuOrgId").style.display="";document.getElementById("trCustomactionId").style.display="none";document.getElementById("menuOrgLabel").style.fontWeight="bold";document.getElementById("customActionLabel").style.fontWeight="normal"}}function ShowHideCustomActionsDiv(){isMenuOrganizationSelected=false;if(document.getElementById("trCustomactionId").style.visibility=="hidden"){document.getElementById("trCustomactionId").style.visibility="visible";document.getElementById("MenuOrgId").style.visibility="hidden";document.getElementById("trCustomactionId").style.display="";document.getElementById("MenuOrgId").style.display="none";document.getElementById("menuOrgLabel").style.fontWeight="normal";document.getElementById("customActionLabel").style.fontWeight="bold"}}function saveBtnHandler(){callSave();return false}function getWaitbox(){var a=new Ext.LoadMask(Ext.getBody(),{msg:PleaseWait,id:"waitMsggId"})}function showWaitbox(){if(Ext.getCmp("waitMsggId")!=null){Ext.getCmp("waitMsggId").show()}}function hideWaitbox(){if(Ext.getCmp("waitMsggId")!=null){Ext.getCmp("waitMsggId").hide()}}function initData(){setMenu(currentSelectedMenu)}function bindCustomAction(){showWaitbox();getActionForSelectedAction(currentSelectedObject,currentSelectedMenu,selectedCustomActionId,"");btnState="";return false}function chkButtons(){if(((btnState=="new")||(btnState=="copy"))&&(selectedCustomActionId=="")){document.getElementById("btnNew").disabled=false;document.getElementById("btnCopy").disabled=true;document.getElementById("btnDelete").disabled=true}else{if(selectedCustomActionId==""){document.getElementById("btnNew").disabled=false;document.getElementById("btnCopy").disabled=true;document.getElementById("btnDelete").disabled=true}else{document.getElementById("btnNew").disabled=false;document.getElementById("btnCopy").disabled=false;document.getElementById("btnDelete").disabled=false}}}function callNew(){if(isChangeFlag==true){var a=Ext.Msg.show({title:ConfirmAction,buttons:Ext.Msg.YESNO,msg:warningMsg,icon:Ext.MessageBox.WARNING,fn:function(b){if(b=="yes"){reloadData();isChangeFlag=false}}});a.defaultButton=2;a.focus()}else{reloadData()}return false}function reloadData(){showWaitbox();customActionGrid.getSelectionModel().deselectAll();setLabelData(newLbl);btnState="new";newAction(currentSelectedObject,currentSelectedMenu,"","")}function callCopy(){showWaitbox();customActionGrid.getSelectionModel().deselectAll();setLabelData(copyLbl+" "+ofLbl+" "+selectedCustomActionName);if(selectedCustomActionId!=""){getActionForCopy(currentSelectedObject,currentSelectedMenu,"",selectedCustomActionId);btnState="copy"}return false}function callDelete(){window.parent.ConsoleTabChangeFlag=true;window.parent.ConsoleTabLocalChangeFlag=true;showWaitbox();deleteAction();return false}function completeDelete(){setLabelData(newLbl);selectedCustomActionId=""}function urlencode(a){return encodeURIComponent(a).replace(/!/g,"%21").replace(/'/g,"%27").replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/\*/g,"%2A").replace(/%20/g,"+")}function urldecode(a){return decodeURIComponent((a+"").replace(/\+/g,"%20"))}function createPramList(){var b=Ext.getCmp("grid").store;var c=b.data.length;var e=0;var a="";while(c>e){var f=b.getAt(e);var d="";if(f.get("isDynamic")=="true"){d=urlencode(f.get("field"))+"=<"+urlencode(f.get("apiName"))+">"}else{d=urlencode(f.get("field"))+"="+urlencode(f.get("constValue"))}if(e==0){a=a+d}else{a=a+"&"+d}e++}return a}function callSave(){window.parent.ConsoleTabChangeFlag=true;window.parent.ConsoleTabLocalChangeFlag=true;if(isMenuOrganizationSelected){var c;var b="";for(c=0;c<ActionMenuItems.data.length;c++){b+=ActionMenuItems.getAt(c).get("id")+","}for(c=0;c<AgentToolsMenuItems.data.length;c++){if(c<(AgentToolsMenuItems.data.length)-1){b+=AgentToolsMenuItems.getAt(c).get("id")+","}else{if(c==(AgentToolsMenuItems.data.length)-1){b+=AgentToolsMenuItems.getAt(c).get("id")}}}showWaitbox();SaveReorderAction(b)}else{var a=createPramList();showWaitbox();saveAction(a);isChangeFlag=false}}function completeSave(){selectGridItem();btnState=""}function selectGridItem(){if(selectedCustomActionId!=""){var a=customActionGrid.store.findExact("id",selectedCustomActionId);customActionGrid.getSelectionModel().select(a);setLabelData(selectedCustomActionName)}}function setMenu(a){customActionGrid.getSelectionModel().deselectAll();menuSelected=a;setLabelData(newLbl)}function setLabelData(a){if(menuSelected.toLowerCase()=="action"){RemedyForceHTMLProcessor.setText(document.getElementById("viewMenuLstLabel"),customLbl+" "+actionslbl);RemedyForceHTMLProcessor.setText(document.getElementById("viewMenuLabel"),customLbl+" "+ActionLbl+": "+RemedyForceHTMLProcessor.htmlDecoder(a))}else{if(menuSelected.toLowerCase()=="agent"){RemedyForceHTMLProcessor.setText(document.getElementById("viewMenuLstLabel"),customLbl+" "+AgentToolsLbl);RemedyForceHTMLProcessor.setText(document.getElementById("viewMenuLabel"),customLbl+" "+AgentToolLbl+": "+RemedyForceHTMLProcessor.htmlDecoder(a))}}}function onCustomActionSelect(b,a){selectedCustomActionId=b;selectedCustomActionName=a;setLabelData(selectedCustomActionName);bindCustomAction()}function showMessage(a){Ext.MessageBox.show({id:"commonmsgbox",title:menuLbl,minWidth:300,msg:a,buttons:Ext.MessageBox.OK})}function enableValidation(){if(typeof(document.getElementById("txtBoxRd"))!=null&&document.getElementById("txtBoxRd").checked==true){document.getElementById("paramConstVal").disabled=false;Ext.getCmp("moduleFieldCombo").setValue("");Ext.getCmp("moduleFieldCombo").disable();defaultConstVal()}else{Ext.getCmp("moduleFieldCombo").enable();document.getElementById("paramConstVal").disabled=true;defaultConstVal();isEnterConst=1}}function isParamUnique(a,d){var b=a.data.length;var c=0;while(b>c){var e=a.getAt(c);if(e.get("field")==d){return false}c++}return true}function addParameter(){var a=Ext.getCmp("grid").store;var b=a.data.length;var c=document.getElementById("paramName").value;if(isfocus==0||(isEnterConst==0&&document.getElementById("txtBoxRd").checked==true)){if(isfocus==0){Ext.Msg.alert("",parameterNameEmpty);defaultPrameterName()}else{Ext.Msg.alert("",EmptyConstantValue);defaultConstVal()}}else{if(c!=null&&c.trim()!=""&&isParamUnique(a,c)){addRecordToDataGrid(b);generatePreviewUrl();isChangeFlag=true}else{if(c.trim()==""){Ext.Msg.alert("",parameterNameEmpty)}else{Ext.Msg.alert("",parameterNameUnique)}}enableRdTxtPanel();isException=false}}function updateParameter(){var a=Ext.getCmp("grid").store;var b=a.data.length;var c=document.getElementById("paramName").value;if(isEnterConst==0){Ext.Msg.alert("",EmptyConstantValue);defaultConstVal();isException=true}else{if(pNameForUpdate!=c){if(c!=null&&c.trim()!=""&&isParamUnique(a,c)){addRecordToDataGrid(selectedRow);generatePreviewUrl();isChangeFlag=true}else{if(c.trim()==""){Ext.Msg.alert("",parameterNameEmpty);isException=true}else{Ext.Msg.alert("",parameterNameUnique);isException=true}}}else{if(c==""){Ext.Msg.alert("",parameterNameEmpty);isException=true}else{addRecordToDataGrid(selectedRow);generatePreviewUrl();isChangeFlag=true}}}enableRdTxtPanel();if(!isException){document.getElementById("okButtonId").style.display="inline";document.getElementById("updateButtonId").style.display="none";document.getElementById("removeButtonId").disabled=true}else{isException=false}}function addRecordToDataGrid(g){var a=Ext.getCmp("grid").store;var b=a.data.length;var c=Ext.getCmp("moduleFieldCombo").store;var e=document.getElementById("paramName").value;var f;if(b==g){selectedRow=b;listDataGrid[b]=new Array(4)}if(typeof(document.getElementById("comboRd"))!=null&&document.getElementById("comboRd").checked==true){if(Ext.getCmp("moduleFieldCombo").getValue()!=""&&Ext.getCmp("moduleFieldCombo").getValue()!=null){if(typeof(comboFldIndex)!="undefined"&&comboFldIndex!=-1){f=c.getAt(comboFldIndex);listDataGrid[selectedRow][0]=e;listDataGrid[selectedRow][1]=f.get("lable");listDataGrid[selectedRow][2]=f.get("apiName");listDataGrid[selectedRow][3]="true";setData()}else{listDataGrid[selectedRow][0]=e;setData()}}else{Ext.Msg.alert("",EmptyModuleFieldValue);isException=true}}else{var d=document.getElementById("paramConstVal").value;if(d!=null&&d.trim()!=""){f=c.getAt(comboFldIndex);listDataGrid[selectedRow][0]=e;listDataGrid[selectedRow][1]=d;listDataGrid[selectedRow][2]="";listDataGrid[selectedRow][3]="false";setData()}else{Ext.Msg.alert("",EmptyConstantValue);isException=true}}selectedRow=0}function removeParameter(){listDataGrid.splice(selectedRow,1);setData();document.getElementById("okButtonId").style.display="inline";document.getElementById("updateButtonId").style.display="none";document.getElementById("removeButtonId").disabled=true;enableRdTxtPanel();generatePreviewUrl();isChangeFlag=true}function enableRdTxtPanel(){if(!isException){defaultPrameterName()}if(document.getElementById("comboRd").checked==true){Ext.getCmp("moduleFieldCombo").enable();moduleFieldCombo.setValue("");defaultConstVal();isEnterConst=1;document.getElementById("paramConstVal").disabled=true}else{document.getElementById("paramConstVal").disabled=false;defaultConstVal();moduleFieldCombo.setValue("");Ext.getCmp("moduleFieldCombo").disable()}}function onRowClkofParamGrid(a){pNameForUpdate=a.get("field");document.getElementById("paramName").style.color="#000000";document.getElementById("paramName").value=a.get("field");document.getElementById("okButtonId").style.display="none";document.getElementById("updateButtonId").style.display="inline";document.getElementById("updateButtonId").disabled=false;document.getElementById("removeButtonId").disabled=false;if(a.get("isDynamic")=="false"){document.getElementById("paramConstVal").style.color="#000000";document.getElementById("paramConstVal").value=a.get("constValue");document.getElementById("paramConstVal").disabled=false;document.getElementById("txtBoxRd").checked=true;isEnterConst=1;moduleFieldCombo.setValue("");moduleFieldCombo.disable()}else{moduleFieldCombo.enable();document.getElementById("paramConstVal").disabled=true;document.getElementById("comboRd").checked=true;defaultConstVal();isEnterConst=1;moduleFieldCombo.setValue(a.get("constValue"))}}function defaultPrameterName(){document.getElementById("paramName").style.color="#B5B8C8";document.getElementById("paramName").value=parameterName;isfocus=0}function defaultConstVal(){document.getElementById("paramConstVal").style.color="#B5B8C8";document.getElementById("paramConstVal").value=EnterConstant;isEnterConst=0}function scrollActionToTop(){var b=ActionMenuItems.getAt(selectedRowIndex);if(b){ActionMenuItems.remove(b)}ActionMenuItems.insert(0,b);if(ActionMenuItems.data.length>1){for(count=1;count<ActionMenuItems.data.length;count++){var a=parseInt(ActionMenuItems.getAt(count).get("order"));a=a+1;ActionMenuItems.getAt(count).set("order",a.toString())}}selectedRowIndex=0;actionMenuGrid.getSelectionModel().select(selectedRowIndex);checkEnableActionInsert(selectedRowIndex)}function scrollActionUp(){var b;var h=ActionMenuItems.getCount();var f=selectedRowIndex;var c=ActionMenuItems.getAt(f);var e=c.get("id");var a=false;var g;if(!c){return}if(f<=0){return}if(f==1&&(e.indexOf("SP")!=-1)){return}f--;b=parseInt(ActionMenuItems.getAt(f).get("order"));var d=b+1;ActionMenuItems.getAt(f).set("order",d.toString());g=ActionMenuItems.getAt(f);if(f<0){return}c.set("order",b.toString());if(c){ActionMenuItems.remove(c)}ActionMenuItems.insert(f,c);selectedRowIndex--;actionMenuGrid.getSelectionModel().select(selectedRowIndex);checkEnableActionInsert(selectedRowIndex)}function scrollActionDown(){var b;var h=ActionMenuItems.getCount();var f=selectedRowIndex;var c=ActionMenuItems.getAt(f);var e=c.get("id");var a=false;var g;if(!c){return}f++;if(f>=h){return}if((f==h-1)&&(e.indexOf("SP")!=-1)){return}b=parseInt(ActionMenuItems.getAt(f).get("order"));var d=b-1;ActionMenuItems.getAt(f).set("order",d.toString());c.set("order",b.toString());if(c){ActionMenuItems.remove(c)}ActionMenuItems.insert(f,c);selectedRowIndex++;actionMenuGrid.getSelectionModel().select(selectedRowIndex);checkEnableActionInsert(selectedRowIndex)}function scrollActionToBottom(){var b=ActionMenuItems.getAt(selectedRowIndex);if(b){ActionMenuItems.remove(b)}var c=ActionMenuItems.data.length;ActionMenuItems.insert(c,b);if(ActionMenuItems.data.length>1){for(count=ActionMenuItems.data.length-1;count>=0;count--){var a=parseInt(ActionMenuItems.getAt(count).get("order"));a=a-1;ActionMenuItems.getAt(count).set("order",a.toString())}}selectedRowIndex=(ActionMenuItems.data.length-1);actionMenuGrid.getSelectionModel().select(selectedRowIndex);checkEnableActionInsert(selectedRowIndex)}function scrollAgentToTop(){var b=AgentToolsMenuItems.getAt(selectedAgentRowIndex);if(b){AgentToolsMenuItems.remove(b)}AgentToolsMenuItems.insert(0,b);if(AgentToolsMenuItems.data.length>1){for(count=1;count<AgentToolsMenuItems.data.length;count++){var a=parseInt(AgentToolsMenuItems.getAt(count).get("order"));a=a+1;AgentToolsMenuItems.getAt(count).set("order",a.toString())}}selectedAgentRowIndex=0;agentToolsMenuGrid.getSelectionModel().select(selectedAgentRowIndex);checkEnableAgentInsert(selectedAgentRowIndex)}function scrollAgentUp(){var b;var h=AgentToolsMenuItems.getCount();var f=selectedAgentRowIndex;var c=AgentToolsMenuItems.getAt(f);var e=c.get("id");var a=false;var g;if(!c){return}if(f<=0){return}if(f==1&&(e.indexOf("SP")!=-1)){return}f--;b=parseInt(AgentToolsMenuItems.getAt(f).get("order"));var d=b+1;AgentToolsMenuItems.getAt(f).set("order",d.toString());g=AgentToolsMenuItems.getAt(f);if(f<0){return}c.set("order",b.toString());if(c){AgentToolsMenuItems.remove(c)}AgentToolsMenuItems.insert(f,c);selectedAgentRowIndex--;agentToolsMenuGrid.getSelectionModel().select(selectedAgentRowIndex);checkEnableAgentInsert(selectedAgentRowIndex)}function scrollAgentDown(){var b;var h=AgentToolsMenuItems.getCount();var f=selectedAgentRowIndex;var c=AgentToolsMenuItems.getAt(f);var e=c.get("id");var a=false;var g;if(!c){return}f++;if(f>=h){return}if((f==h-1)&&(e.indexOf("SP")!=-1)){return}b=parseInt(AgentToolsMenuItems.getAt(f).get("order"));var d=b-1;AgentToolsMenuItems.getAt(f).set("order",d.toString());c.set("order",b.toString());if(c){AgentToolsMenuItems.remove(c)}AgentToolsMenuItems.insert(f,c);selectedAgentRowIndex++;agentToolsMenuGrid.getSelectionModel().select(selectedAgentRowIndex);checkEnableAgentInsert(selectedAgentRowIndex)}function scrollAgentToBottom(){var b=AgentToolsMenuItems.getAt(selectedAgentRowIndex);if(b){AgentToolsMenuItems.remove(b)}var c=AgentToolsMenuItems.data.length;AgentToolsMenuItems.insert(c,b);if(AgentToolsMenuItems.data.length>1){for(count=AgentToolsMenuItems.data.length-1;count>=0;count--){var a=parseInt(AgentToolsMenuItems.getAt(count).get("order"));a=a-1;AgentToolsMenuItems.getAt(count).set("order",a.toString())}}selectedAgentRowIndex=(AgentToolsMenuItems.data.length-1);agentToolsMenuGrid.getSelectionModel().select(selectedAgentRowIndex);checkEnableAgentInsert(selectedAgentRowIndex)}function insertAgentSeparator(){var b=selectedAgentRowIndex+1;if(b!=1){var c=Ext.create("rightPanelModel",{id:"SP",name:"---"+SeparatorLabel+"----"});AgentToolsMenuItems.insert(selectedAgentRowIndex,c);if(AgentToolsMenuItems.data.length>1){for(count=b;count<AgentToolsMenuItems.data.length;count++){var a=parseInt(AgentToolsMenuItems.getAt(count).get("order"));a=a+1;AgentToolsMenuItems.getAt(count).set("order",a.toString())}}}}function removeAgentSeparator(){if(selectedAgentRowIndex>0){var b=AgentToolsMenuItems.getAt(selectedAgentRowIndex);var c=b.get("id");if(c.indexOf("SP")!=-1){if(b){AgentToolsMenuItems.remove(b)}var d=AgentToolsMenuItems.data.length;if(AgentToolsMenuItems.data.length>1){for(count=AgentToolsMenuItems.data.length-1;count>selectedAgentRowIndex;count--){var a=parseInt(AgentToolsMenuItems.getAt(count).get("order"));a=a-1;AgentToolsMenuItems.getAt(count).set("order",a.toString())}}selectedAgentRowIndex=0}}}function insertActionSeparator(){var b=selectedRowIndex+1;if(b!=1){var c=Ext.create("rightPanelModel",{id:"SP",name:"---"+SeparatorLabel+"----"});ActionMenuItems.insert(selectedRowIndex,c);if(ActionMenuItems.data.length>1){for(count=b;count<ActionMenuItems.data.length;count++){var a=parseInt(ActionMenuItems.getAt(count).get("order"));a=a+1;ActionMenuItems.getAt(count).set("order",a.toString())}}}}function removeActionSeparator(){if(selectedRowIndex>0){var b=ActionMenuItems.getAt(selectedRowIndex);var c=b.get("id");if(c.indexOf("SP")!=-1){if(b){ActionMenuItems.remove(b)}var d=ActionMenuItems.data.length;if(ActionMenuItems.data.length>1){for(count=ActionMenuItems.data.length-1;count>selectedRowIndex;count--){var a=parseInt(ActionMenuItems.getAt(count).get("order"));a=a-1;ActionMenuItems.getAt(count).set("order",a.toString())}}selectedRowIndex=0}}}function disableButtonOnLoad(){Ext.getCmp("actionMenuInsertBtnID").setDisabled(true);Ext.getCmp("actionMenuRemoveBtnID").setDisabled(true);Ext.getCmp("agentMenuInsertBtnID").setDisabled(true);Ext.getCmp("agentMenuRemoveBtnID").setDisabled(true)}function checkEnableActionInsert(a){enableActionSideButtons();var b=ActionMenuItems.getAt(a);var c=b.get("id");if(c.indexOf("SP")==-1){Ext.getCmp("actionMenuInsertBtnID").setDisabled(false);Ext.getCmp("actionMenuRemoveBtnID").setDisabled(true);if(a==ActionMenuItems.data.length-1){document.getElementById("downButtonId").disabled=true;document.getElementById("downButtonId").className="bmcButtonArrowDownDisable";document.getElementById("bottomButtonId").disabled=true;document.getElementById("bottomButtonId").className="bmcButtonArrowMoveBottomDisable"}else{if(a==0){Ext.getCmp("actionMenuInsertBtnID").setDisabled(true);document.getElementById("upButtonId").disabled=true;document.getElementById("upButtonId").className="bmcButtonArrowUpDisable";document.getElementById("topButtonId").disabled=true;document.getElementById("topButtonId").className="bmcButtonArrowMoveTopDisable"}}}else{if(a==0){Ext.getCmp("actionMenuInsertBtnID").setDisabled(true)}Ext.getCmp("actionMenuRemoveBtnID").setDisabled(false);document.getElementById("topButtonId").disabled=true;document.getElementById("topButtonId").className="bmcButtonArrowMoveTopDisable";document.getElementById("bottomButtonId").disabled=true;document.getElementById("bottomButtonId").className="bmcButtonArrowMoveBottomDisable";if(a==1){document.getElementById("upButtonId").disabled=true;document.getElementById("upButtonId").className="bmcButtonArrowUpDisable"}else{if(a==ActionMenuItems.data.length-2){document.getElementById("downButtonId").disabled=true;document.getElementById("downButtonId").className="bmcButtonArrowMoveBottomDisable"}}}}function checkEnableAgentInsert(c){enableAgentSideButtons();var a=AgentToolsMenuItems.getAt(c);var b=a.get("id");if(b.indexOf("SP")==-1){Ext.getCmp("agentMenuInsertBtnID").setDisabled(false);Ext.getCmp("agentMenuRemoveBtnID").setDisabled(true);if(c==AgentToolsMenuItems.data.length-1){document.getElementById("downButtonId1").disabled=true;document.getElementById("downButtonId1").className="bmcButtonArrowDownDisable";document.getElementById("bottomButtonId1").disabled=true;document.getElementById("bottomButtonId1").className="bmcButtonArrowMoveBottomDisable"}else{if(c==0){Ext.getCmp("agentMenuInsertBtnID").setDisabled(true);document.getElementById("upButtonId1").disabled=true;document.getElementById("upButtonId1").className="bmcButtonArrowUpDisable";document.getElementById("topButtonId1").disabled=true;document.getElementById("topButtonId1").className="bmcButtonArrowMoveTopDisable"}}}else{if(c==0){Ext.getCmp("agentMenuInsertBtnID").setDisabled(true)}Ext.getCmp("agentMenuRemoveBtnID").setDisabled(false);document.getElementById("topButtonId1").disabled=true;document.getElementById("topButtonId1").className="bmcButtonArrowMoveTopDisable";document.getElementById("bottomButtonId1").disabled=true;document.getElementById("bottomButtonId1").className="bmcButtonArrowMoveBottomDisable";if(c==1){document.getElementById("upButtonId1").disabled=true;document.getElementById("upButtonId1").className="bmcButtonArrowUpDisable"}else{if(c==AgentToolsMenuItems.data.length-2){document.getElementById("downButtonId1").disabled=true;document.getElementById("downButtonId1").className="bmcButtonArrowMoveBottomDisable"}}}}function EmptyParamTextbox(){if(document.getElementById("paramName").value!=""){document.getElementById("paramName").value=""}if(document.getElementById("paramConstVal").value!=""){document.getElementById("paramConstVal").value=""}document.getElementById("comboRd").checked=true;Ext.getCmp("moduleFieldCombo").setValue("");enableValidation();defaultPrameterName()}function setClickedTrue(){isChangeFlag=true}function CancelUpdate(){EmptyParamTextbox();document.getElementById("okButtonId").style.display="inline";document.getElementById("updateButtonId").style.display="none";document.getElementById("removeButtonId").disabled=true;setData()}function generatePreviewUrl(){var b=0;var c="";var d;while(listDataGrid.length>b){d="";if(listDataGrid[b][3]=="true"){d=listDataGrid[b][0]+"=<"+listDataGrid[b][1]+">"}else{if(listDataGrid[b][3]=="false"){d=listDataGrid[b][0]+"="+listDataGrid[b][1]}}if(c==""){c=c+d}else{c=c+"&"+d}b++}var a=document.getElementById(customizeMenuPage.ComponentVars.URLIdforPreview).value;if(a!=null&&a!=""){if(a.indexOf("?")==-1){document.getElementById("previewText").value=a+"?"+c}else{if(a.lastIndexOf("?")==a.length-1){document.getElementById("previewText").value=a+c}else{document.getElementById("previewText").value=a+"&"+c}}}else{if(c!=""){document.getElementById("previewText").value="?"+c}else{document.getElementById("previewText").value=""}}}function enableAgentSideButtons(){document.getElementById("topButtonId1").disabled=false;document.getElementById("topButtonId1").className="bmcButtonArrowMoveTop";document.getElementById("bottomButtonId1").disabled=false;document.getElementById("bottomButtonId1").className="bmcButtonArrowMoveBottom";document.getElementById("downButtonId1").disabled=false;document.getElementById("downButtonId1").className="bmcButtonArrowDown";document.getElementById("upButtonId1").disabled=false;document.getElementById("upButtonId1").className="bmcButtonArrowUp"}function enableActionSideButtons(){document.getElementById("topButtonId").disabled=false;document.getElementById("topButtonId").className="bmcButtonArrowMoveTop";document.getElementById("bottomButtonId").disabled=false;document.getElementById("bottomButtonId").className="bmcButtonArrowMoveBottom";document.getElementById("downButtonId").disabled=false;document.getElementById("downButtonId").className="bmcButtonArrowDown";document.getElementById("upButtonId").disabled=false;document.getElementById("upButtonId").className="bmcButtonArrowUp"};