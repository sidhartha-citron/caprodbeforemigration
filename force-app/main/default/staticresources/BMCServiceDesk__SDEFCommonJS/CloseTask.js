function callFuncOnBlur(f,d,c,a,b){if(document.getElementById(b).value==""){document.getElementById(a).nextSibling.value="";document.getElementById(a).value="";return}c=c.toLowerCase();if((change)&&(document.getElementById(b).value!="")){change=false;setTaboutValueID(a);if(c=="fkstatus__c"||c==orgNamespace.toLowerCase()+"fkstatus__c"){showalldata(f,setSelected,escape("state__c=false and appliesToTask__c = true and inactive__c = false"))}else{if(c=="fkclosedby__c"||c==orgNamespace.toLowerCase()+"fkclosed_by__c"){showalldata(f,setSelected,escape("IsStaffUser__c=true"))}else{if(c=="fkcategory__c"||c==orgNamespace.toLowerCase()+"fkcategory__c"){showalldata(f,setSelected,escape("Inactive__c=false AND UnAvailableForTasks__c = false"))}else{showalldata(f,setSelected)}}}}}function setSelected(){setTaboutValue()}function setTaboutValue(){if(inputHTMLElement1!=null&&inputHTMLElement1!=""&&inputHTMLElement1!="undefined"){oldVal=inputHTMLElement1.nextSibling.value;inputHTMLElement1.nextSibling.value=inputHTMLElement1.value;lookupValChanged(inputHTMLElement1.id,oldVal,inputHTMLElement1.nextSibling.value)}}function setTaboutValueID(a){if(a!=null&&a!=""){inputHTMLElement1=document.getElementById(a)}}function lookupValChanged(b,a,c){if(b.toLowerCase()==closeTaskPage.ComponentVars.categoryId.toLowerCase()){if((c!="")&&(a!=c)){setSelectedCategoryNext(c)}}}function detectChangeEvent(){change=true}function setPopUpValue(a,b){if(a!=null&&a!=""&&a!="undefined"){if(inputHTMLElement!=null&&inputHTMLElement!=""&&inputHTMLElement!="undefined"){inputHTMLElement.value=a;oldVal=inputHTMLElement.previousSibling.value;inputHTMLElement.previousSibling.value=a;inputHTMLElement.previousSibling.previousSibling.previousSibling.value=htmlDecode(b);lookupValChanged(inputHTMLElement.previousSibling.id,oldVal,inputHTMLElement.previousSibling.value)}}}function setPopUpValueID(a){if(a!=null&&a!=""){inputHTMLElement=document.getElementById(a)}}function openTextEditorPopup(g,b,e,c,d,f){var h;if(g.parentNode.previousSibling.previousSibling!=null){var a=g.parentNode.previousSibling.previousSibling;if(Ext.isIE){if(g.parentNode.previousSibling.childNodes[0]==null){h=a.querySelector(".clsRelativePosition").getElementsByTagName("textarea")[0].id}else{h=g.parentNode.previousSibling.childNodes[0].getElementsByTagName("textarea")[0].id}}else{if(a.querySelector(".clsRelativePosition")!=null){h=a.querySelector(".clsRelativePosition").getElementsByTagName("textarea")[0].id}}showTextEditor(h,b,e,c,d,300,450)}if(f!=null&&f!="undefined"&&f){Ext.getCmp("formTextId").el.dom.setAttribute("readOnly",true);Ext.getCmp("formTextId").addClass("disabledTextEditor");Ext.getCmp("formTextId").blur()}}function openPopUpForLookupPopup(e,a,b,d,c){showLookupPopup(e,a,b,d,c,"Task__c","task");return false}function enableCheckboxes(){if(closeTaskPage.ComponentVars.taskResolution!=""){var a=getElementsByValue("isStdResolution","input");if(document.getElementById(closeTaskPage.ComponentVars.taskResolution).value==""){a[0].disabled=true;a[0].checked=false}else{a[0].disabled=false}}}function closeCurrentWindow(){if(msgvalue==""){if(error==""||error==null){if(calledFrom=="stdform"){window.opener.location.href="/"+taskId;window.close()}else{if(calledFrom=="rfconsole"){var a=window.dialogArguments;var b=window.location.hash=!!window.MSInputMethodContext;if(typeof(window.opener)!="undefined"&&window.opener!="undefined"){window.opener.startWaitMsgBar();window.opener.isNeedToRefreshTaskList=true;window.opener.refreshTask()}else{if(a!=null&&(typeof(window.opener)=="undefined"||window.opener=="undefined")&&(Ext.isIE||b)){a.startWaitMsgBar();a.isNeedToRefreshTaskList=true;a.refreshTask()}}window.close()}else{window.parent.setPopUpVar("done");if(window.parent.refreshParentList!=null&&window.parent.refreshParentList!="undefined"){window.parent.refreshParentList()}window.parent.renderAddNoteAfterClose();parent.window.closePopup()}}}else{showError()}}}function changeDescCheckboxStatus(){var b=getElementsByValue("isStdDescription","input");var a=getElementsByValue("isStdResolution","input");if(a[0].checked&&!b[0].checked){b[0].checked=true}}function getElementsByValue(g,a,f){var b=new Array();if(a==null){a="*"}if(f==null){f=document}var e=f.getElementsByTagName(a);var c=new RegExp(g,"i");for(var d=0;d<e.length;d++){if(c.test(e[d].value)){b.push(e[d])}}return b}function closeWindow(){closeTask()}function disableSIMenues(){window.parent.frames.SIIframeID.disableAll()}var isClosedByEmpty="False";function ClosedByEmpty(){if(closeTaskPage.ComponentVars.closedByName!=""){isClosedByEmpty="False";var a=document.getElementById(closeTaskPage.ComponentVars.closedByName).value;if(a!=null&&a!=""){isClosedByEmpty="False"}else{isClosedByEmpty="True"}}}var OkBtnHandler=function(a,b){ClosedByEmpty();if(isClosedByEmpty=="False"){closeTask()}else{Ext.MessageBox.show({msg:lblCloseByEmpty,buttons:Ext.MessageBox.OK});return}};function disabledCheckboxes(){if(closeTaskPage.ComponentVars.taskResolution!=""){if(document.getElementById(closeTaskPage.ComponentVars.taskResolution).value==""){var b=getElementsByValue("isStdResolution","input");b[0].disabled=true}}if(closeTaskPage.ComponentVars.taskDescription!=""){if(document.getElementById(closeTaskPage.ComponentVars.taskDescription).value==""){var a=getElementsByValue("isStdDescription","input");a[0].disabled=true}}}function setFSFieldDetail(i,d,b,a,f,g,h){if(document.getElementById(f)!=null){var c=document.getElementById(f);var e=document.getElementById(g);if(i.toLowerCase().indexOf("closedatetime__c")>-1){c.disabled=true;c.className="dateInputDisable"}else{if(i.toLowerCase().indexOf("taskresolution__c")>-1){closeTaskPage.ComponentVars.taskResolution=c.id;c.title=lblResolutionTitle;c.setAttribute("onchange","enableCheckboxes()")}else{if(i.toLowerCase().indexOf("fkclosedby__c")>-1){closeTaskPage.ComponentVars.closedByName=e.id;closedById=e.id}else{if(i.toLowerCase().indexOf("fkstatus__c")>-1){closeTaskPage.ComponentVars.StatusName=e.id}else{if(i.toLowerCase().indexOf("fkcategory__c")>-1){closeTaskPage.ComponentVars.categoryId=c.id;closeTaskPage.ComponentVars.categoryName=e.id}else{if(i.indexOf("FKOpenBy__c")>-1){staffId=e.id}}}}}}}}function initData(){objClosedBy=document.getElementById(closeTaskPage.ComponentVars.closedByName);objStatus=document.getElementById(closeTaskPage.ComponentVars.StatusName);if(objClosedBy!=null){objClosedBy.value=strClosedByUserName}if(objStatus!=null){objStatus.value=strStatusName}if(closeTaskPage.ComponentVars.taskResolution!=""){document.getElementById(closeTaskPage.ComponentVars.taskResolution).focus()}disabledCheckboxes()};