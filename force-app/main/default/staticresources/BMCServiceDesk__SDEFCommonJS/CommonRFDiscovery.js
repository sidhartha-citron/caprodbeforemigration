function getCurrentMachinesOS(){var b="";var a=window.navigator.platform.toLowerCase();if(a.indexOf("mac")>-1){b="macos"}else{if(a.indexOf("win")>-1){b="windows"}else{if(a.indexOf("linux")>-1){b="linux"}}}return b}function BCMBinaryOnComplete(){if(BCMBinaryResponse.indexOf("ERROR:404")!=-1){if(String(window.location.href).toLowerCase().indexOf("/apex/acdevicesummarypage")>-1){directConnectDevice(actionContext,assemblyId,reqContextId)}else{directConnectACDevice(actionContext)}}else{if(BCMBinaryResponse.indexOf("ERROR:")!=-1){this.GetMessageBox("bmc-message").show({title:_ServerValues.WarningTitle,msg:BCMBinaryResponse,width:300,closable:true,buttons:Ext.MessageBox.OK,fn:function(c,d,a){if(c=="ok"){}},icon:Ext.MessageBox.WARNING});hideWaitMsg();hideWaitMsgBar()}else{if(context.toLowerCase()!="sessionid"){var b=document.createElement("a");b.href="/sfc/servlet.shepherd/version/download/"+BCMBinaryResponse;document.body.appendChild(b);b.click();document.body.removeChild(b);hideWaitMsg();hideWaitMsgBar()}else{makeBCMActionAPIRequest()}}}}var ajaxPreRequisiteDone=false;function prerequisiteForAPIRequest(){$.ajaxTransport("+binary",function(a,c,b){if(window.FormData&&((a.dataType&&(a.dataType=="binary"))||(a.data&&((window.ArrayBuffer&&a.data instanceof ArrayBuffer)||(window.Blob&&a.data instanceof Blob))))){return{send:function(e,n){var o=new XMLHttpRequest(),d=a.url,k=a.type,f=a.async||true,l=a.responseType||"blob",j=a.data||null,h=a.username||null,m=a.password||null;o.addEventListener("load",function(){var i={};i[a.dataType]=o.response;n(o.status,o.statusText,i,o.getAllResponseHeaders())});o.open(k,d,f,h,m);for(var g in e){o.setRequestHeader(g,e[g])}o.responseType=l;o.send(j);ajaxPreRequisiteDone=true},abort:function(){b.abort()}}}})}function hideWaitMsg(){if(typeof(waitMsg)!="undefined"&&waitMsg!=null&&waitMsg!=""){waitMsg.hide()}}function hideWaitMsgBar(){if(typeof(waitingMask)!="undefined"&&waitingMask!=null&&waitingMask!=""){waitingMask.hide()}}function makeBCMActionAPIRequest(){if(!ajaxPreRequisiteDone){prerequisiteForAPIRequest()}var a=baseURL+"/ws/1/console/webstart";var b="";if(isManualOSSelectionEnabled&&osCookieVal&&osCookieVal!="undefined"){if(osCookieVal.toLowerCase()=="windows32"||osCookieVal.toLowerCase()=="windows64"){b="windows"}else{if(osCookieVal.toLowerCase()=="linux32"||osCookieVal.toLowerCase()=="linux64"){b="linux"}else{if(osCookieVal.toLowerCase()=="macos"){b="macos"}}}}if(b&&b!=""){a=a+"?os="+b}var c={type:"GET",url:a,responseType:"arraybuffer",dataType:"binary",processData:false,beforeSend:function(d){d.setRequestHeader("Session-Id",BCMBinaryResponse)},error:function(e,f,d){alert("Error : "+d);hideWaitMsg();hideWaitMsgBar()},success:function(i,h,n){var j=document.createElement("a");var e=n.getResponseHeader("content-disposition");var d="";if(e&&e.indexOf("attachment")!==-1){var f=/filename[^;=\n]*=((['"]).*?\2|[^;\n]*)/;var k=f.exec(e);if(k!=null&&k[1]){d=k[1].replace(/['"]/g,"")}}var l=new Blob([i],{type:"application/octet-stream"});const g=window.URL.createObjectURL(l);var m=document.createElement("a");m.href=g;m.download=d;document.body.appendChild(m);m.click();document.body.removeChild(m);hideWaitMsg();hideWaitMsgBar()}};$.ajax(c)};