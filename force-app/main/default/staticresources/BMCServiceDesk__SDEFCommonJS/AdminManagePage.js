function addRemoveSelectedItemforIE(e,c){if(leftParam!=null&&leftParam!=""){leftParamLabel=leftParamLabel+SeparatorVal+c;leftParam=leftParam+SeparatorVal+e}else{leftParamLabel=c;leftParam=e}var a=e.split(SeparatorVal);var d=c.split(SeparatorVal);var b=0;for(b=0;b<a.length;b++){if(rightParam.indexOf(SeparatorVal+a[b]+SeparatorVal)!=-1){rightParam=rightParam.replace(SeparatorVal+a[b]+SeparatorVal,SeparatorVal);rightParamLabel=rightParamLabel.replace(SeparatorVal+d[b]+SeparatorVal,SeparatorVal)}else{if(rightParam.indexOf(a[b]+SeparatorVal)!=-1){rightParam=rightParam.substring((a[b]+SeparatorVal).length);rightParamLabel=rightParamLabel.substring((d[b]+SeparatorVal).length)}else{if(rightParam.indexOf(SeparatorVal+a[b])!=-1){rightParam=rightParam.substring(0,rightParam.length-(SeparatorVal+a[b]).length);rightParamLabel=rightParamLabel.substring(0,rightParamLabel.length-(SeparatorVal+d[b]).length)}else{if(rightParam.indexOf(a[b])!=-1){rightParam=rightParam.replace(a[b],"");rightParamLabel=rightParamLabel.replace(d[b],"")}}}}}}function fetchData(a){var b=0;var d=a.data;var c="";for(b=0;b<d.length;b++){c=c+a.getAt(b).get("value");if(b<d.length-1){c=c+SeparatorVal}}return c}function fetchDataLabel(a){var b=0;var d=a.data;var c="";for(b=0;b<d.length;b++){c=c+getTextFromArr(a.getAt(b).get("value"));if(b<d.length-1){c=c+SeparatorVal}}return c}function setParams(){leftParam=fetchData(leftDataStore);rightParam=fetchData(rightDataStore);if(queryParam.toLowerCase()=="top requests"){topReqStoreParam=fetchTopReqData()}saveSettings(leftParam,rightParam,topReqStoreParam)}function fetchTopReqData(){var a="";for(i=0;i<tempDataArr.length;i++){a=a+tempDataArr[i][0];if(i<tempDataArr.length){a=a+SeparatorVal}}for(i=0;i<srdDataArr.length;i++){a=a+srdDataArr[i][0];if(i<srdDataArr.length-1){a=a+SeparatorVal}}return a}function getTextFromArr(a){i=0;for(i=0;i<templeftDataArr.length;i++){if(templeftDataArr[i][0]==a){return templeftDataArr[i][1]}}i=0;for(i=0;i<temprightDataArr.length;i++){if(temprightDataArr[i][0]==a){return temprightDataArr[i][1]}}return null}function populateRightArray(){for(i=0;i<rightDataArr.length;i++){rightDataArr[i][1]=Ext.util.Format.ellipsis(temprightDataArr[i][1],35)}}function addToRightDataStore(a){var b=rightDataArr.length;temprightDataArr[b]=new Array(a.get("value"),getTextFromArr(a.get("value")),a.get("type"));rightDataArr[b]=new Array(a.get("value"),Ext.util.Format.ellipsis(temprightDataArr[b][1],35),a.get("type"));if(a.get("type")==templateLabel){for(i=0;i<tempDataArr.length;i++){if(tempDataArr[i][0]==a.get("value")){tempDataArr.splice(i,1);tempTemplateDataArr.splice(i,1)}}}else{if(a.get("type")==srdLabel){for(i=0;i<srdDataArr.length;i++){if(srdDataArr[i][0]==a.get("value")){srdDataArr.splice(i,1);tempSRDDataArr.splice(i,1)}}}}}function addToLeftDataStore(a){if(a.get("type")==templateLabel){var b=tempDataArr.length;tempTemplateDataArr[b]=new Array(a.get("value"),getTextFromArr(a.get("value")),a.get("type"));tempDataArr[b]=new Array(a.get("value"),Ext.util.Format.ellipsis(tempTemplateDataArr[b][1],35),a.get("type"));templeftDataArr=tempTemplateDataArr}else{if(a.get("type")==srdLabel){var b=srdDataArr.length;tempSRDDataArr[b]=new Array(a.get("value"),getTextFromArr(a.get("value")),a.get("type"));srdDataArr[b]=new Array(a.get("value"),Ext.util.Format.ellipsis(tempSRDDataArr[b][1],35),a.get("type"));templeftDataArr=tempSRDDataArr}}for(i=0;i<rightDataArr.length;i++){if(rightDataArr[i][0]==a.get("value")){rightDataArr.splice(i,1);temprightDataArr.splice(i,1)}}}function refreshDataStore(a){if(a==templateLabel){leftDataStore.loadData(tempDataArr);leftDataStore.sort("text","ASC");templeftDataArr=tempTemplateDataArr}else{if(a==srdLabel){leftDataStore.loadData(srdDataArr);leftDataStore.sort("text","ASC");templeftDataArr=tempSRDDataArr}}}function getSortType(a){if(a){a=a.toLowerCase()}return a}function onReadyRender(){var b=Ext.extend(Ext.Panel,{renderTo:"btnToolbar",defaults:{bodyStyle:"border:0px;padding:0px;margin:0px;zoom:0px;"}});new b({title:"",cls:"toolSpCls",bodyStyle:"border:0px;padding:0px;margin:0px;zoom:0px;",tbar:[{scale:"medium",iconCls:"bmcSave",tooltipType:"title",tooltip:saveLabel,id:"saveId",listeners:{mouseover:function(){this.setIconClass("bmcSaveOn")},mouseout:function(){this.setIconClass("bmcSave")}},handler:SaveBtnHandler},"-",{scale:"medium",iconCls:"bmcRefresh",tooltipType:"title",tooltip:undoLabel,id:"undoId",listeners:{mouseover:function(){this.setIconClass("bmcRefresh")},mouseout:function(){this.setIconClass("bmcRefresh")}},handler:undoBtnHandler}]});if(queryParam.toLowerCase()=="top requests"&&leftStoreVal!=""){lsname=leftStoreVal.split(typeSeparatorVal)[1].split(SeparatorVal);lslabel=leftStoreLabelVal.split(typeSeparatorVal)[1].split(SeparatorVal);for(e=0;e<lsname.length;e++){if(queryParam.toLowerCase()=="top requests"&&lsname[e]!=""){tempSRDDataArr[e]=new Array(lsname[e],jsInHTMLDecode(lslabel[e]),srdLabel);srdDataArr[e]=new Array(lsname[e],Ext.util.Format.ellipsis(tempSRDDataArr[e][1],35),srdLabel)}}if(type==templateLabel){lsname=leftStoreVal.split(typeSeparatorVal)[0].split(SeparatorVal);lslabel=leftStoreLabelVal.split(typeSeparatorVal)[0].split(SeparatorVal)}}else{lsname=leftStoreVal.split(SeparatorVal);lslabel=leftStoreLabelVal.split(SeparatorVal)}var d=new Array();var e=0;var f=rightStoreVal.split(SeparatorVal);var c=rightStoreLabelVal.split(SeparatorVal);if(queryParam.toLowerCase()=="top requests"){var a=rightStoreTypeVal.split(SeparatorVal)}if(lsname[0]!=""){for(e=0;e<lsname.length;e++){templeftDataArr[e]=new Array(3);templeftDataArr[e][0]=lsname[e];leftDataArr[e]=new Array(3);leftDataArr[e][0]=lsname[e];templeftDataArr[e][1]=jsInHTMLDecode(lslabel[e]);leftDataArr[e][1]=Ext.util.Format.ellipsis(templeftDataArr[e][1],35);if(queryParam.toLowerCase()=="top requests"){if(type==templateLabel){tempDataArr[e]=new Array(lsname[e],Ext.util.Format.ellipsis(templeftDataArr[e][1],35),templateLabel);leftDataArr[e][2]=templateLabel;tempTemplateDataArr[e]=new Array(lsname[e],lslabel[e],templateLabel)}}}}if(f[0]!=""){for(e=0;e<f.length;e++){temprightDataArr[e]=new Array(3);temprightDataArr[e][0]=f[e];rightDataArr[e]=new Array(3);rightDataArr[e][0]=f[e];temprightDataArr[e][1]=jsInHTMLDecode(c[e]);rightDataArr[e][1]=Ext.util.Format.ellipsis(temprightDataArr[e][1],35);if(queryParam.toLowerCase()=="top requests"){rightDataArr[e][2]=a[e];if(a[e]==templateLabel){rightDataArr[e][1]=Ext.util.Format.ellipsis(prefix+temprightDataArr[e][1],35+prefix.length)}}}}leftDataStore=ds=new Ext.data.ArrayStore({data:leftDataArr,fields:[{name:"value"},{name:"text",sortType:getSortType},{name:"type"}],sortInfo:{field:"text",direction:"ASC"}});rightDataStore=ds=new Ext.data.ArrayStore({data:rightDataArr,fields:["value","text","type"]});if(Ext.isIE||Ext.isSafari||Ext.isChrome){if(queryParam=="Categories"){upImg="_.GIF ";dowmImg="_.GIF";topImg="_.GIF";bottomImg="_.GIF"}else{if(queryParam.toLowerCase()=="top requests"){upImg=upImage;dowmImg=downImage;topImg=topImage;bottomImg=bottomImage}else{upImg=upImage;dowmImg=downImage;topImg="_.GIF";bottomImg="_.GIF"}}}else{if(queryParam.toLowerCase()=="top requests"){upImg=upImage;dowmImg=downImage;topImg=topImage;bottomImg=bottomImage}else{upImg=upImage;dowmImg=downImage;topImg="_.GIF";bottomImg="_.GIF"}}multiSelectPanel=new Ext.Panel({id:"multiSelectForm",title:"",autoWidth:true,layout:"fit",height:510,drawLeftIcon:true,drawRightIcon:true,drawTopIcon:true,drawBotIcon:true,renderTo:"multiSelectDiv",border:false,cls:"fontCls",items:[{id:"abc",xtype:"itemselector",name:"itemselector",fieldLabel:"",drawTopIcon:true,drawBotIcon:true,iconUp:upImg,iconDown:dowmImg,iconLeft:"b_darrow_L_new.gif",iconRight:"b_darrow_R_new.gif",iconTop:topImg,iconBottom:bottomImg,imagePath:path,multiselects:[{id:"leftStore",width:215,height:500,draggable:false,droppable:false,store:leftDataStore,cls:"multiselectval",displayField:"text",valueField:"value",legend:false,listeners:{render:function(g){new Ext.ToolTip({target:g.el,renderTo:document.body,delegate:"dl",trackMouse:true,listeners:{beforeshow:function(k){var l=g.view.getRecord(k.triggerElement);if(l!=null){var h=k.body.dom;while(h.firstChild){h.removeChild(h.firstChild)}var j=document.createTextNode(Ext.util.Format.htmlDecode(getTextFromArr(l.get("value"))));h.appendChild(j)}}}})}}},{id:"rightStore",width:215,height:500,draggable:false,droppable:false,drawTopIcon:true,drawBotIcon:true,cls:"multiselectval",store:rightDataStore,displayField:"text",valueField:"value",legend:false,listeners:{render:function(g){new Ext.ToolTip({target:g.el,renderTo:document.body,delegate:"dl",trackMouse:true,listeners:{beforeshow:function(k){var l=g.view.getRecord(k.triggerElement);if(l!=null){var h=k.body.dom;while(h.firstChild){h.removeChild(h.firstChild)}var j=document.createTextNode(Ext.util.Format.htmlDecode(getTextFromArr(l.get("value"))));h.appendChild(j)}}}})}}}]}]});if(queryParam.toLowerCase()=="top requests"){populateRightArray()}if(Ext.isIE){toMultiSelectObj=Ext.getCmp("abc").fromMultiselect;fromMultiSelectObj=Ext.getCmp("abc").toMultiselect}else{toMultiSelectObj=Ext.getCmp("abc").toMultiselect;fromMultiSelectObj=Ext.getCmp("abc").fromMultiselect}Ext.getCmp("multiSelectForm").items.get(0).addIcon.on("click",function(){selectionsArray=toMultiSelectObj.view.getSelectedIndexes();var h="";var g=0;while(selectionsArray.length>g){record=toMultiSelectObj.view.store.getAt(selectionsArray[g]);h=h+record.get("value");if(g<selectionsArray.length-1){h=h+SeparatorVal}g++}if(queryParam.toLowerCase()=="faqs"){selectFaqCats(h)}if(queryParam.toLowerCase()=="categories"){rightParam=fetchData(rightDataStore);searchParentRightCat(h)}},multiSelectPanel);Ext.getCmp("multiSelectForm").items.get(0).removeIcon.on("click",function(){var j=fromMultiSelectObj.view.getSelectedIndexes();var l=j.length;var k="";var h="";var g=0;while(j.length>g){record=fromMultiSelectObj.view.store.getAt(j[g]);k=k+record.get("value");h=h+getTextFromArr(record.get("value"));if(g<l-1){k=k+SeparatorVal;h=h+SeparatorVal}g++}if(queryParam.toLowerCase()=="categories"){searchParentLeftCat(k)}else{if(queryParam.toLowerCase()=="faqs"){rightParamLabel=fetchDataLabel(rightDataStore);leftParamLabel=fetchDataLabel(leftDataStore);rightParam=fetchData(rightDataStore);leftParam=fetchData(leftDataStore);if(Ext.isIE&&k!=""){addRemoveSelectedItemforIE(k,h)}upadteStores(leftParam,rightParam,leftParamLabel,rightParamLabel)}else{if(queryParam.toLowerCase()=="top requests"){rightParam=fetchData(rightDataStore);leftParam=fetchData(leftDataStore)}}}},multiSelectPanel);Ext.getCmp("abc").fromMultiselect.on("dblclick",function(){var h=Ext.getCmp("abc").toMultiselect.view.getSelectedIndexes();var k=h.length;var j="";var g=0;while(h.length>g){record=Ext.getCmp("abc").toMultiselect.view.store.getAt(h[g]);j=j+record.get("value");if(g<k-1){j=j+SeparatorVal}g++}if(queryParam.toLowerCase()=="faqs"){selectFaqCats(j)}if(queryParam.toLowerCase()=="categories"){rightParam=fetchData(rightDataStore);searchParentRightCat(j)}},multiSelectPanel);Ext.getCmp("abc").toMultiselect.on("dblclick",function(){var h=Ext.getCmp("abc").fromMultiselect.view.getSelectedIndexes();var k=h.length;var j="";var g=0;while(h.length>g){record=Ext.getCmp("abc").fromMultiselect.view.store.getAt(h[g]);j=j+record.get("value");if(g<h.length-1){j=j+SeparatorVal}g++}if(queryParam.toLowerCase()=="categories"){rightParam=fetchData(rightDataStore);searchParentLeftCat(j)}else{if(queryParam.toLowerCase()=="faqs"){rightParamLabel=fetchDataLabel(rightDataStore);leftParamLabel=fetchDataLabel(leftDataStore);rightParam=fetchData(rightDataStore);leftParam=fetchData(leftDataStore);upadteStores(leftParam,rightParam,leftParamLabel,rightParamLabel)}}},multiSelectPanel)};