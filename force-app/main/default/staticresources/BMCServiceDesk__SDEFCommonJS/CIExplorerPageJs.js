var popUpWindow;var isModernUI;Ext.require(["Ext.form.Panel","Ext.ux.form.MultiSelect"]);Ext.onReady(function(){isModernUI=getUrlVars()["isModernUI"];if(!isModernUI){var f=document.getElementById("CIExplorerClose");var a=document.getElementById("helpConsoleList");if(f){f.style.display="inline-block"}if(a){a.style.display="block"}}dataStore=Ext.create("Ext.data.ArrayStore",{sorters:[{property:"text",direction:"ASC"}],fields:["value","text"]});setAvailableData();setSelectedtoolTipData();setSelectedLabelData();itemSel=new Ext.ux.form.ItemSelector({anchor:"100%",id:"itemSelector",height:260,width:465,store:dataStore,displayField:"text",valueField:"value",value:selctedLabel,allowBlank:true,msgTarget:"side"});var e=Ext.widget("form",{width:565,border:false,renderTo:"itemselector1",items:[itemSel]});var d=Ext.create("Ext.data.Store",{fields:["level"],data:[{level:"1"},{level:"2"},{level:"3"},{level:"4"},{level:"5"},{level:"6"},{level:"7"},{level:"8"},{level:"9"},{level:"10"}]});var c=new Ext.form.ComboBox({id:"levelcmb",fieldLabel:"",store:d,displayField:"level",typeAhead:false,mode:"local",editable:false,height:22,width:560,triggerCls:"d-icon-triangle_down",valueField:"level",renderTo:"levelCmb",value:defaultLineThickness,listeners:{change:function(k,j,h,i){if(j!=null&&typeof(j)!="undefined"){defaultLineThickness=j}}}});var b=Ext.create("Ext.data.Store",{fields:["level"],data:[{level:lblLabel},{level:lbltooltip}]});var g=new Ext.form.ComboBox({id:"fieldsForcmb",fieldLabel:"",store:b,displayField:"level",typeAhead:false,mode:"local",editable:false,triggerCls:"d-icon-triangle_down",valueField:"level",renderTo:"fieldsForCmb",value:lblLabel,listeners:{change:function(k,j,h,i){if(j!=null&&typeof(j)!="undefined"){document.getElementById("maxLbl").style.display="block";if(j==lblLabel){if(typeof itemSel.getValue()!="undefined"){selectedtooltip=itemSel.getValue();selectedCombo=lblLabel;reloadItemSelector(selctedLabel)}}else{document.getElementById("maxLbl").style.display="None";if(typeof itemSel.getValue()!="undefined"){selctedLabel=itemSel.getValue();selectedCombo=lbltooltip;reloadItemSelector(selectedtooltip)}}}}}})});function openLineSettingPopup(a,f,d,e,c){var b="CIExplorerLineSetting?lineStyle="+a+"&lineDirection="+f+"&type="+c+"&lineThickness="+d+"&lineColor="+e;openPopupDialog(b,"",CiSettings,287,485);popUpWindow.center()}function callSave(){dataModified=true;var b=Ext.getCmp("fieldsForcmb");var a=b.getValue();if(a!=null&&typeof(a)!="undefined"&&String(a)==lblLabel){selctedLabel=itemSel.getValue()}else{selectedtooltip=itemSel.getValue()}saveCall(String(selectedtooltip),String(selctedLabel),String(defaultLineThickness),String(updatedLineSetting))}function reloadItemSelector(a){setAvailableData();itemSel.bindStore(dataStore);Ext.getCmp("itemSelector").setValue(a)}function openPopupDialog(d,f,c,g,e){if(c==null){c=""}if(g==null||g==""){g=550}if(e==null||e==""){e=670}onCompleteFunction=f;var b=d.split("?");var a="background-color:#FFFFFF;";popUpWindow=new Ext.Window({height:g,width:e,title:c,x:10,y:5,modal:true,resizable:false,cls:"CMDBWindow",bodyStyle:"padding-top: 25px; padding-bottom:5px; background:#FFFFFF;",style:"padding: 0; border-width: 0;background:#FFFFFF;",border:false,closable:false,tools:[{type:"rfclose",handler:function(j,i,h){popUpWindow.close()}}],constrain:true,viewConfig:{forceFit:true},html:'<iframe frameborder="0" src ="/apex/'+d+'" style="width:100%;height:100%;border:none"/>',});popUpWindow.show()}function callHelp(){window.open(wikiUrl)}function getUrlVars(){var b={};var a=window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi,function(c,d,e){b[d]=e});return b}function callClose(){if(!isModernUI){if(dataModified){dataModified=false;window.parent.refreshInfoPan();window.parent.refreshDiagram()}window.parent.popUpWindow.close()}else{window.parent.refreshDiagram(dataModified);dataModified=false}}function showMessage(a){if(isModernUI){callClose()}else{Ext.Msg.baseCls="bmc-message";Ext.Msg.show({id:"commonmsgbox",msg:a,buttons:Ext.Msg.OK});waitMsg.hide()}};