var myCallback=function(d){var f="";var b="";if(d=="yes"||d=="YES"){var a=Ext.getCmp("gridId").getSelectionModel().getSelection();if(a.length>0){startWaitMask();var e=Ext.getCmp("gridId").getSelectionModel().selected.items[0].raw.ProcessID;for(var c=0;c<a.length;c++){f+=Ext.getCmp("gridId").getSelectionModel().selected.items[c].raw.ProcessID+",";b+=Ext.getCmp("gridId").getSelectionModel().selected.items[c].raw.ProcessName+","}f=f.substring(0,f.length-1);b=b.substring(0,b.length-1);EndProcess(f,b);Ext.getCmp("EndBtn").setDisabled(true)}}};var createNewProcess=function(c){var d=Ext.create("Ext.form.TextField",{id:"pathValValueField",fieldLabel:processPath,name:"pathData"});var a=Ext.create("Ext.form.TextField",{id:"attributesValueField",fieldLabel:processattributes});var b=new Ext.form.Checkbox({id:"contextValueField",boxLabel:processContext});var e=new Ext.FormPanel({id:"newProcessForm",frame:false,border:false,bodyStyle:"padding:15px 15px 0",layout:"anchor",defaults:{anchor:"100%"},defaultType:"textfield",autoHeight:true,autoWidth:true,items:[d,a,b,{xtype:"tbspacer",height:"10px"}]});newProcessWin=Ext.create("Ext.window.Window",{title:RunProcess,autoHeight:true,width:400,layout:"fit",closeAction:"destroy",modal:"true",resizable:false,items:[e],cls:"CMDBWindow",bodyStyle:"padding-top: 25px; padding-bottom:5px; background:#FFFFFF;",style:"padding: 0; border-width: 0;background:#FFFFFF;",border:false,constrain:true,viewConfig:{forceFit:true},closable:false,tools:[{type:"rfclose",handler:function(h,g,f){newProcessWin.close()}}],bbar:["->",{xtype:"button",text:Cancel,scale:"medium",baseCls:"bmc-btn-small",disabledCls:"bmc-btn-disabled",focusCls:"bmc-btn-focus",overCls:"bmc-btn-over",pressedCls:"bmc-btn-pressed",handler:function(){newProcessWin.close()}},{xtype:"button",text:runProcess,scale:"medium",baseCls:"bmc-btn-primary",disabledCls:"bmc-btn-primary-disabled",focusCls:"bmc-btn-primary-focus",overCls:"bmc-btn-primary-over",pressedCls:"bmc-btn-primary-pressed",id:"saveValBtn",minWidth:30,handler:function(){pathValue=Ext.getCmp("pathValValueField").getValue();contextValue=Ext.getCmp("contextValueField").getValue();attributeVal=Ext.getCmp("attributesValueField").getValue();if(pathValue!=""){startWaitMask();NewProcess(pathValue,contextValue,attributeVal);newProcessWin.close()}else{if(typeof(WinMsg)=="undefined"||WinMsg==null){WinMsg=Ext.create("Ext.window.MessageBox")}WinMsg.baseCls="bmc-message";WinMsg.show({title:ErrorTitle,msg:ACEmptyparameters,width:350,buttons:Ext.Msg.OK,icon:Ext.MessageBox.ERROR})}}}]});newProcessWin.show()};var EndButton={tooltipType:"title",tooltip:endprocess,id:"EndBtn",text:endprocess,baseCls:"bmc-btn-small",disabledCls:"bmc-btn-disabled",focusCls:"bmc-btn-focus",overCls:"bmc-btn-over",pressedCls:"bmc-btn-pressed",scale:"medium",handler:function(){var a=Ext.getCmp("gridId").getSelectionModel().getSelection();if(a.length>0){if(typeof(WinMsg)=="undefined"||WinMsg==null){WinMsg=Ext.create("Ext.window.MessageBox")}WinMsg.baseCls="bmc-message";WinMsg.show({title:endprocess,msg:warning,width:400,buttons:Ext.MessageBox.YESNO,fn:myCallback,icon:Ext.MessageBox.INFO});WinMsg.defaultButton=2}}};var NewButton={tooltipType:"title",tooltip:newProcess,id:"NewBtn",text:newProcess,baseCls:"bmc-btn-small",disabledCls:"bmc-btn-disabled",focusCls:"bmc-btn-focus",overCls:"bmc-btn-over",pressedCls:"bmc-btn-pressed",scale:"medium",handler:function(){createNewProcess()}};Ext.onReady(function(){ACtabPanel();Ext.getCmp("gridId").getSelectionModel().setSelectionMode("MULTI");addTbSpacer();tb.add(NewButton);addTbSpacer();tb.add(EndButton);addRightTools();var a=Ext.getCmp("gridId").getSelectionModel().getSelection();if(a.length<=0){Ext.getCmp("EndBtn").setDisabled(true)}Ext.create("Ext.container.Viewport",{layout:"border",items:[tb,gridVar,AdvActionPanel]});ShowMessageBox();checkUserAuth()});function gridRowClickEvent(b,a){Ext.getCmp("EndBtn").setDisabled(false)};