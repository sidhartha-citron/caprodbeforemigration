var mp=new Object();function generateToolbar(){var a=new Ext.Toolbar({border:false,height:40,autoWidth:true,margins:"0 0 0 0",style:"background: #E0E0E0 !important;",items:[{scale:"medium",iconCls:"bmcSave",tooltipType:"title",tooltip:SaveLbl,id:"saveId",handler:function(){var c=document.getElementById("themeNameTxt").value;if(c==""){Ext.Msg.show({title:Theme_Config,msg:Theme_Name_Required,buttons:Ext.Msg.OK})}else{if(c.length>255){Ext.Msg.show({title:Theme_Config,msg:Theme_Name_Length,buttons:Ext.Msg.OK})}else{var b=Ext.JSON.encode(colorMap);save(c,b)}}}},{id:"deleteBtn",scale:"medium",iconCls:"bmcDelete",tooltipType:"title",tooltip:Delete,style:"margin-left:10px",disabled:!isDeletable,handler:function(){if(isThemeAssigned=="true"){Ext.Msg.show({title:Theme_Config,msg:ThemeDeleteValidationMsg,buttons:Ext.Msg.OK})}else{Ext.Msg.show({title:Theme_Config,msg:ThemeDelete,buttons:Ext.Msg.YESNO,fn:function(b){if(b=="yes"){deleteTheme()}}})}}},{xtype:"tbfill"}]});return a}function showLegendTip(a){if(isSelfService3){tooltipLegendImgSrc='<img id="cartBtn1" style="background-color:#eff3f5;"  src="'+imgPath+'" height="400" width="681" />'}else{tooltipLegendImgSrc='<img id="cartBtn1" style="background-color:#eff3f5;"  src="'+imgPath+'" height="204" width="681" />'}if(LegendToolTip==null){var b=a;if(b==null){b=a.srcElement}LegendToolTip=new Ext.ToolTip({target:b.id,anchor:"bottom",shadow:false,autoWidth:true,dismissDelay:60000,autoHide:true,html:tooltipLegendImgSrc}).show()}}function setdefaultValuesAndImages(){if(isSelfService3){document.getElementById("userSmallProfileImg").src=userData.image;document.getElementById("companyLogo").src=logoUrl;var k=document.getElementById("userNameLbl");var p=document.getElementById("submittersNameLbl");var b=document.getElementById("assignedToNameLbl");var l=document.createTextNode(userData.displayName);var i=document.createTextNode(userData.displayName);var a=document.createTextNode(userData.displayName);if(k.hasChildNodes()){while(k.hasChildNodes()){k.removeChild(k.lastChild)}}k.appendChild(l);if(p.hasChildNodes()){while(p.hasChildNodes()){p.removeChild(p.lastChild)}}p.appendChild(i);if(b.hasChildNodes()){while(b.hasChildNodes()){b.removeChild(b.lastChild)}}b.appendChild(a);var c=document.getElementById("viewMyActivityBtn");var j=document.getElementById("cancelBTN");var h=document.getElementById("closeBTN");var n=document.getElementById("searchBox");var m=document.getElementById("draftCountId");var g=document.getElementById("draftBtn");var f=document.getElementById("approveRejectBtnId");var e=document.getElementById("reassignBtnId");var o=document.getElementById("selectAllBtnId");var d=document.getElementById("clearAllBtnId");c.disabled=true;j.disabled=true;h.disabled=true;n.disabled=true;m.disabled=true;g.disabled=true;f.disabled=true;e.disabled=true;o.disabled=true;d.disabled=true}}Ext.onReady(function(){setdefaultValuesAndImages();Ext.QuickTips.init();var b=Ext.extend(Ext.Panel,{renderTo:"btnToolbar"});new b({title:"",cls:"toolSpCls",tbar:generateToolbar()});Ext.define("componentPanelModel",{extend:"Ext.data.Model",fields:[{name:"id",type:"string"},{name:"name",type:"string"},{name:"numId",type:"string"}]});componentDataStore=Ext.create("Ext.data.Store",{id:"componentPanelTabStore",model:"componentPanelModel",data:clist});componentListGrid=Ext.create("Ext.grid.Panel",{id:"clist",renderTo:"gridDiv",stripeRows:false,border:true,rowLines:false,hideHeaders:true,store:componentDataStore,height:200,width:320,cls:"gridPanelCls",forceFit:true,columns:[{id:"name",width:280,dataIndex:"name",renderer:d},{id:"numIndicator",width:40,dataIndex:"numId"}],sortableColumns:false,listeners:{select:function(p,h,j,m){selectedComponentId='"'+componentDataStore.getAt(j).get("id")+'"';selectedComponent=componentDataStore.getAt(j).get("id");var g="#"+a(selectedComponentId);var o=0;var l=document.getElementById("colorTxt");var k=document.getElementById("CurrentColor");var n=document.getElementById("NewColor");if(mp[selectedComponentId]!=undefined&&mp[selectedComponentId]!=null){var f=mp[selectedComponentId];n.style.backgroundColor="#"+f;l.value=f;l.style.backgroundColor="#"+f;o=1}else{n.style.backgroundColor="#FFFFFF"}var i=h.get("id");if(i.indexOf("header_token")==0){l.disabled=true;k.style.backgroundColor="#FFFFFF";l.style.backgroundColor="#FFFFFF";l.value=""}else{if(i.indexOf("inactive_token")==0){l.disabled=true;k.style.backgroundColor="#FFFFFF";l.style.backgroundColor="#FFFFFF";l.value="#FFFFFF"}else{k.style.backgroundColor=g;if(o==0){l.value=a(selectedComponentId);l.style.backgroundColor=g;l.disabled=false}}}}}});function a(j){var m="";var l=themeData.substring(1,themeData.length-1);var k=l.split(",");for(var h=0;h<k.length;h++){var g=k[h].split(":");var f=g[0];if(f==j){m=g[1].substring(1,g[1].length-1);break}}return m}function d(h,g,f){var i=f.get("id");if(i.indexOf("header_token")==0){return"<b>"+h+"</b>"}else{if(i.indexOf("inactive_token")==0){return"&nbsp;&nbsp;&nbsp;&nbsp;<font color=C0C0C0>"+h+"</font>"}else{if(i.indexOf("token")==0){return"&nbsp;&nbsp;&nbsp;&nbsp;"+h}else{return h}}}}var c='"'+componentDataStore.getAt(1).get("id")+'"';var e="#"+a(c);document.getElementById("CurrentColor").style.backgroundColor=e;document.getElementById("colorTxt").style.backgroundColor=e;document.getElementById("colorTxt").value=a(c);componentListGrid.getSelectionModel().select(1);selectedComponent=componentDataStore.getAt(1).get("id");document.getElementById("colorTxt").disabled=false});function showMessage(a){Ext.MessageBox.show({id:"commonmsgbox",width:250,title:Theme_Config,msg:a,buttons:Ext.MessageBox.OK});waitMsg.hide()}function SaveOnComplete(a,b){if(a=="true"&&b!=""){showMessage(b)}else{if(a=="false"){window.opener.location.href=window.opener.location.href;showMessage(Theme_Saved)}}}function populateColorCodes(){if(selectedComponent!=""){document.getElementById("NewColor").style.backgroundColor="#"+document.getElementById("colorTxt").value;var a=document.getElementById("colorTxt").value;mp[selectedComponentId]=a;var b=/(^[0-9A-F]{6}$)|(^[0-9A-F]{3}$)/i.test(a);if(!b){showMessage(themeInvalidColorCodeMessage)}jsonToken=selectedComponent+":'"+a+"',";colorMap[selectedComponent]=a}}function preview(){if(!isSelfService3){var a=document.getElementById("previewPage");a.src="/apex/SSLandingPage?previewList="+encodeURIComponent(Ext.JSON.encode(colorMap))}else{showPreviewofSS3()}}function loadThemeData(a){themeData=a}function showPreviewofSS3(){var A=document.getElementById("bradcastBarDiv");var b=document.getElementById("broadcastText");var z=document.getElementById("broadcastCountId");var w=document.getElementById("leftHandSideTilePanelDiv");var e=document.getElementById("reqAServiceDiv");var o=document.getElementById("allLbl");var l=document.getElementById("allLblPointer");var v=document.getElementById("homeLbl");var x=document.getElementById("homeLblPointer");var t=document.getElementById("showDetailsLbl");var k=document.getElementById("viewMyActivityBtn");var m=document.getElementById("cancelBTN");var s=document.getElementById("closeBTN");var d=document.getElementById("ApprovalSectionDiv");var a=document.getElementById("boxOnTheTimeLine");var n=document.getElementById("popupHdrDiv");var f=document.getElementById("popupHdrLbl");var y=document.getElementById("draftCountId");var g=document.getElementById("draftBtn");var u=document.getElementById("approveRejectBtnId");var j=document.getElementById("reassignBtnId");var r=document.getElementById("selectAllBtnId");var i=document.getElementById("clearAllBtnId");var c=document.getElementById("reassignLbl");var h=document.getElementById("approveRejectLbl");var q=document.getElementById("approvalHistoryLbl");var p=document.getElementById("showRecordLbl");A.style.borderTopColor="#"+colorMap.token11;n.style.borderTopColor="#"+colorMap.token11;A.style.backgroundColor="#"+colorMap.token12;n.style.backgroundColor="#"+colorMap.token12;b.style.color="#"+colorMap.token13;z.style.color="#"+colorMap.token13;f.style.color="#"+colorMap.token13;w.style.backgroundColor="#"+colorMap.token21;e.style.backgroundColor="#"+colorMap.token22;o.style.color="#"+colorMap.token31;l.style.color="#"+colorMap.token31;v.style.color="#"+colorMap.token31;x.style.color="#"+colorMap.token31;t.style.color="#"+colorMap.token31;c.style.color="#"+colorMap.token31;h.style.color="#"+colorMap.token31;q.style.color="#"+colorMap.token31;p.style.color="#"+colorMap.token31;m.style.borderColor="#"+colorMap.token32;s.style.borderColor="#"+colorMap.token32;u.style.borderColor="#"+colorMap.token32;j.style.borderColor="#"+colorMap.token32;r.style.borderColor="#"+colorMap.token32;i.style.borderColor="#"+colorMap.token32;d.style.backgroundColor="#"+colorMap.token33;s.style.backgroundColor="#"+colorMap.token34;y.style.backgroundColor="#"+colorMap.token34;u.style.backgroundColor="#"+colorMap.token34;y.style.borderColor="#"+colorMap.token32};