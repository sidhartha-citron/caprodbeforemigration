var stdLayoutScreenWidth=671;var stdLayoutScreenHeight=400;function stdScreenLeft(){return parseInt((screen.availWidth/2)-(stdLayoutScreenWidth/2))}function stdScreenTop(){return parseInt((screen.availHeight/2)-(stdLayoutScreenHeight/2))}var active_element;var bIsMSIE;function initiateSelfClosing(){if((showStdLayout)&&(enableSelfClosing!="false"||enableSelfClosing==undefined||enableSelfClosing==null||enableSelfClosing=="")){if(Ext.isIE){active_element=document.activeElement;document.onfocusout=closeWnd;bIsMSIE=true}else{window.onblur=closeWnd}}}function closeWnd(){if(showStdLayout){if(window.opener!=null){if(bIsMSIE&&(active_element!=document.activeElement)){active_element=document.activeElement}else{window.close()}}}}var showStdLayout=getStandardLayout();var enableSelfClosing=getUrlParameter("enableSelfClosing");function getFocus(){if(window.focus){window.focus()}}function callFunc(){window.close()}function getStandardLayout(){var a=getUrlParameter("standardLayout");return a}function getPopupFor(){var a=getUrlParameter("popupFor");return a}var popupFor=getPopupFor().toUpperCase();function getPopupHeader(){var a=getUrlParameter("popupHeader");return a}function getObjName(){var a=getUrlParameter("objName");return a}function getUrlParameter(d){d=d.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var c="[\\?&]"+d+"=([^&#]*)";var b=new RegExp(c);var a=b.exec(window.location.href);if(a==null){return""}else{return a[1]}}var url=document.URL;function openCategoryTree(){var d=671;var e=530;var c=stdScreenLeft();var b=stdScreenTop();var f="?recordId="+recordId+"&popupId="+popupId+"&objectName="+objectName+"&state="+state+"&stdForm=true&standardLayout=true";if(popupId!=null&&popupId!="null"&&popupId!=""&&popupId=="incident"){f=f+"&serviceRequest="+getServiceRequestVar(incType)}var a="width="+d+",height="+e+",status,resizable,scrollbars=no,left="+c+",top="+b+",toolbar=no,directories=no,status=no,menubar=no,scrollbars=no,resizable=no,modal=yes";categoryTreeWindow=window.open(page_CategoryTree+f,recordId,a);categoryTreeWindow.focus()}function getServiceRequestVar(a){serviceRequest="false";if(a!=null&&a!="null"&&a!=""&&a==serviceRequestLabel){serviceRequest="true"}return serviceRequest}function getOpener(){var a=null;if(window.dialogArguments){a=window.dialogArguments}else{if(window.opener){a=window.opener}}return a};