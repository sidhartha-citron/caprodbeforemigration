"use strict";(globalThis.webpackChunkmaps_desktop=globalThis.webpackChunkmaps_desktop||[]).push([[887],{7511:(t,s,l)=>{l.r(s),l.d(s,{default:()=>n});var a=l(1515);const e={components:{Modal:a.u_,Spinner:a.$j},props:{modalOptions:{type:Object,required:!0},activeModal:{type:String,default:""}},data:()=>({modalTitle:"Maps Lightning Modal",isLoading:!1,hasError:!1}),computed:{isMapsFlowDisplay(){return"maps:MapsFlowDisplay"===this.modalOptions.qualifiedName}},watch:{activeModal(t){"launch-lightning-out"===t&&(this.isLoading=!0,this.launchLightningOut())}},methods:{launchLightningOut(){const t=this,s=this.modalOptions,{label:l="Maps Lightning Modal"}=s;this.modalTitle=l,window.$Lightning.use("maps:MapsLightningOutApp",(()=>{window.$Lightning.createComponent("maps:MapsLightningOut",{options:s,call_back:function(s){try{document.getElementById("lwcPopup").innerHTML="",t.close()}catch(t){console.warn(t,s)}}},"lwcPopup",this.callbackFunction())}))},callbackFunction(t){try{this.removeLightningCSS(),this.isLoading=!1}catch(s){console.warn(s,t)}},close(){document.getElementById("lwcPopup").innerHTML="",this.$emit("close")},removeLightningCSS(){const t=document.getElementsByTagName("link");let s;const l=t.length;for(let a=0;a<l;a++){const l="/app.css";t[a].href.indexOf(l)>0&&(s=t[a])}if(s)try{s.parentNode.removeChild(s)}catch(t){}}}},n=(0,l(1900).Z)(e,(function(){var t=this,s=t.$createElement,l=t._self._c||s;return l("Modal",{staticClass:"select-base-object-modal",class:{"maps-flow-display":t.isMapsFlowDisplay},attrs:{title:t.modalTitle,labels:{close:t.$Labels.MA_Close}},on:{close:t.close}},[l("div",{attrs:{slot:"content"},slot:"content"},[l("Spinner",{directives:[{name:"show",rawName:"v-show",value:t.isLoading,expression:"isLoading"}],attrs:{loadingLabel:t.$Labels.MA_Loading}}),t._v(" "),l("div",{staticClass:"slds-scrollable slds-grow",attrs:{id:"lwcPopup"}}),t._v(" "),l("div",{staticClass:"slds-scrollable slds-grow"},[t.isLoading?l("div",[t._v("\n                Loading Lightning... Please wait\n            ")]):t._e()])],1),t._v(" "),l("template",{slot:"footer"},[l("button",{staticClass:"slds-button slds-button_neutral customDis-cancel",on:{click:t.close}},[t._v("\n            "+t._s(t.$Labels.MA_Close)+"\n        ")])])],2)}),[],!1,null,"40411294",null).exports}}]);