angular.module("rf.ng.tooltip",["rf.ng.position"]).provider("$rftooltip",function(){this.$get=["$window","$compile","$timeout","$document","$position",function(f,b,a,e,d){return function c(){var g="<div rftooltip-popup></div>";return{restrict:"AE",scope:{rfTooltipContentFunction:"&",rfTooltipContentProperty:"@",rfAppendToElement:"@",rfTooltipPosition:"@",rfTooltipDelayedInfo:"@"},compile:function(k,i){var h=b(g);return function j(o,n,m){o.rfTooltipContent;o.isMouseStillOver=false;o.isMouseOverTooltip=false;var p;o.rfAppendToElement=o.rfAppendToElement=="true"?"true":"false";o.delayDuration=500;if(angular.isDefined(o.rfTooltipDelayedInfo)&&o.rfTooltipDelayedInfo=="false"){o.delayDuration=0}if(!angular.isDefined(o.rfTooltipPosition)){if(n.position().top<500){if(userLanguage&&userLanguage=="iw"){o.rfTooltipPosition="left"}else{o.rfTooltipPosition="right"}}else{o.rfTooltipPosition="top"}}n.bind("mouseenter",function(){o.isMouseStillOver=true;a(function(){if(o.isMouseStillOver==true){o.rfTooltipContentFunction();if(o.isMouseStillOver==false){q()}}},o.delayDuration)});n.bind("mouseleave",function(){o.isMouseStillOver=false;a(function(){if(o.isMouseOverTooltip==false){q()}},500)});var s=o.$watch(function(t){return t.$parent[t.rfTooltipContentProperty]},function(u,t){o.rfTooltipContent=u;if(o.rfTooltipContent&&o.rfTooltipContent.result&&o.isMouseStillOver){r()}});o.$on("$destroy",function l(){s()});function r(){p=h(o,angular.noop);if(o.rfTooltipPosition=="bottom"){p.css({display:"block"});n.after(p)}else{p.css({top:0,left:0,display:"block"});n.after(p)}var t=d.positionElements(n,p,o.rfTooltipPosition,true);t.top+="px";t.left+="px";p.css(t);p.bind("mouseenter",function(){o.isMouseOverTooltip=true});p.bind("mouseleave",function(){o.isMouseOverTooltip=false;a(function(){q()},500)})}function q(){angular.element(document.querySelectorAll("[rftooltip-popup]")).remove();angular.element(document.querySelectorAll("[sandeshji]")).remove();if(p!=null){p.remove()}p=null;o.rfTooltipContent=null}}}}}}]}).directive("rftooltipPopup",function(){return{restrict:"EA",replace:true,scope:true,templateUrl:ciTooltipTemplateUrl}}).directive("rftooltip",["$rftooltip",function(a){return a()}]);angular.module("rf.ng.position",[]).factory("$position",["$document","$window",function(e,d){var b={auto:/\s?auto?\s?/i,primary:/^(top|bottom|left|right)$/,secondary:/^(top|bottom|left|right|center)$/,vertical:/^(top|bottom)$/};function a(g,h){if(g.currentStyle){return g.currentStyle[h]}else{if(d.getComputedStyle){return d.getComputedStyle(g)[h]}}return g.style[h]}function f(g){return(a(g,"position")||"static")==="static"}var c=function(h){var g=e[0];var i=h.offsetParent||g;while(i&&i!==g&&f(i)){i=i.offsetParent}return i||g};return{position:function(h){var g=this.offset(h);var k={top:0,left:0};var i=c(h[0]);if(i!=e[0]){k=this.offset(angular.element(i));k.top+=i.clientTop-i.scrollTop;k.left+=i.clientLeft-i.scrollLeft}var j=h[0].getBoundingClientRect();return{width:j.width||h.prop("offsetWidth"),height:j.height||h.prop("offsetHeight"),top:g.top-k.top,left:g.left-k.left}},offset:function(g){var h=g[0].getBoundingClientRect();return{width:h.width||g.prop("offsetWidth"),height:h.height||g.prop("offsetHeight"),top:h.top+(d.pageYOffset||e[0].documentElement.scrollTop),left:h.left+(d.pageXOffset||e[0].documentElement.scrollLeft)}},parsePlacement:function(g){var h=b.auto.test(g);if(h){g=g.replace(b.auto,"")}g=g.split("-");g[0]=g[0]||"top";if(!b.primary.test(g[0])){g[0]="top"}g[1]=g[1]||"center";if(!b.secondary.test(g[1])){g[1]="center"}if(h){g[2]=true}else{g[2]=false}return g},positionElements:function(q,s,l,o){var j=l.split("-");var r=j[0],p=j[1]||"center";var m,g,i,k;m=o?this.offset(q):this.position(q);g=s.prop("offsetWidth");i=s.prop("offsetHeight");var h={center:function(){return m.left+m.width/2-g/2},left:function(){return m.left},right:function(){return m.left+m.width}};var n={center:function(){return m.top+m.height/2-i/2},top:function(){return m.top},bottom:function(){return m.top+m.height}};switch(r){case"right":k={top:m.top+m.height/2-i,left:h[r]()};break;case"left":if(userLanguage&&userLanguage=="iw"){k={top:n[p](),left:m.left-g/2}}else{k={top:n[p](),left:m.left-g}}break;case"bottom":if(userLanguage&&userLanguage=="iw"){k={top:n[r](),left:m.left}}else{k={top:n[r](),left:m.left-120}}break;case"top":if(userLanguage&&userLanguage=="iw"){k={top:m.top-180,left:m.left-g/2-50}}else{k={top:m.top-180,left:m.left+m.width}}break;default:k={top:m.top-i,left:h[p]()};break}return k}}}]);