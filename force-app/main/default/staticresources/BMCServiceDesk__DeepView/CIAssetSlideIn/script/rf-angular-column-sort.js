angular.module("rf.ang.column.sort",[]).provider("$rfColumnSort",function(){this.$get=["$window","$compile","$timeout","$document","$filter",function(f,c,b,e,d){return function a(){return{restrict:"AE",scope:true,compile:function(i,g){return function h(m,k,j){m.sortDirection="";m.columnName=j.rfColumnSortColumn;m.tableCollection=j.rfColumnSortCollection;var l='<span ng-class="sortClass()"></span>';var n=c(l)(m);k.append(n);k.bind("click",function(){if(m.$parent.rfColumnSortId==m.$id){m.sortDirection=!m.sortDirection}else{m.sortDirection=false}b(function(){if(m.$parent.$parent.isServerSideSort()){m.$parent.$parent.serverSideSortCallback(m.columnName,m.sortDirection)}else{m.$parent.$parent[m.tableCollection]=d("orderBy")(m.$parent.$parent[m.tableCollection],m.columnName,m.sortDirection)}m.$parent.rfColumnSortId=m.$id})});m.sortClass=function(){if(m.$parent.rfColumnSortId==m.$id){if(m.sortDirection==true){return"d-icon-triangle_down"}else{return"d-icon-triangle_up"}}else{return""}}}}}}}]}).directive("rfColumnSort",["$rfColumnSort",function(a){return a()}]);