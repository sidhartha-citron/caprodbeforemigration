var serviceTargetFields=["status__c","statevalue__c","clockstate__c","targettype__c","timeremaining__c","targetenddate__c","slaname__c","servicetargetname__c","startdate__c","elapsedtime__c"];var namespacePrefix=pageLoadData.namespace;var rootNodeID=pageLoadData.nodeID;var rootNodeAPI=pageLoadData.APIName;var selectedNodeID=rootNodeID;var selectedNodeAPI=rootNodeAPI;var prevSelectedNodeAPI="";var approvalMap={};var queriedElementIDs=[];var rootNodePrefix={Incident__c:"IN",Service_Request__c:"SR",Problem__c:"",Change_Request__c:"",Release__c:"",Task__c:"TS"};var nodeText={Incident__c:"IN",Service_Request__c:"SR",Problem__c:"PR",Change_Request__c:"CR",Release__c:"RS",Task__c:"TS",BMC_BaseElement__c:"CMDBs"};var DeepViewconfiguration={objects:{Incident__c:{label:"Incident",fieldSetName:"Deep_View",relatedObjects:{Incident_CI_Links__r:{ID:"FKConfiguration_Item__c",Type:"BMC_BaseElement__c",reln:""},Incident_Change_Links__r:{ID:"FKChange__c",Type:"Change_Request__c",reln:"FKChange__r"},Release_Incident_Links__r:{ID:"FKRelease__c",Type:"Release__c",reln:"FKRelease__r"},Incident_Problem_Links__r:{ID:"FKProblem__c",Type:"Problem__c",reln:"FKProblem__r"}},manifest:"Incident_Manifests__r",serviceTargetObject:"Incident_Service_Target__c",historyObject:"Incident_Histories__r",actionObjAPI:"IncidentHistory__c",actionParentFldAPI:"FKIncident__c"},Service_Request__c:{label:"Service Request",fieldSetName:"Deep_View",relatedObjects:{Incident_CI_Links__r:{ID:"FKConfiguration_Item__c",Type:"BMC_BaseElement__c",reln:""},Incident_Change_Links__r:{ID:"FKChange__c",Type:"Change_Request__c",reln:"FKChange__r"},Release_Incident_Links__r:{ID:"FKRelease__c",Type:"Release__c",reln:"FKRelease__r"},Incident_Problem_Links__r:{ID:"FKProblem__c",Type:"Problem__c",reln:"FKProblem__r"}},manifest:"Incident_Manifests__r",serviceTargetObject:"Incident_Service_Target__c",historyObject:"Incident_Histories__r",actionObjAPI:"IncidentHistory__c",actionParentFldAPI:"FKIncident__c"},Change_Request__c:{label:"Change Request",fieldSetName:"Deep_View",relatedObjects:{Change_CI_Links__r:{ID:"FKConfiguration_Item__c",Type:"BMC_BaseElement__c",reln:""},Incident_Change_Links__r:{ID:"FKIncident__c",Type:"Incident__c",reln:"FKIncident__r"},Release_Change_Links__r:{ID:"FKRelease__c",Type:"Release__c",reln:"FKRelease__r"},Change_Problem_Links__r:{ID:"FKProblem__c",Type:"Problem__c",reln:"FKProblem__r"}},manifest:"Change_Manifests__r",serviceTargetObject:"Change_Request_Service_Target__c",historyObject:"Change_Histories__r",actionObjAPI:"Change_History__c",actionParentFldAPI:"FKChange__c"},Problem__c:{label:"Problem",fieldSetName:"Deep_View",relatedObjects:{Problem_CI_Links__r:{ID:"FKConfiguration_Item__c",Type:"BMC_BaseElement__c",reln:""},Release_Problem_Links__r:{ID:"FKRelease__c",Type:"Release__c",reln:"FKRelease__r"},Incident_Problem_Links__r:{ID:"FKIncident__c",Type:"Incident__c",reln:"FKIncident__r"},Change_Problem_Links__r:{ID:"FKChange__c",Type:"Change_Request__c",reln:"FKChange__r"}},manifest:"Problem_Manifests__r",serviceTargetObject:"Problem_Service_Target__c",historyObject:"Problem_Histories__r",actionObjAPI:"Problem_History__c",actionParentFldAPI:"FKProblem__c"},Release__c:{label:"Release",fieldSetName:"Deep_View",relatedObjects:{Release_CI_Links__r:{ID:"FKConfiguration_Item__c",Type:"BMC_BaseElement__c",reln:""},Release_Problem_Links__r:{ID:"FKProblem__c",Type:"Problem__c",reln:"FKProblem__r"},Release_Change_Links__r:{ID:"FKChange_Request__c",Type:"Change_Request__c",reln:"FKChange_Request__r"},Release_Incident_Links__r:{ID:"FKIncident__c",Type:"Incident__c",reln:"FKIncident__r"}},manifest:"Release_Manifests__r",serviceTargetObject:"",historyObject:"Release_Histories__r",actionObjAPI:"Release_History__c",actionParentFldAPI:"FKRelease__c"},Task__c:{label:"Task",fieldSetName:"Deep_View",relatedObjects:{BMC_CommonCILinks__r:{ID:"CIInstance__c",Type:"BMC_BaseElement__c",reln:""}},manifest:"",serviceTargetObject:"Task_Service_Target__c",historyObject:"Task_History__r",actionObjAPI:"TaskHistory__c",actionParentFldAPI:"FKWO__c"}},limits:{descText:100}};var imgIcons={Incident__c:{open:deepViewResourceURL+"/styles/images/Incident_42_open.png",closed:deepViewResourceURL+"/styles/images/Incident_42_closed.png",none:deepViewResourceURL+"/styles/images/Incident_32.png"},Service_Request__c:{open:deepViewResourceURL+"/styles/images/ServiceRequest_42_open.png",closed:deepViewResourceURL+"/styles/images/ServiceRequest_42_closed.png",none:deepViewResourceURL+"/styles/images/ServiceRequest_32.png"},Problem__c:{open:deepViewResourceURL+"/styles/images/PROB_42_In-progress.png",closed:deepViewResourceURL+"/styles/images/PROB_42_Complete.png",none:deepViewResourceURL+"/styles/images/PROB_32_Group-icon.png"},Change_Request__c:{open:deepViewResourceURL+"/styles/images/ChangeRequest_42_open.png",closed:deepViewResourceURL+"/styles/images/ChangeRequest_42_closed.png",none:deepViewResourceURL+"/styles/images/ChangeRequest_32.png"},BMC_BaseElement__c:{CI:deepViewResourceURL+"/styles/images/CI_42.png",SERVICE:deepViewResourceURL+"/styles/images/SERVICE_42.png",none:deepViewResourceURL+"/styles/images/CI_32.png"},Release__c:{open:deepViewResourceURL+"/styles/images/Release_42_Open.png",closed:deepViewResourceURL+"/styles/images/Release_42_Closed.png",none:deepViewResourceURL+"/styles/images/Release_32.png"},Task__c:{not_created:deepViewResourceURL+"/styles/images/Task_not_created.png",open:deepViewResourceURL+"/styles/images/Task_open.png",closed:deepViewResourceURL+"/styles/images/Task_closed.png",none:deepViewResourceURL+"/styles/images/Task_32.png"},Approval:{Pending:deepViewResourceURL+"/styles/images/APPROVAL_42_Pending.png",Approved:deepViewResourceURL+"/styles/images/APPROVAL_42_Approved.png",Rejected:deepViewResourceURL+"/styles/images/APPROVAL_42_Rejected.png",Recalled:deepViewResourceURL+"/styles/images/APPROVAL_42_Recalled.png"}};var statusProgress={"0":deepViewResourceURL+"/styles/images/Status_progress_0.png","25":deepViewResourceURL+"/styles/images/Status_progress_25.png","50":deepViewResourceURL+"/styles/images/Status_progress_50.png","75":deepViewResourceURL+"/styles/images/Status_progress_75.png","100":deepViewResourceURL+"/styles/images/Status_100.png"};var metStatus=_Labels.serviceTargetStatus.Met,okStatus=_Labels.serviceTargetStatus.OK,cancelStatus=_Labels.serviceTargetStatus.Cancelled,missStatus=_Labels.serviceTargetStatus.Missed,warningStatus=_Labels.serviceTargetStatus.Warning;var serviceTargetImg={};serviceTargetImg[metStatus]=deepViewResourceURL+"/styles/images/svt-attached_ok_met.png";serviceTargetImg[okStatus]=deepViewResourceURL+"/styles/images/svt-attached_ok_met.png";serviceTargetImg[cancelStatus]=deepViewResourceURL+"/styles/images/svt-cancelled.png";serviceTargetImg[missStatus]=deepViewResourceURL+"/styles/images/svt-missed.png";serviceTargetImg[warningStatus]=deepViewResourceURL+"/styles/images/svt-warning.png";var approvalStyle={Approved:"approvalApproved",Rejected:"approvalRejected"};var autoCompleteHTML='<div id="autoSuggestContainer" class="auto-suggest" ng-show="showUserAutoSuggestion" ng-mouseover="isFocusOnAutosuggestionContainer = true" ng-mouseleave="isFocusOnAutosuggestionContainer=false"><span class="user-suggestion auto-suggest-separator" ng-show="isContactsEnabled">{{_Labels.modal.Users}}</span><span ng-show="userResults.length > 0" ng-repeat="user in userResults" class="user-suggestion" ng-click="populateEmailInput(user.Email)" ng-class="{selectedmail :user.isSelected,nonselectedmail:!user.isSelected}" ng-mouseover="setSelectedIndex($index)" ng-mouseover="isFocusOnAutosuggestion = true" ng-mouseleave="isFocusOnAutosuggestion=false"><img class="user-suggestion" src="{{user.SmallPhotoUrl}}" height="25" width="25"/><span class="auto-suggest-result" title="{{user.Name}} ({{ user.Email}})"><span class="auto-suggestion-name" ng-bind="user.Name"></span> (<span ng-bind="user.Email"/>)</span></span><span ng-show="userResults.length == 0 && isContactsEnabled"  class="user-suggestion auto-suggestion-no-result">{{_Labels.message.noActivityFound}}</span><span class="user-suggestion auto-suggest-separator" ng-show="isContactsEnabled" >{{_Labels.modal.Contacts}}</span><span ng-show="contactResults.length > 0 && isContactsEnabled" ng-repeat="contact in contactResults" class="user-suggestion" style="height:27px;" ng-click="populateEmailInput(contact.Email)" ng-class="{selectedmail :contact.isSelected,nonselectedmail:!contact.isSelected}" ng-mouseover="setSelectedIndex(userResults.length + $index)" ng-mouseover="isFocusOnAutosuggestion = true" ng-mouseleave="isFocusOnAutosuggestion=false"><span class="auto-suggest-result" title="{{contact.Name}} ({{ contact.Email}})"><span class="auto-suggestion-name" ng-bind="contact.Name"></span> (<span ng-bind="contact.Email"/>)</span></span><span ng-if="contactResults.length == 0 && isContactsEnabled" class="user-suggestion auto-suggestion-no-result">{{_Labels.message.noActivityFound}}</span></div>';