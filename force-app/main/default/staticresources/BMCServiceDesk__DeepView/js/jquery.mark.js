/*!***************************************************
 * mark.js v8.6.0
 * https://github.com/julmot/mark.js
 * Copyright (c) 2014–2017, Julian Motz
 * Released under the MIT license https://git.io/vwTVl
 *****************************************************/
"use strict";var _extends=Object.assign||function(d){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var a in c){if(Object.prototype.hasOwnProperty.call(c,a)){d[a]=c[a]}}}return d};var _createClass=function(){function a(e,c){for(var b=0;b<c.length;b++){var d=c[b];d.enumerable=d.enumerable||false;d.configurable=true;if("value" in d){d.writable=true}Object.defineProperty(e,d.key,d)}}return function(d,b,c){if(b){a(d.prototype,b)}if(c){a(d,c)}return d}}();var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol==="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};function _classCallCheck(a,b){if(!(a instanceof b)){throw new TypeError("Cannot call a class as a function")}}(function(b,c,a){if(typeof define==="function"&&define.amd){define(["jquery"],function(d){return b(c,a,d)})}else{if((typeof module==="undefined"?"undefined":_typeof(module))==="object"&&module.exports){module.exports=b(c,a,require("jquery"))}else{b(c,a,jQuery)}}})(function(c,a,e){var d=function(){function v(D){_classCallCheck(this,v);this.ctx=D;this.ie=false;var E=c.navigator.userAgent;if(E.indexOf("MSIE")>-1||E.indexOf("Trident")>-1){this.ie=true}}_createClass(v,[{key:"log",value:function o(E){var F=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"debug";var D=this.opt.log;if(!this.opt.debug){return}if((typeof D==="undefined"?"undefined":_typeof(D))==="object"&&typeof D[F]==="function"){D[F]("mark.js: "+E)}}},{key:"escapeStr",value:function h(D){return D.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}},{key:"createRegExp",value:function B(D){D=this.escapeStr(D);if(Object.keys(this.opt.synonyms).length){D=this.createSynonymsRegExp(D)}if(this.opt.ignoreJoiners){D=this.setupIgnoreJoinersRegExp(D)}if(this.opt.diacritics){D=this.createDiacriticsRegExp(D)}D=this.createMergedBlanksRegExp(D);if(this.opt.ignoreJoiners){D=this.createIgnoreJoinersRegExp(D)}D=this.createAccuracyRegExp(D);return D}},{key:"createSynonymsRegExp",value:function k(I){var D=this.opt.synonyms,F=this.opt.caseSensitive?"":"i";for(var E in D){if(D.hasOwnProperty(E)){var G=D[E],J=this.escapeStr(E),H=this.escapeStr(G);I=I.replace(new RegExp("("+J+"|"+H+")","gm"+F),"("+J+"|"+H+")")}}return I}},{key:"setupIgnoreJoinersRegExp",value:function p(D){return D.replace(/[^(|)\\]/g,function(H,F,E){var G=E.charAt(F+1);if(/[(|)\\]/.test(G)||G===""){return H}else{return H+"\0"}})}},{key:"createIgnoreJoinersRegExp",value:function i(D){return D.split("\0").join("[\\u00ad|\\u200b|\\u200c|\\u200d]?")}},{key:"createDiacriticsRegExp",value:function n(G){var E=this.opt.caseSensitive?"":"i",D=this.opt.caseSensitive?["aàáâãäåāąă","AÀÁÂÃÄÅĀĄĂ","cçćč","CÇĆČ","dđď","DĐĎ","eèéêëěēę","EÈÉÊËĚĒĘ","iìíîïī","IÌÍÎÏĪ","lł","LŁ","nñňń","NÑŇŃ","oòóôõöøō","OÒÓÔÕÖØŌ","rř","RŘ","sšśș","SŠŚȘ","tťț","TŤȚ","uùúûüůū","UÙÚÛÜŮŪ","yÿý","YŸÝ","zžżź","ZŽŻŹ"]:["aÀÁÂÃÄÅàáâãäåĀāąĄăĂ","cÇçćĆčČ","dđĐďĎ","eÈÉÊËèéêëěĚĒēęĘ","iÌÍÎÏìíîïĪī","lłŁ","nÑñňŇńŃ","oÒÓÔÕÖØòóôõöøŌō","rřŘ","sŠšśŚșȘ","tťŤțȚ","uÙÚÛÜùúûüůŮŪū","yŸÿýÝ","zŽžżŻźŹ"];var F=[];G.split("").forEach(function(H){D.every(function(I){if(I.indexOf(H)!==-1){if(F.indexOf(I)>-1){return false}G=G.replace(new RegExp("["+I+"]","gm"+E),"["+I+"]");F.push(I)}return true})});return G}},{key:"createMergedBlanksRegExp",value:function u(D){return D.replace(/[\s]+/gmi,"[\\s]+")}},{key:"createAccuracyRegExp",value:function l(H){var I=this;var F=this.opt.accuracy,G=typeof F==="string"?F:F.value,D=typeof F==="string"?[]:F.limiters,E="";D.forEach(function(J){E+="|"+I.escapeStr(J)});switch(G){case"partially":default:return"()("+H+")";case"complementary":return"()([^\\s"+E+"]*"+H+"[^\\s"+E+"]*)";case"exactly":return"(^|\\s"+E+")("+H+")(?=$|\\s"+E+")"}}},{key:"getSeparatedKeywords",value:function x(E){var F=this;var D=[];E.forEach(function(G){if(!F.opt.separateWordSearch){if(G.trim()&&D.indexOf(G)===-1){D.push(G)}}else{G.split(" ").forEach(function(H){if(H.trim()&&D.indexOf(H)===-1){D.push(H)}})}});return{keywords:D.sort(function(H,G){return G.length-H.length}),length:D.length}}},{key:"getTextNodes",value:function q(D){var F=this;var G="",E=[];this.iterator.forEachNode(NodeFilter.SHOW_TEXT,function(H){E.push({start:G.length,end:(G+=H.textContent).length,node:H})},function(H){if(F.matchesExclude(H.parentNode,true)){return NodeFilter.FILTER_REJECT}else{return NodeFilter.FILTER_ACCEPT}},function(){D({value:G,nodes:E})})}},{key:"matchesExclude",value:function f(D,F){var E=this.opt.exclude.concat(["script","style","title","head","html"]);if(F){E=E.concat(["*[data-markjs='true']"])}return b.matches(D,E)}},{key:"wrapRangeInTextNode",value:function C(G,J,D){var I=!this.opt.element?"mark":this.opt.element,F=G.splitText(J),E=F.splitText(D-J);var H=a.createElement(I);H.setAttribute("data-markjs","true");if(this.opt.className){H.setAttribute("class",this.opt.className)}H.textContent=F.textContent;F.parentNode.replaceChild(H,F);return E}},{key:"wrapRangeInMappedTextNode",value:function g(I,H,D,F,E){var G=this;I.nodes.every(function(M,L){var K=I.nodes[L+1];if(typeof K==="undefined"||K.start>H){var J=function(){var P=H-M.start,Q=(D>M.end?M.end:D)-M.start;if(F(M.node)){M.node=G.wrapRangeInTextNode(M.node,P,Q);var O=I.value.substr(0,M.start),N=I.value.substr(Q+M.start);I.value=O+N;I.nodes.forEach(function(R,S){if(S>=L){if(I.nodes[S].start>0&&S!==L){I.nodes[S].start-=Q}I.nodes[S].end-=Q}});D-=Q;E(M.node.previousSibling,M.start);if(D>M.end){H=M.end}else{return{v:false}}}}();if((typeof J==="undefined"?"undefined":_typeof(J))==="object"){return J.v}}return true})}},{key:"wrapMatches",value:function j(I,H,G,F,J){var E=this;var D=H===0?0:H+1;this.getTextNodes(function(K){K.nodes.forEach(function(N){N=N.node;var L=void 0;while((L=I.exec(N.textContent))!==null&&L[D]!==""){if(!G(L[D],N)){continue}var O=L.index;if(D!==0){for(var M=1;M<D;M++){O+=L[M].length}}N=E.wrapRangeInTextNode(N,O,O+L[D].length);F(N.previousSibling);I.lastIndex=0}});J()})}},{key:"wrapMatchesAcrossElements",value:function m(I,H,G,F,J){var E=this;var D=H===0?0:H+1;this.getTextNodes(function(O){var L=void 0;while((L=I.exec(O.value))!==null&&L[D]!==""){var N=L.index;if(D!==0){for(var M=1;M<D;M++){N+=L[M].length}}var K=N+L[D].length;E.wrapRangeInMappedTextNode(O,N,K,function(P){return G(L[D],P)},function(P,Q){I.lastIndex=Q;F(P)})}J()})}},{key:"unwrapMatches",value:function y(F){var E=F.parentNode;var D=a.createDocumentFragment();while(F.firstChild){D.appendChild(F.removeChild(F.firstChild))}E.replaceChild(D,F);if(!this.ie){E.normalize()}else{this.normalizeTextNode(E)}}},{key:"normalizeTextNode",value:function z(D){if(!D){return}if(D.nodeType===3){while(D.nextSibling&&D.nextSibling.nodeType===3){D.nodeValue+=D.nextSibling.nodeValue;D.parentNode.removeChild(D.nextSibling)}}else{this.normalizeTextNode(D.firstChild)}this.normalizeTextNode(D.nextSibling)}},{key:"markRegExp",value:function s(I,G){var D=this;this.opt=G;this.log('Searching with expression "'+I+'"');var F=0,H="wrapMatches";var E=function E(J){F++;D.opt.each(J)};if(this.opt.acrossElements){H="wrapMatchesAcrossElements"}this[H](I,this.opt.ignoreGroups,function(J,K){return D.opt.filter(K,J,F)},E,function(){if(F===0){D.opt.noMatch(I)}D.opt.done(F)})}},{key:"mark",value:function r(K,E){var H=this;this.opt=E;var L=0,J="wrapMatches";var G=this.getSeparatedKeywords(typeof K==="string"?[K]:K),F=G.keywords,D=G.length,I=this.opt.caseSensitive?"":"i",M=function M(O){var N=new RegExp(H.createRegExp(O),"gm"+I),P=0;H.log('Searching with expression "'+N+'"');H[J](N,1,function(Q,R){return H.opt.filter(R,O,L,P)},function(Q){P++;L++;H.opt.each(Q)},function(){if(P===0){H.opt.noMatch(O)}if(F[D-1]===O){H.opt.done(L)}else{M(F[F.indexOf(O)+1])}})};if(this.opt.acrossElements){J="wrapMatchesAcrossElements"}if(D===0){this.opt.done(L)}else{M(F[0])}}},{key:"unmark",value:function w(D){var F=this;this.opt=D;var E=this.opt.element?this.opt.element:"*";E+="[data-markjs]";if(this.opt.className){E+="."+this.opt.className}this.log('Removal selector "'+E+'"');this.iterator.forEachNode(NodeFilter.SHOW_ELEMENT,function(G){F.unwrapMatches(G)},function(I){var G=b.matches(I,E),H=F.matchesExclude(I,false);if(!G||H){return NodeFilter.FILTER_REJECT}else{return NodeFilter.FILTER_ACCEPT}},this.opt.done)}},{key:"opt",set:function t(H){this._opt=_extends({},{element:"",className:"",exclude:[],iframes:false,separateWordSearch:true,diacritics:true,synonyms:{},accuracy:"partially",acrossElements:false,caseSensitive:false,ignoreJoiners:false,ignoreGroups:0,each:function G(){},noMatch:function E(){},filter:function F(){return true},done:function D(){},debug:false,log:c.console},H)},get:function A(){return this._opt}},{key:"iterator",get:function A(){if(!this._iterator){this._iterator=new b(this.ctx,this.opt.iframes,this.opt.exclude)}return this._iterator}}]);return v}();var b=function(){function h(u){var w=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;var v=arguments.length>2&&arguments[2]!==undefined?arguments[2]:[];_classCallCheck(this,h);this.ctx=u;this.iframes=w;this.exclude=v}_createClass(h,[{key:"getContexts",value:function q(){var u=void 0,v=[];if(typeof this.ctx==="undefined"||!this.ctx){u=[]}else{if(NodeList.prototype.isPrototypeOf(this.ctx)){u=Array.prototype.slice.call(this.ctx)}else{if(Array.isArray(this.ctx)){u=this.ctx}else{if(typeof this.ctx==="string"){u=Array.prototype.slice.call(a.querySelectorAll(this.ctx))}else{u=[this.ctx]}}}}u.forEach(function(w){var x=v.filter(function(y){return y.contains(w)}).length>0;if(v.indexOf(w)===-1&&!x){v.push(w)}});return v}},{key:"getIframeContents",value:function n(z,u){var y=arguments.length>2&&arguments[2]!==undefined?arguments[2]:function(){};var x=void 0;try{var v=z.contentWindow;x=v.document;if(!v||!x){throw new Error("iframe inaccessible")}}catch(w){y()}if(x){u(x)}}},{key:"onIframeReady",value:function s(y,u,x){var w=this;try{(function(){var C=y.contentWindow,D="about:blank",B="complete",z=function z(){var F=y.getAttribute("src").trim(),E=C.location.href;return E===D&&F!==D&&F},A=function A(){var E=function E(){try{if(!z()){y.removeEventListener("load",E);w.getIframeContents(y,u,x)}}catch(F){x()}};y.addEventListener("load",E)};if(C.document.readyState===B){if(z()){A()}else{w.getIframeContents(y,u,x)}}else{A()}})()}catch(v){x()}}},{key:"waitForIframes",value:function r(v,u){var x=this;var w=0;this.forEachIframe(v,function(){return true},function(y){w++;x.waitForIframes(y.querySelector("html"),function(){if(!--w){u()}})},function(y){if(!y){u()}})}},{key:"forEachIframe",value:function t(C,u,B){var x=this;var v=arguments.length>3&&arguments[3]!==undefined?arguments[3]:function(){};var w=C.querySelectorAll("iframe"),z=w.length,A=0;w=Array.prototype.slice.call(w);var y=function y(){if(--z<=0){v(A)}};if(!z){y()}w.forEach(function(D){if(h.matches(D,x.exclude)){y()}else{x.onIframeReady(D,function(E){if(u(D)){A++;B(E)}y()},y)}})}},{key:"createIterator",value:function k(u,w,v){return a.createNodeIterator(u,w,v,false)}},{key:"createInstanceOnIframe",value:function p(u){return new h(u.querySelector("html"),this.iframes)}},{key:"compareNodeIframe",value:function g(w,u,A){var z=w.compareDocumentPosition(A),v=Node.DOCUMENT_POSITION_PRECEDING;if(z&v){if(u!==null){var x=u.compareDocumentPosition(A),y=Node.DOCUMENT_POSITION_FOLLOWING;if(x&y){return true}}else{return true}}return false}},{key:"getIteratorNode",value:function l(v){var u=v.previousNode();var w=void 0;if(u===null){w=v.nextNode()}else{w=v.nextNode()&&v.nextNode()}return{prevNode:u,node:w}}},{key:"checkIframeFilter",value:function f(w,u,x,z){var v=false,y=false;z.forEach(function(B,A){if(B.val===x){v=A;y=B.handled}});if(this.compareNodeIframe(w,u,x)){if(v===false&&!y){z.push({val:x,handled:true})}else{if(v!==false&&!y){z[v].handled=true}}return true}if(v===false){z.push({val:x,handled:false})}return false}},{key:"handleOpenIframes",value:function i(y,x,w,u){var v=this;y.forEach(function(z){if(!z.handled){v.getIframeContents(z.val,function(A){v.createInstanceOnIframe(A).forEachNode(x,w,u)})}})}},{key:"iterateThroughNodes",value:function o(C,F,E,B,D){var x=this;var A=this.createIterator(F,C,B);var y=[],u=[],w=void 0,v=void 0,z=function z(){var G=x.getIteratorNode(A);v=G.prevNode;w=G.node;return w};while(z()){if(this.iframes){this.forEachIframe(F,function(G){return x.checkIframeFilter(w,v,G,y)},function(G){x.createInstanceOnIframe(G).forEachNode(C,E,B)})}u.push(w)}u.forEach(function(G){E(G)});if(this.iframes){this.handleOpenIframes(y,C,E,B)}D()}},{key:"forEachNode",value:function j(z,y,x){var w=this;var u=arguments.length>3&&arguments[3]!==undefined?arguments[3]:function(){};var A=this.getContexts();var v=A.length;if(!v){u()}A.forEach(function(B){var C=function C(){w.iterateThroughNodes(z,B,y,x,function(){if(--v<=0){u()}})};if(w.iframes){w.waitForIframes(B,C)}else{C()}})}}],[{key:"matches",value:function m(x,u){var w=typeof u==="string"?[u]:u,y=x.matches||x.matchesSelector||x.msMatchesSelector||x.mozMatchesSelector||x.oMatchesSelector||x.webkitMatchesSelector;if(y){var v=false;w.every(function(z){if(y.call(x,z)){v=true;return false}return true});return v}else{return false}}}]);return h}();e.fn.mark=function(f,g){new d(this.get()).mark(f,g);return this};e.fn.markRegExp=function(g,f){new d(this.get()).markRegExp(g,f);return this};e.fn.unmark=function(f){new d(this.get()).unmark(f);return this};return e},window,document);