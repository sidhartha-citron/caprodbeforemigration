function setPrimaryCI(a,c){if(a!=null&&a!=""&&a!="undefined"){var b=angular.element(document.getElementById("consoleMainController")).scope();b.$apply(function(){b.populateLookupField(a,c)})}}function refreshRelatedLists(){var a=angular.element(document.getElementById("consoleMainController")).scope();a.$apply(function(){a.getAdditionalCIsDetails(null)})}function refreshAll(){var a=angular.element(document.getElementById("consoleMainController")).scope();a.$apply(function(){a.refreshAll(true)})}document.onclick=function(f){var d=f.target||f.srcElement;var c=event.target.id;if(d.id.indexOf("InstanceFilter")==-1){var g=document.getElementsByClassName("instancefilter-content");var b;for(b=0;b<g.length;b++){var a=g[b];if(a.classList.contains("show")){a.classList.remove("show")}}}if(d.id.indexOf("ClassFilter")==-1){var g=document.getElementsByClassName("classfilter-content");var b;for(b=0;b<g.length;b++){var a=g[b];if(a.classList.contains("show")){a.classList.remove("show")}}}};var lookupFilterIDMap={};lookupFilterIDMap[orgNamespace+"FKBusinessService__c"]=orgNamespace+"FKBusinessService__c_name_lkid";var currentConsole="",isFlattenedCmdb=true;var parentObject=pageLoadData.objectName;if(parentObject.indexOf("Incident__c")!=-1){currentConsole="Incident"}else{if(parentObject.indexOf("Task__c")!=-1){currentConsole="Task"}else{if(parentObject.indexOf("Problem__c")!=-1){currentConsole="Problem"}else{if(parentObject.indexOf("Release__c")!=-1){currentConsole="Release"}else{if(parentObject.indexOf("Change_Request__c")!=-1){currentConsole="Change Request"}}}}}var additionalParams=[];typeAheadDivId="autocompleteDiv";initiateTypeAhead("autocompleteDiv","parentTypeAheadDiv",additionalParams);var ciId=orgNamespace+"FKBMC_BaseElement__c_name",serviceId=orgNamespace+"FKBusinessService__c_name",offeringId=orgNamespace+"FKServiceOffering__c_name",buisnessServiceId="000000000000000";var hiddenServiceId=orgNamespace+"FKBusinessService__c_name_lkid";if(hiddenServiceId){var serviceEleForId=document.getElementById(hiddenServiceId);if(serviceEleForId){buisnessServiceId=serviceEleForId.value}else{buisnessServiceId=""}}function setMandatoryFieldValue(a,b){}function getHTMLInputID(b){var a=lookupFilterIDMap[b];if((typeof(a)!="undefined"&&a!=null&&a.length!=0)){return a}b=b.replace(orgNamespace,"");a=lookupFilterIDMap[b];return a}function getFilterClauseForTypeAhead(a,c){var b="";if(a.indexOf("FKServiceOffering__c")!=-1){if(buisnessServiceId!=null&&buisnessServiceId!=""&&buisnessServiceId!="undefined"&&buisnessServiceId!="000000000000000"){b="active_be¬flat_offering_bsid¬"+buisnessServiceId}else{b="active_be¬flat_offering"}}else{if(a.indexOf("FKBusinessService__c")!=-1){if(!c&&isFlattenedCmdb){b="active_be¬flat_service"}else{b="active_be_parent¬service"}}}return b}function getFilterCondition(f,c,e,d,b){var a="";if(currentConsole=="Incident"){if(d.indexOf("FKBusinessService__c")!=-1||d.indexOf("FKServiceOffering__c")!=-1){return getFilterClauseForTypeAhead(d,f)}if(!f&&d.indexOf("FKBMC_BaseElement__c")!=-1){return"active_be"}}return a}var readAccessClassIds="",readAccessRBAClassIds="";var parentWindow=window.parent;if(parentWindow&&typeof(parentWindow.readAccessClassIds)!="undefined"){readAccessClassIds=parentWindow.readAccessClassIds}if(parentWindow&&typeof(parentWindow.readAccessRBAClassIds)!="undefined"){readAccessRBAClassIds=parentWindow.readAccessRBAClassIds}function fetchTypeAheadData(a,h,g,i){if(a&&a.value.length==0){var c=a.id;if(c&&c.indexOf("_name")!=-1){var f=c.replace("name","name_lkid");document.getElementById(f).value=""}}else{var d="";var b=(g.toLowerCase().replace(orgNamespace.toLowerCase(),""));if(window.parent!=null&&window.parent!=undefined&&typeof(window.parent.getLookupFilterQuery)=="function"){d=window.parent.getLookupFilterQuery(b)}queryData(a,h,i,d)}}function setDivPosition(d){var c=[d.offsetLeft,d.offsetTop];var b;while(d.offsetParent!=null){var a=d.offsetParent;c[0]+=a.offsetLeft-a.scrollLeft;b=a.offsetTop-a.scrollTop;if(b<0){b=0}c[1]+=b;d=a}return c};