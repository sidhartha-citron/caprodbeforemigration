

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <meta name="GENERATOR" content="Quadralay WebWorks Publisher 2003 for FrameMaker 8.6.6587.0" />
    <meta name="TEMPLATEBASE" content="BMC_WebWorksHelp_52407" />
    <meta name="LASTUPDATED" content="06/11/14 13:56:47" />
    <title>BMC Atrium DiscoveryでのKJBファイルとKTRファイルの概要</title>
    <link rel="StyleSheet" href="Remedy.css" type="text/css" />
    <link rel="StyleSheet" href="catalog.css" type="text/css" />
<script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/context.js"></script>
  <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/towwhdir.js"></script>
  <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/wwhpagef.js"></script>

  <script type="text/javascript" language="JavaScript1.2">
   <!--
    // Set reference to top level help frame
    //
    var  WWHFrame = WWHGetWWHFrame("");
   // -->
  </script>

    <script type="text/javascript" language="JavaScript1.2" src="scripts/expand.js"></script>
  </head>

  <body onLoad="WWHUpdate();" onUnload="WWHUnload();" onKeyDown="WWHHandleKeyDown((document.all||document.getElementById||document.layers)?event:null);" onKeyPress="WWHHandleKeyPress((document.all||document.getElementById||document.layers)?event:null);" onKeyUp="WWHHandleKeyUp((document.all||document.getElementById||document.layers)?event:null);">

    
    

    <blockquote>
<script type="text/javascript" language="JavaScript1.2">
   WWHFrame.WWHHelp.mRemedyTitle = "BMC Atrium DiscoveryでのKJBファイルとKTRファイルの概要";
   WWHFrame.WWHHelp.fRemedyShowTitle();
</script><a name="wp916116"> </a><p class="pBody">Pentahoでは、メタデータはファイルシステムにXML形式で保存されます。このとき、変換はKTRファイルで、ジョブはKJBファイルで保存されます。</p>
<a name="wp916128"> </a><p class="pBody">使用しているCMDBバージョンによって、それぞれ異なるPentahoパッケージフォルダを使用する必要があります。使用できるPentahoフォルダについては、<a href="javascript:WWHClickedPopup('BMC_Remedyforce_help', 'importing_data-06.htm');" onMouseOver="WWHShowPopup('BMC_Remedyforce_help', 'importing_data-06.htm', (document.all||document.getElementById||document.layers)?event:null);" onMouseOut="WWHHidePopup();">CMDB 1.0および2.0用のPentahoパッケージ</a>を参照してください。</p>
<a name="wp810443"> </a><p class="pBody">KTRファイルには1つの変換が含まれています。提供されているKTRファイルには、すべてのCIタイプに対応する次の変換が含まれています。</p>
<a name="wp916184"> </a><p class="pBodyRelative"></p>
<div align="left">
<table border="1" cellpadding="3" id="wp916191table916189">
  <caption></caption>
  <tr align="left" valign="top">    <th><a name="wp916191"> </a><div class="pCellHeading">
手順&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;
</div>
</th>
    <th><a name="wp916193"> </a><div class="pCellHeading">
説明
</div>
</th>
</tr>
  <tr align="left" valign="top">    <td 
width=25% 
 
><a name="wp916195"> </a><div class="pCellBody">
デルタタイムスタンプ
</div>
</td>
    <td 
 
><a name="wp916197"> </a><div class="pCellBody">
保存したタイムスタンプを読み取ります。
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td 
width=25% 
 
><a name="wp916199"> </a><div class="pCellBody">
CSV URLの作成
</div>
</td>
    <td 
 
><a name="wp916201"> </a><div class="pCellBody">
BMC Atrium Discoveryを検索して対応するCIタイプのデータを取得するURLが作成され、BMC Atrium Discoveryサーバーの資格情報が受け入れられます。
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td 
width=25% 
 
><a name="wp916203"> </a><div class="pCellBody">
ADDM入力
</div>
</td>
    <td 
 
><a name="wp916205"> </a><div class="pCellBody">
BMC Atrium Discoveryの検索用に作成されたURLで、照会されたフィールドが表示されます。
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td 
width=25% 
 
><a name="wp916207"> </a><div class="pCellBody">
ADDM変数の変換
</div>
</td>
    <td 
 
><a name="wp916209"> </a><div class="pCellBody">
フィールドの追加や削除など、JavaScriptの変換が容易になります。
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td 
width=25% 
 
><a name="wp916211"> </a><div class="pCellBody">
クラス&lt;<span style="font-style: normal">CIタイプ名</span>&gt;にアップサート
</div>
</td>
    <td 
 
><a name="wp916213"> </a><div class="pCellBody">
インポートしたデータの保存先とする、データおよびSalesforce組織の資格情報の宛先が受け入れられます。
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td 
width=25% 
 
><a name="wp916215"> </a><div class="pCellBody">
<span style="font-style: normal">（CMDB 2.0の場合のみ）</span>Salesforce Input[CMDB_Class]（Salesforce入力[CMDB_Class]）
</div>
</td>
    <td 
 
><a name="wp916217"> </a><div class="pCellBody">
BMC Remedyforce CMDBクラスの詳細を取得するためのSalesforce組織のアクセス詳細が受け入れられます。
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td 
width=25% 
 
><a name="wp916219"> </a><div class="pCellBody">
成功行
</div>
</td>
    <td 
 
><a name="wp916221"> </a><div class="pCellBody">
正常にインポートされた行が保存されます。
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td 
width=25% 
 
><a name="wp916223"> </a><div class="pCellBody">
失敗行
</div>
</td>
    <td 
 
><a name="wp916225"> </a><div class="pCellBody">
インポートされなかった行、エラーコード、エラーの説明、エラーフィールドが保存されます。
</div>
</td>
</tr>
</table>
</div>
<p class="pBodyRelative">
</p>

<a name="wp810481"> </a><p class="pBody">ジョブファイルには一連の変換処理が含まれています。提供されているKJBファイルには、次の手順が含まれています。</p>
<a name="wp925984"> </a><p class="pBodyRelative"></p>
<div align="left">
<table border="1" cellpadding="3" id="wp925959table925957">
  <caption></caption>
  <tr align="left" valign="top">    <th><a name="wp925959"> </a><div class="pCellHeading">
手順&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;
</div>
</th>
    <th><a name="wp925961"> </a><div class="pCellHeading">
説明
</div>
</th>
</tr>
  <tr align="left" valign="top">    <td 
width=25% 
 
><a name="wp925963"> </a><div class="pCellBody">
デルタタイムスタンプファイルの有無の確認
</div>
</td>
    <td 
 
><a name="wp925965"> </a><div class="pCellBody">
タイムスタンプファイルが存在するかどうかが確認されます。
</div>
<a name="wp925966"> </a><div class="pCellBody">
Pentahoパッケージでは、タイムスタンプファイルを使用して、ジョブを最後に実行してから追加または変更されたレコードが確認されます。この手順は、インクリメンタルインポートを実行するために必要です。
</div>
<a name="wp925967"> </a><div class="pCellBody">
タイムスタンプファイルが存在しない場合は<span style="font-weight: normal">［</span><b style="font-weight: bold" class="cBold">タイムスタンプの初期ファイルの作成</b><span style="font-weight: normal">］</span>手順が実行され、それ以外の場合は<span style="font-weight: normal">［</span><b style="font-style: normal; font-weight: bold" class="cBold">ステージリストをADDM&lt;</b><span style="font-style: normal; font-weight: normal">CIタイプ名</span><b style="font-weight: bold" class="cBold">&gt;情報で更新</b><span style="font-weight: normal">］</span>または<span style="font-weight: normal">［</span><b style="font-style: normal; font-weight: bold" class="cBold">BEテーブルをADDM&lt;</b><span style="font-style: normal; font-weight: normal">CI タイプ名</span><b style="font-weight: bold" class="cBold">&gt;情報で更新</b><span style="font-weight: normal">］</span>手順が実行されます。
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td 
width=25% 
 
><a name="wp925969"> </a><div class="pCellBody">
タイムスタンプの初期ファイルの作成
</div>
</td>
    <td 
 
><a name="wp925971"> </a><div class="pCellBody">
インポートの時間を記録するタイムスタンプファイルが作成されます。この手順は、ファイルを初めてインポートするとき、または既存のタイムスタンプファイルを削除したときにだけ実行されます。
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td 
width=25% 
 
><a name="wp925973"> </a><div class="pCellBody">
<span style="font-style: normal">（CMDB 1.0の場合のみ）</span>ステージリストをADDM&lt;<span style="font-style: normal">CIタイプ名</span>&gt;情報で更新
</div>
</td>
    <td 
 
><a name="wp925975"> </a><div class="pCellBody">
ステージリストを使用してBMC Atrium DiscoveryからBMC Remedyforce CMDBにデータが転送されます。
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td 
width=25% 
 
><a name="wp925977"> </a><div class="pCellBody">
<span style="font-style: normal">（CMDB 2.0の場合のみ）</span>BEテーブルをADDM&lt;<span style="font-style: normal">CIタイプ名</span>&gt;情報で更新
</div>
</td>
    <td 
 
><a name="wp925979"> </a><div class="pCellBody">
BMC Atrium DiscoveryからBMC Remedyforce CMDBの基本要素オブジェクトにデータが転送されます。
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td 
width=25% 
 
><a name="wp925981"> </a><div class="pCellBody">
現在のタイムスタンプの保存
</div>
</td>
    <td 
 
><a name="wp926460"> </a><div class="pCellBody">
データのインポートが成功すると、インポート時間が保存されます。
</div>
<a name="wp926461"> </a><div class="pCellBody">
たとえば、ComputerSystemジョブファイル<span style="font-weight: bold">（</span><b class="cBold">TransferADDM(CS)InfotoCMDB.kjb</b>）には、次の変換KTRファイルが含まれています。
</div>
<div class="pSmartList1"><ul class="pSmartList1">
<a name="wp926462"> </a><div class="pSmartList1"><li>CreateInitialTimeStampedFileForADDM(CS).ktr</li></div>
<a name="wp926463"> </a><div class="pSmartList1"><li>TransferADDM(CS)InfoToCMDB.ktr</li></div>
<a name="wp926464"> </a><div class="pSmartList1"><li>StoreADDM(CS)Timestamp.ktr</li></div>
</ul></div>
</td>
</tr>
</table>
</div>
<p class="pBodyRelative">
</p>

<a name="wp810536"> </a><p class="pBody">KTRファイルには、BMC Atrium DiscoveryのフィールドとRemedyforce CMDBのフィールドの間のマッピングが含まれています。CMDB 1.0では、CMDBデータベースのすべてのフィールドが列として格納されているCMDBステージオブジェクトにBMC Atrium Discoveryのフィールドがマッピングされます。インポートされたデータは、CMDBデータベースへ保存される前に、まずCMDBステージオブジェクトへ保存されます。CMDB 2.0では、データがCMDB（基本要素オブジェクト）に直接インポートされます。</p>



  <script type="text/javascript" language="JavaScript1.2">
   <!--
    // Clear related topics
    //
    WWHClearRelatedTopics();

   // -->
  </script>
    </blockquote>

    
<hr class="REM"/>

<table align="center" border="0" cellspacing="0" cellpadding="0">
  <tr>
    <td width="577" align="center"><p class="copyright">

 &#169; Copyright  2010-2014
 BMC Software, Inc. All rights reserved.<br/>

サポートが必要な場合は、BMC Remedyforce管理者にお問い合わせください。 
ドキュメントに関するご質問またはコメントについては、<a href="mailto:doc_feedback@bmc.com">doc_feedback@bmc.com</a>までメールをお願いいたします。 

    </p></td>
  </tr>
</table>



<script type="text/javascript" language="JavaScript1.2">
   <!--
    document.write(WWHRelatedTopicsDivTag() + WWHPopupDivTag() + WWHALinksDivTag());
   // -->
  </script>

  </body>
</html>
