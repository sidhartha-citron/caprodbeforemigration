<!--
 - Created by timothychiang on 2020-04-11.
 -->

<!-- Multi Select -->
<template>

	<div class={formElementStyle}>
		<label class={labelStyle}
			   for="combobox-input-1">
			<abbr class={requiredStyle}
				  title="required">* </abbr>
			{fieldLabel}
		</label>
		<div class="slds-form-element__control">
			<div class="slds-combobox_container">

				<div class={mainDivClass}
					 aria-expanded="false"
					 aria-haspopup="listbox"
					 role="combobox">
					<div class="slds-combobox__form-element slds-input-has-icon slds-input-has-icon_right"
						 role="none">
						<input type="text"
							   class="slds-hide "
							   id="combobox-input-1"
							   autocomplete="off"
							   role="textbox">
						<div onclick={handleClick}
							 class="slds-input slds-combobox__input"
							 style="padding-left: .175rem;"
							 id="combobox-div-1"
							 aria-controls="listbox-id-1">{hintText}
							<lightning-pill-container items={selectedPills}
													  onitemremove={handlePillRemove}
													  variant="bare"></lightning-pill-container>
						</div>
						<span class="slds-icon_container slds-icon-utility-down slds-input__icon slds-input__icon_right">
              				<lightning-icon icon-name="utility:down"
											size="x-small"
											alternative-text="Approved"></lightning-icon>
            			</span>
					</div>
					<div class={dropdownOuterStyle}
						 role="listbox">
						<ul class="slds-listbox slds-listbox_vertical"
							role="presentation">
							<template for:each={options_}
									  for:item="option">
								<c-multi-select-item key={option.value}
													 value={option.value}
													 label={option.label}
													 selected={option.selected}
													 onselected={handleSelectedClick}></c-multi-select-item>

							</template>
						</ul>
					</div>
				</div>
			</div>
			<template if:false={isValid}>
				<div class="slds-form-element__help">This field is required</div>
			</template>
		</div>
	</div>

</template>